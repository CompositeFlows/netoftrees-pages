var __defProp = Object.defineProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};
(function() {
  "use strict";
  class ErrorHandler {
    constructor() {
      this.listeners = [];
      this.unexpectedErrorHandler = function(e) {
        setTimeout(() => {
          if (e.stack) {
            if (ErrorNoTelemetry.isErrorNoTelemetry(e)) {
              throw new ErrorNoTelemetry(e.message + "\n\n" + e.stack);
            }
            throw new Error(e.message + "\n\n" + e.stack);
          }
          throw e;
        }, 0);
      };
    }
    emit(e) {
      this.listeners.forEach((listener) => {
        listener(e);
      });
    }
    onUnexpectedError(e) {
      this.unexpectedErrorHandler(e);
      this.emit(e);
    }
    // For external errors, we don't want the listeners to be called
    onUnexpectedExternalError(e) {
      this.unexpectedErrorHandler(e);
    }
  }
  const errorHandler = new ErrorHandler();
  function onUnexpectedError(e) {
    if (!isCancellationError(e)) {
      errorHandler.onUnexpectedError(e);
    }
    return void 0;
  }
  function transformErrorForSerialization(error) {
    if (error instanceof Error) {
      const { name, message } = error;
      const stack = error.stacktrace || error.stack;
      return {
        $isError: true,
        name,
        message,
        stack,
        noTelemetry: ErrorNoTelemetry.isErrorNoTelemetry(error)
      };
    }
    return error;
  }
  const canceledName = "Canceled";
  function isCancellationError(error) {
    if (error instanceof CancellationError) {
      return true;
    }
    return error instanceof Error && error.name === canceledName && error.message === canceledName;
  }
  class CancellationError extends Error {
    constructor() {
      super(canceledName);
      this.name = this.message;
    }
  }
  class ErrorNoTelemetry extends Error {
    constructor(msg) {
      super(msg);
      this.name = "CodeExpectedError";
    }
    static fromError(err) {
      if (err instanceof ErrorNoTelemetry) {
        return err;
      }
      const result = new ErrorNoTelemetry();
      result.message = err.message;
      result.stack = err.stack;
      return result;
    }
    static isErrorNoTelemetry(err) {
      return err.name === "CodeExpectedError";
    }
  }
  class BugIndicatingError extends Error {
    constructor(message) {
      super(message || "An unexpected bug occurred.");
      Object.setPrototypeOf(this, BugIndicatingError.prototype);
    }
  }
  function createSingleCallFunction(fn, fnDidRunCallback) {
    const _this = this;
    let didCall = false;
    let result;
    return function() {
      if (didCall) {
        return result;
      }
      didCall = true;
      if (fnDidRunCallback) {
        try {
          result = fn.apply(_this, arguments);
        } finally {
          fnDidRunCallback();
        }
      } else {
        result = fn.apply(_this, arguments);
      }
      return result;
    };
  }
  var Iterable;
  (function(Iterable2) {
    function is(thing) {
      return thing && typeof thing === "object" && typeof thing[Symbol.iterator] === "function";
    }
    Iterable2.is = is;
    const _empty2 = Object.freeze([]);
    function empty() {
      return _empty2;
    }
    Iterable2.empty = empty;
    function* single(element) {
      yield element;
    }
    Iterable2.single = single;
    function wrap(iterableOrElement) {
      if (is(iterableOrElement)) {
        return iterableOrElement;
      } else {
        return single(iterableOrElement);
      }
    }
    Iterable2.wrap = wrap;
    function from(iterable) {
      return iterable || _empty2;
    }
    Iterable2.from = from;
    function* reverse(array) {
      for (let i = array.length - 1; i >= 0; i--) {
        yield array[i];
      }
    }
    Iterable2.reverse = reverse;
    function isEmpty(iterable) {
      return !iterable || iterable[Symbol.iterator]().next().done === true;
    }
    Iterable2.isEmpty = isEmpty;
    function first(iterable) {
      return iterable[Symbol.iterator]().next().value;
    }
    Iterable2.first = first;
    function some(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          return true;
        }
      }
      return false;
    }
    Iterable2.some = some;
    function find(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          return element;
        }
      }
      return void 0;
    }
    Iterable2.find = find;
    function* filter(iterable, predicate) {
      for (const element of iterable) {
        if (predicate(element)) {
          yield element;
        }
      }
    }
    Iterable2.filter = filter;
    function* map(iterable, fn) {
      let index = 0;
      for (const element of iterable) {
        yield fn(element, index++);
      }
    }
    Iterable2.map = map;
    function* concat(...iterables) {
      for (const iterable of iterables) {
        yield* iterable;
      }
    }
    Iterable2.concat = concat;
    function reduce(iterable, reducer, initialValue) {
      let value = initialValue;
      for (const element of iterable) {
        value = reducer(value, element);
      }
      return value;
    }
    Iterable2.reduce = reduce;
    function* slice(arr, from2, to = arr.length) {
      if (from2 < 0) {
        from2 += arr.length;
      }
      if (to < 0) {
        to += arr.length;
      } else if (to > arr.length) {
        to = arr.length;
      }
      for (; from2 < to; from2++) {
        yield arr[from2];
      }
    }
    Iterable2.slice = slice;
    function consume(iterable, atMost = Number.POSITIVE_INFINITY) {
      const consumed = [];
      if (atMost === 0) {
        return [consumed, iterable];
      }
      const iterator = iterable[Symbol.iterator]();
      for (let i = 0; i < atMost; i++) {
        const next = iterator.next();
        if (next.done) {
          return [consumed, Iterable2.empty()];
        }
        consumed.push(next.value);
      }
      return [consumed, { [Symbol.iterator]() {
        return iterator;
      } }];
    }
    Iterable2.consume = consume;
  })(Iterable || (Iterable = {}));
  function trackDisposable(x) {
    return x;
  }
  function setParentOfDisposable(child, parent) {
  }
  function dispose(arg) {
    if (Iterable.is(arg)) {
      const errors = [];
      for (const d of arg) {
        if (d) {
          try {
            d.dispose();
          } catch (e) {
            errors.push(e);
          }
        }
      }
      if (errors.length === 1) {
        throw errors[0];
      } else if (errors.length > 1) {
        throw new AggregateError(errors, "Encountered errors while disposing of store");
      }
      return Array.isArray(arg) ? [] : arg;
    } else if (arg) {
      arg.dispose();
      return arg;
    }
  }
  function combinedDisposable(...disposables) {
    const parent = toDisposable(() => dispose(disposables));
    return parent;
  }
  function toDisposable(fn) {
    const self2 = trackDisposable({
      dispose: createSingleCallFunction(() => {
        fn();
      })
    });
    return self2;
  }
  class DisposableStore {
    constructor() {
      this._toDispose = /* @__PURE__ */ new Set();
      this._isDisposed = false;
    }
    /**
     * Dispose of all registered disposables and mark this object as disposed.
     *
     * Any future disposables added to this object will be disposed of on `add`.
     */
    dispose() {
      if (this._isDisposed) {
        return;
      }
      this._isDisposed = true;
      this.clear();
    }
    /**
     * @return `true` if this object has been disposed of.
     */
    get isDisposed() {
      return this._isDisposed;
    }
    /**
     * Dispose of all registered disposables but do not mark this object as disposed.
     */
    clear() {
      if (this._toDispose.size === 0) {
        return;
      }
      try {
        dispose(this._toDispose);
      } finally {
        this._toDispose.clear();
      }
    }
    /**
     * Add a new {@link IDisposable disposable} to the collection.
     */
    add(o) {
      if (!o) {
        return o;
      }
      if (o === this) {
        throw new Error("Cannot register a disposable on itself!");
      }
      if (this._isDisposed) {
        if (!DisposableStore.DISABLE_DISPOSED_WARNING) {
          console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack);
        }
      } else {
        this._toDispose.add(o);
      }
      return o;
    }
    /**
     * Deletes the value from the store, but does not dispose it.
     */
    deleteAndLeak(o) {
      if (!o) {
        return;
      }
      if (this._toDispose.has(o)) {
        this._toDispose.delete(o);
      }
    }
  }
  DisposableStore.DISABLE_DISPOSED_WARNING = false;
  class Disposable {
    constructor() {
      this._store = new DisposableStore();
      setParentOfDisposable(this._store);
    }
    dispose() {
      this._store.dispose();
    }
    /**
     * Adds `o` to the collection of disposables managed by this object.
     */
    _register(o) {
      if (o === this) {
        throw new Error("Cannot register a disposable on itself!");
      }
      return this._store.add(o);
    }
  }
  Disposable.None = Object.freeze({ dispose() {
  } });
  class Node {
    constructor(element) {
      this.element = element;
      this.next = Node.Undefined;
      this.prev = Node.Undefined;
    }
  }
  Node.Undefined = new Node(void 0);
  class LinkedList {
    constructor() {
      this._first = Node.Undefined;
      this._last = Node.Undefined;
      this._size = 0;
    }
    get size() {
      return this._size;
    }
    isEmpty() {
      return this._first === Node.Undefined;
    }
    clear() {
      let node = this._first;
      while (node !== Node.Undefined) {
        const next = node.next;
        node.prev = Node.Undefined;
        node.next = Node.Undefined;
        node = next;
      }
      this._first = Node.Undefined;
      this._last = Node.Undefined;
      this._size = 0;
    }
    unshift(element) {
      return this._insert(element, false);
    }
    push(element) {
      return this._insert(element, true);
    }
    _insert(element, atTheEnd) {
      const newNode = new Node(element);
      if (this._first === Node.Undefined) {
        this._first = newNode;
        this._last = newNode;
      } else if (atTheEnd) {
        const oldLast = this._last;
        this._last = newNode;
        newNode.prev = oldLast;
        oldLast.next = newNode;
      } else {
        const oldFirst = this._first;
        this._first = newNode;
        newNode.next = oldFirst;
        oldFirst.prev = newNode;
      }
      this._size += 1;
      let didRemove = false;
      return () => {
        if (!didRemove) {
          didRemove = true;
          this._remove(newNode);
        }
      };
    }
    shift() {
      if (this._first === Node.Undefined) {
        return void 0;
      } else {
        const res = this._first.element;
        this._remove(this._first);
        return res;
      }
    }
    pop() {
      if (this._last === Node.Undefined) {
        return void 0;
      } else {
        const res = this._last.element;
        this._remove(this._last);
        return res;
      }
    }
    _remove(node) {
      if (node.prev !== Node.Undefined && node.next !== Node.Undefined) {
        const anchor = node.prev;
        anchor.next = node.next;
        node.next.prev = anchor;
      } else if (node.prev === Node.Undefined && node.next === Node.Undefined) {
        this._first = Node.Undefined;
        this._last = Node.Undefined;
      } else if (node.next === Node.Undefined) {
        this._last = this._last.prev;
        this._last.next = Node.Undefined;
      } else if (node.prev === Node.Undefined) {
        this._first = this._first.next;
        this._first.prev = Node.Undefined;
      }
      this._size -= 1;
    }
    *[Symbol.iterator]() {
      let node = this._first;
      while (node !== Node.Undefined) {
        yield node.element;
        node = node.next;
      }
    }
  }
  const hasPerformanceNow = globalThis.performance && typeof globalThis.performance.now === "function";
  class StopWatch {
    static create(highResolution) {
      return new StopWatch(highResolution);
    }
    constructor(highResolution) {
      this._now = hasPerformanceNow && highResolution === false ? Date.now : globalThis.performance.now.bind(globalThis.performance);
      this._startTime = this._now();
      this._stopTime = -1;
    }
    stop() {
      this._stopTime = this._now();
    }
    elapsed() {
      if (this._stopTime !== -1) {
        return this._stopTime - this._startTime;
      }
      return this._now() - this._startTime;
    }
  }
  var Event;
  (function(Event2) {
    Event2.None = () => Disposable.None;
    function defer(event, disposable) {
      return debounce(event, () => void 0, 0, void 0, true, void 0, disposable);
    }
    Event2.defer = defer;
    function once(event) {
      return (listener, thisArgs = null, disposables) => {
        let didFire = false;
        let result = void 0;
        result = event((e) => {
          if (didFire) {
            return;
          } else if (result) {
            result.dispose();
          } else {
            didFire = true;
          }
          return listener.call(thisArgs, e);
        }, null, disposables);
        if (didFire) {
          result.dispose();
        }
        return result;
      };
    }
    Event2.once = once;
    function map(event, map2, disposable) {
      return snapshot((listener, thisArgs = null, disposables) => event((i) => listener.call(thisArgs, map2(i)), null, disposables), disposable);
    }
    Event2.map = map;
    function forEach(event, each, disposable) {
      return snapshot((listener, thisArgs = null, disposables) => event((i) => {
        each(i);
        listener.call(thisArgs, i);
      }, null, disposables), disposable);
    }
    Event2.forEach = forEach;
    function filter(event, filter2, disposable) {
      return snapshot((listener, thisArgs = null, disposables) => event((e) => filter2(e) && listener.call(thisArgs, e), null, disposables), disposable);
    }
    Event2.filter = filter;
    function signal(event) {
      return event;
    }
    Event2.signal = signal;
    function any(...events) {
      return (listener, thisArgs = null, disposables) => {
        const disposable = combinedDisposable(...events.map((event) => event((e) => listener.call(thisArgs, e))));
        return addAndReturnDisposable(disposable, disposables);
      };
    }
    Event2.any = any;
    function reduce(event, merge, initial, disposable) {
      let output = initial;
      return map(event, (e) => {
        output = merge(output, e);
        return output;
      }, disposable);
    }
    Event2.reduce = reduce;
    function snapshot(event, disposable) {
      let listener;
      const options = {
        onWillAddFirstListener() {
          listener = event(emitter.fire, emitter);
        },
        onDidRemoveLastListener() {
          listener === null || listener === void 0 ? void 0 : listener.dispose();
        }
      };
      const emitter = new Emitter(options);
      disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);
      return emitter.event;
    }
    function addAndReturnDisposable(d, store) {
      if (store instanceof Array) {
        store.push(d);
      } else if (store) {
        store.add(d);
      }
      return d;
    }
    function debounce(event, merge, delay = 100, leading = false, flushOnListenerRemove = false, leakWarningThreshold, disposable) {
      let subscription;
      let output = void 0;
      let handle = void 0;
      let numDebouncedCalls = 0;
      let doFire;
      const options = {
        leakWarningThreshold,
        onWillAddFirstListener() {
          subscription = event((cur) => {
            numDebouncedCalls++;
            output = merge(output, cur);
            if (leading && !handle) {
              emitter.fire(output);
              output = void 0;
            }
            doFire = () => {
              const _output = output;
              output = void 0;
              handle = void 0;
              if (!leading || numDebouncedCalls > 1) {
                emitter.fire(_output);
              }
              numDebouncedCalls = 0;
            };
            if (typeof delay === "number") {
              clearTimeout(handle);
              handle = setTimeout(doFire, delay);
            } else {
              if (handle === void 0) {
                handle = 0;
                queueMicrotask(doFire);
              }
            }
          });
        },
        onWillRemoveListener() {
          if (flushOnListenerRemove && numDebouncedCalls > 0) {
            doFire === null || doFire === void 0 ? void 0 : doFire();
          }
        },
        onDidRemoveLastListener() {
          doFire = void 0;
          subscription.dispose();
        }
      };
      const emitter = new Emitter(options);
      disposable === null || disposable === void 0 ? void 0 : disposable.add(emitter);
      return emitter.event;
    }
    Event2.debounce = debounce;
    function accumulate(event, delay = 0, disposable) {
      return Event2.debounce(event, (last, e) => {
        if (!last) {
          return [e];
        }
        last.push(e);
        return last;
      }, delay, void 0, true, void 0, disposable);
    }
    Event2.accumulate = accumulate;
    function latch(event, equals2 = (a2, b) => a2 === b, disposable) {
      let firstCall = true;
      let cache;
      return filter(event, (value) => {
        const shouldEmit = firstCall || !equals2(value, cache);
        firstCall = false;
        cache = value;
        return shouldEmit;
      }, disposable);
    }
    Event2.latch = latch;
    function split(event, isT, disposable) {
      return [
        Event2.filter(event, isT, disposable),
        Event2.filter(event, (e) => !isT(e), disposable)
      ];
    }
    Event2.split = split;
    function buffer(event, flushAfterTimeout = false, _buffer = [], disposable) {
      let buffer2 = _buffer.slice();
      let listener = event((e) => {
        if (buffer2) {
          buffer2.push(e);
        } else {
          emitter.fire(e);
        }
      });
      if (disposable) {
        disposable.add(listener);
      }
      const flush = () => {
        buffer2 === null || buffer2 === void 0 ? void 0 : buffer2.forEach((e) => emitter.fire(e));
        buffer2 = null;
      };
      const emitter = new Emitter({
        onWillAddFirstListener() {
          if (!listener) {
            listener = event((e) => emitter.fire(e));
            if (disposable) {
              disposable.add(listener);
            }
          }
        },
        onDidAddFirstListener() {
          if (buffer2) {
            if (flushAfterTimeout) {
              setTimeout(flush);
            } else {
              flush();
            }
          }
        },
        onDidRemoveLastListener() {
          if (listener) {
            listener.dispose();
          }
          listener = null;
        }
      });
      if (disposable) {
        disposable.add(emitter);
      }
      return emitter.event;
    }
    Event2.buffer = buffer;
    function chain(event, sythensize) {
      const fn = (listener, thisArgs, disposables) => {
        const cs = sythensize(new ChainableSynthesis());
        return event(function(value) {
          const result = cs.evaluate(value);
          if (result !== HaltChainable) {
            listener.call(thisArgs, result);
          }
        }, void 0, disposables);
      };
      return fn;
    }
    Event2.chain = chain;
    const HaltChainable = Symbol("HaltChainable");
    class ChainableSynthesis {
      constructor() {
        this.steps = [];
      }
      map(fn) {
        this.steps.push(fn);
        return this;
      }
      forEach(fn) {
        this.steps.push((v) => {
          fn(v);
          return v;
        });
        return this;
      }
      filter(fn) {
        this.steps.push((v) => fn(v) ? v : HaltChainable);
        return this;
      }
      reduce(merge, initial) {
        let last = initial;
        this.steps.push((v) => {
          last = merge(last, v);
          return last;
        });
        return this;
      }
      latch(equals2 = (a2, b) => a2 === b) {
        let firstCall = true;
        let cache;
        this.steps.push((value) => {
          const shouldEmit = firstCall || !equals2(value, cache);
          firstCall = false;
          cache = value;
          return shouldEmit ? value : HaltChainable;
        });
        return this;
      }
      evaluate(value) {
        for (const step of this.steps) {
          value = step(value);
          if (value === HaltChainable) {
            break;
          }
        }
        return value;
      }
    }
    function fromNodeEventEmitter(emitter, eventName, map2 = (id) => id) {
      const fn = (...args) => result.fire(map2(...args));
      const onFirstListenerAdd = () => emitter.on(eventName, fn);
      const onLastListenerRemove = () => emitter.removeListener(eventName, fn);
      const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });
      return result.event;
    }
    Event2.fromNodeEventEmitter = fromNodeEventEmitter;
    function fromDOMEventEmitter(emitter, eventName, map2 = (id) => id) {
      const fn = (...args) => result.fire(map2(...args));
      const onFirstListenerAdd = () => emitter.addEventListener(eventName, fn);
      const onLastListenerRemove = () => emitter.removeEventListener(eventName, fn);
      const result = new Emitter({ onWillAddFirstListener: onFirstListenerAdd, onDidRemoveLastListener: onLastListenerRemove });
      return result.event;
    }
    Event2.fromDOMEventEmitter = fromDOMEventEmitter;
    function toPromise(event) {
      return new Promise((resolve) => once(event)(resolve));
    }
    Event2.toPromise = toPromise;
    function fromPromise(promise) {
      const result = new Emitter();
      promise.then((res) => {
        result.fire(res);
      }, () => {
        result.fire(void 0);
      }).finally(() => {
        result.dispose();
      });
      return result.event;
    }
    Event2.fromPromise = fromPromise;
    function runAndSubscribe(event, handler, initial) {
      handler(initial);
      return event((e) => handler(e));
    }
    Event2.runAndSubscribe = runAndSubscribe;
    function runAndSubscribeWithStore(event, handler) {
      let store = null;
      function run(e) {
        store === null || store === void 0 ? void 0 : store.dispose();
        store = new DisposableStore();
        handler(e, store);
      }
      run(void 0);
      const disposable = event((e) => run(e));
      return toDisposable(() => {
        disposable.dispose();
        store === null || store === void 0 ? void 0 : store.dispose();
      });
    }
    Event2.runAndSubscribeWithStore = runAndSubscribeWithStore;
    class EmitterObserver {
      constructor(_observable, store) {
        this._observable = _observable;
        this._counter = 0;
        this._hasChanged = false;
        const options = {
          onWillAddFirstListener: () => {
            _observable.addObserver(this);
          },
          onDidRemoveLastListener: () => {
            _observable.removeObserver(this);
          }
        };
        this.emitter = new Emitter(options);
        if (store) {
          store.add(this.emitter);
        }
      }
      beginUpdate(_observable) {
        this._counter++;
      }
      handlePossibleChange(_observable) {
      }
      handleChange(_observable, _change) {
        this._hasChanged = true;
      }
      endUpdate(_observable) {
        this._counter--;
        if (this._counter === 0) {
          this._observable.reportChanges();
          if (this._hasChanged) {
            this._hasChanged = false;
            this.emitter.fire(this._observable.get());
          }
        }
      }
    }
    function fromObservable(obs, store) {
      const observer = new EmitterObserver(obs, store);
      return observer.emitter.event;
    }
    Event2.fromObservable = fromObservable;
    function fromObservableLight(observable) {
      return (listener, thisArgs, disposables) => {
        let count = 0;
        let didChange = false;
        const observer = {
          beginUpdate() {
            count++;
          },
          endUpdate() {
            count--;
            if (count === 0) {
              observable.reportChanges();
              if (didChange) {
                didChange = false;
                listener.call(thisArgs);
              }
            }
          },
          handlePossibleChange() {
          },
          handleChange() {
            didChange = true;
          }
        };
        observable.addObserver(observer);
        observable.reportChanges();
        const disposable = {
          dispose() {
            observable.removeObserver(observer);
          }
        };
        if (disposables instanceof DisposableStore) {
          disposables.add(disposable);
        } else if (Array.isArray(disposables)) {
          disposables.push(disposable);
        }
        return disposable;
      };
    }
    Event2.fromObservableLight = fromObservableLight;
  })(Event || (Event = {}));
  class EventProfiling {
    constructor(name) {
      this.listenerCount = 0;
      this.invocationCount = 0;
      this.elapsedOverall = 0;
      this.durations = [];
      this.name = `${name}_${EventProfiling._idPool++}`;
      EventProfiling.all.add(this);
    }
    start(listenerCount) {
      this._stopWatch = new StopWatch();
      this.listenerCount = listenerCount;
    }
    stop() {
      if (this._stopWatch) {
        const elapsed = this._stopWatch.elapsed();
        this.durations.push(elapsed);
        this.elapsedOverall += elapsed;
        this.invocationCount += 1;
        this._stopWatch = void 0;
      }
    }
  }
  EventProfiling.all = /* @__PURE__ */ new Set();
  EventProfiling._idPool = 0;
  let _globalLeakWarningThreshold = -1;
  class LeakageMonitor {
    constructor(threshold, name = Math.random().toString(18).slice(2, 5)) {
      this.threshold = threshold;
      this.name = name;
      this._warnCountdown = 0;
    }
    dispose() {
      var _a2;
      (_a2 = this._stacks) === null || _a2 === void 0 ? void 0 : _a2.clear();
    }
    check(stack, listenerCount) {
      const threshold = this.threshold;
      if (threshold <= 0 || listenerCount < threshold) {
        return void 0;
      }
      if (!this._stacks) {
        this._stacks = /* @__PURE__ */ new Map();
      }
      const count = this._stacks.get(stack.value) || 0;
      this._stacks.set(stack.value, count + 1);
      this._warnCountdown -= 1;
      if (this._warnCountdown <= 0) {
        this._warnCountdown = threshold * 0.5;
        let topStack;
        let topCount = 0;
        for (const [stack2, count2] of this._stacks) {
          if (!topStack || topCount < count2) {
            topStack = stack2;
            topCount = count2;
          }
        }
        console.warn(`[${this.name}] potential listener LEAK detected, having ${listenerCount} listeners already. MOST frequent listener (${topCount}):`);
        console.warn(topStack);
      }
      return () => {
        const count2 = this._stacks.get(stack.value) || 0;
        this._stacks.set(stack.value, count2 - 1);
      };
    }
  }
  class Stacktrace {
    static create() {
      var _a2;
      return new Stacktrace((_a2 = new Error().stack) !== null && _a2 !== void 0 ? _a2 : "");
    }
    constructor(value) {
      this.value = value;
    }
    print() {
      console.warn(this.value.split("\n").slice(2).join("\n"));
    }
  }
  class UniqueContainer {
    constructor(value) {
      this.value = value;
    }
  }
  const compactionThreshold = 2;
  class Emitter {
    constructor(options) {
      var _a2, _b, _c, _d, _e;
      this._size = 0;
      this._options = options;
      this._leakageMon = ((_a2 = this._options) === null || _a2 === void 0 ? void 0 : _a2.leakWarningThreshold) ? new LeakageMonitor((_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.leakWarningThreshold) !== null && _c !== void 0 ? _c : _globalLeakWarningThreshold) : void 0;
      this._perfMon = ((_d = this._options) === null || _d === void 0 ? void 0 : _d._profName) ? new EventProfiling(this._options._profName) : void 0;
      this._deliveryQueue = (_e = this._options) === null || _e === void 0 ? void 0 : _e.deliveryQueue;
    }
    dispose() {
      var _a2, _b, _c, _d;
      if (!this._disposed) {
        this._disposed = true;
        if (((_a2 = this._deliveryQueue) === null || _a2 === void 0 ? void 0 : _a2.current) === this) {
          this._deliveryQueue.reset();
        }
        if (this._listeners) {
          this._listeners = void 0;
          this._size = 0;
        }
        (_c = (_b = this._options) === null || _b === void 0 ? void 0 : _b.onDidRemoveLastListener) === null || _c === void 0 ? void 0 : _c.call(_b);
        (_d = this._leakageMon) === null || _d === void 0 ? void 0 : _d.dispose();
      }
    }
    /**
     * For the public to allow to subscribe
     * to events from this Emitter
     */
    get event() {
      var _a2;
      (_a2 = this._event) !== null && _a2 !== void 0 ? _a2 : this._event = (callback, thisArgs, disposables) => {
        var _a3, _b, _c, _d, _e;
        if (this._leakageMon && this._size > this._leakageMon.threshold * 3) {
          console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`);
          return Disposable.None;
        }
        if (this._disposed) {
          return Disposable.None;
        }
        if (thisArgs) {
          callback = callback.bind(thisArgs);
        }
        const contained = new UniqueContainer(callback);
        let removeMonitor;
        if (this._leakageMon && this._size >= Math.ceil(this._leakageMon.threshold * 0.2)) {
          contained.stack = Stacktrace.create();
          removeMonitor = this._leakageMon.check(contained.stack, this._size + 1);
        }
        if (!this._listeners) {
          (_b = (_a3 = this._options) === null || _a3 === void 0 ? void 0 : _a3.onWillAddFirstListener) === null || _b === void 0 ? void 0 : _b.call(_a3, this);
          this._listeners = contained;
          (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidAddFirstListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);
        } else if (this._listeners instanceof UniqueContainer) {
          (_e = this._deliveryQueue) !== null && _e !== void 0 ? _e : this._deliveryQueue = new EventDeliveryQueuePrivate();
          this._listeners = [this._listeners, contained];
        } else {
          this._listeners.push(contained);
        }
        this._size++;
        const result = toDisposable(() => {
          removeMonitor === null || removeMonitor === void 0 ? void 0 : removeMonitor();
          this._removeListener(contained);
        });
        if (disposables instanceof DisposableStore) {
          disposables.add(result);
        } else if (Array.isArray(disposables)) {
          disposables.push(result);
        }
        return result;
      };
      return this._event;
    }
    _removeListener(listener) {
      var _a2, _b, _c, _d;
      (_b = (_a2 = this._options) === null || _a2 === void 0 ? void 0 : _a2.onWillRemoveListener) === null || _b === void 0 ? void 0 : _b.call(_a2, this);
      if (!this._listeners) {
        return;
      }
      if (this._size === 1) {
        this._listeners = void 0;
        (_d = (_c = this._options) === null || _c === void 0 ? void 0 : _c.onDidRemoveLastListener) === null || _d === void 0 ? void 0 : _d.call(_c, this);
        this._size = 0;
        return;
      }
      const listeners = this._listeners;
      const index = listeners.indexOf(listener);
      if (index === -1) {
        console.log("disposed?", this._disposed);
        console.log("size?", this._size);
        console.log("arr?", JSON.stringify(this._listeners));
        throw new Error("Attempted to dispose unknown listener");
      }
      this._size--;
      listeners[index] = void 0;
      const adjustDeliveryQueue = this._deliveryQueue.current === this;
      if (this._size * compactionThreshold <= listeners.length) {
        let n = 0;
        for (let i = 0; i < listeners.length; i++) {
          if (listeners[i]) {
            listeners[n++] = listeners[i];
          } else if (adjustDeliveryQueue) {
            this._deliveryQueue.end--;
            if (n < this._deliveryQueue.i) {
              this._deliveryQueue.i--;
            }
          }
        }
        listeners.length = n;
      }
    }
    _deliver(listener, value) {
      var _a2;
      if (!listener) {
        return;
      }
      const errorHandler2 = ((_a2 = this._options) === null || _a2 === void 0 ? void 0 : _a2.onListenerError) || onUnexpectedError;
      if (!errorHandler2) {
        listener.value(value);
        return;
      }
      try {
        listener.value(value);
      } catch (e) {
        errorHandler2(e);
      }
    }
    /** Delivers items in the queue. Assumes the queue is ready to go. */
    _deliverQueue(dq) {
      const listeners = dq.current._listeners;
      while (dq.i < dq.end) {
        this._deliver(listeners[dq.i++], dq.value);
      }
      dq.reset();
    }
    /**
     * To be kept private to fire an event to
     * subscribers
     */
    fire(event) {
      var _a2, _b, _c, _d;
      if ((_a2 = this._deliveryQueue) === null || _a2 === void 0 ? void 0 : _a2.current) {
        this._deliverQueue(this._deliveryQueue);
        (_b = this._perfMon) === null || _b === void 0 ? void 0 : _b.stop();
      }
      (_c = this._perfMon) === null || _c === void 0 ? void 0 : _c.start(this._size);
      if (!this._listeners)
        ;
      else if (this._listeners instanceof UniqueContainer) {
        this._deliver(this._listeners, event);
      } else {
        const dq = this._deliveryQueue;
        dq.enqueue(this, event, this._listeners.length);
        this._deliverQueue(dq);
      }
      (_d = this._perfMon) === null || _d === void 0 ? void 0 : _d.stop();
    }
    hasListeners() {
      return this._size > 0;
    }
  }
  class EventDeliveryQueuePrivate {
    constructor() {
      this.i = -1;
      this.end = 0;
    }
    enqueue(emitter, value, end) {
      this.i = 0;
      this.end = end;
      this.current = emitter;
      this.value = value;
    }
    reset() {
      this.i = this.end;
      this.current = void 0;
      this.value = void 0;
    }
  }
  function isString$1(str) {
    return typeof str === "string";
  }
  function getAllPropertyNames(obj) {
    let res = [];
    while (Object.prototype !== obj) {
      res = res.concat(Object.getOwnPropertyNames(obj));
      obj = Object.getPrototypeOf(obj);
    }
    return res;
  }
  function getAllMethodNames(obj) {
    const methods = [];
    for (const prop of getAllPropertyNames(obj)) {
      if (typeof obj[prop] === "function") {
        methods.push(prop);
      }
    }
    return methods;
  }
  function createProxyObject$1(methodNames, invoke) {
    const createProxyMethod = (method) => {
      return function() {
        const args = Array.prototype.slice.call(arguments, 0);
        return invoke(method, args);
      };
    };
    const result = {};
    for (const methodName of methodNames) {
      result[methodName] = createProxyMethod(methodName);
    }
    return result;
  }
  let isPseudo = typeof document !== "undefined" && document.location && document.location.hash.indexOf("pseudo=true") >= 0;
  function _format$1(message, args) {
    let result;
    if (args.length === 0) {
      result = message;
    } else {
      result = message.replace(/\{(\d+)\}/g, (match, rest) => {
        const index = rest[0];
        const arg = args[index];
        let result2 = match;
        if (typeof arg === "string") {
          result2 = arg;
        } else if (typeof arg === "number" || typeof arg === "boolean" || arg === void 0 || arg === null) {
          result2 = String(arg);
        }
        return result2;
      });
    }
    if (isPseudo) {
      result = "［" + result.replace(/[aouei]/g, "$&$&") + "］";
    }
    return result;
  }
  function localize$1(data, message, ...args) {
    return _format$1(message, args);
  }
  function getConfiguredDefaultLocale(_) {
    return void 0;
  }
  var _a$1;
  const LANGUAGE_DEFAULT = "en";
  let _isWindows = false;
  let _isMacintosh = false;
  let _isLinux = false;
  let _locale = void 0;
  let _language = LANGUAGE_DEFAULT;
  let _platformLocale = LANGUAGE_DEFAULT;
  let _translationsConfigFile = void 0;
  let _userAgent = void 0;
  const $globalThis = globalThis;
  let nodeProcess = void 0;
  if (typeof $globalThis.vscode !== "undefined" && typeof $globalThis.vscode.process !== "undefined") {
    nodeProcess = $globalThis.vscode.process;
  } else if (typeof process !== "undefined") {
    nodeProcess = process;
  }
  const isElectronProcess = typeof ((_a$1 = nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.versions) === null || _a$1 === void 0 ? void 0 : _a$1.electron) === "string";
  const isElectronRenderer = isElectronProcess && (nodeProcess === null || nodeProcess === void 0 ? void 0 : nodeProcess.type) === "renderer";
  if (typeof navigator === "object" && !isElectronRenderer) {
    _userAgent = navigator.userAgent;
    _isWindows = _userAgent.indexOf("Windows") >= 0;
    _isMacintosh = _userAgent.indexOf("Macintosh") >= 0;
    (_userAgent.indexOf("Macintosh") >= 0 || _userAgent.indexOf("iPad") >= 0 || _userAgent.indexOf("iPhone") >= 0) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 0;
    _isLinux = _userAgent.indexOf("Linux") >= 0;
    (_userAgent === null || _userAgent === void 0 ? void 0 : _userAgent.indexOf("Mobi")) >= 0;
    getConfiguredDefaultLocale(
      // This call _must_ be done in the file that calls `nls.getConfiguredDefaultLocale`
      // to ensure that the NLS AMD Loader plugin has been loaded and configured.
      // This is because the loader plugin decides what the default locale is based on
      // how it's able to resolve the strings.
      localize$1({ key: "ensureLoaderPluginIsLoaded", comment: ["{Locked}"] }, "_")
    );
    _locale = LANGUAGE_DEFAULT;
    _language = _locale;
    _platformLocale = navigator.language;
  } else if (typeof nodeProcess === "object") {
    _isWindows = nodeProcess.platform === "win32";
    _isMacintosh = nodeProcess.platform === "darwin";
    _isLinux = nodeProcess.platform === "linux";
    _isLinux && !!nodeProcess.env["SNAP"] && !!nodeProcess.env["SNAP_REVISION"];
    !!nodeProcess.env["CI"] || !!nodeProcess.env["BUILD_ARTIFACTSTAGINGDIRECTORY"];
    _locale = LANGUAGE_DEFAULT;
    _language = LANGUAGE_DEFAULT;
    const rawNlsConfig = nodeProcess.env["VSCODE_NLS_CONFIG"];
    if (rawNlsConfig) {
      try {
        const nlsConfig = JSON.parse(rawNlsConfig);
        const resolved = nlsConfig.availableLanguages["*"];
        _locale = nlsConfig.locale;
        _platformLocale = nlsConfig.osLocale;
        _language = resolved ? resolved : LANGUAGE_DEFAULT;
        _translationsConfigFile = nlsConfig._translationsConfigFile;
      } catch (e) {
      }
    }
  } else {
    console.error("Unable to resolve platform.");
  }
  const isWindows = _isWindows;
  const isMacintosh = _isMacintosh;
  const userAgent = _userAgent;
  const setTimeout0IsFaster = typeof $globalThis.postMessage === "function" && !$globalThis.importScripts;
  (() => {
    if (setTimeout0IsFaster) {
      const pending = [];
      $globalThis.addEventListener("message", (e) => {
        if (e.data && e.data.vscodeScheduleAsyncWork) {
          for (let i = 0, len = pending.length; i < len; i++) {
            const candidate = pending[i];
            if (candidate.id === e.data.vscodeScheduleAsyncWork) {
              pending.splice(i, 1);
              candidate.callback();
              return;
            }
          }
        }
      });
      let lastId = 0;
      return (callback) => {
        const myId = ++lastId;
        pending.push({
          id: myId,
          callback
        });
        $globalThis.postMessage({ vscodeScheduleAsyncWork: myId }, "*");
      };
    }
    return (callback) => setTimeout(callback);
  })();
  const isChrome = !!(userAgent && userAgent.indexOf("Chrome") >= 0);
  !!(userAgent && userAgent.indexOf("Firefox") >= 0);
  !!(!isChrome && (userAgent && userAgent.indexOf("Safari") >= 0));
  !!(userAgent && userAgent.indexOf("Edg/") >= 0);
  !!(userAgent && userAgent.indexOf("Android") >= 0);
  class LRUCachedFunction {
    constructor(fn) {
      this.fn = fn;
      this.lastCache = void 0;
      this.lastArgKey = void 0;
    }
    get(arg) {
      const key = JSON.stringify(arg);
      if (this.lastArgKey !== key) {
        this.lastArgKey = key;
        this.lastCache = this.fn(arg);
      }
      return this.lastCache;
    }
  }
  class Lazy {
    constructor(executor) {
      this.executor = executor;
      this._didRun = false;
    }
    /**
     * Get the wrapped value.
     *
     * This will force evaluation of the lazy value if it has not been resolved yet. Lazy values are only
     * resolved once. `getValue` will re-throw exceptions that are hit while resolving the value
     */
    get value() {
      if (!this._didRun) {
        try {
          this._value = this.executor();
        } catch (err) {
          this._error = err;
        } finally {
          this._didRun = true;
        }
      }
      if (this._error) {
        throw this._error;
      }
      return this._value;
    }
    /**
     * Get the wrapped value without forcing evaluation.
     */
    get rawValue() {
      return this._value;
    }
  }
  var _a;
  function escapeRegExpCharacters(value) {
    return value.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g, "\\$&");
  }
  function splitLines(str) {
    return str.split(/\r\n|\r|\n/);
  }
  function firstNonWhitespaceIndex(str) {
    for (let i = 0, len = str.length; i < len; i++) {
      const chCode = str.charCodeAt(i);
      if (chCode !== 32 && chCode !== 9) {
        return i;
      }
    }
    return -1;
  }
  function lastNonWhitespaceIndex(str, startIndex = str.length - 1) {
    for (let i = startIndex; i >= 0; i--) {
      const chCode = str.charCodeAt(i);
      if (chCode !== 32 && chCode !== 9) {
        return i;
      }
    }
    return -1;
  }
  function isUpperAsciiLetter(code) {
    return code >= 65 && code <= 90;
  }
  function isHighSurrogate(charCode) {
    return 55296 <= charCode && charCode <= 56319;
  }
  function isLowSurrogate(charCode) {
    return 56320 <= charCode && charCode <= 57343;
  }
  function computeCodePoint(highSurrogate, lowSurrogate) {
    return (highSurrogate - 55296 << 10) + (lowSurrogate - 56320) + 65536;
  }
  function getNextCodePoint(str, len, offset) {
    const charCode = str.charCodeAt(offset);
    if (isHighSurrogate(charCode) && offset + 1 < len) {
      const nextCharCode = str.charCodeAt(offset + 1);
      if (isLowSurrogate(nextCharCode)) {
        return computeCodePoint(charCode, nextCharCode);
      }
    }
    return charCode;
  }
  const IS_BASIC_ASCII = /^[\t\n\r\x20-\x7E]*$/;
  function isBasicASCII(str) {
    return IS_BASIC_ASCII.test(str);
  }
  class AmbiguousCharacters {
    static getInstance(locales) {
      return _a.cache.get(Array.from(locales));
    }
    static getLocales() {
      return _a._locales.value;
    }
    constructor(confusableDictionary) {
      this.confusableDictionary = confusableDictionary;
    }
    isAmbiguous(codePoint) {
      return this.confusableDictionary.has(codePoint);
    }
    /**
     * Returns the non basic ASCII code point that the given code point can be confused,
     * or undefined if such code point does note exist.
     */
    getPrimaryConfusable(codePoint) {
      return this.confusableDictionary.get(codePoint);
    }
    getConfusableCodePoints() {
      return new Set(this.confusableDictionary.keys());
    }
  }
  _a = AmbiguousCharacters;
  AmbiguousCharacters.ambiguousCharacterData = new Lazy(() => {
    return JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}');
  });
  AmbiguousCharacters.cache = new LRUCachedFunction((locales) => {
    function arrayToMap(arr) {
      const result = /* @__PURE__ */ new Map();
      for (let i = 0; i < arr.length; i += 2) {
        result.set(arr[i], arr[i + 1]);
      }
      return result;
    }
    function mergeMaps(map1, map2) {
      const result = new Map(map1);
      for (const [key, value] of map2) {
        result.set(key, value);
      }
      return result;
    }
    function intersectMaps(map1, map2) {
      if (!map1) {
        return map2;
      }
      const result = /* @__PURE__ */ new Map();
      for (const [key, value] of map1) {
        if (map2.has(key)) {
          result.set(key, value);
        }
      }
      return result;
    }
    const data = _a.ambiguousCharacterData.value;
    let filteredLocales = locales.filter((l) => !l.startsWith("_") && l in data);
    if (filteredLocales.length === 0) {
      filteredLocales = ["_default"];
    }
    let languageSpecificMap = void 0;
    for (const locale of filteredLocales) {
      const map2 = arrayToMap(data[locale]);
      languageSpecificMap = intersectMaps(languageSpecificMap, map2);
    }
    const commonMap = arrayToMap(data["_common"]);
    const map = mergeMaps(commonMap, languageSpecificMap);
    return new _a(map);
  });
  AmbiguousCharacters._locales = new Lazy(() => Object.keys(_a.ambiguousCharacterData.value).filter((k) => !k.startsWith("_")));
  class InvisibleCharacters {
    static getRawData() {
      return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]");
    }
    static getData() {
      if (!this._data) {
        this._data = new Set(InvisibleCharacters.getRawData());
      }
      return this._data;
    }
    static isInvisibleCharacter(codePoint) {
      return InvisibleCharacters.getData().has(codePoint);
    }
    static get codePoints() {
      return InvisibleCharacters.getData();
    }
  }
  InvisibleCharacters._data = void 0;
  const INITIALIZE = "$initialize";
  class RequestMessage {
    constructor(vsWorker, req, method, args) {
      this.vsWorker = vsWorker;
      this.req = req;
      this.method = method;
      this.args = args;
      this.type = 0;
    }
  }
  class ReplyMessage {
    constructor(vsWorker, seq, res, err) {
      this.vsWorker = vsWorker;
      this.seq = seq;
      this.res = res;
      this.err = err;
      this.type = 1;
    }
  }
  class SubscribeEventMessage {
    constructor(vsWorker, req, eventName, arg) {
      this.vsWorker = vsWorker;
      this.req = req;
      this.eventName = eventName;
      this.arg = arg;
      this.type = 2;
    }
  }
  class EventMessage {
    constructor(vsWorker, req, event) {
      this.vsWorker = vsWorker;
      this.req = req;
      this.event = event;
      this.type = 3;
    }
  }
  class UnsubscribeEventMessage {
    constructor(vsWorker, req) {
      this.vsWorker = vsWorker;
      this.req = req;
      this.type = 4;
    }
  }
  class SimpleWorkerProtocol {
    constructor(handler) {
      this._workerId = -1;
      this._handler = handler;
      this._lastSentReq = 0;
      this._pendingReplies = /* @__PURE__ */ Object.create(null);
      this._pendingEmitters = /* @__PURE__ */ new Map();
      this._pendingEvents = /* @__PURE__ */ new Map();
    }
    setWorkerId(workerId) {
      this._workerId = workerId;
    }
    sendMessage(method, args) {
      const req = String(++this._lastSentReq);
      return new Promise((resolve, reject) => {
        this._pendingReplies[req] = {
          resolve,
          reject
        };
        this._send(new RequestMessage(this._workerId, req, method, args));
      });
    }
    listen(eventName, arg) {
      let req = null;
      const emitter = new Emitter({
        onWillAddFirstListener: () => {
          req = String(++this._lastSentReq);
          this._pendingEmitters.set(req, emitter);
          this._send(new SubscribeEventMessage(this._workerId, req, eventName, arg));
        },
        onDidRemoveLastListener: () => {
          this._pendingEmitters.delete(req);
          this._send(new UnsubscribeEventMessage(this._workerId, req));
          req = null;
        }
      });
      return emitter.event;
    }
    handleMessage(message) {
      if (!message || !message.vsWorker) {
        return;
      }
      if (this._workerId !== -1 && message.vsWorker !== this._workerId) {
        return;
      }
      this._handleMessage(message);
    }
    _handleMessage(msg) {
      switch (msg.type) {
        case 1:
          return this._handleReplyMessage(msg);
        case 0:
          return this._handleRequestMessage(msg);
        case 2:
          return this._handleSubscribeEventMessage(msg);
        case 3:
          return this._handleEventMessage(msg);
        case 4:
          return this._handleUnsubscribeEventMessage(msg);
      }
    }
    _handleReplyMessage(replyMessage) {
      if (!this._pendingReplies[replyMessage.seq]) {
        console.warn("Got reply to unknown seq");
        return;
      }
      const reply = this._pendingReplies[replyMessage.seq];
      delete this._pendingReplies[replyMessage.seq];
      if (replyMessage.err) {
        let err = replyMessage.err;
        if (replyMessage.err.$isError) {
          err = new Error();
          err.name = replyMessage.err.name;
          err.message = replyMessage.err.message;
          err.stack = replyMessage.err.stack;
        }
        reply.reject(err);
        return;
      }
      reply.resolve(replyMessage.res);
    }
    _handleRequestMessage(requestMessage) {
      const req = requestMessage.req;
      const result = this._handler.handleMessage(requestMessage.method, requestMessage.args);
      result.then((r) => {
        this._send(new ReplyMessage(this._workerId, req, r, void 0));
      }, (e) => {
        if (e.detail instanceof Error) {
          e.detail = transformErrorForSerialization(e.detail);
        }
        this._send(new ReplyMessage(this._workerId, req, void 0, transformErrorForSerialization(e)));
      });
    }
    _handleSubscribeEventMessage(msg) {
      const req = msg.req;
      const disposable = this._handler.handleEvent(msg.eventName, msg.arg)((event) => {
        this._send(new EventMessage(this._workerId, req, event));
      });
      this._pendingEvents.set(req, disposable);
    }
    _handleEventMessage(msg) {
      if (!this._pendingEmitters.has(msg.req)) {
        console.warn("Got event for unknown req");
        return;
      }
      this._pendingEmitters.get(msg.req).fire(msg.event);
    }
    _handleUnsubscribeEventMessage(msg) {
      if (!this._pendingEvents.has(msg.req)) {
        console.warn("Got unsubscribe for unknown req");
        return;
      }
      this._pendingEvents.get(msg.req).dispose();
      this._pendingEvents.delete(msg.req);
    }
    _send(msg) {
      const transfer = [];
      if (msg.type === 0) {
        for (let i = 0; i < msg.args.length; i++) {
          if (msg.args[i] instanceof ArrayBuffer) {
            transfer.push(msg.args[i]);
          }
        }
      } else if (msg.type === 1) {
        if (msg.res instanceof ArrayBuffer) {
          transfer.push(msg.res);
        }
      }
      this._handler.sendMessage(msg, transfer);
    }
  }
  function propertyIsEvent(name) {
    return name[0] === "o" && name[1] === "n" && isUpperAsciiLetter(name.charCodeAt(2));
  }
  function propertyIsDynamicEvent(name) {
    return /^onDynamic/.test(name) && isUpperAsciiLetter(name.charCodeAt(9));
  }
  function createProxyObject(methodNames, invoke, proxyListen) {
    const createProxyMethod = (method) => {
      return function() {
        const args = Array.prototype.slice.call(arguments, 0);
        return invoke(method, args);
      };
    };
    const createProxyDynamicEvent = (eventName) => {
      return function(arg) {
        return proxyListen(eventName, arg);
      };
    };
    const result = {};
    for (const methodName of methodNames) {
      if (propertyIsDynamicEvent(methodName)) {
        result[methodName] = createProxyDynamicEvent(methodName);
        continue;
      }
      if (propertyIsEvent(methodName)) {
        result[methodName] = proxyListen(methodName, void 0);
        continue;
      }
      result[methodName] = createProxyMethod(methodName);
    }
    return result;
  }
  class SimpleWorkerServer {
    constructor(postMessage, requestHandlerFactory) {
      this._requestHandlerFactory = requestHandlerFactory;
      this._requestHandler = null;
      this._protocol = new SimpleWorkerProtocol({
        sendMessage: (msg, transfer) => {
          postMessage(msg, transfer);
        },
        handleMessage: (method, args) => this._handleMessage(method, args),
        handleEvent: (eventName, arg) => this._handleEvent(eventName, arg)
      });
    }
    onmessage(msg) {
      this._protocol.handleMessage(msg);
    }
    _handleMessage(method, args) {
      if (method === INITIALIZE) {
        return this.initialize(args[0], args[1], args[2], args[3]);
      }
      if (!this._requestHandler || typeof this._requestHandler[method] !== "function") {
        return Promise.reject(new Error("Missing requestHandler or method: " + method));
      }
      try {
        return Promise.resolve(this._requestHandler[method].apply(this._requestHandler, args));
      } catch (e) {
        return Promise.reject(e);
      }
    }
    _handleEvent(eventName, arg) {
      if (!this._requestHandler) {
        throw new Error(`Missing requestHandler`);
      }
      if (propertyIsDynamicEvent(eventName)) {
        const event = this._requestHandler[eventName].call(this._requestHandler, arg);
        if (typeof event !== "function") {
          throw new Error(`Missing dynamic event ${eventName} on request handler.`);
        }
        return event;
      }
      if (propertyIsEvent(eventName)) {
        const event = this._requestHandler[eventName];
        if (typeof event !== "function") {
          throw new Error(`Missing event ${eventName} on request handler.`);
        }
        return event;
      }
      throw new Error(`Malformed event name ${eventName}`);
    }
    initialize(workerId, loaderConfig, moduleId, hostMethods) {
      this._protocol.setWorkerId(workerId);
      const proxyMethodRequest = (method, args) => {
        return this._protocol.sendMessage(method, args);
      };
      const proxyListen = (eventName, arg) => {
        return this._protocol.listen(eventName, arg);
      };
      const hostProxy = createProxyObject(hostMethods, proxyMethodRequest, proxyListen);
      if (this._requestHandlerFactory) {
        this._requestHandler = this._requestHandlerFactory(hostProxy);
        return Promise.resolve(getAllMethodNames(this._requestHandler));
      }
      if (loaderConfig) {
        if (typeof loaderConfig.baseUrl !== "undefined") {
          delete loaderConfig["baseUrl"];
        }
        if (typeof loaderConfig.paths !== "undefined") {
          if (typeof loaderConfig.paths.vs !== "undefined") {
            delete loaderConfig.paths["vs"];
          }
        }
        if (typeof loaderConfig.trustedTypesPolicy !== void 0) {
          delete loaderConfig["trustedTypesPolicy"];
        }
        loaderConfig.catchError = true;
        globalThis.require.config(loaderConfig);
      }
      return new Promise((resolve, reject) => {
        const req = globalThis.require;
        req([moduleId], (module) => {
          this._requestHandler = module.create(hostProxy);
          if (!this._requestHandler) {
            reject(new Error(`No RequestHandler!`));
            return;
          }
          resolve(getAllMethodNames(this._requestHandler));
        }, reject);
      });
    }
  }
  class DiffChange {
    /**
     * Constructs a new DiffChange with the given sequence information
     * and content.
     */
    constructor(originalStart, originalLength, modifiedStart, modifiedLength) {
      this.originalStart = originalStart;
      this.originalLength = originalLength;
      this.modifiedStart = modifiedStart;
      this.modifiedLength = modifiedLength;
    }
    /**
     * The end point (exclusive) of the change in the original sequence.
     */
    getOriginalEnd() {
      return this.originalStart + this.originalLength;
    }
    /**
     * The end point (exclusive) of the change in the modified sequence.
     */
    getModifiedEnd() {
      return this.modifiedStart + this.modifiedLength;
    }
  }
  function numberHash(val, initialHashVal) {
    return (initialHashVal << 5) - initialHashVal + val | 0;
  }
  function stringHash(s, hashVal) {
    hashVal = numberHash(149417, hashVal);
    for (let i = 0, length = s.length; i < length; i++) {
      hashVal = numberHash(s.charCodeAt(i), hashVal);
    }
    return hashVal;
  }
  class StringDiffSequence {
    constructor(source) {
      this.source = source;
    }
    getElements() {
      const source = this.source;
      const characters = new Int32Array(source.length);
      for (let i = 0, len = source.length; i < len; i++) {
        characters[i] = source.charCodeAt(i);
      }
      return characters;
    }
  }
  function stringDiff(original, modified, pretty) {
    return new LcsDiff(new StringDiffSequence(original), new StringDiffSequence(modified)).ComputeDiff(pretty).changes;
  }
  class Debug {
    static Assert(condition, message) {
      if (!condition) {
        throw new Error(message);
      }
    }
  }
  class MyArray {
    /**
     * Copies a range of elements from an Array starting at the specified source index and pastes
     * them to another Array starting at the specified destination index. The length and the indexes
     * are specified as 64-bit integers.
     * sourceArray:
     *		The Array that contains the data to copy.
     * sourceIndex:
     *		A 64-bit integer that represents the index in the sourceArray at which copying begins.
     * destinationArray:
     *		The Array that receives the data.
     * destinationIndex:
     *		A 64-bit integer that represents the index in the destinationArray at which storing begins.
     * length:
     *		A 64-bit integer that represents the number of elements to copy.
     */
    static Copy(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {
      for (let i = 0; i < length; i++) {
        destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];
      }
    }
    static Copy2(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {
      for (let i = 0; i < length; i++) {
        destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i];
      }
    }
  }
  class DiffChangeHelper {
    /**
     * Constructs a new DiffChangeHelper for the given DiffSequences.
     */
    constructor() {
      this.m_changes = [];
      this.m_originalStart = 1073741824;
      this.m_modifiedStart = 1073741824;
      this.m_originalCount = 0;
      this.m_modifiedCount = 0;
    }
    /**
     * Marks the beginning of the next change in the set of differences.
     */
    MarkNextChange() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.m_changes.push(new DiffChange(this.m_originalStart, this.m_originalCount, this.m_modifiedStart, this.m_modifiedCount));
      }
      this.m_originalCount = 0;
      this.m_modifiedCount = 0;
      this.m_originalStart = 1073741824;
      this.m_modifiedStart = 1073741824;
    }
    /**
     * Adds the original element at the given position to the elements
     * affected by the current change. The modified index gives context
     * to the change position with respect to the original sequence.
     * @param originalIndex The index of the original element to add.
     * @param modifiedIndex The index of the modified element that provides corresponding position in the modified sequence.
     */
    AddOriginalElement(originalIndex, modifiedIndex) {
      this.m_originalStart = Math.min(this.m_originalStart, originalIndex);
      this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);
      this.m_originalCount++;
    }
    /**
     * Adds the modified element at the given position to the elements
     * affected by the current change. The original index gives context
     * to the change position with respect to the modified sequence.
     * @param originalIndex The index of the original element that provides corresponding position in the original sequence.
     * @param modifiedIndex The index of the modified element to add.
     */
    AddModifiedElement(originalIndex, modifiedIndex) {
      this.m_originalStart = Math.min(this.m_originalStart, originalIndex);
      this.m_modifiedStart = Math.min(this.m_modifiedStart, modifiedIndex);
      this.m_modifiedCount++;
    }
    /**
     * Retrieves all of the changes marked by the class.
     */
    getChanges() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.MarkNextChange();
      }
      return this.m_changes;
    }
    /**
     * Retrieves all of the changes marked by the class in the reverse order
     */
    getReverseChanges() {
      if (this.m_originalCount > 0 || this.m_modifiedCount > 0) {
        this.MarkNextChange();
      }
      this.m_changes.reverse();
      return this.m_changes;
    }
  }
  class LcsDiff {
    /**
     * Constructs the DiffFinder
     */
    constructor(originalSequence, modifiedSequence, continueProcessingPredicate = null) {
      this.ContinueProcessingPredicate = continueProcessingPredicate;
      this._originalSequence = originalSequence;
      this._modifiedSequence = modifiedSequence;
      const [originalStringElements, originalElementsOrHash, originalHasStrings] = LcsDiff._getElements(originalSequence);
      const [modifiedStringElements, modifiedElementsOrHash, modifiedHasStrings] = LcsDiff._getElements(modifiedSequence);
      this._hasStrings = originalHasStrings && modifiedHasStrings;
      this._originalStringElements = originalStringElements;
      this._originalElementsOrHash = originalElementsOrHash;
      this._modifiedStringElements = modifiedStringElements;
      this._modifiedElementsOrHash = modifiedElementsOrHash;
      this.m_forwardHistory = [];
      this.m_reverseHistory = [];
    }
    static _isStringArray(arr) {
      return arr.length > 0 && typeof arr[0] === "string";
    }
    static _getElements(sequence) {
      const elements = sequence.getElements();
      if (LcsDiff._isStringArray(elements)) {
        const hashes = new Int32Array(elements.length);
        for (let i = 0, len = elements.length; i < len; i++) {
          hashes[i] = stringHash(elements[i], 0);
        }
        return [elements, hashes, true];
      }
      if (elements instanceof Int32Array) {
        return [[], elements, false];
      }
      return [[], new Int32Array(elements), false];
    }
    ElementsAreEqual(originalIndex, newIndex) {
      if (this._originalElementsOrHash[originalIndex] !== this._modifiedElementsOrHash[newIndex]) {
        return false;
      }
      return this._hasStrings ? this._originalStringElements[originalIndex] === this._modifiedStringElements[newIndex] : true;
    }
    ElementsAreStrictEqual(originalIndex, newIndex) {
      if (!this.ElementsAreEqual(originalIndex, newIndex)) {
        return false;
      }
      const originalElement = LcsDiff._getStrictElement(this._originalSequence, originalIndex);
      const modifiedElement = LcsDiff._getStrictElement(this._modifiedSequence, newIndex);
      return originalElement === modifiedElement;
    }
    static _getStrictElement(sequence, index) {
      if (typeof sequence.getStrictElement === "function") {
        return sequence.getStrictElement(index);
      }
      return null;
    }
    OriginalElementsAreEqual(index1, index2) {
      if (this._originalElementsOrHash[index1] !== this._originalElementsOrHash[index2]) {
        return false;
      }
      return this._hasStrings ? this._originalStringElements[index1] === this._originalStringElements[index2] : true;
    }
    ModifiedElementsAreEqual(index1, index2) {
      if (this._modifiedElementsOrHash[index1] !== this._modifiedElementsOrHash[index2]) {
        return false;
      }
      return this._hasStrings ? this._modifiedStringElements[index1] === this._modifiedStringElements[index2] : true;
    }
    ComputeDiff(pretty) {
      return this._ComputeDiff(0, this._originalElementsOrHash.length - 1, 0, this._modifiedElementsOrHash.length - 1, pretty);
    }
    /**
     * Computes the differences between the original and modified input
     * sequences on the bounded range.
     * @returns An array of the differences between the two input sequences.
     */
    _ComputeDiff(originalStart, originalEnd, modifiedStart, modifiedEnd, pretty) {
      const quitEarlyArr = [false];
      let changes = this.ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr);
      if (pretty) {
        changes = this.PrettifyChanges(changes);
      }
      return {
        quitEarly: quitEarlyArr[0],
        changes
      };
    }
    /**
     * Private helper method which computes the differences on the bounded range
     * recursively.
     * @returns An array of the differences between the two input sequences.
     */
    ComputeDiffRecursive(originalStart, originalEnd, modifiedStart, modifiedEnd, quitEarlyArr) {
      quitEarlyArr[0] = false;
      while (originalStart <= originalEnd && modifiedStart <= modifiedEnd && this.ElementsAreEqual(originalStart, modifiedStart)) {
        originalStart++;
        modifiedStart++;
      }
      while (originalEnd >= originalStart && modifiedEnd >= modifiedStart && this.ElementsAreEqual(originalEnd, modifiedEnd)) {
        originalEnd--;
        modifiedEnd--;
      }
      if (originalStart > originalEnd || modifiedStart > modifiedEnd) {
        let changes;
        if (modifiedStart <= modifiedEnd) {
          Debug.Assert(originalStart === originalEnd + 1, "originalStart should only be one more than originalEnd");
          changes = [
            new DiffChange(originalStart, 0, modifiedStart, modifiedEnd - modifiedStart + 1)
          ];
        } else if (originalStart <= originalEnd) {
          Debug.Assert(modifiedStart === modifiedEnd + 1, "modifiedStart should only be one more than modifiedEnd");
          changes = [
            new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, 0)
          ];
        } else {
          Debug.Assert(originalStart === originalEnd + 1, "originalStart should only be one more than originalEnd");
          Debug.Assert(modifiedStart === modifiedEnd + 1, "modifiedStart should only be one more than modifiedEnd");
          changes = [];
        }
        return changes;
      }
      const midOriginalArr = [0];
      const midModifiedArr = [0];
      const result = this.ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr);
      const midOriginal = midOriginalArr[0];
      const midModified = midModifiedArr[0];
      if (result !== null) {
        return result;
      } else if (!quitEarlyArr[0]) {
        const leftChanges = this.ComputeDiffRecursive(originalStart, midOriginal, modifiedStart, midModified, quitEarlyArr);
        let rightChanges = [];
        if (!quitEarlyArr[0]) {
          rightChanges = this.ComputeDiffRecursive(midOriginal + 1, originalEnd, midModified + 1, modifiedEnd, quitEarlyArr);
        } else {
          rightChanges = [
            new DiffChange(midOriginal + 1, originalEnd - (midOriginal + 1) + 1, midModified + 1, modifiedEnd - (midModified + 1) + 1)
          ];
        }
        return this.ConcatenateChanges(leftChanges, rightChanges);
      }
      return [
        new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)
      ];
    }
    WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr) {
      let forwardChanges = null;
      let reverseChanges = null;
      let changeHelper = new DiffChangeHelper();
      let diagonalMin = diagonalForwardStart;
      let diagonalMax = diagonalForwardEnd;
      let diagonalRelative = midOriginalArr[0] - midModifiedArr[0] - diagonalForwardOffset;
      let lastOriginalIndex = -1073741824;
      let historyIndex = this.m_forwardHistory.length - 1;
      do {
        const diagonal = diagonalRelative + diagonalForwardBase;
        if (diagonal === diagonalMin || diagonal < diagonalMax && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1]) {
          originalIndex = forwardPoints[diagonal + 1];
          modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;
          if (originalIndex < lastOriginalIndex) {
            changeHelper.MarkNextChange();
          }
          lastOriginalIndex = originalIndex;
          changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex);
          diagonalRelative = diagonal + 1 - diagonalForwardBase;
        } else {
          originalIndex = forwardPoints[diagonal - 1] + 1;
          modifiedIndex = originalIndex - diagonalRelative - diagonalForwardOffset;
          if (originalIndex < lastOriginalIndex) {
            changeHelper.MarkNextChange();
          }
          lastOriginalIndex = originalIndex - 1;
          changeHelper.AddOriginalElement(originalIndex, modifiedIndex + 1);
          diagonalRelative = diagonal - 1 - diagonalForwardBase;
        }
        if (historyIndex >= 0) {
          forwardPoints = this.m_forwardHistory[historyIndex];
          diagonalForwardBase = forwardPoints[0];
          diagonalMin = 1;
          diagonalMax = forwardPoints.length - 1;
        }
      } while (--historyIndex >= -1);
      forwardChanges = changeHelper.getReverseChanges();
      if (quitEarlyArr[0]) {
        let originalStartPoint = midOriginalArr[0] + 1;
        let modifiedStartPoint = midModifiedArr[0] + 1;
        if (forwardChanges !== null && forwardChanges.length > 0) {
          const lastForwardChange = forwardChanges[forwardChanges.length - 1];
          originalStartPoint = Math.max(originalStartPoint, lastForwardChange.getOriginalEnd());
          modifiedStartPoint = Math.max(modifiedStartPoint, lastForwardChange.getModifiedEnd());
        }
        reverseChanges = [
          new DiffChange(originalStartPoint, originalEnd - originalStartPoint + 1, modifiedStartPoint, modifiedEnd - modifiedStartPoint + 1)
        ];
      } else {
        changeHelper = new DiffChangeHelper();
        diagonalMin = diagonalReverseStart;
        diagonalMax = diagonalReverseEnd;
        diagonalRelative = midOriginalArr[0] - midModifiedArr[0] - diagonalReverseOffset;
        lastOriginalIndex = 1073741824;
        historyIndex = deltaIsEven ? this.m_reverseHistory.length - 1 : this.m_reverseHistory.length - 2;
        do {
          const diagonal = diagonalRelative + diagonalReverseBase;
          if (diagonal === diagonalMin || diagonal < diagonalMax && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1]) {
            originalIndex = reversePoints[diagonal + 1] - 1;
            modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;
            if (originalIndex > lastOriginalIndex) {
              changeHelper.MarkNextChange();
            }
            lastOriginalIndex = originalIndex + 1;
            changeHelper.AddOriginalElement(originalIndex + 1, modifiedIndex + 1);
            diagonalRelative = diagonal + 1 - diagonalReverseBase;
          } else {
            originalIndex = reversePoints[diagonal - 1];
            modifiedIndex = originalIndex - diagonalRelative - diagonalReverseOffset;
            if (originalIndex > lastOriginalIndex) {
              changeHelper.MarkNextChange();
            }
            lastOriginalIndex = originalIndex;
            changeHelper.AddModifiedElement(originalIndex + 1, modifiedIndex + 1);
            diagonalRelative = diagonal - 1 - diagonalReverseBase;
          }
          if (historyIndex >= 0) {
            reversePoints = this.m_reverseHistory[historyIndex];
            diagonalReverseBase = reversePoints[0];
            diagonalMin = 1;
            diagonalMax = reversePoints.length - 1;
          }
        } while (--historyIndex >= -1);
        reverseChanges = changeHelper.getChanges();
      }
      return this.ConcatenateChanges(forwardChanges, reverseChanges);
    }
    /**
     * Given the range to compute the diff on, this method finds the point:
     * (midOriginal, midModified)
     * that exists in the middle of the LCS of the two sequences and
     * is the point at which the LCS problem may be broken down recursively.
     * This method will try to keep the LCS trace in memory. If the LCS recursion
     * point is calculated and the full trace is available in memory, then this method
     * will return the change list.
     * @param originalStart The start bound of the original sequence range
     * @param originalEnd The end bound of the original sequence range
     * @param modifiedStart The start bound of the modified sequence range
     * @param modifiedEnd The end bound of the modified sequence range
     * @param midOriginal The middle point of the original sequence range
     * @param midModified The middle point of the modified sequence range
     * @returns The diff changes, if available, otherwise null
     */
    ComputeRecursionPoint(originalStart, originalEnd, modifiedStart, modifiedEnd, midOriginalArr, midModifiedArr, quitEarlyArr) {
      let originalIndex = 0, modifiedIndex = 0;
      let diagonalForwardStart = 0, diagonalForwardEnd = 0;
      let diagonalReverseStart = 0, diagonalReverseEnd = 0;
      originalStart--;
      modifiedStart--;
      midOriginalArr[0] = 0;
      midModifiedArr[0] = 0;
      this.m_forwardHistory = [];
      this.m_reverseHistory = [];
      const maxDifferences = originalEnd - originalStart + (modifiedEnd - modifiedStart);
      const numDiagonals = maxDifferences + 1;
      const forwardPoints = new Int32Array(numDiagonals);
      const reversePoints = new Int32Array(numDiagonals);
      const diagonalForwardBase = modifiedEnd - modifiedStart;
      const diagonalReverseBase = originalEnd - originalStart;
      const diagonalForwardOffset = originalStart - modifiedStart;
      const diagonalReverseOffset = originalEnd - modifiedEnd;
      const delta = diagonalReverseBase - diagonalForwardBase;
      const deltaIsEven = delta % 2 === 0;
      forwardPoints[diagonalForwardBase] = originalStart;
      reversePoints[diagonalReverseBase] = originalEnd;
      quitEarlyArr[0] = false;
      for (let numDifferences = 1; numDifferences <= maxDifferences / 2 + 1; numDifferences++) {
        let furthestOriginalIndex = 0;
        let furthestModifiedIndex = 0;
        diagonalForwardStart = this.ClipDiagonalBound(diagonalForwardBase - numDifferences, numDifferences, diagonalForwardBase, numDiagonals);
        diagonalForwardEnd = this.ClipDiagonalBound(diagonalForwardBase + numDifferences, numDifferences, diagonalForwardBase, numDiagonals);
        for (let diagonal = diagonalForwardStart; diagonal <= diagonalForwardEnd; diagonal += 2) {
          if (diagonal === diagonalForwardStart || diagonal < diagonalForwardEnd && forwardPoints[diagonal - 1] < forwardPoints[diagonal + 1]) {
            originalIndex = forwardPoints[diagonal + 1];
          } else {
            originalIndex = forwardPoints[diagonal - 1] + 1;
          }
          modifiedIndex = originalIndex - (diagonal - diagonalForwardBase) - diagonalForwardOffset;
          const tempOriginalIndex = originalIndex;
          while (originalIndex < originalEnd && modifiedIndex < modifiedEnd && this.ElementsAreEqual(originalIndex + 1, modifiedIndex + 1)) {
            originalIndex++;
            modifiedIndex++;
          }
          forwardPoints[diagonal] = originalIndex;
          if (originalIndex + modifiedIndex > furthestOriginalIndex + furthestModifiedIndex) {
            furthestOriginalIndex = originalIndex;
            furthestModifiedIndex = modifiedIndex;
          }
          if (!deltaIsEven && Math.abs(diagonal - diagonalReverseBase) <= numDifferences - 1) {
            if (originalIndex >= reversePoints[diagonal]) {
              midOriginalArr[0] = originalIndex;
              midModifiedArr[0] = modifiedIndex;
              if (tempOriginalIndex <= reversePoints[diagonal] && 1447 > 0 && numDifferences <= 1447 + 1) {
                return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
              } else {
                return null;
              }
            }
          }
        }
        const matchLengthOfLongest = (furthestOriginalIndex - originalStart + (furthestModifiedIndex - modifiedStart) - numDifferences) / 2;
        if (this.ContinueProcessingPredicate !== null && !this.ContinueProcessingPredicate(furthestOriginalIndex, matchLengthOfLongest)) {
          quitEarlyArr[0] = true;
          midOriginalArr[0] = furthestOriginalIndex;
          midModifiedArr[0] = furthestModifiedIndex;
          if (matchLengthOfLongest > 0 && 1447 > 0 && numDifferences <= 1447 + 1) {
            return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
          } else {
            originalStart++;
            modifiedStart++;
            return [
              new DiffChange(originalStart, originalEnd - originalStart + 1, modifiedStart, modifiedEnd - modifiedStart + 1)
            ];
          }
        }
        diagonalReverseStart = this.ClipDiagonalBound(diagonalReverseBase - numDifferences, numDifferences, diagonalReverseBase, numDiagonals);
        diagonalReverseEnd = this.ClipDiagonalBound(diagonalReverseBase + numDifferences, numDifferences, diagonalReverseBase, numDiagonals);
        for (let diagonal = diagonalReverseStart; diagonal <= diagonalReverseEnd; diagonal += 2) {
          if (diagonal === diagonalReverseStart || diagonal < diagonalReverseEnd && reversePoints[diagonal - 1] >= reversePoints[diagonal + 1]) {
            originalIndex = reversePoints[diagonal + 1] - 1;
          } else {
            originalIndex = reversePoints[diagonal - 1];
          }
          modifiedIndex = originalIndex - (diagonal - diagonalReverseBase) - diagonalReverseOffset;
          const tempOriginalIndex = originalIndex;
          while (originalIndex > originalStart && modifiedIndex > modifiedStart && this.ElementsAreEqual(originalIndex, modifiedIndex)) {
            originalIndex--;
            modifiedIndex--;
          }
          reversePoints[diagonal] = originalIndex;
          if (deltaIsEven && Math.abs(diagonal - diagonalForwardBase) <= numDifferences) {
            if (originalIndex <= forwardPoints[diagonal]) {
              midOriginalArr[0] = originalIndex;
              midModifiedArr[0] = modifiedIndex;
              if (tempOriginalIndex >= forwardPoints[diagonal] && 1447 > 0 && numDifferences <= 1447 + 1) {
                return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
              } else {
                return null;
              }
            }
          }
        }
        if (numDifferences <= 1447) {
          let temp = new Int32Array(diagonalForwardEnd - diagonalForwardStart + 2);
          temp[0] = diagonalForwardBase - diagonalForwardStart + 1;
          MyArray.Copy2(forwardPoints, diagonalForwardStart, temp, 1, diagonalForwardEnd - diagonalForwardStart + 1);
          this.m_forwardHistory.push(temp);
          temp = new Int32Array(diagonalReverseEnd - diagonalReverseStart + 2);
          temp[0] = diagonalReverseBase - diagonalReverseStart + 1;
          MyArray.Copy2(reversePoints, diagonalReverseStart, temp, 1, diagonalReverseEnd - diagonalReverseStart + 1);
          this.m_reverseHistory.push(temp);
        }
      }
      return this.WALKTRACE(diagonalForwardBase, diagonalForwardStart, diagonalForwardEnd, diagonalForwardOffset, diagonalReverseBase, diagonalReverseStart, diagonalReverseEnd, diagonalReverseOffset, forwardPoints, reversePoints, originalIndex, originalEnd, midOriginalArr, modifiedIndex, modifiedEnd, midModifiedArr, deltaIsEven, quitEarlyArr);
    }
    /**
     * Shifts the given changes to provide a more intuitive diff.
     * While the first element in a diff matches the first element after the diff,
     * we shift the diff down.
     *
     * @param changes The list of changes to shift
     * @returns The shifted changes
     */
    PrettifyChanges(changes) {
      for (let i = 0; i < changes.length; i++) {
        const change = changes[i];
        const originalStop = i < changes.length - 1 ? changes[i + 1].originalStart : this._originalElementsOrHash.length;
        const modifiedStop = i < changes.length - 1 ? changes[i + 1].modifiedStart : this._modifiedElementsOrHash.length;
        const checkOriginal = change.originalLength > 0;
        const checkModified = change.modifiedLength > 0;
        while (change.originalStart + change.originalLength < originalStop && change.modifiedStart + change.modifiedLength < modifiedStop && (!checkOriginal || this.OriginalElementsAreEqual(change.originalStart, change.originalStart + change.originalLength)) && (!checkModified || this.ModifiedElementsAreEqual(change.modifiedStart, change.modifiedStart + change.modifiedLength))) {
          const startStrictEqual = this.ElementsAreStrictEqual(change.originalStart, change.modifiedStart);
          const endStrictEqual = this.ElementsAreStrictEqual(change.originalStart + change.originalLength, change.modifiedStart + change.modifiedLength);
          if (endStrictEqual && !startStrictEqual) {
            break;
          }
          change.originalStart++;
          change.modifiedStart++;
        }
        const mergedChangeArr = [null];
        if (i < changes.length - 1 && this.ChangesOverlap(changes[i], changes[i + 1], mergedChangeArr)) {
          changes[i] = mergedChangeArr[0];
          changes.splice(i + 1, 1);
          i--;
          continue;
        }
      }
      for (let i = changes.length - 1; i >= 0; i--) {
        const change = changes[i];
        let originalStop = 0;
        let modifiedStop = 0;
        if (i > 0) {
          const prevChange = changes[i - 1];
          originalStop = prevChange.originalStart + prevChange.originalLength;
          modifiedStop = prevChange.modifiedStart + prevChange.modifiedLength;
        }
        const checkOriginal = change.originalLength > 0;
        const checkModified = change.modifiedLength > 0;
        let bestDelta = 0;
        let bestScore = this._boundaryScore(change.originalStart, change.originalLength, change.modifiedStart, change.modifiedLength);
        for (let delta = 1; ; delta++) {
          const originalStart = change.originalStart - delta;
          const modifiedStart = change.modifiedStart - delta;
          if (originalStart < originalStop || modifiedStart < modifiedStop) {
            break;
          }
          if (checkOriginal && !this.OriginalElementsAreEqual(originalStart, originalStart + change.originalLength)) {
            break;
          }
          if (checkModified && !this.ModifiedElementsAreEqual(modifiedStart, modifiedStart + change.modifiedLength)) {
            break;
          }
          const touchingPreviousChange = originalStart === originalStop && modifiedStart === modifiedStop;
          const score2 = (touchingPreviousChange ? 5 : 0) + this._boundaryScore(originalStart, change.originalLength, modifiedStart, change.modifiedLength);
          if (score2 > bestScore) {
            bestScore = score2;
            bestDelta = delta;
          }
        }
        change.originalStart -= bestDelta;
        change.modifiedStart -= bestDelta;
        const mergedChangeArr = [null];
        if (i > 0 && this.ChangesOverlap(changes[i - 1], changes[i], mergedChangeArr)) {
          changes[i - 1] = mergedChangeArr[0];
          changes.splice(i, 1);
          i++;
          continue;
        }
      }
      if (this._hasStrings) {
        for (let i = 1, len = changes.length; i < len; i++) {
          const aChange = changes[i - 1];
          const bChange = changes[i];
          const matchedLength = bChange.originalStart - aChange.originalStart - aChange.originalLength;
          const aOriginalStart = aChange.originalStart;
          const bOriginalEnd = bChange.originalStart + bChange.originalLength;
          const abOriginalLength = bOriginalEnd - aOriginalStart;
          const aModifiedStart = aChange.modifiedStart;
          const bModifiedEnd = bChange.modifiedStart + bChange.modifiedLength;
          const abModifiedLength = bModifiedEnd - aModifiedStart;
          if (matchedLength < 5 && abOriginalLength < 20 && abModifiedLength < 20) {
            const t = this._findBetterContiguousSequence(aOriginalStart, abOriginalLength, aModifiedStart, abModifiedLength, matchedLength);
            if (t) {
              const [originalMatchStart, modifiedMatchStart] = t;
              if (originalMatchStart !== aChange.originalStart + aChange.originalLength || modifiedMatchStart !== aChange.modifiedStart + aChange.modifiedLength) {
                aChange.originalLength = originalMatchStart - aChange.originalStart;
                aChange.modifiedLength = modifiedMatchStart - aChange.modifiedStart;
                bChange.originalStart = originalMatchStart + matchedLength;
                bChange.modifiedStart = modifiedMatchStart + matchedLength;
                bChange.originalLength = bOriginalEnd - bChange.originalStart;
                bChange.modifiedLength = bModifiedEnd - bChange.modifiedStart;
              }
            }
          }
        }
      }
      return changes;
    }
    _findBetterContiguousSequence(originalStart, originalLength, modifiedStart, modifiedLength, desiredLength) {
      if (originalLength < desiredLength || modifiedLength < desiredLength) {
        return null;
      }
      const originalMax = originalStart + originalLength - desiredLength + 1;
      const modifiedMax = modifiedStart + modifiedLength - desiredLength + 1;
      let bestScore = 0;
      let bestOriginalStart = 0;
      let bestModifiedStart = 0;
      for (let i = originalStart; i < originalMax; i++) {
        for (let j = modifiedStart; j < modifiedMax; j++) {
          const score2 = this._contiguousSequenceScore(i, j, desiredLength);
          if (score2 > 0 && score2 > bestScore) {
            bestScore = score2;
            bestOriginalStart = i;
            bestModifiedStart = j;
          }
        }
      }
      if (bestScore > 0) {
        return [bestOriginalStart, bestModifiedStart];
      }
      return null;
    }
    _contiguousSequenceScore(originalStart, modifiedStart, length) {
      let score2 = 0;
      for (let l = 0; l < length; l++) {
        if (!this.ElementsAreEqual(originalStart + l, modifiedStart + l)) {
          return 0;
        }
        score2 += this._originalStringElements[originalStart + l].length;
      }
      return score2;
    }
    _OriginalIsBoundary(index) {
      if (index <= 0 || index >= this._originalElementsOrHash.length - 1) {
        return true;
      }
      return this._hasStrings && /^\s*$/.test(this._originalStringElements[index]);
    }
    _OriginalRegionIsBoundary(originalStart, originalLength) {
      if (this._OriginalIsBoundary(originalStart) || this._OriginalIsBoundary(originalStart - 1)) {
        return true;
      }
      if (originalLength > 0) {
        const originalEnd = originalStart + originalLength;
        if (this._OriginalIsBoundary(originalEnd - 1) || this._OriginalIsBoundary(originalEnd)) {
          return true;
        }
      }
      return false;
    }
    _ModifiedIsBoundary(index) {
      if (index <= 0 || index >= this._modifiedElementsOrHash.length - 1) {
        return true;
      }
      return this._hasStrings && /^\s*$/.test(this._modifiedStringElements[index]);
    }
    _ModifiedRegionIsBoundary(modifiedStart, modifiedLength) {
      if (this._ModifiedIsBoundary(modifiedStart) || this._ModifiedIsBoundary(modifiedStart - 1)) {
        return true;
      }
      if (modifiedLength > 0) {
        const modifiedEnd = modifiedStart + modifiedLength;
        if (this._ModifiedIsBoundary(modifiedEnd - 1) || this._ModifiedIsBoundary(modifiedEnd)) {
          return true;
        }
      }
      return false;
    }
    _boundaryScore(originalStart, originalLength, modifiedStart, modifiedLength) {
      const originalScore = this._OriginalRegionIsBoundary(originalStart, originalLength) ? 1 : 0;
      const modifiedScore = this._ModifiedRegionIsBoundary(modifiedStart, modifiedLength) ? 1 : 0;
      return originalScore + modifiedScore;
    }
    /**
     * Concatenates the two input DiffChange lists and returns the resulting
     * list.
     * @param The left changes
     * @param The right changes
     * @returns The concatenated list
     */
    ConcatenateChanges(left, right) {
      const mergedChangeArr = [];
      if (left.length === 0 || right.length === 0) {
        return right.length > 0 ? right : left;
      } else if (this.ChangesOverlap(left[left.length - 1], right[0], mergedChangeArr)) {
        const result = new Array(left.length + right.length - 1);
        MyArray.Copy(left, 0, result, 0, left.length - 1);
        result[left.length - 1] = mergedChangeArr[0];
        MyArray.Copy(right, 1, result, left.length, right.length - 1);
        return result;
      } else {
        const result = new Array(left.length + right.length);
        MyArray.Copy(left, 0, result, 0, left.length);
        MyArray.Copy(right, 0, result, left.length, right.length);
        return result;
      }
    }
    /**
     * Returns true if the two changes overlap and can be merged into a single
     * change
     * @param left The left change
     * @param right The right change
     * @param mergedChange The merged change if the two overlap, null otherwise
     * @returns True if the two changes overlap
     */
    ChangesOverlap(left, right, mergedChangeArr) {
      Debug.Assert(left.originalStart <= right.originalStart, "Left change is not less than or equal to right change");
      Debug.Assert(left.modifiedStart <= right.modifiedStart, "Left change is not less than or equal to right change");
      if (left.originalStart + left.originalLength >= right.originalStart || left.modifiedStart + left.modifiedLength >= right.modifiedStart) {
        const originalStart = left.originalStart;
        let originalLength = left.originalLength;
        const modifiedStart = left.modifiedStart;
        let modifiedLength = left.modifiedLength;
        if (left.originalStart + left.originalLength >= right.originalStart) {
          originalLength = right.originalStart + right.originalLength - left.originalStart;
        }
        if (left.modifiedStart + left.modifiedLength >= right.modifiedStart) {
          modifiedLength = right.modifiedStart + right.modifiedLength - left.modifiedStart;
        }
        mergedChangeArr[0] = new DiffChange(originalStart, originalLength, modifiedStart, modifiedLength);
        return true;
      } else {
        mergedChangeArr[0] = null;
        return false;
      }
    }
    /**
     * Helper method used to clip a diagonal index to the range of valid
     * diagonals. This also decides whether or not the diagonal index,
     * if it exceeds the boundary, should be clipped to the boundary or clipped
     * one inside the boundary depending on the Even/Odd status of the boundary
     * and numDifferences.
     * @param diagonal The index of the diagonal to clip.
     * @param numDifferences The current number of differences being iterated upon.
     * @param diagonalBaseIndex The base reference diagonal.
     * @param numDiagonals The total number of diagonals.
     * @returns The clipped diagonal index.
     */
    ClipDiagonalBound(diagonal, numDifferences, diagonalBaseIndex, numDiagonals) {
      if (diagonal >= 0 && diagonal < numDiagonals) {
        return diagonal;
      }
      const diagonalsBelow = diagonalBaseIndex;
      const diagonalsAbove = numDiagonals - diagonalBaseIndex - 1;
      const diffEven = numDifferences % 2 === 0;
      if (diagonal < 0) {
        const lowerBoundEven = diagonalsBelow % 2 === 0;
        return diffEven === lowerBoundEven ? 0 : 1;
      } else {
        const upperBoundEven = diagonalsAbove % 2 === 0;
        return diffEven === upperBoundEven ? numDiagonals - 1 : numDiagonals - 2;
      }
    }
  }
  var define_process_env_default = {};
  let safeProcess;
  const vscodeGlobal = globalThis.vscode;
  if (typeof vscodeGlobal !== "undefined" && typeof vscodeGlobal.process !== "undefined") {
    const sandboxProcess = vscodeGlobal.process;
    safeProcess = {
      get platform() {
        return sandboxProcess.platform;
      },
      get arch() {
        return sandboxProcess.arch;
      },
      get env() {
        return sandboxProcess.env;
      },
      cwd() {
        return sandboxProcess.cwd();
      }
    };
  } else if (typeof process !== "undefined") {
    safeProcess = {
      get platform() {
        return process.platform;
      },
      get arch() {
        return process.arch;
      },
      get env() {
        return define_process_env_default;
      },
      cwd() {
        return define_process_env_default["VSCODE_CWD"] || process.cwd();
      }
    };
  } else {
    safeProcess = {
      // Supported
      get platform() {
        return isWindows ? "win32" : isMacintosh ? "darwin" : "linux";
      },
      get arch() {
        return void 0;
      },
      // Unsupported
      get env() {
        return {};
      },
      cwd() {
        return "/";
      }
    };
  }
  const cwd = safeProcess.cwd;
  const env = safeProcess.env;
  const platform = safeProcess.platform;
  const CHAR_UPPERCASE_A = 65;
  const CHAR_LOWERCASE_A = 97;
  const CHAR_UPPERCASE_Z = 90;
  const CHAR_LOWERCASE_Z = 122;
  const CHAR_DOT = 46;
  const CHAR_FORWARD_SLASH = 47;
  const CHAR_BACKWARD_SLASH = 92;
  const CHAR_COLON = 58;
  const CHAR_QUESTION_MARK = 63;
  class ErrorInvalidArgType extends Error {
    constructor(name, expected, actual) {
      let determiner;
      if (typeof expected === "string" && expected.indexOf("not ") === 0) {
        determiner = "must not be";
        expected = expected.replace(/^not /, "");
      } else {
        determiner = "must be";
      }
      const type = name.indexOf(".") !== -1 ? "property" : "argument";
      let msg = `The "${name}" ${type} ${determiner} of type ${expected}`;
      msg += `. Received type ${typeof actual}`;
      super(msg);
      this.code = "ERR_INVALID_ARG_TYPE";
    }
  }
  function validateObject(pathObject, name) {
    if (pathObject === null || typeof pathObject !== "object") {
      throw new ErrorInvalidArgType(name, "Object", pathObject);
    }
  }
  function validateString(value, name) {
    if (typeof value !== "string") {
      throw new ErrorInvalidArgType(name, "string", value);
    }
  }
  const platformIsWin32 = platform === "win32";
  function isPathSeparator(code) {
    return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;
  }
  function isPosixPathSeparator(code) {
    return code === CHAR_FORWARD_SLASH;
  }
  function isWindowsDeviceRoot(code) {
    return code >= CHAR_UPPERCASE_A && code <= CHAR_UPPERCASE_Z || code >= CHAR_LOWERCASE_A && code <= CHAR_LOWERCASE_Z;
  }
  function normalizeString(path, allowAboveRoot, separator, isPathSeparator2) {
    let res = "";
    let lastSegmentLength = 0;
    let lastSlash = -1;
    let dots = 0;
    let code = 0;
    for (let i = 0; i <= path.length; ++i) {
      if (i < path.length) {
        code = path.charCodeAt(i);
      } else if (isPathSeparator2(code)) {
        break;
      } else {
        code = CHAR_FORWARD_SLASH;
      }
      if (isPathSeparator2(code)) {
        if (lastSlash === i - 1 || dots === 1)
          ;
        else if (dots === 2) {
          if (res.length < 2 || lastSegmentLength !== 2 || res.charCodeAt(res.length - 1) !== CHAR_DOT || res.charCodeAt(res.length - 2) !== CHAR_DOT) {
            if (res.length > 2) {
              const lastSlashIndex = res.lastIndexOf(separator);
              if (lastSlashIndex === -1) {
                res = "";
                lastSegmentLength = 0;
              } else {
                res = res.slice(0, lastSlashIndex);
                lastSegmentLength = res.length - 1 - res.lastIndexOf(separator);
              }
              lastSlash = i;
              dots = 0;
              continue;
            } else if (res.length !== 0) {
              res = "";
              lastSegmentLength = 0;
              lastSlash = i;
              dots = 0;
              continue;
            }
          }
          if (allowAboveRoot) {
            res += res.length > 0 ? `${separator}..` : "..";
            lastSegmentLength = 2;
          }
        } else {
          if (res.length > 0) {
            res += `${separator}${path.slice(lastSlash + 1, i)}`;
          } else {
            res = path.slice(lastSlash + 1, i);
          }
          lastSegmentLength = i - lastSlash - 1;
        }
        lastSlash = i;
        dots = 0;
      } else if (code === CHAR_DOT && dots !== -1) {
        ++dots;
      } else {
        dots = -1;
      }
    }
    return res;
  }
  function _format(sep2, pathObject) {
    validateObject(pathObject, "pathObject");
    const dir = pathObject.dir || pathObject.root;
    const base = pathObject.base || `${pathObject.name || ""}${pathObject.ext || ""}`;
    if (!dir) {
      return base;
    }
    return dir === pathObject.root ? `${dir}${base}` : `${dir}${sep2}${base}`;
  }
  const win32 = {
    // path.resolve([from ...], to)
    resolve(...pathSegments) {
      let resolvedDevice = "";
      let resolvedTail = "";
      let resolvedAbsolute = false;
      for (let i = pathSegments.length - 1; i >= -1; i--) {
        let path;
        if (i >= 0) {
          path = pathSegments[i];
          validateString(path, "path");
          if (path.length === 0) {
            continue;
          }
        } else if (resolvedDevice.length === 0) {
          path = cwd();
        } else {
          path = env[`=${resolvedDevice}`] || cwd();
          if (path === void 0 || path.slice(0, 2).toLowerCase() !== resolvedDevice.toLowerCase() && path.charCodeAt(2) === CHAR_BACKWARD_SLASH) {
            path = `${resolvedDevice}\\`;
          }
        }
        const len = path.length;
        let rootEnd = 0;
        let device = "";
        let isAbsolute = false;
        const code = path.charCodeAt(0);
        if (len === 1) {
          if (isPathSeparator(code)) {
            rootEnd = 1;
            isAbsolute = true;
          }
        } else if (isPathSeparator(code)) {
          isAbsolute = true;
          if (isPathSeparator(path.charCodeAt(1))) {
            let j = 2;
            let last = j;
            while (j < len && !isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              const firstPart = path.slice(last, j);
              last = j;
              while (j < len && isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j < len && j !== last) {
                last = j;
                while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                  j++;
                }
                if (j === len || j !== last) {
                  device = `\\\\${firstPart}\\${path.slice(last, j)}`;
                  rootEnd = j;
                }
              }
            }
          } else {
            rootEnd = 1;
          }
        } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
          device = path.slice(0, 2);
          rootEnd = 2;
          if (len > 2 && isPathSeparator(path.charCodeAt(2))) {
            isAbsolute = true;
            rootEnd = 3;
          }
        }
        if (device.length > 0) {
          if (resolvedDevice.length > 0) {
            if (device.toLowerCase() !== resolvedDevice.toLowerCase()) {
              continue;
            }
          } else {
            resolvedDevice = device;
          }
        }
        if (resolvedAbsolute) {
          if (resolvedDevice.length > 0) {
            break;
          }
        } else {
          resolvedTail = `${path.slice(rootEnd)}\\${resolvedTail}`;
          resolvedAbsolute = isAbsolute;
          if (isAbsolute && resolvedDevice.length > 0) {
            break;
          }
        }
      }
      resolvedTail = normalizeString(resolvedTail, !resolvedAbsolute, "\\", isPathSeparator);
      return resolvedAbsolute ? `${resolvedDevice}\\${resolvedTail}` : `${resolvedDevice}${resolvedTail}` || ".";
    },
    normalize(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return ".";
      }
      let rootEnd = 0;
      let device;
      let isAbsolute = false;
      const code = path.charCodeAt(0);
      if (len === 1) {
        return isPosixPathSeparator(code) ? "\\" : path;
      }
      if (isPathSeparator(code)) {
        isAbsolute = true;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            const firstPart = path.slice(last, j);
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                return `\\\\${firstPart}\\${path.slice(last)}\\`;
              }
              if (j !== last) {
                device = `\\\\${firstPart}\\${path.slice(last, j)}`;
                rootEnd = j;
              }
            }
          }
        } else {
          rootEnd = 1;
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        device = path.slice(0, 2);
        rootEnd = 2;
        if (len > 2 && isPathSeparator(path.charCodeAt(2))) {
          isAbsolute = true;
          rootEnd = 3;
        }
      }
      let tail = rootEnd < len ? normalizeString(path.slice(rootEnd), !isAbsolute, "\\", isPathSeparator) : "";
      if (tail.length === 0 && !isAbsolute) {
        tail = ".";
      }
      if (tail.length > 0 && isPathSeparator(path.charCodeAt(len - 1))) {
        tail += "\\";
      }
      if (device === void 0) {
        return isAbsolute ? `\\${tail}` : tail;
      }
      return isAbsolute ? `${device}\\${tail}` : `${device}${tail}`;
    },
    isAbsolute(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return false;
      }
      const code = path.charCodeAt(0);
      return isPathSeparator(code) || // Possible device root
      len > 2 && isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON && isPathSeparator(path.charCodeAt(2));
    },
    join(...paths) {
      if (paths.length === 0) {
        return ".";
      }
      let joined;
      let firstPart;
      for (let i = 0; i < paths.length; ++i) {
        const arg = paths[i];
        validateString(arg, "path");
        if (arg.length > 0) {
          if (joined === void 0) {
            joined = firstPart = arg;
          } else {
            joined += `\\${arg}`;
          }
        }
      }
      if (joined === void 0) {
        return ".";
      }
      let needsReplace = true;
      let slashCount = 0;
      if (typeof firstPart === "string" && isPathSeparator(firstPart.charCodeAt(0))) {
        ++slashCount;
        const firstLen = firstPart.length;
        if (firstLen > 1 && isPathSeparator(firstPart.charCodeAt(1))) {
          ++slashCount;
          if (firstLen > 2) {
            if (isPathSeparator(firstPart.charCodeAt(2))) {
              ++slashCount;
            } else {
              needsReplace = false;
            }
          }
        }
      }
      if (needsReplace) {
        while (slashCount < joined.length && isPathSeparator(joined.charCodeAt(slashCount))) {
          slashCount++;
        }
        if (slashCount >= 2) {
          joined = `\\${joined.slice(slashCount)}`;
        }
      }
      return win32.normalize(joined);
    },
    // It will solve the relative path from `from` to `to`, for instance:
    //  from = 'C:\\orandea\\test\\aaa'
    //  to = 'C:\\orandea\\impl\\bbb'
    // The output of the function should be: '..\\..\\impl\\bbb'
    relative(from, to) {
      validateString(from, "from");
      validateString(to, "to");
      if (from === to) {
        return "";
      }
      const fromOrig = win32.resolve(from);
      const toOrig = win32.resolve(to);
      if (fromOrig === toOrig) {
        return "";
      }
      from = fromOrig.toLowerCase();
      to = toOrig.toLowerCase();
      if (from === to) {
        return "";
      }
      let fromStart = 0;
      while (fromStart < from.length && from.charCodeAt(fromStart) === CHAR_BACKWARD_SLASH) {
        fromStart++;
      }
      let fromEnd = from.length;
      while (fromEnd - 1 > fromStart && from.charCodeAt(fromEnd - 1) === CHAR_BACKWARD_SLASH) {
        fromEnd--;
      }
      const fromLen = fromEnd - fromStart;
      let toStart = 0;
      while (toStart < to.length && to.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {
        toStart++;
      }
      let toEnd = to.length;
      while (toEnd - 1 > toStart && to.charCodeAt(toEnd - 1) === CHAR_BACKWARD_SLASH) {
        toEnd--;
      }
      const toLen = toEnd - toStart;
      const length = fromLen < toLen ? fromLen : toLen;
      let lastCommonSep = -1;
      let i = 0;
      for (; i < length; i++) {
        const fromCode = from.charCodeAt(fromStart + i);
        if (fromCode !== to.charCodeAt(toStart + i)) {
          break;
        } else if (fromCode === CHAR_BACKWARD_SLASH) {
          lastCommonSep = i;
        }
      }
      if (i !== length) {
        if (lastCommonSep === -1) {
          return toOrig;
        }
      } else {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === CHAR_BACKWARD_SLASH) {
            return toOrig.slice(toStart + i + 1);
          }
          if (i === 2) {
            return toOrig.slice(toStart + i);
          }
        }
        if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === CHAR_BACKWARD_SLASH) {
            lastCommonSep = i;
          } else if (i === 2) {
            lastCommonSep = 3;
          }
        }
        if (lastCommonSep === -1) {
          lastCommonSep = 0;
        }
      }
      let out = "";
      for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
        if (i === fromEnd || from.charCodeAt(i) === CHAR_BACKWARD_SLASH) {
          out += out.length === 0 ? ".." : "\\..";
        }
      }
      toStart += lastCommonSep;
      if (out.length > 0) {
        return `${out}${toOrig.slice(toStart, toEnd)}`;
      }
      if (toOrig.charCodeAt(toStart) === CHAR_BACKWARD_SLASH) {
        ++toStart;
      }
      return toOrig.slice(toStart, toEnd);
    },
    toNamespacedPath(path) {
      if (typeof path !== "string" || path.length === 0) {
        return path;
      }
      const resolvedPath = win32.resolve(path);
      if (resolvedPath.length <= 2) {
        return path;
      }
      if (resolvedPath.charCodeAt(0) === CHAR_BACKWARD_SLASH) {
        if (resolvedPath.charCodeAt(1) === CHAR_BACKWARD_SLASH) {
          const code = resolvedPath.charCodeAt(2);
          if (code !== CHAR_QUESTION_MARK && code !== CHAR_DOT) {
            return `\\\\?\\UNC\\${resolvedPath.slice(2)}`;
          }
        }
      } else if (isWindowsDeviceRoot(resolvedPath.charCodeAt(0)) && resolvedPath.charCodeAt(1) === CHAR_COLON && resolvedPath.charCodeAt(2) === CHAR_BACKWARD_SLASH) {
        return `\\\\?\\${resolvedPath}`;
      }
      return path;
    },
    dirname(path) {
      validateString(path, "path");
      const len = path.length;
      if (len === 0) {
        return ".";
      }
      let rootEnd = -1;
      let offset = 0;
      const code = path.charCodeAt(0);
      if (len === 1) {
        return isPathSeparator(code) ? path : ".";
      }
      if (isPathSeparator(code)) {
        rootEnd = offset = 1;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                return path;
              }
              if (j !== last) {
                rootEnd = offset = j + 1;
              }
            }
          }
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        rootEnd = len > 2 && isPathSeparator(path.charCodeAt(2)) ? 3 : 2;
        offset = rootEnd;
      }
      let end = -1;
      let matchedSlash = true;
      for (let i = len - 1; i >= offset; --i) {
        if (isPathSeparator(path.charCodeAt(i))) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
          matchedSlash = false;
        }
      }
      if (end === -1) {
        if (rootEnd === -1) {
          return ".";
        }
        end = rootEnd;
      }
      return path.slice(0, end);
    },
    basename(path, ext) {
      if (ext !== void 0) {
        validateString(ext, "ext");
      }
      validateString(path, "path");
      let start = 0;
      let end = -1;
      let matchedSlash = true;
      let i;
      if (path.length >= 2 && isWindowsDeviceRoot(path.charCodeAt(0)) && path.charCodeAt(1) === CHAR_COLON) {
        start = 2;
      }
      if (ext !== void 0 && ext.length > 0 && ext.length <= path.length) {
        if (ext === path) {
          return "";
        }
        let extIdx = ext.length - 1;
        let firstNonSlashEnd = -1;
        for (i = path.length - 1; i >= start; --i) {
          const code = path.charCodeAt(i);
          if (isPathSeparator(code)) {
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
            if (firstNonSlashEnd === -1) {
              matchedSlash = false;
              firstNonSlashEnd = i + 1;
            }
            if (extIdx >= 0) {
              if (code === ext.charCodeAt(extIdx)) {
                if (--extIdx === -1) {
                  end = i;
                }
              } else {
                extIdx = -1;
                end = firstNonSlashEnd;
              }
            }
          }
        }
        if (start === end) {
          end = firstNonSlashEnd;
        } else if (end === -1) {
          end = path.length;
        }
        return path.slice(start, end);
      }
      for (i = path.length - 1; i >= start; --i) {
        if (isPathSeparator(path.charCodeAt(i))) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
      }
      if (end === -1) {
        return "";
      }
      return path.slice(start, end);
    },
    extname(path) {
      validateString(path, "path");
      let start = 0;
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let preDotState = 0;
      if (path.length >= 2 && path.charCodeAt(1) === CHAR_COLON && isWindowsDeviceRoot(path.charCodeAt(0))) {
        start = startPart = 2;
      }
      for (let i = path.length - 1; i >= start; --i) {
        const code = path.charCodeAt(i);
        if (isPathSeparator(code)) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
        return "";
      }
      return path.slice(startDot, end);
    },
    format: _format.bind(null, "\\"),
    parse(path) {
      validateString(path, "path");
      const ret = { root: "", dir: "", base: "", ext: "", name: "" };
      if (path.length === 0) {
        return ret;
      }
      const len = path.length;
      let rootEnd = 0;
      let code = path.charCodeAt(0);
      if (len === 1) {
        if (isPathSeparator(code)) {
          ret.root = ret.dir = path;
          return ret;
        }
        ret.base = ret.name = path;
        return ret;
      }
      if (isPathSeparator(code)) {
        rootEnd = 1;
        if (isPathSeparator(path.charCodeAt(1))) {
          let j = 2;
          let last = j;
          while (j < len && !isPathSeparator(path.charCodeAt(j))) {
            j++;
          }
          if (j < len && j !== last) {
            last = j;
            while (j < len && isPathSeparator(path.charCodeAt(j))) {
              j++;
            }
            if (j < len && j !== last) {
              last = j;
              while (j < len && !isPathSeparator(path.charCodeAt(j))) {
                j++;
              }
              if (j === len) {
                rootEnd = j;
              } else if (j !== last) {
                rootEnd = j + 1;
              }
            }
          }
        }
      } else if (isWindowsDeviceRoot(code) && path.charCodeAt(1) === CHAR_COLON) {
        if (len <= 2) {
          ret.root = ret.dir = path;
          return ret;
        }
        rootEnd = 2;
        if (isPathSeparator(path.charCodeAt(2))) {
          if (len === 3) {
            ret.root = ret.dir = path;
            return ret;
          }
          rootEnd = 3;
        }
      }
      if (rootEnd > 0) {
        ret.root = path.slice(0, rootEnd);
      }
      let startDot = -1;
      let startPart = rootEnd;
      let end = -1;
      let matchedSlash = true;
      let i = path.length - 1;
      let preDotState = 0;
      for (; i >= rootEnd; --i) {
        code = path.charCodeAt(i);
        if (isPathSeparator(code)) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (end !== -1) {
        if (startDot === -1 || // We saw a non-dot character immediately before the dot
        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          ret.base = ret.name = path.slice(startPart, end);
        } else {
          ret.name = path.slice(startPart, startDot);
          ret.base = path.slice(startPart, end);
          ret.ext = path.slice(startDot, end);
        }
      }
      if (startPart > 0 && startPart !== rootEnd) {
        ret.dir = path.slice(0, startPart - 1);
      } else {
        ret.dir = ret.root;
      }
      return ret;
    },
    sep: "\\",
    delimiter: ";",
    win32: null,
    posix: null
  };
  const posixCwd = (() => {
    if (platformIsWin32) {
      const regexp = /\\/g;
      return () => {
        const cwd$1 = cwd().replace(regexp, "/");
        return cwd$1.slice(cwd$1.indexOf("/"));
      };
    }
    return () => cwd();
  })();
  const posix = {
    // path.resolve([from ...], to)
    resolve(...pathSegments) {
      let resolvedPath = "";
      let resolvedAbsolute = false;
      for (let i = pathSegments.length - 1; i >= -1 && !resolvedAbsolute; i--) {
        const path = i >= 0 ? pathSegments[i] : posixCwd();
        validateString(path, "path");
        if (path.length === 0) {
          continue;
        }
        resolvedPath = `${path}/${resolvedPath}`;
        resolvedAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      }
      resolvedPath = normalizeString(resolvedPath, !resolvedAbsolute, "/", isPosixPathSeparator);
      if (resolvedAbsolute) {
        return `/${resolvedPath}`;
      }
      return resolvedPath.length > 0 ? resolvedPath : ".";
    },
    normalize(path) {
      validateString(path, "path");
      if (path.length === 0) {
        return ".";
      }
      const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      const trailingSeparator = path.charCodeAt(path.length - 1) === CHAR_FORWARD_SLASH;
      path = normalizeString(path, !isAbsolute, "/", isPosixPathSeparator);
      if (path.length === 0) {
        if (isAbsolute) {
          return "/";
        }
        return trailingSeparator ? "./" : ".";
      }
      if (trailingSeparator) {
        path += "/";
      }
      return isAbsolute ? `/${path}` : path;
    },
    isAbsolute(path) {
      validateString(path, "path");
      return path.length > 0 && path.charCodeAt(0) === CHAR_FORWARD_SLASH;
    },
    join(...paths) {
      if (paths.length === 0) {
        return ".";
      }
      let joined;
      for (let i = 0; i < paths.length; ++i) {
        const arg = paths[i];
        validateString(arg, "path");
        if (arg.length > 0) {
          if (joined === void 0) {
            joined = arg;
          } else {
            joined += `/${arg}`;
          }
        }
      }
      if (joined === void 0) {
        return ".";
      }
      return posix.normalize(joined);
    },
    relative(from, to) {
      validateString(from, "from");
      validateString(to, "to");
      if (from === to) {
        return "";
      }
      from = posix.resolve(from);
      to = posix.resolve(to);
      if (from === to) {
        return "";
      }
      const fromStart = 1;
      const fromEnd = from.length;
      const fromLen = fromEnd - fromStart;
      const toStart = 1;
      const toLen = to.length - toStart;
      const length = fromLen < toLen ? fromLen : toLen;
      let lastCommonSep = -1;
      let i = 0;
      for (; i < length; i++) {
        const fromCode = from.charCodeAt(fromStart + i);
        if (fromCode !== to.charCodeAt(toStart + i)) {
          break;
        } else if (fromCode === CHAR_FORWARD_SLASH) {
          lastCommonSep = i;
        }
      }
      if (i === length) {
        if (toLen > length) {
          if (to.charCodeAt(toStart + i) === CHAR_FORWARD_SLASH) {
            return to.slice(toStart + i + 1);
          }
          if (i === 0) {
            return to.slice(toStart + i);
          }
        } else if (fromLen > length) {
          if (from.charCodeAt(fromStart + i) === CHAR_FORWARD_SLASH) {
            lastCommonSep = i;
          } else if (i === 0) {
            lastCommonSep = 0;
          }
        }
      }
      let out = "";
      for (i = fromStart + lastCommonSep + 1; i <= fromEnd; ++i) {
        if (i === fromEnd || from.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          out += out.length === 0 ? ".." : "/..";
        }
      }
      return `${out}${to.slice(toStart + lastCommonSep)}`;
    },
    toNamespacedPath(path) {
      return path;
    },
    dirname(path) {
      validateString(path, "path");
      if (path.length === 0) {
        return ".";
      }
      const hasRoot = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      let end = -1;
      let matchedSlash = true;
      for (let i = path.length - 1; i >= 1; --i) {
        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            end = i;
            break;
          }
        } else {
          matchedSlash = false;
        }
      }
      if (end === -1) {
        return hasRoot ? "/" : ".";
      }
      if (hasRoot && end === 1) {
        return "//";
      }
      return path.slice(0, end);
    },
    basename(path, ext) {
      if (ext !== void 0) {
        validateString(ext, "ext");
      }
      validateString(path, "path");
      let start = 0;
      let end = -1;
      let matchedSlash = true;
      let i;
      if (ext !== void 0 && ext.length > 0 && ext.length <= path.length) {
        if (ext === path) {
          return "";
        }
        let extIdx = ext.length - 1;
        let firstNonSlashEnd = -1;
        for (i = path.length - 1; i >= 0; --i) {
          const code = path.charCodeAt(i);
          if (code === CHAR_FORWARD_SLASH) {
            if (!matchedSlash) {
              start = i + 1;
              break;
            }
          } else {
            if (firstNonSlashEnd === -1) {
              matchedSlash = false;
              firstNonSlashEnd = i + 1;
            }
            if (extIdx >= 0) {
              if (code === ext.charCodeAt(extIdx)) {
                if (--extIdx === -1) {
                  end = i;
                }
              } else {
                extIdx = -1;
                end = firstNonSlashEnd;
              }
            }
          }
        }
        if (start === end) {
          end = firstNonSlashEnd;
        } else if (end === -1) {
          end = path.length;
        }
        return path.slice(start, end);
      }
      for (i = path.length - 1; i >= 0; --i) {
        if (path.charCodeAt(i) === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            start = i + 1;
            break;
          }
        } else if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
      }
      if (end === -1) {
        return "";
      }
      return path.slice(start, end);
    },
    extname(path) {
      validateString(path, "path");
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let preDotState = 0;
      for (let i = path.length - 1; i >= 0; --i) {
        const code = path.charCodeAt(i);
        if (code === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (startDot === -1 || end === -1 || // We saw a non-dot character immediately before the dot
      preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
        return "";
      }
      return path.slice(startDot, end);
    },
    format: _format.bind(null, "/"),
    parse(path) {
      validateString(path, "path");
      const ret = { root: "", dir: "", base: "", ext: "", name: "" };
      if (path.length === 0) {
        return ret;
      }
      const isAbsolute = path.charCodeAt(0) === CHAR_FORWARD_SLASH;
      let start;
      if (isAbsolute) {
        ret.root = "/";
        start = 1;
      } else {
        start = 0;
      }
      let startDot = -1;
      let startPart = 0;
      let end = -1;
      let matchedSlash = true;
      let i = path.length - 1;
      let preDotState = 0;
      for (; i >= start; --i) {
        const code = path.charCodeAt(i);
        if (code === CHAR_FORWARD_SLASH) {
          if (!matchedSlash) {
            startPart = i + 1;
            break;
          }
          continue;
        }
        if (end === -1) {
          matchedSlash = false;
          end = i + 1;
        }
        if (code === CHAR_DOT) {
          if (startDot === -1) {
            startDot = i;
          } else if (preDotState !== 1) {
            preDotState = 1;
          }
        } else if (startDot !== -1) {
          preDotState = -1;
        }
      }
      if (end !== -1) {
        const start2 = startPart === 0 && isAbsolute ? 1 : startPart;
        if (startDot === -1 || // We saw a non-dot character immediately before the dot
        preDotState === 0 || // The (right-most) trimmed path component is exactly '..'
        preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {
          ret.base = ret.name = path.slice(start2, end);
        } else {
          ret.name = path.slice(start2, startDot);
          ret.base = path.slice(start2, end);
          ret.ext = path.slice(startDot, end);
        }
      }
      if (startPart > 0) {
        ret.dir = path.slice(0, startPart - 1);
      } else if (isAbsolute) {
        ret.dir = "/";
      }
      return ret;
    },
    sep: "/",
    delimiter: ":",
    win32: null,
    posix: null
  };
  posix.win32 = win32.win32 = win32;
  posix.posix = win32.posix = posix;
  platformIsWin32 ? win32.normalize : posix.normalize;
  platformIsWin32 ? win32.resolve : posix.resolve;
  platformIsWin32 ? win32.relative : posix.relative;
  platformIsWin32 ? win32.dirname : posix.dirname;
  platformIsWin32 ? win32.basename : posix.basename;
  platformIsWin32 ? win32.extname : posix.extname;
  platformIsWin32 ? win32.sep : posix.sep;
  const _schemePattern = /^\w[\w\d+.-]*$/;
  const _singleSlashStart = /^\//;
  const _doubleSlashStart = /^\/\//;
  function _validateUri(ret, _strict) {
    if (!ret.scheme && _strict) {
      throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${ret.authority}", path: "${ret.path}", query: "${ret.query}", fragment: "${ret.fragment}"}`);
    }
    if (ret.scheme && !_schemePattern.test(ret.scheme)) {
      throw new Error("[UriError]: Scheme contains illegal characters.");
    }
    if (ret.path) {
      if (ret.authority) {
        if (!_singleSlashStart.test(ret.path)) {
          throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
        }
      } else {
        if (_doubleSlashStart.test(ret.path)) {
          throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
        }
      }
    }
  }
  function _schemeFix(scheme, _strict) {
    if (!scheme && !_strict) {
      return "file";
    }
    return scheme;
  }
  function _referenceResolution(scheme, path) {
    switch (scheme) {
      case "https":
      case "http":
      case "file":
        if (!path) {
          path = _slash;
        } else if (path[0] !== _slash) {
          path = _slash + path;
        }
        break;
    }
    return path;
  }
  const _empty = "";
  const _slash = "/";
  const _regexp = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;
  let URI$1 = class URI2 {
    static isUri(thing) {
      if (thing instanceof URI2) {
        return true;
      }
      if (!thing) {
        return false;
      }
      return typeof thing.authority === "string" && typeof thing.fragment === "string" && typeof thing.path === "string" && typeof thing.query === "string" && typeof thing.scheme === "string" && typeof thing.fsPath === "string" && typeof thing.with === "function" && typeof thing.toString === "function";
    }
    /**
     * @internal
     */
    constructor(schemeOrData, authority, path, query, fragment, _strict = false) {
      if (typeof schemeOrData === "object") {
        this.scheme = schemeOrData.scheme || _empty;
        this.authority = schemeOrData.authority || _empty;
        this.path = schemeOrData.path || _empty;
        this.query = schemeOrData.query || _empty;
        this.fragment = schemeOrData.fragment || _empty;
      } else {
        this.scheme = _schemeFix(schemeOrData, _strict);
        this.authority = authority || _empty;
        this.path = _referenceResolution(this.scheme, path || _empty);
        this.query = query || _empty;
        this.fragment = fragment || _empty;
        _validateUri(this, _strict);
      }
    }
    // ---- filesystem path -----------------------
    /**
     * Returns a string representing the corresponding file system path of this URI.
     * Will handle UNC paths, normalizes windows drive letters to lower-case, and uses the
     * platform specific path separator.
     *
     * * Will *not* validate the path for invalid characters and semantics.
     * * Will *not* look at the scheme of this URI.
     * * The result shall *not* be used for display purposes but for accessing a file on disk.
     *
     *
     * The *difference* to `URI#path` is the use of the platform specific separator and the handling
     * of UNC paths. See the below sample of a file-uri with an authority (UNC path).
     *
     * ```ts
        const u = URI.parse('file://server/c$/folder/file.txt')
        u.authority === 'server'
        u.path === '/shares/c$/file.txt'
        u.fsPath === '\\server\c$\folder\file.txt'
    ```
     *
     * Using `URI#path` to read a file (using fs-apis) would not be enough because parts of the path,
     * namely the server name, would be missing. Therefore `URI#fsPath` exists - it's sugar to ease working
     * with URIs that represent files on disk (`file` scheme).
     */
    get fsPath() {
      return uriToFsPath(this, false);
    }
    // ---- modify to new -------------------------
    with(change) {
      if (!change) {
        return this;
      }
      let { scheme, authority, path, query, fragment } = change;
      if (scheme === void 0) {
        scheme = this.scheme;
      } else if (scheme === null) {
        scheme = _empty;
      }
      if (authority === void 0) {
        authority = this.authority;
      } else if (authority === null) {
        authority = _empty;
      }
      if (path === void 0) {
        path = this.path;
      } else if (path === null) {
        path = _empty;
      }
      if (query === void 0) {
        query = this.query;
      } else if (query === null) {
        query = _empty;
      }
      if (fragment === void 0) {
        fragment = this.fragment;
      } else if (fragment === null) {
        fragment = _empty;
      }
      if (scheme === this.scheme && authority === this.authority && path === this.path && query === this.query && fragment === this.fragment) {
        return this;
      }
      return new Uri(scheme, authority, path, query, fragment);
    }
    // ---- parse & validate ------------------------
    /**
     * Creates a new URI from a string, e.g. `http://www.example.com/some/path`,
     * `file:///usr/home`, or `scheme:with/path`.
     *
     * @param value A string which represents an URI (see `URI#toString`).
     */
    static parse(value, _strict = false) {
      const match = _regexp.exec(value);
      if (!match) {
        return new Uri(_empty, _empty, _empty, _empty, _empty);
      }
      return new Uri(match[2] || _empty, percentDecode(match[4] || _empty), percentDecode(match[5] || _empty), percentDecode(match[7] || _empty), percentDecode(match[9] || _empty), _strict);
    }
    /**
     * Creates a new URI from a file system path, e.g. `c:\my\files`,
     * `/usr/home`, or `\\server\share\some\path`.
     *
     * The *difference* between `URI#parse` and `URI#file` is that the latter treats the argument
     * as path, not as stringified-uri. E.g. `URI.file(path)` is **not the same as**
     * `URI.parse('file://' + path)` because the path might contain characters that are
     * interpreted (# and ?). See the following sample:
     * ```ts
    const good = URI.file('/coding/c#/project1');
    good.scheme === 'file';
    good.path === '/coding/c#/project1';
    good.fragment === '';
    const bad = URI.parse('file://' + '/coding/c#/project1');
    bad.scheme === 'file';
    bad.path === '/coding/c'; // path is now broken
    bad.fragment === '/project1';
    ```
     *
     * @param path A file system path (see `URI#fsPath`)
     */
    static file(path) {
      let authority = _empty;
      if (isWindows) {
        path = path.replace(/\\/g, _slash);
      }
      if (path[0] === _slash && path[1] === _slash) {
        const idx = path.indexOf(_slash, 2);
        if (idx === -1) {
          authority = path.substring(2);
          path = _slash;
        } else {
          authority = path.substring(2, idx);
          path = path.substring(idx) || _slash;
        }
      }
      return new Uri("file", authority, path, _empty, _empty);
    }
    /**
     * Creates new URI from uri components.
     *
     * Unless `strict` is `true` the scheme is defaults to be `file`. This function performs
     * validation and should be used for untrusted uri components retrieved from storage,
     * user input, command arguments etc
     */
    static from(components, strict) {
      const result = new Uri(components.scheme, components.authority, components.path, components.query, components.fragment, strict);
      return result;
    }
    /**
     * Join a URI path with path fragments and normalizes the resulting path.
     *
     * @param uri The input URI.
     * @param pathFragment The path fragment to add to the URI path.
     * @returns The resulting URI.
     */
    static joinPath(uri, ...pathFragment) {
      if (!uri.path) {
        throw new Error(`[UriError]: cannot call joinPath on URI without path`);
      }
      let newPath;
      if (isWindows && uri.scheme === "file") {
        newPath = URI2.file(win32.join(uriToFsPath(uri, true), ...pathFragment)).path;
      } else {
        newPath = posix.join(uri.path, ...pathFragment);
      }
      return uri.with({ path: newPath });
    }
    // ---- printing/externalize ---------------------------
    /**
     * Creates a string representation for this URI. It's guaranteed that calling
     * `URI.parse` with the result of this function creates an URI which is equal
     * to this URI.
     *
     * * The result shall *not* be used for display purposes but for externalization or transport.
     * * The result will be encoded using the percentage encoding and encoding happens mostly
     * ignore the scheme-specific encoding rules.
     *
     * @param skipEncoding Do not encode the result, default is `false`
     */
    toString(skipEncoding = false) {
      return _asFormatted(this, skipEncoding);
    }
    toJSON() {
      return this;
    }
    static revive(data) {
      var _a2, _b;
      if (!data) {
        return data;
      } else if (data instanceof URI2) {
        return data;
      } else {
        const result = new Uri(data);
        result._formatted = (_a2 = data.external) !== null && _a2 !== void 0 ? _a2 : null;
        result._fsPath = data._sep === _pathSepMarker ? (_b = data.fsPath) !== null && _b !== void 0 ? _b : null : null;
        return result;
      }
    }
  };
  const _pathSepMarker = isWindows ? 1 : void 0;
  class Uri extends URI$1 {
    constructor() {
      super(...arguments);
      this._formatted = null;
      this._fsPath = null;
    }
    get fsPath() {
      if (!this._fsPath) {
        this._fsPath = uriToFsPath(this, false);
      }
      return this._fsPath;
    }
    toString(skipEncoding = false) {
      if (!skipEncoding) {
        if (!this._formatted) {
          this._formatted = _asFormatted(this, false);
        }
        return this._formatted;
      } else {
        return _asFormatted(this, true);
      }
    }
    toJSON() {
      const res = {
        $mid: 1
        /* MarshalledId.Uri */
      };
      if (this._fsPath) {
        res.fsPath = this._fsPath;
        res._sep = _pathSepMarker;
      }
      if (this._formatted) {
        res.external = this._formatted;
      }
      if (this.path) {
        res.path = this.path;
      }
      if (this.scheme) {
        res.scheme = this.scheme;
      }
      if (this.authority) {
        res.authority = this.authority;
      }
      if (this.query) {
        res.query = this.query;
      }
      if (this.fragment) {
        res.fragment = this.fragment;
      }
      return res;
    }
  }
  const encodeTable = {
    [
      58
      /* CharCode.Colon */
    ]: "%3A",
    // gen-delims
    [
      47
      /* CharCode.Slash */
    ]: "%2F",
    [
      63
      /* CharCode.QuestionMark */
    ]: "%3F",
    [
      35
      /* CharCode.Hash */
    ]: "%23",
    [
      91
      /* CharCode.OpenSquareBracket */
    ]: "%5B",
    [
      93
      /* CharCode.CloseSquareBracket */
    ]: "%5D",
    [
      64
      /* CharCode.AtSign */
    ]: "%40",
    [
      33
      /* CharCode.ExclamationMark */
    ]: "%21",
    // sub-delims
    [
      36
      /* CharCode.DollarSign */
    ]: "%24",
    [
      38
      /* CharCode.Ampersand */
    ]: "%26",
    [
      39
      /* CharCode.SingleQuote */
    ]: "%27",
    [
      40
      /* CharCode.OpenParen */
    ]: "%28",
    [
      41
      /* CharCode.CloseParen */
    ]: "%29",
    [
      42
      /* CharCode.Asterisk */
    ]: "%2A",
    [
      43
      /* CharCode.Plus */
    ]: "%2B",
    [
      44
      /* CharCode.Comma */
    ]: "%2C",
    [
      59
      /* CharCode.Semicolon */
    ]: "%3B",
    [
      61
      /* CharCode.Equals */
    ]: "%3D",
    [
      32
      /* CharCode.Space */
    ]: "%20"
  };
  function encodeURIComponentFast(uriComponent, isPath, isAuthority) {
    let res = void 0;
    let nativeEncodePos = -1;
    for (let pos = 0; pos < uriComponent.length; pos++) {
      const code = uriComponent.charCodeAt(pos);
      if (code >= 97 && code <= 122 || code >= 65 && code <= 90 || code >= 48 && code <= 57 || code === 45 || code === 46 || code === 95 || code === 126 || isPath && code === 47 || isAuthority && code === 91 || isAuthority && code === 93 || isAuthority && code === 58) {
        if (nativeEncodePos !== -1) {
          res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));
          nativeEncodePos = -1;
        }
        if (res !== void 0) {
          res += uriComponent.charAt(pos);
        }
      } else {
        if (res === void 0) {
          res = uriComponent.substr(0, pos);
        }
        const escaped = encodeTable[code];
        if (escaped !== void 0) {
          if (nativeEncodePos !== -1) {
            res += encodeURIComponent(uriComponent.substring(nativeEncodePos, pos));
            nativeEncodePos = -1;
          }
          res += escaped;
        } else if (nativeEncodePos === -1) {
          nativeEncodePos = pos;
        }
      }
    }
    if (nativeEncodePos !== -1) {
      res += encodeURIComponent(uriComponent.substring(nativeEncodePos));
    }
    return res !== void 0 ? res : uriComponent;
  }
  function encodeURIComponentMinimal(path) {
    let res = void 0;
    for (let pos = 0; pos < path.length; pos++) {
      const code = path.charCodeAt(pos);
      if (code === 35 || code === 63) {
        if (res === void 0) {
          res = path.substr(0, pos);
        }
        res += encodeTable[code];
      } else {
        if (res !== void 0) {
          res += path[pos];
        }
      }
    }
    return res !== void 0 ? res : path;
  }
  function uriToFsPath(uri, keepDriveLetterCasing) {
    let value;
    if (uri.authority && uri.path.length > 1 && uri.scheme === "file") {
      value = `//${uri.authority}${uri.path}`;
    } else if (uri.path.charCodeAt(0) === 47 && (uri.path.charCodeAt(1) >= 65 && uri.path.charCodeAt(1) <= 90 || uri.path.charCodeAt(1) >= 97 && uri.path.charCodeAt(1) <= 122) && uri.path.charCodeAt(2) === 58) {
      if (!keepDriveLetterCasing) {
        value = uri.path[1].toLowerCase() + uri.path.substr(2);
      } else {
        value = uri.path.substr(1);
      }
    } else {
      value = uri.path;
    }
    if (isWindows) {
      value = value.replace(/\//g, "\\");
    }
    return value;
  }
  function _asFormatted(uri, skipEncoding) {
    const encoder = !skipEncoding ? encodeURIComponentFast : encodeURIComponentMinimal;
    let res = "";
    let { scheme, authority, path, query, fragment } = uri;
    if (scheme) {
      res += scheme;
      res += ":";
    }
    if (authority || scheme === "file") {
      res += _slash;
      res += _slash;
    }
    if (authority) {
      let idx = authority.indexOf("@");
      if (idx !== -1) {
        const userinfo = authority.substr(0, idx);
        authority = authority.substr(idx + 1);
        idx = userinfo.lastIndexOf(":");
        if (idx === -1) {
          res += encoder(userinfo, false, false);
        } else {
          res += encoder(userinfo.substr(0, idx), false, false);
          res += ":";
          res += encoder(userinfo.substr(idx + 1), false, true);
        }
        res += "@";
      }
      authority = authority.toLowerCase();
      idx = authority.lastIndexOf(":");
      if (idx === -1) {
        res += encoder(authority, false, true);
      } else {
        res += encoder(authority.substr(0, idx), false, true);
        res += authority.substr(idx);
      }
    }
    if (path) {
      if (path.length >= 3 && path.charCodeAt(0) === 47 && path.charCodeAt(2) === 58) {
        const code = path.charCodeAt(1);
        if (code >= 65 && code <= 90) {
          path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`;
        }
      } else if (path.length >= 2 && path.charCodeAt(1) === 58) {
        const code = path.charCodeAt(0);
        if (code >= 65 && code <= 90) {
          path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`;
        }
      }
      res += encoder(path, true, false);
    }
    if (query) {
      res += "?";
      res += encoder(query, false, false);
    }
    if (fragment) {
      res += "#";
      res += !skipEncoding ? encodeURIComponentFast(fragment, false, false) : fragment;
    }
    return res;
  }
  function decodeURIComponentGraceful(str) {
    try {
      return decodeURIComponent(str);
    } catch (_a2) {
      if (str.length > 3) {
        return str.substr(0, 3) + decodeURIComponentGraceful(str.substr(3));
      } else {
        return str;
      }
    }
  }
  const _rEncodedAsHex = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
  function percentDecode(str) {
    if (!str.match(_rEncodedAsHex)) {
      return str;
    }
    return str.replace(_rEncodedAsHex, (match) => decodeURIComponentGraceful(match));
  }
  let Position$1 = class Position2 {
    constructor(lineNumber, column) {
      this.lineNumber = lineNumber;
      this.column = column;
    }
    /**
     * Create a new position from this position.
     *
     * @param newLineNumber new line number
     * @param newColumn new column
     */
    with(newLineNumber = this.lineNumber, newColumn = this.column) {
      if (newLineNumber === this.lineNumber && newColumn === this.column) {
        return this;
      } else {
        return new Position2(newLineNumber, newColumn);
      }
    }
    /**
     * Derive a new position from this position.
     *
     * @param deltaLineNumber line number delta
     * @param deltaColumn column delta
     */
    delta(deltaLineNumber = 0, deltaColumn = 0) {
      return this.with(this.lineNumber + deltaLineNumber, this.column + deltaColumn);
    }
    /**
     * Test if this position equals other position
     */
    equals(other) {
      return Position2.equals(this, other);
    }
    /**
     * Test if position `a` equals position `b`
     */
    static equals(a2, b) {
      if (!a2 && !b) {
        return true;
      }
      return !!a2 && !!b && a2.lineNumber === b.lineNumber && a2.column === b.column;
    }
    /**
     * Test if this position is before other position.
     * If the two positions are equal, the result will be false.
     */
    isBefore(other) {
      return Position2.isBefore(this, other);
    }
    /**
     * Test if position `a` is before position `b`.
     * If the two positions are equal, the result will be false.
     */
    static isBefore(a2, b) {
      if (a2.lineNumber < b.lineNumber) {
        return true;
      }
      if (b.lineNumber < a2.lineNumber) {
        return false;
      }
      return a2.column < b.column;
    }
    /**
     * Test if this position is before other position.
     * If the two positions are equal, the result will be true.
     */
    isBeforeOrEqual(other) {
      return Position2.isBeforeOrEqual(this, other);
    }
    /**
     * Test if position `a` is before position `b`.
     * If the two positions are equal, the result will be true.
     */
    static isBeforeOrEqual(a2, b) {
      if (a2.lineNumber < b.lineNumber) {
        return true;
      }
      if (b.lineNumber < a2.lineNumber) {
        return false;
      }
      return a2.column <= b.column;
    }
    /**
     * A function that compares positions, useful for sorting
     */
    static compare(a2, b) {
      const aLineNumber = a2.lineNumber | 0;
      const bLineNumber = b.lineNumber | 0;
      if (aLineNumber === bLineNumber) {
        const aColumn = a2.column | 0;
        const bColumn = b.column | 0;
        return aColumn - bColumn;
      }
      return aLineNumber - bLineNumber;
    }
    /**
     * Clone this position.
     */
    clone() {
      return new Position2(this.lineNumber, this.column);
    }
    /**
     * Convert to a human-readable representation.
     */
    toString() {
      return "(" + this.lineNumber + "," + this.column + ")";
    }
    // ---
    /**
     * Create a `Position` from an `IPosition`.
     */
    static lift(pos) {
      return new Position2(pos.lineNumber, pos.column);
    }
    /**
     * Test if `obj` is an `IPosition`.
     */
    static isIPosition(obj) {
      return obj && typeof obj.lineNumber === "number" && typeof obj.column === "number";
    }
    toJSON() {
      return {
        lineNumber: this.lineNumber,
        column: this.column
      };
    }
  };
  let Range$1 = class Range2 {
    constructor(startLineNumber, startColumn, endLineNumber, endColumn) {
      if (startLineNumber > endLineNumber || startLineNumber === endLineNumber && startColumn > endColumn) {
        this.startLineNumber = endLineNumber;
        this.startColumn = endColumn;
        this.endLineNumber = startLineNumber;
        this.endColumn = startColumn;
      } else {
        this.startLineNumber = startLineNumber;
        this.startColumn = startColumn;
        this.endLineNumber = endLineNumber;
        this.endColumn = endColumn;
      }
    }
    /**
     * Test if this range is empty.
     */
    isEmpty() {
      return Range2.isEmpty(this);
    }
    /**
     * Test if `range` is empty.
     */
    static isEmpty(range) {
      return range.startLineNumber === range.endLineNumber && range.startColumn === range.endColumn;
    }
    /**
     * Test if position is in this range. If the position is at the edges, will return true.
     */
    containsPosition(position) {
      return Range2.containsPosition(this, position);
    }
    /**
     * Test if `position` is in `range`. If the position is at the edges, will return true.
     */
    static containsPosition(range, position) {
      if (position.lineNumber < range.startLineNumber || position.lineNumber > range.endLineNumber) {
        return false;
      }
      if (position.lineNumber === range.startLineNumber && position.column < range.startColumn) {
        return false;
      }
      if (position.lineNumber === range.endLineNumber && position.column > range.endColumn) {
        return false;
      }
      return true;
    }
    /**
     * Test if `position` is in `range`. If the position is at the edges, will return false.
     * @internal
     */
    static strictContainsPosition(range, position) {
      if (position.lineNumber < range.startLineNumber || position.lineNumber > range.endLineNumber) {
        return false;
      }
      if (position.lineNumber === range.startLineNumber && position.column <= range.startColumn) {
        return false;
      }
      if (position.lineNumber === range.endLineNumber && position.column >= range.endColumn) {
        return false;
      }
      return true;
    }
    /**
     * Test if range is in this range. If the range is equal to this range, will return true.
     */
    containsRange(range) {
      return Range2.containsRange(this, range);
    }
    /**
     * Test if `otherRange` is in `range`. If the ranges are equal, will return true.
     */
    static containsRange(range, otherRange) {
      if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn < range.startColumn) {
        return false;
      }
      if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn > range.endColumn) {
        return false;
      }
      return true;
    }
    /**
     * Test if `range` is strictly in this range. `range` must start after and end before this range for the result to be true.
     */
    strictContainsRange(range) {
      return Range2.strictContainsRange(this, range);
    }
    /**
     * Test if `otherRange` is strictly in `range` (must start after, and end before). If the ranges are equal, will return false.
     */
    static strictContainsRange(range, otherRange) {
      if (otherRange.startLineNumber < range.startLineNumber || otherRange.endLineNumber < range.startLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber > range.endLineNumber || otherRange.endLineNumber > range.endLineNumber) {
        return false;
      }
      if (otherRange.startLineNumber === range.startLineNumber && otherRange.startColumn <= range.startColumn) {
        return false;
      }
      if (otherRange.endLineNumber === range.endLineNumber && otherRange.endColumn >= range.endColumn) {
        return false;
      }
      return true;
    }
    /**
     * A reunion of the two ranges.
     * The smallest position will be used as the start point, and the largest one as the end point.
     */
    plusRange(range) {
      return Range2.plusRange(this, range);
    }
    /**
     * A reunion of the two ranges.
     * The smallest position will be used as the start point, and the largest one as the end point.
     */
    static plusRange(a2, b) {
      let startLineNumber;
      let startColumn;
      let endLineNumber;
      let endColumn;
      if (b.startLineNumber < a2.startLineNumber) {
        startLineNumber = b.startLineNumber;
        startColumn = b.startColumn;
      } else if (b.startLineNumber === a2.startLineNumber) {
        startLineNumber = b.startLineNumber;
        startColumn = Math.min(b.startColumn, a2.startColumn);
      } else {
        startLineNumber = a2.startLineNumber;
        startColumn = a2.startColumn;
      }
      if (b.endLineNumber > a2.endLineNumber) {
        endLineNumber = b.endLineNumber;
        endColumn = b.endColumn;
      } else if (b.endLineNumber === a2.endLineNumber) {
        endLineNumber = b.endLineNumber;
        endColumn = Math.max(b.endColumn, a2.endColumn);
      } else {
        endLineNumber = a2.endLineNumber;
        endColumn = a2.endColumn;
      }
      return new Range2(startLineNumber, startColumn, endLineNumber, endColumn);
    }
    /**
     * A intersection of the two ranges.
     */
    intersectRanges(range) {
      return Range2.intersectRanges(this, range);
    }
    /**
     * A intersection of the two ranges.
     */
    static intersectRanges(a2, b) {
      let resultStartLineNumber = a2.startLineNumber;
      let resultStartColumn = a2.startColumn;
      let resultEndLineNumber = a2.endLineNumber;
      let resultEndColumn = a2.endColumn;
      const otherStartLineNumber = b.startLineNumber;
      const otherStartColumn = b.startColumn;
      const otherEndLineNumber = b.endLineNumber;
      const otherEndColumn = b.endColumn;
      if (resultStartLineNumber < otherStartLineNumber) {
        resultStartLineNumber = otherStartLineNumber;
        resultStartColumn = otherStartColumn;
      } else if (resultStartLineNumber === otherStartLineNumber) {
        resultStartColumn = Math.max(resultStartColumn, otherStartColumn);
      }
      if (resultEndLineNumber > otherEndLineNumber) {
        resultEndLineNumber = otherEndLineNumber;
        resultEndColumn = otherEndColumn;
      } else if (resultEndLineNumber === otherEndLineNumber) {
        resultEndColumn = Math.min(resultEndColumn, otherEndColumn);
      }
      if (resultStartLineNumber > resultEndLineNumber) {
        return null;
      }
      if (resultStartLineNumber === resultEndLineNumber && resultStartColumn > resultEndColumn) {
        return null;
      }
      return new Range2(resultStartLineNumber, resultStartColumn, resultEndLineNumber, resultEndColumn);
    }
    /**
     * Test if this range equals other.
     */
    equalsRange(other) {
      return Range2.equalsRange(this, other);
    }
    /**
     * Test if range `a` equals `b`.
     */
    static equalsRange(a2, b) {
      if (!a2 && !b) {
        return true;
      }
      return !!a2 && !!b && a2.startLineNumber === b.startLineNumber && a2.startColumn === b.startColumn && a2.endLineNumber === b.endLineNumber && a2.endColumn === b.endColumn;
    }
    /**
     * Return the end position (which will be after or equal to the start position)
     */
    getEndPosition() {
      return Range2.getEndPosition(this);
    }
    /**
     * Return the end position (which will be after or equal to the start position)
     */
    static getEndPosition(range) {
      return new Position$1(range.endLineNumber, range.endColumn);
    }
    /**
     * Return the start position (which will be before or equal to the end position)
     */
    getStartPosition() {
      return Range2.getStartPosition(this);
    }
    /**
     * Return the start position (which will be before or equal to the end position)
     */
    static getStartPosition(range) {
      return new Position$1(range.startLineNumber, range.startColumn);
    }
    /**
     * Transform to a user presentable string representation.
     */
    toString() {
      return "[" + this.startLineNumber + "," + this.startColumn + " -> " + this.endLineNumber + "," + this.endColumn + "]";
    }
    /**
     * Create a new range using this range's start position, and using endLineNumber and endColumn as the end position.
     */
    setEndPosition(endLineNumber, endColumn) {
      return new Range2(this.startLineNumber, this.startColumn, endLineNumber, endColumn);
    }
    /**
     * Create a new range using this range's end position, and using startLineNumber and startColumn as the start position.
     */
    setStartPosition(startLineNumber, startColumn) {
      return new Range2(startLineNumber, startColumn, this.endLineNumber, this.endColumn);
    }
    /**
     * Create a new empty range using this range's start position.
     */
    collapseToStart() {
      return Range2.collapseToStart(this);
    }
    /**
     * Create a new empty range using this range's start position.
     */
    static collapseToStart(range) {
      return new Range2(range.startLineNumber, range.startColumn, range.startLineNumber, range.startColumn);
    }
    /**
     * Create a new empty range using this range's end position.
     */
    collapseToEnd() {
      return Range2.collapseToEnd(this);
    }
    /**
     * Create a new empty range using this range's end position.
     */
    static collapseToEnd(range) {
      return new Range2(range.endLineNumber, range.endColumn, range.endLineNumber, range.endColumn);
    }
    /**
     * Moves the range by the given amount of lines.
     */
    delta(lineCount) {
      return new Range2(this.startLineNumber + lineCount, this.startColumn, this.endLineNumber + lineCount, this.endColumn);
    }
    // ---
    static fromPositions(start, end = start) {
      return new Range2(start.lineNumber, start.column, end.lineNumber, end.column);
    }
    static lift(range) {
      if (!range) {
        return null;
      }
      return new Range2(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);
    }
    /**
     * Test if `obj` is an `IRange`.
     */
    static isIRange(obj) {
      return obj && typeof obj.startLineNumber === "number" && typeof obj.startColumn === "number" && typeof obj.endLineNumber === "number" && typeof obj.endColumn === "number";
    }
    /**
     * Test if the two ranges are touching in any way.
     */
    static areIntersectingOrTouching(a2, b) {
      if (a2.endLineNumber < b.startLineNumber || a2.endLineNumber === b.startLineNumber && a2.endColumn < b.startColumn) {
        return false;
      }
      if (b.endLineNumber < a2.startLineNumber || b.endLineNumber === a2.startLineNumber && b.endColumn < a2.startColumn) {
        return false;
      }
      return true;
    }
    /**
     * Test if the two ranges are intersecting. If the ranges are touching it returns true.
     */
    static areIntersecting(a2, b) {
      if (a2.endLineNumber < b.startLineNumber || a2.endLineNumber === b.startLineNumber && a2.endColumn <= b.startColumn) {
        return false;
      }
      if (b.endLineNumber < a2.startLineNumber || b.endLineNumber === a2.startLineNumber && b.endColumn <= a2.startColumn) {
        return false;
      }
      return true;
    }
    /**
     * A function that compares ranges, useful for sorting ranges
     * It will first compare ranges on the startPosition and then on the endPosition
     */
    static compareRangesUsingStarts(a2, b) {
      if (a2 && b) {
        const aStartLineNumber = a2.startLineNumber | 0;
        const bStartLineNumber = b.startLineNumber | 0;
        if (aStartLineNumber === bStartLineNumber) {
          const aStartColumn = a2.startColumn | 0;
          const bStartColumn = b.startColumn | 0;
          if (aStartColumn === bStartColumn) {
            const aEndLineNumber = a2.endLineNumber | 0;
            const bEndLineNumber = b.endLineNumber | 0;
            if (aEndLineNumber === bEndLineNumber) {
              const aEndColumn = a2.endColumn | 0;
              const bEndColumn = b.endColumn | 0;
              return aEndColumn - bEndColumn;
            }
            return aEndLineNumber - bEndLineNumber;
          }
          return aStartColumn - bStartColumn;
        }
        return aStartLineNumber - bStartLineNumber;
      }
      const aExists = a2 ? 1 : 0;
      const bExists = b ? 1 : 0;
      return aExists - bExists;
    }
    /**
     * A function that compares ranges, useful for sorting ranges
     * It will first compare ranges on the endPosition and then on the startPosition
     */
    static compareRangesUsingEnds(a2, b) {
      if (a2.endLineNumber === b.endLineNumber) {
        if (a2.endColumn === b.endColumn) {
          if (a2.startLineNumber === b.startLineNumber) {
            return a2.startColumn - b.startColumn;
          }
          return a2.startLineNumber - b.startLineNumber;
        }
        return a2.endColumn - b.endColumn;
      }
      return a2.endLineNumber - b.endLineNumber;
    }
    /**
     * Test if the range spans multiple lines.
     */
    static spansMultipleLines(range) {
      return range.endLineNumber > range.startLineNumber;
    }
    toJSON() {
      return this;
    }
  };
  function equals$1(one, other, itemEquals = (a2, b) => a2 === b) {
    if (one === other) {
      return true;
    }
    if (!one || !other) {
      return false;
    }
    if (one.length !== other.length) {
      return false;
    }
    for (let i = 0, len = one.length; i < len; i++) {
      if (!itemEquals(one[i], other[i])) {
        return false;
      }
    }
    return true;
  }
  function* groupAdjacentBy(items, shouldBeGrouped) {
    let currentGroup;
    let last;
    for (const item of items) {
      if (last !== void 0 && shouldBeGrouped(last, item)) {
        currentGroup.push(item);
      } else {
        if (currentGroup) {
          yield currentGroup;
        }
        currentGroup = [item];
      }
      last = item;
    }
    if (currentGroup) {
      yield currentGroup;
    }
  }
  function forEachAdjacent(arr, f2) {
    for (let i = 0; i <= arr.length; i++) {
      f2(i === 0 ? void 0 : arr[i - 1], i === arr.length ? void 0 : arr[i]);
    }
  }
  function forEachWithNeighbors(arr, f2) {
    for (let i = 0; i < arr.length; i++) {
      f2(i === 0 ? void 0 : arr[i - 1], arr[i], i + 1 === arr.length ? void 0 : arr[i + 1]);
    }
  }
  function pushMany(arr, items) {
    for (const item of items) {
      arr.push(item);
    }
  }
  var CompareResult;
  (function(CompareResult2) {
    function isLessThan(result) {
      return result < 0;
    }
    CompareResult2.isLessThan = isLessThan;
    function isLessThanOrEqual(result) {
      return result <= 0;
    }
    CompareResult2.isLessThanOrEqual = isLessThanOrEqual;
    function isGreaterThan(result) {
      return result > 0;
    }
    CompareResult2.isGreaterThan = isGreaterThan;
    function isNeitherLessOrGreaterThan(result) {
      return result === 0;
    }
    CompareResult2.isNeitherLessOrGreaterThan = isNeitherLessOrGreaterThan;
    CompareResult2.greaterThan = 1;
    CompareResult2.lessThan = -1;
    CompareResult2.neitherLessOrGreaterThan = 0;
  })(CompareResult || (CompareResult = {}));
  function compareBy(selector, comparator) {
    return (a2, b) => comparator(selector(a2), selector(b));
  }
  const numberComparator = (a2, b) => a2 - b;
  function reverseOrder(comparator) {
    return (a2, b) => -comparator(a2, b);
  }
  function toUint8(v) {
    if (v < 0) {
      return 0;
    }
    if (v > 255) {
      return 255;
    }
    return v | 0;
  }
  function toUint32(v) {
    if (v < 0) {
      return 0;
    }
    if (v > 4294967295) {
      return 4294967295;
    }
    return v | 0;
  }
  class PrefixSumComputer {
    constructor(values) {
      this.values = values;
      this.prefixSum = new Uint32Array(values.length);
      this.prefixSumValidIndex = new Int32Array(1);
      this.prefixSumValidIndex[0] = -1;
    }
    insertValues(insertIndex, insertValues) {
      insertIndex = toUint32(insertIndex);
      const oldValues = this.values;
      const oldPrefixSum = this.prefixSum;
      const insertValuesLen = insertValues.length;
      if (insertValuesLen === 0) {
        return false;
      }
      this.values = new Uint32Array(oldValues.length + insertValuesLen);
      this.values.set(oldValues.subarray(0, insertIndex), 0);
      this.values.set(oldValues.subarray(insertIndex), insertIndex + insertValuesLen);
      this.values.set(insertValues, insertIndex);
      if (insertIndex - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = insertIndex - 1;
      }
      this.prefixSum = new Uint32Array(this.values.length);
      if (this.prefixSumValidIndex[0] >= 0) {
        this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));
      }
      return true;
    }
    setValue(index, value) {
      index = toUint32(index);
      value = toUint32(value);
      if (this.values[index] === value) {
        return false;
      }
      this.values[index] = value;
      if (index - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = index - 1;
      }
      return true;
    }
    removeValues(startIndex, count) {
      startIndex = toUint32(startIndex);
      count = toUint32(count);
      const oldValues = this.values;
      const oldPrefixSum = this.prefixSum;
      if (startIndex >= oldValues.length) {
        return false;
      }
      const maxCount = oldValues.length - startIndex;
      if (count >= maxCount) {
        count = maxCount;
      }
      if (count === 0) {
        return false;
      }
      this.values = new Uint32Array(oldValues.length - count);
      this.values.set(oldValues.subarray(0, startIndex), 0);
      this.values.set(oldValues.subarray(startIndex + count), startIndex);
      this.prefixSum = new Uint32Array(this.values.length);
      if (startIndex - 1 < this.prefixSumValidIndex[0]) {
        this.prefixSumValidIndex[0] = startIndex - 1;
      }
      if (this.prefixSumValidIndex[0] >= 0) {
        this.prefixSum.set(oldPrefixSum.subarray(0, this.prefixSumValidIndex[0] + 1));
      }
      return true;
    }
    getTotalSum() {
      if (this.values.length === 0) {
        return 0;
      }
      return this._getPrefixSum(this.values.length - 1);
    }
    /**
     * Returns the sum of the first `index + 1` many items.
     * @returns `SUM(0 <= j <= index, values[j])`.
     */
    getPrefixSum(index) {
      if (index < 0) {
        return 0;
      }
      index = toUint32(index);
      return this._getPrefixSum(index);
    }
    _getPrefixSum(index) {
      if (index <= this.prefixSumValidIndex[0]) {
        return this.prefixSum[index];
      }
      let startIndex = this.prefixSumValidIndex[0] + 1;
      if (startIndex === 0) {
        this.prefixSum[0] = this.values[0];
        startIndex++;
      }
      if (index >= this.values.length) {
        index = this.values.length - 1;
      }
      for (let i = startIndex; i <= index; i++) {
        this.prefixSum[i] = this.prefixSum[i - 1] + this.values[i];
      }
      this.prefixSumValidIndex[0] = Math.max(this.prefixSumValidIndex[0], index);
      return this.prefixSum[index];
    }
    getIndexOf(sum) {
      sum = Math.floor(sum);
      this.getTotalSum();
      let low = 0;
      let high = this.values.length - 1;
      let mid = 0;
      let midStop = 0;
      let midStart = 0;
      while (low <= high) {
        mid = low + (high - low) / 2 | 0;
        midStop = this.prefixSum[mid];
        midStart = midStop - this.values[mid];
        if (sum < midStart) {
          high = mid - 1;
        } else if (sum >= midStop) {
          low = mid + 1;
        } else {
          break;
        }
      }
      return new PrefixSumIndexOfResult(mid, sum - midStart);
    }
  }
  class PrefixSumIndexOfResult {
    constructor(index, remainder) {
      this.index = index;
      this.remainder = remainder;
      this._prefixSumIndexOfResultBrand = void 0;
      this.index = index;
      this.remainder = remainder;
    }
  }
  class MirrorTextModel {
    constructor(uri, lines, eol, versionId) {
      this._uri = uri;
      this._lines = lines;
      this._eol = eol;
      this._versionId = versionId;
      this._lineStarts = null;
      this._cachedTextValue = null;
    }
    dispose() {
      this._lines.length = 0;
    }
    get version() {
      return this._versionId;
    }
    getText() {
      if (this._cachedTextValue === null) {
        this._cachedTextValue = this._lines.join(this._eol);
      }
      return this._cachedTextValue;
    }
    onEvents(e) {
      if (e.eol && e.eol !== this._eol) {
        this._eol = e.eol;
        this._lineStarts = null;
      }
      const changes = e.changes;
      for (const change of changes) {
        this._acceptDeleteRange(change.range);
        this._acceptInsertText(new Position$1(change.range.startLineNumber, change.range.startColumn), change.text);
      }
      this._versionId = e.versionId;
      this._cachedTextValue = null;
    }
    _ensureLineStarts() {
      if (!this._lineStarts) {
        const eolLength = this._eol.length;
        const linesLength = this._lines.length;
        const lineStartValues = new Uint32Array(linesLength);
        for (let i = 0; i < linesLength; i++) {
          lineStartValues[i] = this._lines[i].length + eolLength;
        }
        this._lineStarts = new PrefixSumComputer(lineStartValues);
      }
    }
    /**
     * All changes to a line's text go through this method
     */
    _setLineText(lineIndex, newValue) {
      this._lines[lineIndex] = newValue;
      if (this._lineStarts) {
        this._lineStarts.setValue(lineIndex, this._lines[lineIndex].length + this._eol.length);
      }
    }
    _acceptDeleteRange(range) {
      if (range.startLineNumber === range.endLineNumber) {
        if (range.startColumn === range.endColumn) {
          return;
        }
        this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.startLineNumber - 1].substring(range.endColumn - 1));
        return;
      }
      this._setLineText(range.startLineNumber - 1, this._lines[range.startLineNumber - 1].substring(0, range.startColumn - 1) + this._lines[range.endLineNumber - 1].substring(range.endColumn - 1));
      this._lines.splice(range.startLineNumber, range.endLineNumber - range.startLineNumber);
      if (this._lineStarts) {
        this._lineStarts.removeValues(range.startLineNumber, range.endLineNumber - range.startLineNumber);
      }
    }
    _acceptInsertText(position, insertText) {
      if (insertText.length === 0) {
        return;
      }
      const insertLines = splitLines(insertText);
      if (insertLines.length === 1) {
        this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0] + this._lines[position.lineNumber - 1].substring(position.column - 1));
        return;
      }
      insertLines[insertLines.length - 1] += this._lines[position.lineNumber - 1].substring(position.column - 1);
      this._setLineText(position.lineNumber - 1, this._lines[position.lineNumber - 1].substring(0, position.column - 1) + insertLines[0]);
      const newLengths = new Uint32Array(insertLines.length - 1);
      for (let i = 1; i < insertLines.length; i++) {
        this._lines.splice(position.lineNumber + i - 1, 0, insertLines[i]);
        newLengths[i - 1] = insertLines[i].length + this._eol.length;
      }
      if (this._lineStarts) {
        this._lineStarts.insertValues(position.lineNumber, newLengths);
      }
    }
  }
  const USUAL_WORD_SEPARATORS = "`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";
  function createWordRegExp(allowInWords = "") {
    let source = "(-?\\d*\\.\\d\\w*)|([^";
    for (const sep of USUAL_WORD_SEPARATORS) {
      if (allowInWords.indexOf(sep) >= 0) {
        continue;
      }
      source += "\\" + sep;
    }
    source += "\\s]+)";
    return new RegExp(source, "g");
  }
  const DEFAULT_WORD_REGEXP = createWordRegExp();
  function ensureValidWordDefinition(wordDefinition) {
    let result = DEFAULT_WORD_REGEXP;
    if (wordDefinition && wordDefinition instanceof RegExp) {
      if (!wordDefinition.global) {
        let flags = "g";
        if (wordDefinition.ignoreCase) {
          flags += "i";
        }
        if (wordDefinition.multiline) {
          flags += "m";
        }
        if (wordDefinition.unicode) {
          flags += "u";
        }
        result = new RegExp(wordDefinition.source, flags);
      } else {
        result = wordDefinition;
      }
    }
    result.lastIndex = 0;
    return result;
  }
  const _defaultConfig = new LinkedList();
  _defaultConfig.unshift({
    maxLen: 1e3,
    windowSize: 15,
    timeBudget: 150
  });
  function getWordAtText(column, wordDefinition, text, textOffset, config) {
    wordDefinition = ensureValidWordDefinition(wordDefinition);
    if (!config) {
      config = Iterable.first(_defaultConfig);
    }
    if (text.length > config.maxLen) {
      let start = column - config.maxLen / 2;
      if (start < 0) {
        start = 0;
      } else {
        textOffset += start;
      }
      text = text.substring(start, column + config.maxLen / 2);
      return getWordAtText(column, wordDefinition, text, textOffset, config);
    }
    const t1 = Date.now();
    const pos = column - 1 - textOffset;
    let prevRegexIndex = -1;
    let match = null;
    for (let i = 1; ; i++) {
      if (Date.now() - t1 >= config.timeBudget) {
        break;
      }
      const regexIndex = pos - config.windowSize * i;
      wordDefinition.lastIndex = Math.max(0, regexIndex);
      const thisMatch = _findRegexMatchEnclosingPosition(wordDefinition, text, pos, prevRegexIndex);
      if (!thisMatch && match) {
        break;
      }
      match = thisMatch;
      if (regexIndex <= 0) {
        break;
      }
      prevRegexIndex = regexIndex;
    }
    if (match) {
      const result = {
        word: match[0],
        startColumn: textOffset + 1 + match.index,
        endColumn: textOffset + 1 + match.index + match[0].length
      };
      wordDefinition.lastIndex = 0;
      return result;
    }
    return null;
  }
  function _findRegexMatchEnclosingPosition(wordDefinition, text, pos, stopPos) {
    let match;
    while (match = wordDefinition.exec(text)) {
      const matchIndex = match.index || 0;
      if (matchIndex <= pos && wordDefinition.lastIndex >= pos) {
        return match;
      } else if (stopPos > 0 && matchIndex > stopPos) {
        return null;
      }
    }
    return null;
  }
  class CharacterClassifier {
    constructor(_defaultValue) {
      const defaultValue = toUint8(_defaultValue);
      this._defaultValue = defaultValue;
      this._asciiMap = CharacterClassifier._createAsciiMap(defaultValue);
      this._map = /* @__PURE__ */ new Map();
    }
    static _createAsciiMap(defaultValue) {
      const asciiMap = new Uint8Array(256);
      asciiMap.fill(defaultValue);
      return asciiMap;
    }
    set(charCode, _value) {
      const value = toUint8(_value);
      if (charCode >= 0 && charCode < 256) {
        this._asciiMap[charCode] = value;
      } else {
        this._map.set(charCode, value);
      }
    }
    get(charCode) {
      if (charCode >= 0 && charCode < 256) {
        return this._asciiMap[charCode];
      } else {
        return this._map.get(charCode) || this._defaultValue;
      }
    }
    clear() {
      this._asciiMap.fill(this._defaultValue);
      this._map.clear();
    }
  }
  class Uint8Matrix {
    constructor(rows, cols, defaultValue) {
      const data = new Uint8Array(rows * cols);
      for (let i = 0, len = rows * cols; i < len; i++) {
        data[i] = defaultValue;
      }
      this._data = data;
      this.rows = rows;
      this.cols = cols;
    }
    get(row, col) {
      return this._data[row * this.cols + col];
    }
    set(row, col, value) {
      this._data[row * this.cols + col] = value;
    }
  }
  class StateMachine {
    constructor(edges) {
      let maxCharCode = 0;
      let maxState = 0;
      for (let i = 0, len = edges.length; i < len; i++) {
        const [from, chCode, to] = edges[i];
        if (chCode > maxCharCode) {
          maxCharCode = chCode;
        }
        if (from > maxState) {
          maxState = from;
        }
        if (to > maxState) {
          maxState = to;
        }
      }
      maxCharCode++;
      maxState++;
      const states = new Uint8Matrix(
        maxState,
        maxCharCode,
        0
        /* State.Invalid */
      );
      for (let i = 0, len = edges.length; i < len; i++) {
        const [from, chCode, to] = edges[i];
        states.set(from, chCode, to);
      }
      this._states = states;
      this._maxCharCode = maxCharCode;
    }
    nextState(currentState, chCode) {
      if (chCode < 0 || chCode >= this._maxCharCode) {
        return 0;
      }
      return this._states.get(currentState, chCode);
    }
  }
  let _stateMachine = null;
  function getStateMachine() {
    if (_stateMachine === null) {
      _stateMachine = new StateMachine([
        [
          1,
          104,
          2
          /* State.H */
        ],
        [
          1,
          72,
          2
          /* State.H */
        ],
        [
          1,
          102,
          6
          /* State.F */
        ],
        [
          1,
          70,
          6
          /* State.F */
        ],
        [
          2,
          116,
          3
          /* State.HT */
        ],
        [
          2,
          84,
          3
          /* State.HT */
        ],
        [
          3,
          116,
          4
          /* State.HTT */
        ],
        [
          3,
          84,
          4
          /* State.HTT */
        ],
        [
          4,
          112,
          5
          /* State.HTTP */
        ],
        [
          4,
          80,
          5
          /* State.HTTP */
        ],
        [
          5,
          115,
          9
          /* State.BeforeColon */
        ],
        [
          5,
          83,
          9
          /* State.BeforeColon */
        ],
        [
          5,
          58,
          10
          /* State.AfterColon */
        ],
        [
          6,
          105,
          7
          /* State.FI */
        ],
        [
          6,
          73,
          7
          /* State.FI */
        ],
        [
          7,
          108,
          8
          /* State.FIL */
        ],
        [
          7,
          76,
          8
          /* State.FIL */
        ],
        [
          8,
          101,
          9
          /* State.BeforeColon */
        ],
        [
          8,
          69,
          9
          /* State.BeforeColon */
        ],
        [
          9,
          58,
          10
          /* State.AfterColon */
        ],
        [
          10,
          47,
          11
          /* State.AlmostThere */
        ],
        [
          11,
          47,
          12
          /* State.End */
        ]
      ]);
    }
    return _stateMachine;
  }
  let _classifier = null;
  function getClassifier() {
    if (_classifier === null) {
      _classifier = new CharacterClassifier(
        0
        /* CharacterClass.None */
      );
      const FORCE_TERMINATION_CHARACTERS = ` 	<>'"、。｡､，．：；‘〈「『〔（［｛｢｣｝］）〕』」〉’｀～…`;
      for (let i = 0; i < FORCE_TERMINATION_CHARACTERS.length; i++) {
        _classifier.set(
          FORCE_TERMINATION_CHARACTERS.charCodeAt(i),
          1
          /* CharacterClass.ForceTermination */
        );
      }
      const CANNOT_END_WITH_CHARACTERS = ".,;:";
      for (let i = 0; i < CANNOT_END_WITH_CHARACTERS.length; i++) {
        _classifier.set(
          CANNOT_END_WITH_CHARACTERS.charCodeAt(i),
          2
          /* CharacterClass.CannotEndIn */
        );
      }
    }
    return _classifier;
  }
  class LinkComputer {
    static _createLink(classifier, line, lineNumber, linkBeginIndex, linkEndIndex) {
      let lastIncludedCharIndex = linkEndIndex - 1;
      do {
        const chCode = line.charCodeAt(lastIncludedCharIndex);
        const chClass = classifier.get(chCode);
        if (chClass !== 2) {
          break;
        }
        lastIncludedCharIndex--;
      } while (lastIncludedCharIndex > linkBeginIndex);
      if (linkBeginIndex > 0) {
        const charCodeBeforeLink = line.charCodeAt(linkBeginIndex - 1);
        const lastCharCodeInLink = line.charCodeAt(lastIncludedCharIndex);
        if (charCodeBeforeLink === 40 && lastCharCodeInLink === 41 || charCodeBeforeLink === 91 && lastCharCodeInLink === 93 || charCodeBeforeLink === 123 && lastCharCodeInLink === 125) {
          lastIncludedCharIndex--;
        }
      }
      return {
        range: {
          startLineNumber: lineNumber,
          startColumn: linkBeginIndex + 1,
          endLineNumber: lineNumber,
          endColumn: lastIncludedCharIndex + 2
        },
        url: line.substring(linkBeginIndex, lastIncludedCharIndex + 1)
      };
    }
    static computeLinks(model, stateMachine = getStateMachine()) {
      const classifier = getClassifier();
      const result = [];
      for (let i = 1, lineCount = model.getLineCount(); i <= lineCount; i++) {
        const line = model.getLineContent(i);
        const len = line.length;
        let j = 0;
        let linkBeginIndex = 0;
        let linkBeginChCode = 0;
        let state = 1;
        let hasOpenParens = false;
        let hasOpenSquareBracket = false;
        let inSquareBrackets = false;
        let hasOpenCurlyBracket = false;
        while (j < len) {
          let resetStateMachine = false;
          const chCode = line.charCodeAt(j);
          if (state === 13) {
            let chClass;
            switch (chCode) {
              case 40:
                hasOpenParens = true;
                chClass = 0;
                break;
              case 41:
                chClass = hasOpenParens ? 0 : 1;
                break;
              case 91:
                inSquareBrackets = true;
                hasOpenSquareBracket = true;
                chClass = 0;
                break;
              case 93:
                inSquareBrackets = false;
                chClass = hasOpenSquareBracket ? 0 : 1;
                break;
              case 123:
                hasOpenCurlyBracket = true;
                chClass = 0;
                break;
              case 125:
                chClass = hasOpenCurlyBracket ? 0 : 1;
                break;
              case 39:
              case 34:
              case 96:
                if (linkBeginChCode === chCode) {
                  chClass = 1;
                } else if (linkBeginChCode === 39 || linkBeginChCode === 34 || linkBeginChCode === 96) {
                  chClass = 0;
                } else {
                  chClass = 1;
                }
                break;
              case 42:
                chClass = linkBeginChCode === 42 ? 1 : 0;
                break;
              case 124:
                chClass = linkBeginChCode === 124 ? 1 : 0;
                break;
              case 32:
                chClass = inSquareBrackets ? 0 : 1;
                break;
              default:
                chClass = classifier.get(chCode);
            }
            if (chClass === 1) {
              result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, j));
              resetStateMachine = true;
            }
          } else if (state === 12) {
            let chClass;
            if (chCode === 91) {
              hasOpenSquareBracket = true;
              chClass = 0;
            } else {
              chClass = classifier.get(chCode);
            }
            if (chClass === 1) {
              resetStateMachine = true;
            } else {
              state = 13;
            }
          } else {
            state = stateMachine.nextState(state, chCode);
            if (state === 0) {
              resetStateMachine = true;
            }
          }
          if (resetStateMachine) {
            state = 1;
            hasOpenParens = false;
            hasOpenSquareBracket = false;
            hasOpenCurlyBracket = false;
            linkBeginIndex = j + 1;
            linkBeginChCode = chCode;
          }
          j++;
        }
        if (state === 13) {
          result.push(LinkComputer._createLink(classifier, line, i, linkBeginIndex, len));
        }
      }
      return result;
    }
  }
  function computeLinks(model) {
    if (!model || typeof model.getLineCount !== "function" || typeof model.getLineContent !== "function") {
      return [];
    }
    return LinkComputer.computeLinks(model);
  }
  class BasicInplaceReplace {
    constructor() {
      this._defaultValueSet = [
        ["true", "false"],
        ["True", "False"],
        ["Private", "Public", "Friend", "ReadOnly", "Partial", "Protected", "WriteOnly"],
        ["public", "protected", "private"]
      ];
    }
    navigateValueSet(range1, text1, range2, text2, up) {
      if (range1 && text1) {
        const result = this.doNavigateValueSet(text1, up);
        if (result) {
          return {
            range: range1,
            value: result
          };
        }
      }
      if (range2 && text2) {
        const result = this.doNavigateValueSet(text2, up);
        if (result) {
          return {
            range: range2,
            value: result
          };
        }
      }
      return null;
    }
    doNavigateValueSet(text, up) {
      const numberResult = this.numberReplace(text, up);
      if (numberResult !== null) {
        return numberResult;
      }
      return this.textReplace(text, up);
    }
    numberReplace(value, up) {
      const precision = Math.pow(10, value.length - (value.lastIndexOf(".") + 1));
      let n1 = Number(value);
      const n2 = parseFloat(value);
      if (!isNaN(n1) && !isNaN(n2) && n1 === n2) {
        if (n1 === 0 && !up) {
          return null;
        } else {
          n1 = Math.floor(n1 * precision);
          n1 += up ? precision : -precision;
          return String(n1 / precision);
        }
      }
      return null;
    }
    textReplace(value, up) {
      return this.valueSetsReplace(this._defaultValueSet, value, up);
    }
    valueSetsReplace(valueSets, value, up) {
      let result = null;
      for (let i = 0, len = valueSets.length; result === null && i < len; i++) {
        result = this.valueSetReplace(valueSets[i], value, up);
      }
      return result;
    }
    valueSetReplace(valueSet, value, up) {
      let idx = valueSet.indexOf(value);
      if (idx >= 0) {
        idx += up ? 1 : -1;
        if (idx < 0) {
          idx = valueSet.length - 1;
        } else {
          idx %= valueSet.length;
        }
        return valueSet[idx];
      }
      return null;
    }
  }
  BasicInplaceReplace.INSTANCE = new BasicInplaceReplace();
  const shortcutEvent = Object.freeze(function(callback, context) {
    const handle = setTimeout(callback.bind(context), 0);
    return { dispose() {
      clearTimeout(handle);
    } };
  });
  var CancellationToken;
  (function(CancellationToken2) {
    function isCancellationToken(thing) {
      if (thing === CancellationToken2.None || thing === CancellationToken2.Cancelled) {
        return true;
      }
      if (thing instanceof MutableToken) {
        return true;
      }
      if (!thing || typeof thing !== "object") {
        return false;
      }
      return typeof thing.isCancellationRequested === "boolean" && typeof thing.onCancellationRequested === "function";
    }
    CancellationToken2.isCancellationToken = isCancellationToken;
    CancellationToken2.None = Object.freeze({
      isCancellationRequested: false,
      onCancellationRequested: Event.None
    });
    CancellationToken2.Cancelled = Object.freeze({
      isCancellationRequested: true,
      onCancellationRequested: shortcutEvent
    });
  })(CancellationToken || (CancellationToken = {}));
  class MutableToken {
    constructor() {
      this._isCancelled = false;
      this._emitter = null;
    }
    cancel() {
      if (!this._isCancelled) {
        this._isCancelled = true;
        if (this._emitter) {
          this._emitter.fire(void 0);
          this.dispose();
        }
      }
    }
    get isCancellationRequested() {
      return this._isCancelled;
    }
    get onCancellationRequested() {
      if (this._isCancelled) {
        return shortcutEvent;
      }
      if (!this._emitter) {
        this._emitter = new Emitter();
      }
      return this._emitter.event;
    }
    dispose() {
      if (this._emitter) {
        this._emitter.dispose();
        this._emitter = null;
      }
    }
  }
  class CancellationTokenSource {
    constructor(parent) {
      this._token = void 0;
      this._parentListener = void 0;
      this._parentListener = parent && parent.onCancellationRequested(this.cancel, this);
    }
    get token() {
      if (!this._token) {
        this._token = new MutableToken();
      }
      return this._token;
    }
    cancel() {
      if (!this._token) {
        this._token = CancellationToken.Cancelled;
      } else if (this._token instanceof MutableToken) {
        this._token.cancel();
      }
    }
    dispose(cancel = false) {
      var _a2;
      if (cancel) {
        this.cancel();
      }
      (_a2 = this._parentListener) === null || _a2 === void 0 ? void 0 : _a2.dispose();
      if (!this._token) {
        this._token = CancellationToken.None;
      } else if (this._token instanceof MutableToken) {
        this._token.dispose();
      }
    }
  }
  class KeyCodeStrMap {
    constructor() {
      this._keyCodeToStr = [];
      this._strToKeyCode = /* @__PURE__ */ Object.create(null);
    }
    define(keyCode, str) {
      this._keyCodeToStr[keyCode] = str;
      this._strToKeyCode[str.toLowerCase()] = keyCode;
    }
    keyCodeToStr(keyCode) {
      return this._keyCodeToStr[keyCode];
    }
    strToKeyCode(str) {
      return this._strToKeyCode[str.toLowerCase()] || 0;
    }
  }
  const uiMap = new KeyCodeStrMap();
  const userSettingsUSMap = new KeyCodeStrMap();
  const userSettingsGeneralMap = new KeyCodeStrMap();
  const EVENT_KEY_CODE_MAP = new Array(230);
  const scanCodeStrToInt = /* @__PURE__ */ Object.create(null);
  const scanCodeLowerCaseStrToInt = /* @__PURE__ */ Object.create(null);
  (function() {
    const empty = "";
    const mappings = [
      // immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel
      [1, 0, "None", 0, "unknown", 0, "VK_UNKNOWN", empty, empty],
      [1, 1, "Hyper", 0, empty, 0, empty, empty, empty],
      [1, 2, "Super", 0, empty, 0, empty, empty, empty],
      [1, 3, "Fn", 0, empty, 0, empty, empty, empty],
      [1, 4, "FnLock", 0, empty, 0, empty, empty, empty],
      [1, 5, "Suspend", 0, empty, 0, empty, empty, empty],
      [1, 6, "Resume", 0, empty, 0, empty, empty, empty],
      [1, 7, "Turbo", 0, empty, 0, empty, empty, empty],
      [1, 8, "Sleep", 0, empty, 0, "VK_SLEEP", empty, empty],
      [1, 9, "WakeUp", 0, empty, 0, empty, empty, empty],
      [0, 10, "KeyA", 31, "A", 65, "VK_A", empty, empty],
      [0, 11, "KeyB", 32, "B", 66, "VK_B", empty, empty],
      [0, 12, "KeyC", 33, "C", 67, "VK_C", empty, empty],
      [0, 13, "KeyD", 34, "D", 68, "VK_D", empty, empty],
      [0, 14, "KeyE", 35, "E", 69, "VK_E", empty, empty],
      [0, 15, "KeyF", 36, "F", 70, "VK_F", empty, empty],
      [0, 16, "KeyG", 37, "G", 71, "VK_G", empty, empty],
      [0, 17, "KeyH", 38, "H", 72, "VK_H", empty, empty],
      [0, 18, "KeyI", 39, "I", 73, "VK_I", empty, empty],
      [0, 19, "KeyJ", 40, "J", 74, "VK_J", empty, empty],
      [0, 20, "KeyK", 41, "K", 75, "VK_K", empty, empty],
      [0, 21, "KeyL", 42, "L", 76, "VK_L", empty, empty],
      [0, 22, "KeyM", 43, "M", 77, "VK_M", empty, empty],
      [0, 23, "KeyN", 44, "N", 78, "VK_N", empty, empty],
      [0, 24, "KeyO", 45, "O", 79, "VK_O", empty, empty],
      [0, 25, "KeyP", 46, "P", 80, "VK_P", empty, empty],
      [0, 26, "KeyQ", 47, "Q", 81, "VK_Q", empty, empty],
      [0, 27, "KeyR", 48, "R", 82, "VK_R", empty, empty],
      [0, 28, "KeyS", 49, "S", 83, "VK_S", empty, empty],
      [0, 29, "KeyT", 50, "T", 84, "VK_T", empty, empty],
      [0, 30, "KeyU", 51, "U", 85, "VK_U", empty, empty],
      [0, 31, "KeyV", 52, "V", 86, "VK_V", empty, empty],
      [0, 32, "KeyW", 53, "W", 87, "VK_W", empty, empty],
      [0, 33, "KeyX", 54, "X", 88, "VK_X", empty, empty],
      [0, 34, "KeyY", 55, "Y", 89, "VK_Y", empty, empty],
      [0, 35, "KeyZ", 56, "Z", 90, "VK_Z", empty, empty],
      [0, 36, "Digit1", 22, "1", 49, "VK_1", empty, empty],
      [0, 37, "Digit2", 23, "2", 50, "VK_2", empty, empty],
      [0, 38, "Digit3", 24, "3", 51, "VK_3", empty, empty],
      [0, 39, "Digit4", 25, "4", 52, "VK_4", empty, empty],
      [0, 40, "Digit5", 26, "5", 53, "VK_5", empty, empty],
      [0, 41, "Digit6", 27, "6", 54, "VK_6", empty, empty],
      [0, 42, "Digit7", 28, "7", 55, "VK_7", empty, empty],
      [0, 43, "Digit8", 29, "8", 56, "VK_8", empty, empty],
      [0, 44, "Digit9", 30, "9", 57, "VK_9", empty, empty],
      [0, 45, "Digit0", 21, "0", 48, "VK_0", empty, empty],
      [1, 46, "Enter", 3, "Enter", 13, "VK_RETURN", empty, empty],
      [1, 47, "Escape", 9, "Escape", 27, "VK_ESCAPE", empty, empty],
      [1, 48, "Backspace", 1, "Backspace", 8, "VK_BACK", empty, empty],
      [1, 49, "Tab", 2, "Tab", 9, "VK_TAB", empty, empty],
      [1, 50, "Space", 10, "Space", 32, "VK_SPACE", empty, empty],
      [0, 51, "Minus", 88, "-", 189, "VK_OEM_MINUS", "-", "OEM_MINUS"],
      [0, 52, "Equal", 86, "=", 187, "VK_OEM_PLUS", "=", "OEM_PLUS"],
      [0, 53, "BracketLeft", 92, "[", 219, "VK_OEM_4", "[", "OEM_4"],
      [0, 54, "BracketRight", 94, "]", 221, "VK_OEM_6", "]", "OEM_6"],
      [0, 55, "Backslash", 93, "\\", 220, "VK_OEM_5", "\\", "OEM_5"],
      [0, 56, "IntlHash", 0, empty, 0, empty, empty, empty],
      // has been dropped from the w3c spec
      [0, 57, "Semicolon", 85, ";", 186, "VK_OEM_1", ";", "OEM_1"],
      [0, 58, "Quote", 95, "'", 222, "VK_OEM_7", "'", "OEM_7"],
      [0, 59, "Backquote", 91, "`", 192, "VK_OEM_3", "`", "OEM_3"],
      [0, 60, "Comma", 87, ",", 188, "VK_OEM_COMMA", ",", "OEM_COMMA"],
      [0, 61, "Period", 89, ".", 190, "VK_OEM_PERIOD", ".", "OEM_PERIOD"],
      [0, 62, "Slash", 90, "/", 191, "VK_OEM_2", "/", "OEM_2"],
      [1, 63, "CapsLock", 8, "CapsLock", 20, "VK_CAPITAL", empty, empty],
      [1, 64, "F1", 59, "F1", 112, "VK_F1", empty, empty],
      [1, 65, "F2", 60, "F2", 113, "VK_F2", empty, empty],
      [1, 66, "F3", 61, "F3", 114, "VK_F3", empty, empty],
      [1, 67, "F4", 62, "F4", 115, "VK_F4", empty, empty],
      [1, 68, "F5", 63, "F5", 116, "VK_F5", empty, empty],
      [1, 69, "F6", 64, "F6", 117, "VK_F6", empty, empty],
      [1, 70, "F7", 65, "F7", 118, "VK_F7", empty, empty],
      [1, 71, "F8", 66, "F8", 119, "VK_F8", empty, empty],
      [1, 72, "F9", 67, "F9", 120, "VK_F9", empty, empty],
      [1, 73, "F10", 68, "F10", 121, "VK_F10", empty, empty],
      [1, 74, "F11", 69, "F11", 122, "VK_F11", empty, empty],
      [1, 75, "F12", 70, "F12", 123, "VK_F12", empty, empty],
      [1, 76, "PrintScreen", 0, empty, 0, empty, empty, empty],
      [1, 77, "ScrollLock", 84, "ScrollLock", 145, "VK_SCROLL", empty, empty],
      [1, 78, "Pause", 7, "PauseBreak", 19, "VK_PAUSE", empty, empty],
      [1, 79, "Insert", 19, "Insert", 45, "VK_INSERT", empty, empty],
      [1, 80, "Home", 14, "Home", 36, "VK_HOME", empty, empty],
      [1, 81, "PageUp", 11, "PageUp", 33, "VK_PRIOR", empty, empty],
      [1, 82, "Delete", 20, "Delete", 46, "VK_DELETE", empty, empty],
      [1, 83, "End", 13, "End", 35, "VK_END", empty, empty],
      [1, 84, "PageDown", 12, "PageDown", 34, "VK_NEXT", empty, empty],
      [1, 85, "ArrowRight", 17, "RightArrow", 39, "VK_RIGHT", "Right", empty],
      [1, 86, "ArrowLeft", 15, "LeftArrow", 37, "VK_LEFT", "Left", empty],
      [1, 87, "ArrowDown", 18, "DownArrow", 40, "VK_DOWN", "Down", empty],
      [1, 88, "ArrowUp", 16, "UpArrow", 38, "VK_UP", "Up", empty],
      [1, 89, "NumLock", 83, "NumLock", 144, "VK_NUMLOCK", empty, empty],
      [1, 90, "NumpadDivide", 113, "NumPad_Divide", 111, "VK_DIVIDE", empty, empty],
      [1, 91, "NumpadMultiply", 108, "NumPad_Multiply", 106, "VK_MULTIPLY", empty, empty],
      [1, 92, "NumpadSubtract", 111, "NumPad_Subtract", 109, "VK_SUBTRACT", empty, empty],
      [1, 93, "NumpadAdd", 109, "NumPad_Add", 107, "VK_ADD", empty, empty],
      [1, 94, "NumpadEnter", 3, empty, 0, empty, empty, empty],
      [1, 95, "Numpad1", 99, "NumPad1", 97, "VK_NUMPAD1", empty, empty],
      [1, 96, "Numpad2", 100, "NumPad2", 98, "VK_NUMPAD2", empty, empty],
      [1, 97, "Numpad3", 101, "NumPad3", 99, "VK_NUMPAD3", empty, empty],
      [1, 98, "Numpad4", 102, "NumPad4", 100, "VK_NUMPAD4", empty, empty],
      [1, 99, "Numpad5", 103, "NumPad5", 101, "VK_NUMPAD5", empty, empty],
      [1, 100, "Numpad6", 104, "NumPad6", 102, "VK_NUMPAD6", empty, empty],
      [1, 101, "Numpad7", 105, "NumPad7", 103, "VK_NUMPAD7", empty, empty],
      [1, 102, "Numpad8", 106, "NumPad8", 104, "VK_NUMPAD8", empty, empty],
      [1, 103, "Numpad9", 107, "NumPad9", 105, "VK_NUMPAD9", empty, empty],
      [1, 104, "Numpad0", 98, "NumPad0", 96, "VK_NUMPAD0", empty, empty],
      [1, 105, "NumpadDecimal", 112, "NumPad_Decimal", 110, "VK_DECIMAL", empty, empty],
      [0, 106, "IntlBackslash", 97, "OEM_102", 226, "VK_OEM_102", empty, empty],
      [1, 107, "ContextMenu", 58, "ContextMenu", 93, empty, empty, empty],
      [1, 108, "Power", 0, empty, 0, empty, empty, empty],
      [1, 109, "NumpadEqual", 0, empty, 0, empty, empty, empty],
      [1, 110, "F13", 71, "F13", 124, "VK_F13", empty, empty],
      [1, 111, "F14", 72, "F14", 125, "VK_F14", empty, empty],
      [1, 112, "F15", 73, "F15", 126, "VK_F15", empty, empty],
      [1, 113, "F16", 74, "F16", 127, "VK_F16", empty, empty],
      [1, 114, "F17", 75, "F17", 128, "VK_F17", empty, empty],
      [1, 115, "F18", 76, "F18", 129, "VK_F18", empty, empty],
      [1, 116, "F19", 77, "F19", 130, "VK_F19", empty, empty],
      [1, 117, "F20", 78, "F20", 131, "VK_F20", empty, empty],
      [1, 118, "F21", 79, "F21", 132, "VK_F21", empty, empty],
      [1, 119, "F22", 80, "F22", 133, "VK_F22", empty, empty],
      [1, 120, "F23", 81, "F23", 134, "VK_F23", empty, empty],
      [1, 121, "F24", 82, "F24", 135, "VK_F24", empty, empty],
      [1, 122, "Open", 0, empty, 0, empty, empty, empty],
      [1, 123, "Help", 0, empty, 0, empty, empty, empty],
      [1, 124, "Select", 0, empty, 0, empty, empty, empty],
      [1, 125, "Again", 0, empty, 0, empty, empty, empty],
      [1, 126, "Undo", 0, empty, 0, empty, empty, empty],
      [1, 127, "Cut", 0, empty, 0, empty, empty, empty],
      [1, 128, "Copy", 0, empty, 0, empty, empty, empty],
      [1, 129, "Paste", 0, empty, 0, empty, empty, empty],
      [1, 130, "Find", 0, empty, 0, empty, empty, empty],
      [1, 131, "AudioVolumeMute", 117, "AudioVolumeMute", 173, "VK_VOLUME_MUTE", empty, empty],
      [1, 132, "AudioVolumeUp", 118, "AudioVolumeUp", 175, "VK_VOLUME_UP", empty, empty],
      [1, 133, "AudioVolumeDown", 119, "AudioVolumeDown", 174, "VK_VOLUME_DOWN", empty, empty],
      [1, 134, "NumpadComma", 110, "NumPad_Separator", 108, "VK_SEPARATOR", empty, empty],
      [0, 135, "IntlRo", 115, "ABNT_C1", 193, "VK_ABNT_C1", empty, empty],
      [1, 136, "KanaMode", 0, empty, 0, empty, empty, empty],
      [0, 137, "IntlYen", 0, empty, 0, empty, empty, empty],
      [1, 138, "Convert", 0, empty, 0, empty, empty, empty],
      [1, 139, "NonConvert", 0, empty, 0, empty, empty, empty],
      [1, 140, "Lang1", 0, empty, 0, empty, empty, empty],
      [1, 141, "Lang2", 0, empty, 0, empty, empty, empty],
      [1, 142, "Lang3", 0, empty, 0, empty, empty, empty],
      [1, 143, "Lang4", 0, empty, 0, empty, empty, empty],
      [1, 144, "Lang5", 0, empty, 0, empty, empty, empty],
      [1, 145, "Abort", 0, empty, 0, empty, empty, empty],
      [1, 146, "Props", 0, empty, 0, empty, empty, empty],
      [1, 147, "NumpadParenLeft", 0, empty, 0, empty, empty, empty],
      [1, 148, "NumpadParenRight", 0, empty, 0, empty, empty, empty],
      [1, 149, "NumpadBackspace", 0, empty, 0, empty, empty, empty],
      [1, 150, "NumpadMemoryStore", 0, empty, 0, empty, empty, empty],
      [1, 151, "NumpadMemoryRecall", 0, empty, 0, empty, empty, empty],
      [1, 152, "NumpadMemoryClear", 0, empty, 0, empty, empty, empty],
      [1, 153, "NumpadMemoryAdd", 0, empty, 0, empty, empty, empty],
      [1, 154, "NumpadMemorySubtract", 0, empty, 0, empty, empty, empty],
      [1, 155, "NumpadClear", 131, "Clear", 12, "VK_CLEAR", empty, empty],
      [1, 156, "NumpadClearEntry", 0, empty, 0, empty, empty, empty],
      [1, 0, empty, 5, "Ctrl", 17, "VK_CONTROL", empty, empty],
      [1, 0, empty, 4, "Shift", 16, "VK_SHIFT", empty, empty],
      [1, 0, empty, 6, "Alt", 18, "VK_MENU", empty, empty],
      [1, 0, empty, 57, "Meta", 91, "VK_COMMAND", empty, empty],
      [1, 157, "ControlLeft", 5, empty, 0, "VK_LCONTROL", empty, empty],
      [1, 158, "ShiftLeft", 4, empty, 0, "VK_LSHIFT", empty, empty],
      [1, 159, "AltLeft", 6, empty, 0, "VK_LMENU", empty, empty],
      [1, 160, "MetaLeft", 57, empty, 0, "VK_LWIN", empty, empty],
      [1, 161, "ControlRight", 5, empty, 0, "VK_RCONTROL", empty, empty],
      [1, 162, "ShiftRight", 4, empty, 0, "VK_RSHIFT", empty, empty],
      [1, 163, "AltRight", 6, empty, 0, "VK_RMENU", empty, empty],
      [1, 164, "MetaRight", 57, empty, 0, "VK_RWIN", empty, empty],
      [1, 165, "BrightnessUp", 0, empty, 0, empty, empty, empty],
      [1, 166, "BrightnessDown", 0, empty, 0, empty, empty, empty],
      [1, 167, "MediaPlay", 0, empty, 0, empty, empty, empty],
      [1, 168, "MediaRecord", 0, empty, 0, empty, empty, empty],
      [1, 169, "MediaFastForward", 0, empty, 0, empty, empty, empty],
      [1, 170, "MediaRewind", 0, empty, 0, empty, empty, empty],
      [1, 171, "MediaTrackNext", 124, "MediaTrackNext", 176, "VK_MEDIA_NEXT_TRACK", empty, empty],
      [1, 172, "MediaTrackPrevious", 125, "MediaTrackPrevious", 177, "VK_MEDIA_PREV_TRACK", empty, empty],
      [1, 173, "MediaStop", 126, "MediaStop", 178, "VK_MEDIA_STOP", empty, empty],
      [1, 174, "Eject", 0, empty, 0, empty, empty, empty],
      [1, 175, "MediaPlayPause", 127, "MediaPlayPause", 179, "VK_MEDIA_PLAY_PAUSE", empty, empty],
      [1, 176, "MediaSelect", 128, "LaunchMediaPlayer", 181, "VK_MEDIA_LAUNCH_MEDIA_SELECT", empty, empty],
      [1, 177, "LaunchMail", 129, "LaunchMail", 180, "VK_MEDIA_LAUNCH_MAIL", empty, empty],
      [1, 178, "LaunchApp2", 130, "LaunchApp2", 183, "VK_MEDIA_LAUNCH_APP2", empty, empty],
      [1, 179, "LaunchApp1", 0, empty, 0, "VK_MEDIA_LAUNCH_APP1", empty, empty],
      [1, 180, "SelectTask", 0, empty, 0, empty, empty, empty],
      [1, 181, "LaunchScreenSaver", 0, empty, 0, empty, empty, empty],
      [1, 182, "BrowserSearch", 120, "BrowserSearch", 170, "VK_BROWSER_SEARCH", empty, empty],
      [1, 183, "BrowserHome", 121, "BrowserHome", 172, "VK_BROWSER_HOME", empty, empty],
      [1, 184, "BrowserBack", 122, "BrowserBack", 166, "VK_BROWSER_BACK", empty, empty],
      [1, 185, "BrowserForward", 123, "BrowserForward", 167, "VK_BROWSER_FORWARD", empty, empty],
      [1, 186, "BrowserStop", 0, empty, 0, "VK_BROWSER_STOP", empty, empty],
      [1, 187, "BrowserRefresh", 0, empty, 0, "VK_BROWSER_REFRESH", empty, empty],
      [1, 188, "BrowserFavorites", 0, empty, 0, "VK_BROWSER_FAVORITES", empty, empty],
      [1, 189, "ZoomToggle", 0, empty, 0, empty, empty, empty],
      [1, 190, "MailReply", 0, empty, 0, empty, empty, empty],
      [1, 191, "MailForward", 0, empty, 0, empty, empty, empty],
      [1, 192, "MailSend", 0, empty, 0, empty, empty, empty],
      // See https://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html
      // If an Input Method Editor is processing key input and the event is keydown, return 229.
      [1, 0, empty, 114, "KeyInComposition", 229, empty, empty, empty],
      [1, 0, empty, 116, "ABNT_C2", 194, "VK_ABNT_C2", empty, empty],
      [1, 0, empty, 96, "OEM_8", 223, "VK_OEM_8", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_KANA", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_HANGUL", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_JUNJA", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_FINAL", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_HANJA", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_KANJI", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_CONVERT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_NONCONVERT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_ACCEPT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_MODECHANGE", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_SELECT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_PRINT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_EXECUTE", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_SNAPSHOT", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_HELP", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_APPS", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_PROCESSKEY", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_PACKET", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_DBE_SBCSCHAR", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_DBE_DBCSCHAR", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_ATTN", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_CRSEL", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_EXSEL", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_EREOF", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_PLAY", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_ZOOM", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_NONAME", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_PA1", empty, empty],
      [1, 0, empty, 0, empty, 0, "VK_OEM_CLEAR", empty, empty]
    ];
    const seenKeyCode = [];
    const seenScanCode = [];
    for (const mapping of mappings) {
      const [immutable, scanCode, scanCodeStr, keyCode, keyCodeStr, eventKeyCode, vkey, usUserSettingsLabel, generalUserSettingsLabel] = mapping;
      if (!seenScanCode[scanCode]) {
        seenScanCode[scanCode] = true;
        scanCodeStrToInt[scanCodeStr] = scanCode;
        scanCodeLowerCaseStrToInt[scanCodeStr.toLowerCase()] = scanCode;
      }
      if (!seenKeyCode[keyCode]) {
        seenKeyCode[keyCode] = true;
        if (!keyCodeStr) {
          throw new Error(`String representation missing for key code ${keyCode} around scan code ${scanCodeStr}`);
        }
        uiMap.define(keyCode, keyCodeStr);
        userSettingsUSMap.define(keyCode, usUserSettingsLabel || keyCodeStr);
        userSettingsGeneralMap.define(keyCode, generalUserSettingsLabel || usUserSettingsLabel || keyCodeStr);
      }
      if (eventKeyCode) {
        EVENT_KEY_CODE_MAP[eventKeyCode] = keyCode;
      }
    }
  })();
  var KeyCodeUtils;
  (function(KeyCodeUtils2) {
    function toString(keyCode) {
      return uiMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toString = toString;
    function fromString(key) {
      return uiMap.strToKeyCode(key);
    }
    KeyCodeUtils2.fromString = fromString;
    function toUserSettingsUS(keyCode) {
      return userSettingsUSMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toUserSettingsUS = toUserSettingsUS;
    function toUserSettingsGeneral(keyCode) {
      return userSettingsGeneralMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toUserSettingsGeneral = toUserSettingsGeneral;
    function fromUserSettings(key) {
      return userSettingsUSMap.strToKeyCode(key) || userSettingsGeneralMap.strToKeyCode(key);
    }
    KeyCodeUtils2.fromUserSettings = fromUserSettings;
    function toElectronAccelerator(keyCode) {
      if (keyCode >= 98 && keyCode <= 113) {
        return null;
      }
      switch (keyCode) {
        case 16:
          return "Up";
        case 18:
          return "Down";
        case 15:
          return "Left";
        case 17:
          return "Right";
      }
      return uiMap.keyCodeToStr(keyCode);
    }
    KeyCodeUtils2.toElectronAccelerator = toElectronAccelerator;
  })(KeyCodeUtils || (KeyCodeUtils = {}));
  function KeyChord(firstPart, secondPart) {
    const chordPart = (secondPart & 65535) << 16 >>> 0;
    return (firstPart | chordPart) >>> 0;
  }
  class Selection extends Range$1 {
    constructor(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn) {
      super(selectionStartLineNumber, selectionStartColumn, positionLineNumber, positionColumn);
      this.selectionStartLineNumber = selectionStartLineNumber;
      this.selectionStartColumn = selectionStartColumn;
      this.positionLineNumber = positionLineNumber;
      this.positionColumn = positionColumn;
    }
    /**
     * Transform to a human-readable representation.
     */
    toString() {
      return "[" + this.selectionStartLineNumber + "," + this.selectionStartColumn + " -> " + this.positionLineNumber + "," + this.positionColumn + "]";
    }
    /**
     * Test if equals other selection.
     */
    equalsSelection(other) {
      return Selection.selectionsEqual(this, other);
    }
    /**
     * Test if the two selections are equal.
     */
    static selectionsEqual(a2, b) {
      return a2.selectionStartLineNumber === b.selectionStartLineNumber && a2.selectionStartColumn === b.selectionStartColumn && a2.positionLineNumber === b.positionLineNumber && a2.positionColumn === b.positionColumn;
    }
    /**
     * Get directions (LTR or RTL).
     */
    getDirection() {
      if (this.selectionStartLineNumber === this.startLineNumber && this.selectionStartColumn === this.startColumn) {
        return 0;
      }
      return 1;
    }
    /**
     * Create a new selection with a different `positionLineNumber` and `positionColumn`.
     */
    setEndPosition(endLineNumber, endColumn) {
      if (this.getDirection() === 0) {
        return new Selection(this.startLineNumber, this.startColumn, endLineNumber, endColumn);
      }
      return new Selection(endLineNumber, endColumn, this.startLineNumber, this.startColumn);
    }
    /**
     * Get the position at `positionLineNumber` and `positionColumn`.
     */
    getPosition() {
      return new Position$1(this.positionLineNumber, this.positionColumn);
    }
    /**
     * Get the position at the start of the selection.
    */
    getSelectionStart() {
      return new Position$1(this.selectionStartLineNumber, this.selectionStartColumn);
    }
    /**
     * Create a new selection with a different `selectionStartLineNumber` and `selectionStartColumn`.
     */
    setStartPosition(startLineNumber, startColumn) {
      if (this.getDirection() === 0) {
        return new Selection(startLineNumber, startColumn, this.endLineNumber, this.endColumn);
      }
      return new Selection(this.endLineNumber, this.endColumn, startLineNumber, startColumn);
    }
    // ----
    /**
     * Create a `Selection` from one or two positions
     */
    static fromPositions(start, end = start) {
      return new Selection(start.lineNumber, start.column, end.lineNumber, end.column);
    }
    /**
     * Creates a `Selection` from a range, given a direction.
     */
    static fromRange(range, direction) {
      if (direction === 0) {
        return new Selection(range.startLineNumber, range.startColumn, range.endLineNumber, range.endColumn);
      } else {
        return new Selection(range.endLineNumber, range.endColumn, range.startLineNumber, range.startColumn);
      }
    }
    /**
     * Create a `Selection` from an `ISelection`.
     */
    static liftSelection(sel) {
      return new Selection(sel.selectionStartLineNumber, sel.selectionStartColumn, sel.positionLineNumber, sel.positionColumn);
    }
    /**
     * `a` equals `b`.
     */
    static selectionsArrEqual(a2, b) {
      if (a2 && !b || !a2 && b) {
        return false;
      }
      if (!a2 && !b) {
        return true;
      }
      if (a2.length !== b.length) {
        return false;
      }
      for (let i = 0, len = a2.length; i < len; i++) {
        if (!this.selectionsEqual(a2[i], b[i])) {
          return false;
        }
      }
      return true;
    }
    /**
     * Test if `obj` is an `ISelection`.
     */
    static isISelection(obj) {
      return obj && typeof obj.selectionStartLineNumber === "number" && typeof obj.selectionStartColumn === "number" && typeof obj.positionLineNumber === "number" && typeof obj.positionColumn === "number";
    }
    /**
     * Create with a direction.
     */
    static createWithDirection(startLineNumber, startColumn, endLineNumber, endColumn, direction) {
      if (direction === 0) {
        return new Selection(startLineNumber, startColumn, endLineNumber, endColumn);
      }
      return new Selection(endLineNumber, endColumn, startLineNumber, startColumn);
    }
  }
  const _codiconFontCharacters = /* @__PURE__ */ Object.create(null);
  function register(id, fontCharacter) {
    if (isString$1(fontCharacter)) {
      const val = _codiconFontCharacters[fontCharacter];
      if (val === void 0) {
        throw new Error(`${id} references an unknown codicon: ${fontCharacter}`);
      }
      fontCharacter = val;
    }
    _codiconFontCharacters[id] = fontCharacter;
    return { id };
  }
  const Codicon = {
    // built-in icons, with image name
    add: register("add", 6e4),
    plus: register("plus", 6e4),
    gistNew: register("gist-new", 6e4),
    repoCreate: register("repo-create", 6e4),
    lightbulb: register("lightbulb", 60001),
    lightBulb: register("light-bulb", 60001),
    repo: register("repo", 60002),
    repoDelete: register("repo-delete", 60002),
    gistFork: register("gist-fork", 60003),
    repoForked: register("repo-forked", 60003),
    gitPullRequest: register("git-pull-request", 60004),
    gitPullRequestAbandoned: register("git-pull-request-abandoned", 60004),
    recordKeys: register("record-keys", 60005),
    keyboard: register("keyboard", 60005),
    tag: register("tag", 60006),
    tagAdd: register("tag-add", 60006),
    tagRemove: register("tag-remove", 60006),
    gitPullRequestLabel: register("git-pull-request-label", 60006),
    person: register("person", 60007),
    personFollow: register("person-follow", 60007),
    personOutline: register("person-outline", 60007),
    personFilled: register("person-filled", 60007),
    gitBranch: register("git-branch", 60008),
    gitBranchCreate: register("git-branch-create", 60008),
    gitBranchDelete: register("git-branch-delete", 60008),
    sourceControl: register("source-control", 60008),
    mirror: register("mirror", 60009),
    mirrorPublic: register("mirror-public", 60009),
    star: register("star", 60010),
    starAdd: register("star-add", 60010),
    starDelete: register("star-delete", 60010),
    starEmpty: register("star-empty", 60010),
    comment: register("comment", 60011),
    commentAdd: register("comment-add", 60011),
    alert: register("alert", 60012),
    warning: register("warning", 60012),
    search: register("search", 60013),
    searchSave: register("search-save", 60013),
    logOut: register("log-out", 60014),
    signOut: register("sign-out", 60014),
    logIn: register("log-in", 60015),
    signIn: register("sign-in", 60015),
    eye: register("eye", 60016),
    eyeUnwatch: register("eye-unwatch", 60016),
    eyeWatch: register("eye-watch", 60016),
    circleFilled: register("circle-filled", 60017),
    primitiveDot: register("primitive-dot", 60017),
    closeDirty: register("close-dirty", 60017),
    debugBreakpoint: register("debug-breakpoint", 60017),
    debugBreakpointDisabled: register("debug-breakpoint-disabled", 60017),
    debugHint: register("debug-hint", 60017),
    primitiveSquare: register("primitive-square", 60018),
    edit: register("edit", 60019),
    pencil: register("pencil", 60019),
    info: register("info", 60020),
    issueOpened: register("issue-opened", 60020),
    gistPrivate: register("gist-private", 60021),
    gitForkPrivate: register("git-fork-private", 60021),
    lock: register("lock", 60021),
    mirrorPrivate: register("mirror-private", 60021),
    close: register("close", 60022),
    removeClose: register("remove-close", 60022),
    x: register("x", 60022),
    repoSync: register("repo-sync", 60023),
    sync: register("sync", 60023),
    clone: register("clone", 60024),
    desktopDownload: register("desktop-download", 60024),
    beaker: register("beaker", 60025),
    microscope: register("microscope", 60025),
    vm: register("vm", 60026),
    deviceDesktop: register("device-desktop", 60026),
    file: register("file", 60027),
    fileText: register("file-text", 60027),
    more: register("more", 60028),
    ellipsis: register("ellipsis", 60028),
    kebabHorizontal: register("kebab-horizontal", 60028),
    mailReply: register("mail-reply", 60029),
    reply: register("reply", 60029),
    organization: register("organization", 60030),
    organizationFilled: register("organization-filled", 60030),
    organizationOutline: register("organization-outline", 60030),
    newFile: register("new-file", 60031),
    fileAdd: register("file-add", 60031),
    newFolder: register("new-folder", 60032),
    fileDirectoryCreate: register("file-directory-create", 60032),
    trash: register("trash", 60033),
    trashcan: register("trashcan", 60033),
    history: register("history", 60034),
    clock: register("clock", 60034),
    folder: register("folder", 60035),
    fileDirectory: register("file-directory", 60035),
    symbolFolder: register("symbol-folder", 60035),
    logoGithub: register("logo-github", 60036),
    markGithub: register("mark-github", 60036),
    github: register("github", 60036),
    terminal: register("terminal", 60037),
    console: register("console", 60037),
    repl: register("repl", 60037),
    zap: register("zap", 60038),
    symbolEvent: register("symbol-event", 60038),
    error: register("error", 60039),
    stop: register("stop", 60039),
    variable: register("variable", 60040),
    symbolVariable: register("symbol-variable", 60040),
    array: register("array", 60042),
    symbolArray: register("symbol-array", 60042),
    symbolModule: register("symbol-module", 60043),
    symbolPackage: register("symbol-package", 60043),
    symbolNamespace: register("symbol-namespace", 60043),
    symbolObject: register("symbol-object", 60043),
    symbolMethod: register("symbol-method", 60044),
    symbolFunction: register("symbol-function", 60044),
    symbolConstructor: register("symbol-constructor", 60044),
    symbolBoolean: register("symbol-boolean", 60047),
    symbolNull: register("symbol-null", 60047),
    symbolNumeric: register("symbol-numeric", 60048),
    symbolNumber: register("symbol-number", 60048),
    symbolStructure: register("symbol-structure", 60049),
    symbolStruct: register("symbol-struct", 60049),
    symbolParameter: register("symbol-parameter", 60050),
    symbolTypeParameter: register("symbol-type-parameter", 60050),
    symbolKey: register("symbol-key", 60051),
    symbolText: register("symbol-text", 60051),
    symbolReference: register("symbol-reference", 60052),
    goToFile: register("go-to-file", 60052),
    symbolEnum: register("symbol-enum", 60053),
    symbolValue: register("symbol-value", 60053),
    symbolRuler: register("symbol-ruler", 60054),
    symbolUnit: register("symbol-unit", 60054),
    activateBreakpoints: register("activate-breakpoints", 60055),
    archive: register("archive", 60056),
    arrowBoth: register("arrow-both", 60057),
    arrowDown: register("arrow-down", 60058),
    arrowLeft: register("arrow-left", 60059),
    arrowRight: register("arrow-right", 60060),
    arrowSmallDown: register("arrow-small-down", 60061),
    arrowSmallLeft: register("arrow-small-left", 60062),
    arrowSmallRight: register("arrow-small-right", 60063),
    arrowSmallUp: register("arrow-small-up", 60064),
    arrowUp: register("arrow-up", 60065),
    bell: register("bell", 60066),
    bold: register("bold", 60067),
    book: register("book", 60068),
    bookmark: register("bookmark", 60069),
    debugBreakpointConditionalUnverified: register("debug-breakpoint-conditional-unverified", 60070),
    debugBreakpointConditional: register("debug-breakpoint-conditional", 60071),
    debugBreakpointConditionalDisabled: register("debug-breakpoint-conditional-disabled", 60071),
    debugBreakpointDataUnverified: register("debug-breakpoint-data-unverified", 60072),
    debugBreakpointData: register("debug-breakpoint-data", 60073),
    debugBreakpointDataDisabled: register("debug-breakpoint-data-disabled", 60073),
    debugBreakpointLogUnverified: register("debug-breakpoint-log-unverified", 60074),
    debugBreakpointLog: register("debug-breakpoint-log", 60075),
    debugBreakpointLogDisabled: register("debug-breakpoint-log-disabled", 60075),
    briefcase: register("briefcase", 60076),
    broadcast: register("broadcast", 60077),
    browser: register("browser", 60078),
    bug: register("bug", 60079),
    calendar: register("calendar", 60080),
    caseSensitive: register("case-sensitive", 60081),
    check: register("check", 60082),
    checklist: register("checklist", 60083),
    chevronDown: register("chevron-down", 60084),
    dropDownButton: register("drop-down-button", 60084),
    chevronLeft: register("chevron-left", 60085),
    chevronRight: register("chevron-right", 60086),
    chevronUp: register("chevron-up", 60087),
    chromeClose: register("chrome-close", 60088),
    chromeMaximize: register("chrome-maximize", 60089),
    chromeMinimize: register("chrome-minimize", 60090),
    chromeRestore: register("chrome-restore", 60091),
    circle: register("circle", 60092),
    circleOutline: register("circle-outline", 60092),
    debugBreakpointUnverified: register("debug-breakpoint-unverified", 60092),
    circleSlash: register("circle-slash", 60093),
    circuitBoard: register("circuit-board", 60094),
    clearAll: register("clear-all", 60095),
    clippy: register("clippy", 60096),
    closeAll: register("close-all", 60097),
    cloudDownload: register("cloud-download", 60098),
    cloudUpload: register("cloud-upload", 60099),
    code: register("code", 60100),
    collapseAll: register("collapse-all", 60101),
    colorMode: register("color-mode", 60102),
    commentDiscussion: register("comment-discussion", 60103),
    compareChanges: register("compare-changes", 60157),
    creditCard: register("credit-card", 60105),
    dash: register("dash", 60108),
    dashboard: register("dashboard", 60109),
    database: register("database", 60110),
    debugContinue: register("debug-continue", 60111),
    debugDisconnect: register("debug-disconnect", 60112),
    debugPause: register("debug-pause", 60113),
    debugRestart: register("debug-restart", 60114),
    debugStart: register("debug-start", 60115),
    debugStepInto: register("debug-step-into", 60116),
    debugStepOut: register("debug-step-out", 60117),
    debugStepOver: register("debug-step-over", 60118),
    debugStop: register("debug-stop", 60119),
    debug: register("debug", 60120),
    deviceCameraVideo: register("device-camera-video", 60121),
    deviceCamera: register("device-camera", 60122),
    deviceMobile: register("device-mobile", 60123),
    diffAdded: register("diff-added", 60124),
    diffIgnored: register("diff-ignored", 60125),
    diffModified: register("diff-modified", 60126),
    diffRemoved: register("diff-removed", 60127),
    diffRenamed: register("diff-renamed", 60128),
    diff: register("diff", 60129),
    discard: register("discard", 60130),
    editorLayout: register("editor-layout", 60131),
    emptyWindow: register("empty-window", 60132),
    exclude: register("exclude", 60133),
    extensions: register("extensions", 60134),
    eyeClosed: register("eye-closed", 60135),
    fileBinary: register("file-binary", 60136),
    fileCode: register("file-code", 60137),
    fileMedia: register("file-media", 60138),
    filePdf: register("file-pdf", 60139),
    fileSubmodule: register("file-submodule", 60140),
    fileSymlinkDirectory: register("file-symlink-directory", 60141),
    fileSymlinkFile: register("file-symlink-file", 60142),
    fileZip: register("file-zip", 60143),
    files: register("files", 60144),
    filter: register("filter", 60145),
    flame: register("flame", 60146),
    foldDown: register("fold-down", 60147),
    foldUp: register("fold-up", 60148),
    fold: register("fold", 60149),
    folderActive: register("folder-active", 60150),
    folderOpened: register("folder-opened", 60151),
    gear: register("gear", 60152),
    gift: register("gift", 60153),
    gistSecret: register("gist-secret", 60154),
    gist: register("gist", 60155),
    gitCommit: register("git-commit", 60156),
    gitCompare: register("git-compare", 60157),
    gitMerge: register("git-merge", 60158),
    githubAction: register("github-action", 60159),
    githubAlt: register("github-alt", 60160),
    globe: register("globe", 60161),
    grabber: register("grabber", 60162),
    graph: register("graph", 60163),
    gripper: register("gripper", 60164),
    heart: register("heart", 60165),
    home: register("home", 60166),
    horizontalRule: register("horizontal-rule", 60167),
    hubot: register("hubot", 60168),
    inbox: register("inbox", 60169),
    issueClosed: register("issue-closed", 60324),
    issueReopened: register("issue-reopened", 60171),
    issues: register("issues", 60172),
    italic: register("italic", 60173),
    jersey: register("jersey", 60174),
    json: register("json", 60175),
    bracket: register("bracket", 60175),
    kebabVertical: register("kebab-vertical", 60176),
    key: register("key", 60177),
    law: register("law", 60178),
    lightbulbAutofix: register("lightbulb-autofix", 60179),
    linkExternal: register("link-external", 60180),
    link: register("link", 60181),
    listOrdered: register("list-ordered", 60182),
    listUnordered: register("list-unordered", 60183),
    liveShare: register("live-share", 60184),
    loading: register("loading", 60185),
    location: register("location", 60186),
    mailRead: register("mail-read", 60187),
    mail: register("mail", 60188),
    markdown: register("markdown", 60189),
    megaphone: register("megaphone", 60190),
    mention: register("mention", 60191),
    milestone: register("milestone", 60192),
    gitPullRequestMilestone: register("git-pull-request-milestone", 60192),
    mortarBoard: register("mortar-board", 60193),
    move: register("move", 60194),
    multipleWindows: register("multiple-windows", 60195),
    mute: register("mute", 60196),
    noNewline: register("no-newline", 60197),
    note: register("note", 60198),
    octoface: register("octoface", 60199),
    openPreview: register("open-preview", 60200),
    package: register("package", 60201),
    paintcan: register("paintcan", 60202),
    pin: register("pin", 60203),
    play: register("play", 60204),
    run: register("run", 60204),
    plug: register("plug", 60205),
    preserveCase: register("preserve-case", 60206),
    preview: register("preview", 60207),
    project: register("project", 60208),
    pulse: register("pulse", 60209),
    question: register("question", 60210),
    quote: register("quote", 60211),
    radioTower: register("radio-tower", 60212),
    reactions: register("reactions", 60213),
    references: register("references", 60214),
    refresh: register("refresh", 60215),
    regex: register("regex", 60216),
    remoteExplorer: register("remote-explorer", 60217),
    remote: register("remote", 60218),
    remove: register("remove", 60219),
    replaceAll: register("replace-all", 60220),
    replace: register("replace", 60221),
    repoClone: register("repo-clone", 60222),
    repoForcePush: register("repo-force-push", 60223),
    repoPull: register("repo-pull", 60224),
    repoPush: register("repo-push", 60225),
    report: register("report", 60226),
    requestChanges: register("request-changes", 60227),
    rocket: register("rocket", 60228),
    rootFolderOpened: register("root-folder-opened", 60229),
    rootFolder: register("root-folder", 60230),
    rss: register("rss", 60231),
    ruby: register("ruby", 60232),
    saveAll: register("save-all", 60233),
    saveAs: register("save-as", 60234),
    save: register("save", 60235),
    screenFull: register("screen-full", 60236),
    screenNormal: register("screen-normal", 60237),
    searchStop: register("search-stop", 60238),
    server: register("server", 60240),
    settingsGear: register("settings-gear", 60241),
    settings: register("settings", 60242),
    shield: register("shield", 60243),
    smiley: register("smiley", 60244),
    sortPrecedence: register("sort-precedence", 60245),
    splitHorizontal: register("split-horizontal", 60246),
    splitVertical: register("split-vertical", 60247),
    squirrel: register("squirrel", 60248),
    starFull: register("star-full", 60249),
    starHalf: register("star-half", 60250),
    symbolClass: register("symbol-class", 60251),
    symbolColor: register("symbol-color", 60252),
    symbolCustomColor: register("symbol-customcolor", 60252),
    symbolConstant: register("symbol-constant", 60253),
    symbolEnumMember: register("symbol-enum-member", 60254),
    symbolField: register("symbol-field", 60255),
    symbolFile: register("symbol-file", 60256),
    symbolInterface: register("symbol-interface", 60257),
    symbolKeyword: register("symbol-keyword", 60258),
    symbolMisc: register("symbol-misc", 60259),
    symbolOperator: register("symbol-operator", 60260),
    symbolProperty: register("symbol-property", 60261),
    wrench: register("wrench", 60261),
    wrenchSubaction: register("wrench-subaction", 60261),
    symbolSnippet: register("symbol-snippet", 60262),
    tasklist: register("tasklist", 60263),
    telescope: register("telescope", 60264),
    textSize: register("text-size", 60265),
    threeBars: register("three-bars", 60266),
    thumbsdown: register("thumbsdown", 60267),
    thumbsup: register("thumbsup", 60268),
    tools: register("tools", 60269),
    triangleDown: register("triangle-down", 60270),
    triangleLeft: register("triangle-left", 60271),
    triangleRight: register("triangle-right", 60272),
    triangleUp: register("triangle-up", 60273),
    twitter: register("twitter", 60274),
    unfold: register("unfold", 60275),
    unlock: register("unlock", 60276),
    unmute: register("unmute", 60277),
    unverified: register("unverified", 60278),
    verified: register("verified", 60279),
    versions: register("versions", 60280),
    vmActive: register("vm-active", 60281),
    vmOutline: register("vm-outline", 60282),
    vmRunning: register("vm-running", 60283),
    watch: register("watch", 60284),
    whitespace: register("whitespace", 60285),
    wholeWord: register("whole-word", 60286),
    window: register("window", 60287),
    wordWrap: register("word-wrap", 60288),
    zoomIn: register("zoom-in", 60289),
    zoomOut: register("zoom-out", 60290),
    listFilter: register("list-filter", 60291),
    listFlat: register("list-flat", 60292),
    listSelection: register("list-selection", 60293),
    selection: register("selection", 60293),
    listTree: register("list-tree", 60294),
    debugBreakpointFunctionUnverified: register("debug-breakpoint-function-unverified", 60295),
    debugBreakpointFunction: register("debug-breakpoint-function", 60296),
    debugBreakpointFunctionDisabled: register("debug-breakpoint-function-disabled", 60296),
    debugStackframeActive: register("debug-stackframe-active", 60297),
    circleSmallFilled: register("circle-small-filled", 60298),
    debugStackframeDot: register("debug-stackframe-dot", 60298),
    debugStackframe: register("debug-stackframe", 60299),
    debugStackframeFocused: register("debug-stackframe-focused", 60299),
    debugBreakpointUnsupported: register("debug-breakpoint-unsupported", 60300),
    symbolString: register("symbol-string", 60301),
    debugReverseContinue: register("debug-reverse-continue", 60302),
    debugStepBack: register("debug-step-back", 60303),
    debugRestartFrame: register("debug-restart-frame", 60304),
    callIncoming: register("call-incoming", 60306),
    callOutgoing: register("call-outgoing", 60307),
    menu: register("menu", 60308),
    expandAll: register("expand-all", 60309),
    feedback: register("feedback", 60310),
    gitPullRequestReviewer: register("git-pull-request-reviewer", 60310),
    groupByRefType: register("group-by-ref-type", 60311),
    ungroupByRefType: register("ungroup-by-ref-type", 60312),
    account: register("account", 60313),
    gitPullRequestAssignee: register("git-pull-request-assignee", 60313),
    bellDot: register("bell-dot", 60314),
    debugConsole: register("debug-console", 60315),
    library: register("library", 60316),
    output: register("output", 60317),
    runAll: register("run-all", 60318),
    syncIgnored: register("sync-ignored", 60319),
    pinned: register("pinned", 60320),
    githubInverted: register("github-inverted", 60321),
    debugAlt: register("debug-alt", 60305),
    serverProcess: register("server-process", 60322),
    serverEnvironment: register("server-environment", 60323),
    pass: register("pass", 60324),
    stopCircle: register("stop-circle", 60325),
    playCircle: register("play-circle", 60326),
    record: register("record", 60327),
    debugAltSmall: register("debug-alt-small", 60328),
    vmConnect: register("vm-connect", 60329),
    cloud: register("cloud", 60330),
    merge: register("merge", 60331),
    exportIcon: register("export", 60332),
    graphLeft: register("graph-left", 60333),
    magnet: register("magnet", 60334),
    notebook: register("notebook", 60335),
    redo: register("redo", 60336),
    checkAll: register("check-all", 60337),
    pinnedDirty: register("pinned-dirty", 60338),
    passFilled: register("pass-filled", 60339),
    circleLargeFilled: register("circle-large-filled", 60340),
    circleLarge: register("circle-large", 60341),
    circleLargeOutline: register("circle-large-outline", 60341),
    combine: register("combine", 60342),
    gather: register("gather", 60342),
    table: register("table", 60343),
    variableGroup: register("variable-group", 60344),
    typeHierarchy: register("type-hierarchy", 60345),
    typeHierarchySub: register("type-hierarchy-sub", 60346),
    typeHierarchySuper: register("type-hierarchy-super", 60347),
    gitPullRequestCreate: register("git-pull-request-create", 60348),
    runAbove: register("run-above", 60349),
    runBelow: register("run-below", 60350),
    notebookTemplate: register("notebook-template", 60351),
    debugRerun: register("debug-rerun", 60352),
    workspaceTrusted: register("workspace-trusted", 60353),
    workspaceUntrusted: register("workspace-untrusted", 60354),
    workspaceUnspecified: register("workspace-unspecified", 60355),
    terminalCmd: register("terminal-cmd", 60356),
    terminalDebian: register("terminal-debian", 60357),
    terminalLinux: register("terminal-linux", 60358),
    terminalPowershell: register("terminal-powershell", 60359),
    terminalTmux: register("terminal-tmux", 60360),
    terminalUbuntu: register("terminal-ubuntu", 60361),
    terminalBash: register("terminal-bash", 60362),
    arrowSwap: register("arrow-swap", 60363),
    copy: register("copy", 60364),
    personAdd: register("person-add", 60365),
    filterFilled: register("filter-filled", 60366),
    wand: register("wand", 60367),
    debugLineByLine: register("debug-line-by-line", 60368),
    inspect: register("inspect", 60369),
    layers: register("layers", 60370),
    layersDot: register("layers-dot", 60371),
    layersActive: register("layers-active", 60372),
    compass: register("compass", 60373),
    compassDot: register("compass-dot", 60374),
    compassActive: register("compass-active", 60375),
    azure: register("azure", 60376),
    issueDraft: register("issue-draft", 60377),
    gitPullRequestClosed: register("git-pull-request-closed", 60378),
    gitPullRequestDraft: register("git-pull-request-draft", 60379),
    debugAll: register("debug-all", 60380),
    debugCoverage: register("debug-coverage", 60381),
    runErrors: register("run-errors", 60382),
    folderLibrary: register("folder-library", 60383),
    debugContinueSmall: register("debug-continue-small", 60384),
    beakerStop: register("beaker-stop", 60385),
    graphLine: register("graph-line", 60386),
    graphScatter: register("graph-scatter", 60387),
    pieChart: register("pie-chart", 60388),
    bracketDot: register("bracket-dot", 60389),
    bracketError: register("bracket-error", 60390),
    lockSmall: register("lock-small", 60391),
    azureDevops: register("azure-devops", 60392),
    verifiedFilled: register("verified-filled", 60393),
    newLine: register("newline", 60394),
    layout: register("layout", 60395),
    layoutActivitybarLeft: register("layout-activitybar-left", 60396),
    layoutActivitybarRight: register("layout-activitybar-right", 60397),
    layoutPanelLeft: register("layout-panel-left", 60398),
    layoutPanelCenter: register("layout-panel-center", 60399),
    layoutPanelJustify: register("layout-panel-justify", 60400),
    layoutPanelRight: register("layout-panel-right", 60401),
    layoutPanel: register("layout-panel", 60402),
    layoutSidebarLeft: register("layout-sidebar-left", 60403),
    layoutSidebarRight: register("layout-sidebar-right", 60404),
    layoutStatusbar: register("layout-statusbar", 60405),
    layoutMenubar: register("layout-menubar", 60406),
    layoutCentered: register("layout-centered", 60407),
    layoutSidebarRightOff: register("layout-sidebar-right-off", 60416),
    layoutPanelOff: register("layout-panel-off", 60417),
    layoutSidebarLeftOff: register("layout-sidebar-left-off", 60418),
    target: register("target", 60408),
    indent: register("indent", 60409),
    recordSmall: register("record-small", 60410),
    errorSmall: register("error-small", 60411),
    arrowCircleDown: register("arrow-circle-down", 60412),
    arrowCircleLeft: register("arrow-circle-left", 60413),
    arrowCircleRight: register("arrow-circle-right", 60414),
    arrowCircleUp: register("arrow-circle-up", 60415),
    heartFilled: register("heart-filled", 60420),
    map: register("map", 60421),
    mapFilled: register("map-filled", 60422),
    circleSmall: register("circle-small", 60423),
    bellSlash: register("bell-slash", 60424),
    bellSlashDot: register("bell-slash-dot", 60425),
    commentUnresolved: register("comment-unresolved", 60426),
    gitPullRequestGoToChanges: register("git-pull-request-go-to-changes", 60427),
    gitPullRequestNewChanges: register("git-pull-request-new-changes", 60428),
    searchFuzzy: register("search-fuzzy", 60429),
    commentDraft: register("comment-draft", 60430),
    send: register("send", 60431),
    sparkle: register("sparkle", 60432),
    insert: register("insert", 60433),
    mic: register("mic", 60434),
    thumbsDownFilled: register("thumbsdown-filled", 60435),
    thumbsUpFilled: register("thumbsup-filled", 60436),
    coffee: register("coffee", 60437),
    snake: register("snake", 60438),
    game: register("game", 60439),
    vr: register("vr", 60440),
    chip: register("chip", 60441),
    piano: register("piano", 60442),
    music: register("music", 60443),
    micFilled: register("mic-filled", 60444),
    gitFetch: register("git-fetch", 60445),
    copilot: register("copilot", 60446),
    lightbulbSparkle: register("lightbulb-sparkle", 60447),
    lightbulbSparkleAutofix: register("lightbulb-sparkle-autofix", 60447),
    robot: register("robot", 60448),
    sparkleFilled: register("sparkle-filled", 60449),
    diffSingle: register("diff-single", 60450),
    diffMultiple: register("diff-multiple", 60451),
    // derived icons, that could become separate icons
    dialogError: register("dialog-error", "error"),
    dialogWarning: register("dialog-warning", "warning"),
    dialogInfo: register("dialog-info", "info"),
    dialogClose: register("dialog-close", "close"),
    treeItemExpanded: register("tree-item-expanded", "chevron-down"),
    // collapsed is done with rotation
    treeFilterOnTypeOn: register("tree-filter-on-type-on", "list-filter"),
    treeFilterOnTypeOff: register("tree-filter-on-type-off", "list-selection"),
    treeFilterClear: register("tree-filter-clear", "close"),
    treeItemLoading: register("tree-item-loading", "loading"),
    menuSelection: register("menu-selection", "check"),
    menuSubmenu: register("menu-submenu", "chevron-right"),
    menuBarMore: register("menubar-more", "more"),
    scrollbarButtonLeft: register("scrollbar-button-left", "triangle-left"),
    scrollbarButtonRight: register("scrollbar-button-right", "triangle-right"),
    scrollbarButtonUp: register("scrollbar-button-up", "triangle-up"),
    scrollbarButtonDown: register("scrollbar-button-down", "triangle-down"),
    toolBarMore: register("toolbar-more", "more"),
    quickInputBack: register("quick-input-back", "arrow-left")
  };
  class TokenizationRegistry {
    constructor() {
      this._tokenizationSupports = /* @__PURE__ */ new Map();
      this._factories = /* @__PURE__ */ new Map();
      this._onDidChange = new Emitter();
      this.onDidChange = this._onDidChange.event;
      this._colorMap = null;
    }
    handleChange(languageIds) {
      this._onDidChange.fire({
        changedLanguages: languageIds,
        changedColorMap: false
      });
    }
    register(languageId, support) {
      this._tokenizationSupports.set(languageId, support);
      this.handleChange([languageId]);
      return toDisposable(() => {
        if (this._tokenizationSupports.get(languageId) !== support) {
          return;
        }
        this._tokenizationSupports.delete(languageId);
        this.handleChange([languageId]);
      });
    }
    get(languageId) {
      return this._tokenizationSupports.get(languageId) || null;
    }
    registerFactory(languageId, factory) {
      var _a2;
      (_a2 = this._factories.get(languageId)) === null || _a2 === void 0 ? void 0 : _a2.dispose();
      const myData = new TokenizationSupportFactoryData(this, languageId, factory);
      this._factories.set(languageId, myData);
      return toDisposable(() => {
        const v = this._factories.get(languageId);
        if (!v || v !== myData) {
          return;
        }
        this._factories.delete(languageId);
        v.dispose();
      });
    }
    async getOrCreate(languageId) {
      const tokenizationSupport = this.get(languageId);
      if (tokenizationSupport) {
        return tokenizationSupport;
      }
      const factory = this._factories.get(languageId);
      if (!factory || factory.isResolved) {
        return null;
      }
      await factory.resolve();
      return this.get(languageId);
    }
    isResolved(languageId) {
      const tokenizationSupport = this.get(languageId);
      if (tokenizationSupport) {
        return true;
      }
      const factory = this._factories.get(languageId);
      if (!factory || factory.isResolved) {
        return true;
      }
      return false;
    }
    setColorMap(colorMap) {
      this._colorMap = colorMap;
      this._onDidChange.fire({
        changedLanguages: Array.from(this._tokenizationSupports.keys()),
        changedColorMap: true
      });
    }
    getColorMap() {
      return this._colorMap;
    }
    getDefaultBackground() {
      if (this._colorMap && this._colorMap.length > 2) {
        return this._colorMap[
          2
          /* ColorId.DefaultBackground */
        ];
      }
      return null;
    }
  }
  class TokenizationSupportFactoryData extends Disposable {
    get isResolved() {
      return this._isResolved;
    }
    constructor(_registry, _languageId, _factory) {
      super();
      this._registry = _registry;
      this._languageId = _languageId;
      this._factory = _factory;
      this._isDisposed = false;
      this._resolvePromise = null;
      this._isResolved = false;
    }
    dispose() {
      this._isDisposed = true;
      super.dispose();
    }
    async resolve() {
      if (!this._resolvePromise) {
        this._resolvePromise = this._create();
      }
      return this._resolvePromise;
    }
    async _create() {
      const value = await this._factory.tokenizationSupport;
      this._isResolved = true;
      if (value && !this._isDisposed) {
        this._register(this._registry.register(this._languageId, value));
      }
    }
  }
  class Token {
    constructor(offset, type, language) {
      this.offset = offset;
      this.type = type;
      this.language = language;
      this._tokenBrand = void 0;
    }
    toString() {
      return "(" + this.offset + ", " + this.type + ")";
    }
  }
  var CompletionItemKinds;
  (function(CompletionItemKinds2) {
    const byKind = /* @__PURE__ */ new Map();
    byKind.set(0, Codicon.symbolMethod);
    byKind.set(1, Codicon.symbolFunction);
    byKind.set(2, Codicon.symbolConstructor);
    byKind.set(3, Codicon.symbolField);
    byKind.set(4, Codicon.symbolVariable);
    byKind.set(5, Codicon.symbolClass);
    byKind.set(6, Codicon.symbolStruct);
    byKind.set(7, Codicon.symbolInterface);
    byKind.set(8, Codicon.symbolModule);
    byKind.set(9, Codicon.symbolProperty);
    byKind.set(10, Codicon.symbolEvent);
    byKind.set(11, Codicon.symbolOperator);
    byKind.set(12, Codicon.symbolUnit);
    byKind.set(13, Codicon.symbolValue);
    byKind.set(15, Codicon.symbolEnum);
    byKind.set(14, Codicon.symbolConstant);
    byKind.set(15, Codicon.symbolEnum);
    byKind.set(16, Codicon.symbolEnumMember);
    byKind.set(17, Codicon.symbolKeyword);
    byKind.set(27, Codicon.symbolSnippet);
    byKind.set(18, Codicon.symbolText);
    byKind.set(19, Codicon.symbolColor);
    byKind.set(20, Codicon.symbolFile);
    byKind.set(21, Codicon.symbolReference);
    byKind.set(22, Codicon.symbolCustomColor);
    byKind.set(23, Codicon.symbolFolder);
    byKind.set(24, Codicon.symbolTypeParameter);
    byKind.set(25, Codicon.account);
    byKind.set(26, Codicon.issues);
    function toIcon(kind) {
      let codicon = byKind.get(kind);
      if (!codicon) {
        console.info("No codicon found for CompletionItemKind " + kind);
        codicon = Codicon.symbolProperty;
      }
      return codicon;
    }
    CompletionItemKinds2.toIcon = toIcon;
    const data = /* @__PURE__ */ new Map();
    data.set(
      "method",
      0
      /* CompletionItemKind.Method */
    );
    data.set(
      "function",
      1
      /* CompletionItemKind.Function */
    );
    data.set(
      "constructor",
      2
      /* CompletionItemKind.Constructor */
    );
    data.set(
      "field",
      3
      /* CompletionItemKind.Field */
    );
    data.set(
      "variable",
      4
      /* CompletionItemKind.Variable */
    );
    data.set(
      "class",
      5
      /* CompletionItemKind.Class */
    );
    data.set(
      "struct",
      6
      /* CompletionItemKind.Struct */
    );
    data.set(
      "interface",
      7
      /* CompletionItemKind.Interface */
    );
    data.set(
      "module",
      8
      /* CompletionItemKind.Module */
    );
    data.set(
      "property",
      9
      /* CompletionItemKind.Property */
    );
    data.set(
      "event",
      10
      /* CompletionItemKind.Event */
    );
    data.set(
      "operator",
      11
      /* CompletionItemKind.Operator */
    );
    data.set(
      "unit",
      12
      /* CompletionItemKind.Unit */
    );
    data.set(
      "value",
      13
      /* CompletionItemKind.Value */
    );
    data.set(
      "constant",
      14
      /* CompletionItemKind.Constant */
    );
    data.set(
      "enum",
      15
      /* CompletionItemKind.Enum */
    );
    data.set(
      "enum-member",
      16
      /* CompletionItemKind.EnumMember */
    );
    data.set(
      "enumMember",
      16
      /* CompletionItemKind.EnumMember */
    );
    data.set(
      "keyword",
      17
      /* CompletionItemKind.Keyword */
    );
    data.set(
      "snippet",
      27
      /* CompletionItemKind.Snippet */
    );
    data.set(
      "text",
      18
      /* CompletionItemKind.Text */
    );
    data.set(
      "color",
      19
      /* CompletionItemKind.Color */
    );
    data.set(
      "file",
      20
      /* CompletionItemKind.File */
    );
    data.set(
      "reference",
      21
      /* CompletionItemKind.Reference */
    );
    data.set(
      "customcolor",
      22
      /* CompletionItemKind.Customcolor */
    );
    data.set(
      "folder",
      23
      /* CompletionItemKind.Folder */
    );
    data.set(
      "type-parameter",
      24
      /* CompletionItemKind.TypeParameter */
    );
    data.set(
      "typeParameter",
      24
      /* CompletionItemKind.TypeParameter */
    );
    data.set(
      "account",
      25
      /* CompletionItemKind.User */
    );
    data.set(
      "issue",
      26
      /* CompletionItemKind.Issue */
    );
    function fromString(value, strict) {
      let res = data.get(value);
      if (typeof res === "undefined" && !strict) {
        res = 9;
      }
      return res;
    }
    CompletionItemKinds2.fromString = fromString;
  })(CompletionItemKinds || (CompletionItemKinds = {}));
  var InlineCompletionTriggerKind$1;
  (function(InlineCompletionTriggerKind2) {
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Automatic"] = 0] = "Automatic";
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Explicit"] = 1] = "Explicit";
  })(InlineCompletionTriggerKind$1 || (InlineCompletionTriggerKind$1 = {}));
  var SignatureHelpTriggerKind$1;
  (function(SignatureHelpTriggerKind2) {
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["Invoke"] = 1] = "Invoke";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["TriggerCharacter"] = 2] = "TriggerCharacter";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["ContentChange"] = 3] = "ContentChange";
  })(SignatureHelpTriggerKind$1 || (SignatureHelpTriggerKind$1 = {}));
  var DocumentHighlightKind$2;
  (function(DocumentHighlightKind2) {
    DocumentHighlightKind2[DocumentHighlightKind2["Text"] = 0] = "Text";
    DocumentHighlightKind2[DocumentHighlightKind2["Read"] = 1] = "Read";
    DocumentHighlightKind2[DocumentHighlightKind2["Write"] = 2] = "Write";
  })(DocumentHighlightKind$2 || (DocumentHighlightKind$2 = {}));
  ({
    [
      17
      /* SymbolKind.Array */
    ]: localize$1("Array", "array"),
    [
      16
      /* SymbolKind.Boolean */
    ]: localize$1("Boolean", "boolean"),
    [
      4
      /* SymbolKind.Class */
    ]: localize$1("Class", "class"),
    [
      13
      /* SymbolKind.Constant */
    ]: localize$1("Constant", "constant"),
    [
      8
      /* SymbolKind.Constructor */
    ]: localize$1("Constructor", "constructor"),
    [
      9
      /* SymbolKind.Enum */
    ]: localize$1("Enum", "enumeration"),
    [
      21
      /* SymbolKind.EnumMember */
    ]: localize$1("EnumMember", "enumeration member"),
    [
      23
      /* SymbolKind.Event */
    ]: localize$1("Event", "event"),
    [
      7
      /* SymbolKind.Field */
    ]: localize$1("Field", "field"),
    [
      0
      /* SymbolKind.File */
    ]: localize$1("File", "file"),
    [
      11
      /* SymbolKind.Function */
    ]: localize$1("Function", "function"),
    [
      10
      /* SymbolKind.Interface */
    ]: localize$1("Interface", "interface"),
    [
      19
      /* SymbolKind.Key */
    ]: localize$1("Key", "key"),
    [
      5
      /* SymbolKind.Method */
    ]: localize$1("Method", "method"),
    [
      1
      /* SymbolKind.Module */
    ]: localize$1("Module", "module"),
    [
      2
      /* SymbolKind.Namespace */
    ]: localize$1("Namespace", "namespace"),
    [
      20
      /* SymbolKind.Null */
    ]: localize$1("Null", "null"),
    [
      15
      /* SymbolKind.Number */
    ]: localize$1("Number", "number"),
    [
      18
      /* SymbolKind.Object */
    ]: localize$1("Object", "object"),
    [
      24
      /* SymbolKind.Operator */
    ]: localize$1("Operator", "operator"),
    [
      3
      /* SymbolKind.Package */
    ]: localize$1("Package", "package"),
    [
      6
      /* SymbolKind.Property */
    ]: localize$1("Property", "property"),
    [
      14
      /* SymbolKind.String */
    ]: localize$1("String", "string"),
    [
      22
      /* SymbolKind.Struct */
    ]: localize$1("Struct", "struct"),
    [
      25
      /* SymbolKind.TypeParameter */
    ]: localize$1("TypeParameter", "type parameter"),
    [
      12
      /* SymbolKind.Variable */
    ]: localize$1("Variable", "variable")
  });
  var SymbolKinds;
  (function(SymbolKinds2) {
    const byKind = /* @__PURE__ */ new Map();
    byKind.set(0, Codicon.symbolFile);
    byKind.set(1, Codicon.symbolModule);
    byKind.set(2, Codicon.symbolNamespace);
    byKind.set(3, Codicon.symbolPackage);
    byKind.set(4, Codicon.symbolClass);
    byKind.set(5, Codicon.symbolMethod);
    byKind.set(6, Codicon.symbolProperty);
    byKind.set(7, Codicon.symbolField);
    byKind.set(8, Codicon.symbolConstructor);
    byKind.set(9, Codicon.symbolEnum);
    byKind.set(10, Codicon.symbolInterface);
    byKind.set(11, Codicon.symbolFunction);
    byKind.set(12, Codicon.symbolVariable);
    byKind.set(13, Codicon.symbolConstant);
    byKind.set(14, Codicon.symbolString);
    byKind.set(15, Codicon.symbolNumber);
    byKind.set(16, Codicon.symbolBoolean);
    byKind.set(17, Codicon.symbolArray);
    byKind.set(18, Codicon.symbolObject);
    byKind.set(19, Codicon.symbolKey);
    byKind.set(20, Codicon.symbolNull);
    byKind.set(21, Codicon.symbolEnumMember);
    byKind.set(22, Codicon.symbolStruct);
    byKind.set(23, Codicon.symbolEvent);
    byKind.set(24, Codicon.symbolOperator);
    byKind.set(25, Codicon.symbolTypeParameter);
    function toIcon(kind) {
      let icon = byKind.get(kind);
      if (!icon) {
        console.info("No codicon found for SymbolKind " + kind);
        icon = Codicon.symbolProperty;
      }
      return icon;
    }
    SymbolKinds2.toIcon = toIcon;
  })(SymbolKinds || (SymbolKinds = {}));
  var Command$1;
  (function(Command2) {
    function is(obj) {
      if (!obj || typeof obj !== "object") {
        return false;
      }
      return typeof obj.id === "string" && typeof obj.title === "string";
    }
    Command2.is = is;
  })(Command$1 || (Command$1 = {}));
  var InlayHintKind$1;
  (function(InlayHintKind2) {
    InlayHintKind2[InlayHintKind2["Type"] = 1] = "Type";
    InlayHintKind2[InlayHintKind2["Parameter"] = 2] = "Parameter";
  })(InlayHintKind$1 || (InlayHintKind$1 = {}));
  new TokenizationRegistry();
  var AccessibilitySupport;
  (function(AccessibilitySupport2) {
    AccessibilitySupport2[AccessibilitySupport2["Unknown"] = 0] = "Unknown";
    AccessibilitySupport2[AccessibilitySupport2["Disabled"] = 1] = "Disabled";
    AccessibilitySupport2[AccessibilitySupport2["Enabled"] = 2] = "Enabled";
  })(AccessibilitySupport || (AccessibilitySupport = {}));
  var CodeActionTriggerType;
  (function(CodeActionTriggerType2) {
    CodeActionTriggerType2[CodeActionTriggerType2["Invoke"] = 1] = "Invoke";
    CodeActionTriggerType2[CodeActionTriggerType2["Auto"] = 2] = "Auto";
  })(CodeActionTriggerType || (CodeActionTriggerType = {}));
  var CompletionItemInsertTextRule;
  (function(CompletionItemInsertTextRule2) {
    CompletionItemInsertTextRule2[CompletionItemInsertTextRule2["None"] = 0] = "None";
    CompletionItemInsertTextRule2[CompletionItemInsertTextRule2["KeepWhitespace"] = 1] = "KeepWhitespace";
    CompletionItemInsertTextRule2[CompletionItemInsertTextRule2["InsertAsSnippet"] = 4] = "InsertAsSnippet";
  })(CompletionItemInsertTextRule || (CompletionItemInsertTextRule = {}));
  var CompletionItemKind$1;
  (function(CompletionItemKind2) {
    CompletionItemKind2[CompletionItemKind2["Method"] = 0] = "Method";
    CompletionItemKind2[CompletionItemKind2["Function"] = 1] = "Function";
    CompletionItemKind2[CompletionItemKind2["Constructor"] = 2] = "Constructor";
    CompletionItemKind2[CompletionItemKind2["Field"] = 3] = "Field";
    CompletionItemKind2[CompletionItemKind2["Variable"] = 4] = "Variable";
    CompletionItemKind2[CompletionItemKind2["Class"] = 5] = "Class";
    CompletionItemKind2[CompletionItemKind2["Struct"] = 6] = "Struct";
    CompletionItemKind2[CompletionItemKind2["Interface"] = 7] = "Interface";
    CompletionItemKind2[CompletionItemKind2["Module"] = 8] = "Module";
    CompletionItemKind2[CompletionItemKind2["Property"] = 9] = "Property";
    CompletionItemKind2[CompletionItemKind2["Event"] = 10] = "Event";
    CompletionItemKind2[CompletionItemKind2["Operator"] = 11] = "Operator";
    CompletionItemKind2[CompletionItemKind2["Unit"] = 12] = "Unit";
    CompletionItemKind2[CompletionItemKind2["Value"] = 13] = "Value";
    CompletionItemKind2[CompletionItemKind2["Constant"] = 14] = "Constant";
    CompletionItemKind2[CompletionItemKind2["Enum"] = 15] = "Enum";
    CompletionItemKind2[CompletionItemKind2["EnumMember"] = 16] = "EnumMember";
    CompletionItemKind2[CompletionItemKind2["Keyword"] = 17] = "Keyword";
    CompletionItemKind2[CompletionItemKind2["Text"] = 18] = "Text";
    CompletionItemKind2[CompletionItemKind2["Color"] = 19] = "Color";
    CompletionItemKind2[CompletionItemKind2["File"] = 20] = "File";
    CompletionItemKind2[CompletionItemKind2["Reference"] = 21] = "Reference";
    CompletionItemKind2[CompletionItemKind2["Customcolor"] = 22] = "Customcolor";
    CompletionItemKind2[CompletionItemKind2["Folder"] = 23] = "Folder";
    CompletionItemKind2[CompletionItemKind2["TypeParameter"] = 24] = "TypeParameter";
    CompletionItemKind2[CompletionItemKind2["User"] = 25] = "User";
    CompletionItemKind2[CompletionItemKind2["Issue"] = 26] = "Issue";
    CompletionItemKind2[CompletionItemKind2["Snippet"] = 27] = "Snippet";
  })(CompletionItemKind$1 || (CompletionItemKind$1 = {}));
  var CompletionItemTag$1;
  (function(CompletionItemTag2) {
    CompletionItemTag2[CompletionItemTag2["Deprecated"] = 1] = "Deprecated";
  })(CompletionItemTag$1 || (CompletionItemTag$1 = {}));
  var CompletionTriggerKind;
  (function(CompletionTriggerKind2) {
    CompletionTriggerKind2[CompletionTriggerKind2["Invoke"] = 0] = "Invoke";
    CompletionTriggerKind2[CompletionTriggerKind2["TriggerCharacter"] = 1] = "TriggerCharacter";
    CompletionTriggerKind2[CompletionTriggerKind2["TriggerForIncompleteCompletions"] = 2] = "TriggerForIncompleteCompletions";
  })(CompletionTriggerKind || (CompletionTriggerKind = {}));
  var ContentWidgetPositionPreference;
  (function(ContentWidgetPositionPreference2) {
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["EXACT"] = 0] = "EXACT";
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["ABOVE"] = 1] = "ABOVE";
    ContentWidgetPositionPreference2[ContentWidgetPositionPreference2["BELOW"] = 2] = "BELOW";
  })(ContentWidgetPositionPreference || (ContentWidgetPositionPreference = {}));
  var CursorChangeReason;
  (function(CursorChangeReason2) {
    CursorChangeReason2[CursorChangeReason2["NotSet"] = 0] = "NotSet";
    CursorChangeReason2[CursorChangeReason2["ContentFlush"] = 1] = "ContentFlush";
    CursorChangeReason2[CursorChangeReason2["RecoverFromMarkers"] = 2] = "RecoverFromMarkers";
    CursorChangeReason2[CursorChangeReason2["Explicit"] = 3] = "Explicit";
    CursorChangeReason2[CursorChangeReason2["Paste"] = 4] = "Paste";
    CursorChangeReason2[CursorChangeReason2["Undo"] = 5] = "Undo";
    CursorChangeReason2[CursorChangeReason2["Redo"] = 6] = "Redo";
  })(CursorChangeReason || (CursorChangeReason = {}));
  var DefaultEndOfLine;
  (function(DefaultEndOfLine2) {
    DefaultEndOfLine2[DefaultEndOfLine2["LF"] = 1] = "LF";
    DefaultEndOfLine2[DefaultEndOfLine2["CRLF"] = 2] = "CRLF";
  })(DefaultEndOfLine || (DefaultEndOfLine = {}));
  var DocumentHighlightKind$1;
  (function(DocumentHighlightKind2) {
    DocumentHighlightKind2[DocumentHighlightKind2["Text"] = 0] = "Text";
    DocumentHighlightKind2[DocumentHighlightKind2["Read"] = 1] = "Read";
    DocumentHighlightKind2[DocumentHighlightKind2["Write"] = 2] = "Write";
  })(DocumentHighlightKind$1 || (DocumentHighlightKind$1 = {}));
  var EditorAutoIndentStrategy;
  (function(EditorAutoIndentStrategy2) {
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["None"] = 0] = "None";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Keep"] = 1] = "Keep";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Brackets"] = 2] = "Brackets";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Advanced"] = 3] = "Advanced";
    EditorAutoIndentStrategy2[EditorAutoIndentStrategy2["Full"] = 4] = "Full";
  })(EditorAutoIndentStrategy || (EditorAutoIndentStrategy = {}));
  var EditorOption;
  (function(EditorOption2) {
    EditorOption2[EditorOption2["acceptSuggestionOnCommitCharacter"] = 0] = "acceptSuggestionOnCommitCharacter";
    EditorOption2[EditorOption2["acceptSuggestionOnEnter"] = 1] = "acceptSuggestionOnEnter";
    EditorOption2[EditorOption2["accessibilitySupport"] = 2] = "accessibilitySupport";
    EditorOption2[EditorOption2["accessibilityPageSize"] = 3] = "accessibilityPageSize";
    EditorOption2[EditorOption2["ariaLabel"] = 4] = "ariaLabel";
    EditorOption2[EditorOption2["ariaRequired"] = 5] = "ariaRequired";
    EditorOption2[EditorOption2["autoClosingBrackets"] = 6] = "autoClosingBrackets";
    EditorOption2[EditorOption2["autoClosingComments"] = 7] = "autoClosingComments";
    EditorOption2[EditorOption2["screenReaderAnnounceInlineSuggestion"] = 8] = "screenReaderAnnounceInlineSuggestion";
    EditorOption2[EditorOption2["autoClosingDelete"] = 9] = "autoClosingDelete";
    EditorOption2[EditorOption2["autoClosingOvertype"] = 10] = "autoClosingOvertype";
    EditorOption2[EditorOption2["autoClosingQuotes"] = 11] = "autoClosingQuotes";
    EditorOption2[EditorOption2["autoIndent"] = 12] = "autoIndent";
    EditorOption2[EditorOption2["automaticLayout"] = 13] = "automaticLayout";
    EditorOption2[EditorOption2["autoSurround"] = 14] = "autoSurround";
    EditorOption2[EditorOption2["bracketPairColorization"] = 15] = "bracketPairColorization";
    EditorOption2[EditorOption2["guides"] = 16] = "guides";
    EditorOption2[EditorOption2["codeLens"] = 17] = "codeLens";
    EditorOption2[EditorOption2["codeLensFontFamily"] = 18] = "codeLensFontFamily";
    EditorOption2[EditorOption2["codeLensFontSize"] = 19] = "codeLensFontSize";
    EditorOption2[EditorOption2["colorDecorators"] = 20] = "colorDecorators";
    EditorOption2[EditorOption2["colorDecoratorsLimit"] = 21] = "colorDecoratorsLimit";
    EditorOption2[EditorOption2["columnSelection"] = 22] = "columnSelection";
    EditorOption2[EditorOption2["comments"] = 23] = "comments";
    EditorOption2[EditorOption2["contextmenu"] = 24] = "contextmenu";
    EditorOption2[EditorOption2["copyWithSyntaxHighlighting"] = 25] = "copyWithSyntaxHighlighting";
    EditorOption2[EditorOption2["cursorBlinking"] = 26] = "cursorBlinking";
    EditorOption2[EditorOption2["cursorSmoothCaretAnimation"] = 27] = "cursorSmoothCaretAnimation";
    EditorOption2[EditorOption2["cursorStyle"] = 28] = "cursorStyle";
    EditorOption2[EditorOption2["cursorSurroundingLines"] = 29] = "cursorSurroundingLines";
    EditorOption2[EditorOption2["cursorSurroundingLinesStyle"] = 30] = "cursorSurroundingLinesStyle";
    EditorOption2[EditorOption2["cursorWidth"] = 31] = "cursorWidth";
    EditorOption2[EditorOption2["disableLayerHinting"] = 32] = "disableLayerHinting";
    EditorOption2[EditorOption2["disableMonospaceOptimizations"] = 33] = "disableMonospaceOptimizations";
    EditorOption2[EditorOption2["domReadOnly"] = 34] = "domReadOnly";
    EditorOption2[EditorOption2["dragAndDrop"] = 35] = "dragAndDrop";
    EditorOption2[EditorOption2["dropIntoEditor"] = 36] = "dropIntoEditor";
    EditorOption2[EditorOption2["emptySelectionClipboard"] = 37] = "emptySelectionClipboard";
    EditorOption2[EditorOption2["experimentalWhitespaceRendering"] = 38] = "experimentalWhitespaceRendering";
    EditorOption2[EditorOption2["extraEditorClassName"] = 39] = "extraEditorClassName";
    EditorOption2[EditorOption2["fastScrollSensitivity"] = 40] = "fastScrollSensitivity";
    EditorOption2[EditorOption2["find"] = 41] = "find";
    EditorOption2[EditorOption2["fixedOverflowWidgets"] = 42] = "fixedOverflowWidgets";
    EditorOption2[EditorOption2["folding"] = 43] = "folding";
    EditorOption2[EditorOption2["foldingStrategy"] = 44] = "foldingStrategy";
    EditorOption2[EditorOption2["foldingHighlight"] = 45] = "foldingHighlight";
    EditorOption2[EditorOption2["foldingImportsByDefault"] = 46] = "foldingImportsByDefault";
    EditorOption2[EditorOption2["foldingMaximumRegions"] = 47] = "foldingMaximumRegions";
    EditorOption2[EditorOption2["unfoldOnClickAfterEndOfLine"] = 48] = "unfoldOnClickAfterEndOfLine";
    EditorOption2[EditorOption2["fontFamily"] = 49] = "fontFamily";
    EditorOption2[EditorOption2["fontInfo"] = 50] = "fontInfo";
    EditorOption2[EditorOption2["fontLigatures"] = 51] = "fontLigatures";
    EditorOption2[EditorOption2["fontSize"] = 52] = "fontSize";
    EditorOption2[EditorOption2["fontWeight"] = 53] = "fontWeight";
    EditorOption2[EditorOption2["fontVariations"] = 54] = "fontVariations";
    EditorOption2[EditorOption2["formatOnPaste"] = 55] = "formatOnPaste";
    EditorOption2[EditorOption2["formatOnType"] = 56] = "formatOnType";
    EditorOption2[EditorOption2["glyphMargin"] = 57] = "glyphMargin";
    EditorOption2[EditorOption2["gotoLocation"] = 58] = "gotoLocation";
    EditorOption2[EditorOption2["hideCursorInOverviewRuler"] = 59] = "hideCursorInOverviewRuler";
    EditorOption2[EditorOption2["hover"] = 60] = "hover";
    EditorOption2[EditorOption2["inDiffEditor"] = 61] = "inDiffEditor";
    EditorOption2[EditorOption2["inlineSuggest"] = 62] = "inlineSuggest";
    EditorOption2[EditorOption2["letterSpacing"] = 63] = "letterSpacing";
    EditorOption2[EditorOption2["lightbulb"] = 64] = "lightbulb";
    EditorOption2[EditorOption2["lineDecorationsWidth"] = 65] = "lineDecorationsWidth";
    EditorOption2[EditorOption2["lineHeight"] = 66] = "lineHeight";
    EditorOption2[EditorOption2["lineNumbers"] = 67] = "lineNumbers";
    EditorOption2[EditorOption2["lineNumbersMinChars"] = 68] = "lineNumbersMinChars";
    EditorOption2[EditorOption2["linkedEditing"] = 69] = "linkedEditing";
    EditorOption2[EditorOption2["links"] = 70] = "links";
    EditorOption2[EditorOption2["matchBrackets"] = 71] = "matchBrackets";
    EditorOption2[EditorOption2["minimap"] = 72] = "minimap";
    EditorOption2[EditorOption2["mouseStyle"] = 73] = "mouseStyle";
    EditorOption2[EditorOption2["mouseWheelScrollSensitivity"] = 74] = "mouseWheelScrollSensitivity";
    EditorOption2[EditorOption2["mouseWheelZoom"] = 75] = "mouseWheelZoom";
    EditorOption2[EditorOption2["multiCursorMergeOverlapping"] = 76] = "multiCursorMergeOverlapping";
    EditorOption2[EditorOption2["multiCursorModifier"] = 77] = "multiCursorModifier";
    EditorOption2[EditorOption2["multiCursorPaste"] = 78] = "multiCursorPaste";
    EditorOption2[EditorOption2["multiCursorLimit"] = 79] = "multiCursorLimit";
    EditorOption2[EditorOption2["occurrencesHighlight"] = 80] = "occurrencesHighlight";
    EditorOption2[EditorOption2["overviewRulerBorder"] = 81] = "overviewRulerBorder";
    EditorOption2[EditorOption2["overviewRulerLanes"] = 82] = "overviewRulerLanes";
    EditorOption2[EditorOption2["padding"] = 83] = "padding";
    EditorOption2[EditorOption2["pasteAs"] = 84] = "pasteAs";
    EditorOption2[EditorOption2["parameterHints"] = 85] = "parameterHints";
    EditorOption2[EditorOption2["peekWidgetDefaultFocus"] = 86] = "peekWidgetDefaultFocus";
    EditorOption2[EditorOption2["definitionLinkOpensInPeek"] = 87] = "definitionLinkOpensInPeek";
    EditorOption2[EditorOption2["quickSuggestions"] = 88] = "quickSuggestions";
    EditorOption2[EditorOption2["quickSuggestionsDelay"] = 89] = "quickSuggestionsDelay";
    EditorOption2[EditorOption2["readOnly"] = 90] = "readOnly";
    EditorOption2[EditorOption2["readOnlyMessage"] = 91] = "readOnlyMessage";
    EditorOption2[EditorOption2["renameOnType"] = 92] = "renameOnType";
    EditorOption2[EditorOption2["renderControlCharacters"] = 93] = "renderControlCharacters";
    EditorOption2[EditorOption2["renderFinalNewline"] = 94] = "renderFinalNewline";
    EditorOption2[EditorOption2["renderLineHighlight"] = 95] = "renderLineHighlight";
    EditorOption2[EditorOption2["renderLineHighlightOnlyWhenFocus"] = 96] = "renderLineHighlightOnlyWhenFocus";
    EditorOption2[EditorOption2["renderValidationDecorations"] = 97] = "renderValidationDecorations";
    EditorOption2[EditorOption2["renderWhitespace"] = 98] = "renderWhitespace";
    EditorOption2[EditorOption2["revealHorizontalRightPadding"] = 99] = "revealHorizontalRightPadding";
    EditorOption2[EditorOption2["roundedSelection"] = 100] = "roundedSelection";
    EditorOption2[EditorOption2["rulers"] = 101] = "rulers";
    EditorOption2[EditorOption2["scrollbar"] = 102] = "scrollbar";
    EditorOption2[EditorOption2["scrollBeyondLastColumn"] = 103] = "scrollBeyondLastColumn";
    EditorOption2[EditorOption2["scrollBeyondLastLine"] = 104] = "scrollBeyondLastLine";
    EditorOption2[EditorOption2["scrollPredominantAxis"] = 105] = "scrollPredominantAxis";
    EditorOption2[EditorOption2["selectionClipboard"] = 106] = "selectionClipboard";
    EditorOption2[EditorOption2["selectionHighlight"] = 107] = "selectionHighlight";
    EditorOption2[EditorOption2["selectOnLineNumbers"] = 108] = "selectOnLineNumbers";
    EditorOption2[EditorOption2["showFoldingControls"] = 109] = "showFoldingControls";
    EditorOption2[EditorOption2["showUnused"] = 110] = "showUnused";
    EditorOption2[EditorOption2["snippetSuggestions"] = 111] = "snippetSuggestions";
    EditorOption2[EditorOption2["smartSelect"] = 112] = "smartSelect";
    EditorOption2[EditorOption2["smoothScrolling"] = 113] = "smoothScrolling";
    EditorOption2[EditorOption2["stickyScroll"] = 114] = "stickyScroll";
    EditorOption2[EditorOption2["stickyTabStops"] = 115] = "stickyTabStops";
    EditorOption2[EditorOption2["stopRenderingLineAfter"] = 116] = "stopRenderingLineAfter";
    EditorOption2[EditorOption2["suggest"] = 117] = "suggest";
    EditorOption2[EditorOption2["suggestFontSize"] = 118] = "suggestFontSize";
    EditorOption2[EditorOption2["suggestLineHeight"] = 119] = "suggestLineHeight";
    EditorOption2[EditorOption2["suggestOnTriggerCharacters"] = 120] = "suggestOnTriggerCharacters";
    EditorOption2[EditorOption2["suggestSelection"] = 121] = "suggestSelection";
    EditorOption2[EditorOption2["tabCompletion"] = 122] = "tabCompletion";
    EditorOption2[EditorOption2["tabIndex"] = 123] = "tabIndex";
    EditorOption2[EditorOption2["unicodeHighlighting"] = 124] = "unicodeHighlighting";
    EditorOption2[EditorOption2["unusualLineTerminators"] = 125] = "unusualLineTerminators";
    EditorOption2[EditorOption2["useShadowDOM"] = 126] = "useShadowDOM";
    EditorOption2[EditorOption2["useTabStops"] = 127] = "useTabStops";
    EditorOption2[EditorOption2["wordBreak"] = 128] = "wordBreak";
    EditorOption2[EditorOption2["wordSeparators"] = 129] = "wordSeparators";
    EditorOption2[EditorOption2["wordWrap"] = 130] = "wordWrap";
    EditorOption2[EditorOption2["wordWrapBreakAfterCharacters"] = 131] = "wordWrapBreakAfterCharacters";
    EditorOption2[EditorOption2["wordWrapBreakBeforeCharacters"] = 132] = "wordWrapBreakBeforeCharacters";
    EditorOption2[EditorOption2["wordWrapColumn"] = 133] = "wordWrapColumn";
    EditorOption2[EditorOption2["wordWrapOverride1"] = 134] = "wordWrapOverride1";
    EditorOption2[EditorOption2["wordWrapOverride2"] = 135] = "wordWrapOverride2";
    EditorOption2[EditorOption2["wrappingIndent"] = 136] = "wrappingIndent";
    EditorOption2[EditorOption2["wrappingStrategy"] = 137] = "wrappingStrategy";
    EditorOption2[EditorOption2["showDeprecated"] = 138] = "showDeprecated";
    EditorOption2[EditorOption2["inlayHints"] = 139] = "inlayHints";
    EditorOption2[EditorOption2["editorClassName"] = 140] = "editorClassName";
    EditorOption2[EditorOption2["pixelRatio"] = 141] = "pixelRatio";
    EditorOption2[EditorOption2["tabFocusMode"] = 142] = "tabFocusMode";
    EditorOption2[EditorOption2["layoutInfo"] = 143] = "layoutInfo";
    EditorOption2[EditorOption2["wrappingInfo"] = 144] = "wrappingInfo";
    EditorOption2[EditorOption2["defaultColorDecorators"] = 145] = "defaultColorDecorators";
    EditorOption2[EditorOption2["colorDecoratorsActivatedOn"] = 146] = "colorDecoratorsActivatedOn";
    EditorOption2[EditorOption2["inlineCompletionsAccessibilityVerbose"] = 147] = "inlineCompletionsAccessibilityVerbose";
  })(EditorOption || (EditorOption = {}));
  var EndOfLinePreference;
  (function(EndOfLinePreference2) {
    EndOfLinePreference2[EndOfLinePreference2["TextDefined"] = 0] = "TextDefined";
    EndOfLinePreference2[EndOfLinePreference2["LF"] = 1] = "LF";
    EndOfLinePreference2[EndOfLinePreference2["CRLF"] = 2] = "CRLF";
  })(EndOfLinePreference || (EndOfLinePreference = {}));
  var EndOfLineSequence;
  (function(EndOfLineSequence2) {
    EndOfLineSequence2[EndOfLineSequence2["LF"] = 0] = "LF";
    EndOfLineSequence2[EndOfLineSequence2["CRLF"] = 1] = "CRLF";
  })(EndOfLineSequence || (EndOfLineSequence = {}));
  var GlyphMarginLane$1;
  (function(GlyphMarginLane2) {
    GlyphMarginLane2[GlyphMarginLane2["Left"] = 1] = "Left";
    GlyphMarginLane2[GlyphMarginLane2["Right"] = 2] = "Right";
  })(GlyphMarginLane$1 || (GlyphMarginLane$1 = {}));
  var IndentAction;
  (function(IndentAction2) {
    IndentAction2[IndentAction2["None"] = 0] = "None";
    IndentAction2[IndentAction2["Indent"] = 1] = "Indent";
    IndentAction2[IndentAction2["IndentOutdent"] = 2] = "IndentOutdent";
    IndentAction2[IndentAction2["Outdent"] = 3] = "Outdent";
  })(IndentAction || (IndentAction = {}));
  var InjectedTextCursorStops$1;
  (function(InjectedTextCursorStops2) {
    InjectedTextCursorStops2[InjectedTextCursorStops2["Both"] = 0] = "Both";
    InjectedTextCursorStops2[InjectedTextCursorStops2["Right"] = 1] = "Right";
    InjectedTextCursorStops2[InjectedTextCursorStops2["Left"] = 2] = "Left";
    InjectedTextCursorStops2[InjectedTextCursorStops2["None"] = 3] = "None";
  })(InjectedTextCursorStops$1 || (InjectedTextCursorStops$1 = {}));
  var InlayHintKind;
  (function(InlayHintKind2) {
    InlayHintKind2[InlayHintKind2["Type"] = 1] = "Type";
    InlayHintKind2[InlayHintKind2["Parameter"] = 2] = "Parameter";
  })(InlayHintKind || (InlayHintKind = {}));
  var InlineCompletionTriggerKind;
  (function(InlineCompletionTriggerKind2) {
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Automatic"] = 0] = "Automatic";
    InlineCompletionTriggerKind2[InlineCompletionTriggerKind2["Explicit"] = 1] = "Explicit";
  })(InlineCompletionTriggerKind || (InlineCompletionTriggerKind = {}));
  var KeyCode;
  (function(KeyCode2) {
    KeyCode2[KeyCode2["DependsOnKbLayout"] = -1] = "DependsOnKbLayout";
    KeyCode2[KeyCode2["Unknown"] = 0] = "Unknown";
    KeyCode2[KeyCode2["Backspace"] = 1] = "Backspace";
    KeyCode2[KeyCode2["Tab"] = 2] = "Tab";
    KeyCode2[KeyCode2["Enter"] = 3] = "Enter";
    KeyCode2[KeyCode2["Shift"] = 4] = "Shift";
    KeyCode2[KeyCode2["Ctrl"] = 5] = "Ctrl";
    KeyCode2[KeyCode2["Alt"] = 6] = "Alt";
    KeyCode2[KeyCode2["PauseBreak"] = 7] = "PauseBreak";
    KeyCode2[KeyCode2["CapsLock"] = 8] = "CapsLock";
    KeyCode2[KeyCode2["Escape"] = 9] = "Escape";
    KeyCode2[KeyCode2["Space"] = 10] = "Space";
    KeyCode2[KeyCode2["PageUp"] = 11] = "PageUp";
    KeyCode2[KeyCode2["PageDown"] = 12] = "PageDown";
    KeyCode2[KeyCode2["End"] = 13] = "End";
    KeyCode2[KeyCode2["Home"] = 14] = "Home";
    KeyCode2[KeyCode2["LeftArrow"] = 15] = "LeftArrow";
    KeyCode2[KeyCode2["UpArrow"] = 16] = "UpArrow";
    KeyCode2[KeyCode2["RightArrow"] = 17] = "RightArrow";
    KeyCode2[KeyCode2["DownArrow"] = 18] = "DownArrow";
    KeyCode2[KeyCode2["Insert"] = 19] = "Insert";
    KeyCode2[KeyCode2["Delete"] = 20] = "Delete";
    KeyCode2[KeyCode2["Digit0"] = 21] = "Digit0";
    KeyCode2[KeyCode2["Digit1"] = 22] = "Digit1";
    KeyCode2[KeyCode2["Digit2"] = 23] = "Digit2";
    KeyCode2[KeyCode2["Digit3"] = 24] = "Digit3";
    KeyCode2[KeyCode2["Digit4"] = 25] = "Digit4";
    KeyCode2[KeyCode2["Digit5"] = 26] = "Digit5";
    KeyCode2[KeyCode2["Digit6"] = 27] = "Digit6";
    KeyCode2[KeyCode2["Digit7"] = 28] = "Digit7";
    KeyCode2[KeyCode2["Digit8"] = 29] = "Digit8";
    KeyCode2[KeyCode2["Digit9"] = 30] = "Digit9";
    KeyCode2[KeyCode2["KeyA"] = 31] = "KeyA";
    KeyCode2[KeyCode2["KeyB"] = 32] = "KeyB";
    KeyCode2[KeyCode2["KeyC"] = 33] = "KeyC";
    KeyCode2[KeyCode2["KeyD"] = 34] = "KeyD";
    KeyCode2[KeyCode2["KeyE"] = 35] = "KeyE";
    KeyCode2[KeyCode2["KeyF"] = 36] = "KeyF";
    KeyCode2[KeyCode2["KeyG"] = 37] = "KeyG";
    KeyCode2[KeyCode2["KeyH"] = 38] = "KeyH";
    KeyCode2[KeyCode2["KeyI"] = 39] = "KeyI";
    KeyCode2[KeyCode2["KeyJ"] = 40] = "KeyJ";
    KeyCode2[KeyCode2["KeyK"] = 41] = "KeyK";
    KeyCode2[KeyCode2["KeyL"] = 42] = "KeyL";
    KeyCode2[KeyCode2["KeyM"] = 43] = "KeyM";
    KeyCode2[KeyCode2["KeyN"] = 44] = "KeyN";
    KeyCode2[KeyCode2["KeyO"] = 45] = "KeyO";
    KeyCode2[KeyCode2["KeyP"] = 46] = "KeyP";
    KeyCode2[KeyCode2["KeyQ"] = 47] = "KeyQ";
    KeyCode2[KeyCode2["KeyR"] = 48] = "KeyR";
    KeyCode2[KeyCode2["KeyS"] = 49] = "KeyS";
    KeyCode2[KeyCode2["KeyT"] = 50] = "KeyT";
    KeyCode2[KeyCode2["KeyU"] = 51] = "KeyU";
    KeyCode2[KeyCode2["KeyV"] = 52] = "KeyV";
    KeyCode2[KeyCode2["KeyW"] = 53] = "KeyW";
    KeyCode2[KeyCode2["KeyX"] = 54] = "KeyX";
    KeyCode2[KeyCode2["KeyY"] = 55] = "KeyY";
    KeyCode2[KeyCode2["KeyZ"] = 56] = "KeyZ";
    KeyCode2[KeyCode2["Meta"] = 57] = "Meta";
    KeyCode2[KeyCode2["ContextMenu"] = 58] = "ContextMenu";
    KeyCode2[KeyCode2["F1"] = 59] = "F1";
    KeyCode2[KeyCode2["F2"] = 60] = "F2";
    KeyCode2[KeyCode2["F3"] = 61] = "F3";
    KeyCode2[KeyCode2["F4"] = 62] = "F4";
    KeyCode2[KeyCode2["F5"] = 63] = "F5";
    KeyCode2[KeyCode2["F6"] = 64] = "F6";
    KeyCode2[KeyCode2["F7"] = 65] = "F7";
    KeyCode2[KeyCode2["F8"] = 66] = "F8";
    KeyCode2[KeyCode2["F9"] = 67] = "F9";
    KeyCode2[KeyCode2["F10"] = 68] = "F10";
    KeyCode2[KeyCode2["F11"] = 69] = "F11";
    KeyCode2[KeyCode2["F12"] = 70] = "F12";
    KeyCode2[KeyCode2["F13"] = 71] = "F13";
    KeyCode2[KeyCode2["F14"] = 72] = "F14";
    KeyCode2[KeyCode2["F15"] = 73] = "F15";
    KeyCode2[KeyCode2["F16"] = 74] = "F16";
    KeyCode2[KeyCode2["F17"] = 75] = "F17";
    KeyCode2[KeyCode2["F18"] = 76] = "F18";
    KeyCode2[KeyCode2["F19"] = 77] = "F19";
    KeyCode2[KeyCode2["F20"] = 78] = "F20";
    KeyCode2[KeyCode2["F21"] = 79] = "F21";
    KeyCode2[KeyCode2["F22"] = 80] = "F22";
    KeyCode2[KeyCode2["F23"] = 81] = "F23";
    KeyCode2[KeyCode2["F24"] = 82] = "F24";
    KeyCode2[KeyCode2["NumLock"] = 83] = "NumLock";
    KeyCode2[KeyCode2["ScrollLock"] = 84] = "ScrollLock";
    KeyCode2[KeyCode2["Semicolon"] = 85] = "Semicolon";
    KeyCode2[KeyCode2["Equal"] = 86] = "Equal";
    KeyCode2[KeyCode2["Comma"] = 87] = "Comma";
    KeyCode2[KeyCode2["Minus"] = 88] = "Minus";
    KeyCode2[KeyCode2["Period"] = 89] = "Period";
    KeyCode2[KeyCode2["Slash"] = 90] = "Slash";
    KeyCode2[KeyCode2["Backquote"] = 91] = "Backquote";
    KeyCode2[KeyCode2["BracketLeft"] = 92] = "BracketLeft";
    KeyCode2[KeyCode2["Backslash"] = 93] = "Backslash";
    KeyCode2[KeyCode2["BracketRight"] = 94] = "BracketRight";
    KeyCode2[KeyCode2["Quote"] = 95] = "Quote";
    KeyCode2[KeyCode2["OEM_8"] = 96] = "OEM_8";
    KeyCode2[KeyCode2["IntlBackslash"] = 97] = "IntlBackslash";
    KeyCode2[KeyCode2["Numpad0"] = 98] = "Numpad0";
    KeyCode2[KeyCode2["Numpad1"] = 99] = "Numpad1";
    KeyCode2[KeyCode2["Numpad2"] = 100] = "Numpad2";
    KeyCode2[KeyCode2["Numpad3"] = 101] = "Numpad3";
    KeyCode2[KeyCode2["Numpad4"] = 102] = "Numpad4";
    KeyCode2[KeyCode2["Numpad5"] = 103] = "Numpad5";
    KeyCode2[KeyCode2["Numpad6"] = 104] = "Numpad6";
    KeyCode2[KeyCode2["Numpad7"] = 105] = "Numpad7";
    KeyCode2[KeyCode2["Numpad8"] = 106] = "Numpad8";
    KeyCode2[KeyCode2["Numpad9"] = 107] = "Numpad9";
    KeyCode2[KeyCode2["NumpadMultiply"] = 108] = "NumpadMultiply";
    KeyCode2[KeyCode2["NumpadAdd"] = 109] = "NumpadAdd";
    KeyCode2[KeyCode2["NUMPAD_SEPARATOR"] = 110] = "NUMPAD_SEPARATOR";
    KeyCode2[KeyCode2["NumpadSubtract"] = 111] = "NumpadSubtract";
    KeyCode2[KeyCode2["NumpadDecimal"] = 112] = "NumpadDecimal";
    KeyCode2[KeyCode2["NumpadDivide"] = 113] = "NumpadDivide";
    KeyCode2[KeyCode2["KEY_IN_COMPOSITION"] = 114] = "KEY_IN_COMPOSITION";
    KeyCode2[KeyCode2["ABNT_C1"] = 115] = "ABNT_C1";
    KeyCode2[KeyCode2["ABNT_C2"] = 116] = "ABNT_C2";
    KeyCode2[KeyCode2["AudioVolumeMute"] = 117] = "AudioVolumeMute";
    KeyCode2[KeyCode2["AudioVolumeUp"] = 118] = "AudioVolumeUp";
    KeyCode2[KeyCode2["AudioVolumeDown"] = 119] = "AudioVolumeDown";
    KeyCode2[KeyCode2["BrowserSearch"] = 120] = "BrowserSearch";
    KeyCode2[KeyCode2["BrowserHome"] = 121] = "BrowserHome";
    KeyCode2[KeyCode2["BrowserBack"] = 122] = "BrowserBack";
    KeyCode2[KeyCode2["BrowserForward"] = 123] = "BrowserForward";
    KeyCode2[KeyCode2["MediaTrackNext"] = 124] = "MediaTrackNext";
    KeyCode2[KeyCode2["MediaTrackPrevious"] = 125] = "MediaTrackPrevious";
    KeyCode2[KeyCode2["MediaStop"] = 126] = "MediaStop";
    KeyCode2[KeyCode2["MediaPlayPause"] = 127] = "MediaPlayPause";
    KeyCode2[KeyCode2["LaunchMediaPlayer"] = 128] = "LaunchMediaPlayer";
    KeyCode2[KeyCode2["LaunchMail"] = 129] = "LaunchMail";
    KeyCode2[KeyCode2["LaunchApp2"] = 130] = "LaunchApp2";
    KeyCode2[KeyCode2["Clear"] = 131] = "Clear";
    KeyCode2[KeyCode2["MAX_VALUE"] = 132] = "MAX_VALUE";
  })(KeyCode || (KeyCode = {}));
  var MarkerSeverity;
  (function(MarkerSeverity2) {
    MarkerSeverity2[MarkerSeverity2["Hint"] = 1] = "Hint";
    MarkerSeverity2[MarkerSeverity2["Info"] = 2] = "Info";
    MarkerSeverity2[MarkerSeverity2["Warning"] = 4] = "Warning";
    MarkerSeverity2[MarkerSeverity2["Error"] = 8] = "Error";
  })(MarkerSeverity || (MarkerSeverity = {}));
  var MarkerTag;
  (function(MarkerTag2) {
    MarkerTag2[MarkerTag2["Unnecessary"] = 1] = "Unnecessary";
    MarkerTag2[MarkerTag2["Deprecated"] = 2] = "Deprecated";
  })(MarkerTag || (MarkerTag = {}));
  var MinimapPosition$1;
  (function(MinimapPosition2) {
    MinimapPosition2[MinimapPosition2["Inline"] = 1] = "Inline";
    MinimapPosition2[MinimapPosition2["Gutter"] = 2] = "Gutter";
  })(MinimapPosition$1 || (MinimapPosition$1 = {}));
  var MouseTargetType;
  (function(MouseTargetType2) {
    MouseTargetType2[MouseTargetType2["UNKNOWN"] = 0] = "UNKNOWN";
    MouseTargetType2[MouseTargetType2["TEXTAREA"] = 1] = "TEXTAREA";
    MouseTargetType2[MouseTargetType2["GUTTER_GLYPH_MARGIN"] = 2] = "GUTTER_GLYPH_MARGIN";
    MouseTargetType2[MouseTargetType2["GUTTER_LINE_NUMBERS"] = 3] = "GUTTER_LINE_NUMBERS";
    MouseTargetType2[MouseTargetType2["GUTTER_LINE_DECORATIONS"] = 4] = "GUTTER_LINE_DECORATIONS";
    MouseTargetType2[MouseTargetType2["GUTTER_VIEW_ZONE"] = 5] = "GUTTER_VIEW_ZONE";
    MouseTargetType2[MouseTargetType2["CONTENT_TEXT"] = 6] = "CONTENT_TEXT";
    MouseTargetType2[MouseTargetType2["CONTENT_EMPTY"] = 7] = "CONTENT_EMPTY";
    MouseTargetType2[MouseTargetType2["CONTENT_VIEW_ZONE"] = 8] = "CONTENT_VIEW_ZONE";
    MouseTargetType2[MouseTargetType2["CONTENT_WIDGET"] = 9] = "CONTENT_WIDGET";
    MouseTargetType2[MouseTargetType2["OVERVIEW_RULER"] = 10] = "OVERVIEW_RULER";
    MouseTargetType2[MouseTargetType2["SCROLLBAR"] = 11] = "SCROLLBAR";
    MouseTargetType2[MouseTargetType2["OVERLAY_WIDGET"] = 12] = "OVERLAY_WIDGET";
    MouseTargetType2[MouseTargetType2["OUTSIDE_EDITOR"] = 13] = "OUTSIDE_EDITOR";
  })(MouseTargetType || (MouseTargetType = {}));
  var OverlayWidgetPositionPreference;
  (function(OverlayWidgetPositionPreference2) {
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["TOP_RIGHT_CORNER"] = 0] = "TOP_RIGHT_CORNER";
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["BOTTOM_RIGHT_CORNER"] = 1] = "BOTTOM_RIGHT_CORNER";
    OverlayWidgetPositionPreference2[OverlayWidgetPositionPreference2["TOP_CENTER"] = 2] = "TOP_CENTER";
  })(OverlayWidgetPositionPreference || (OverlayWidgetPositionPreference = {}));
  var OverviewRulerLane$1;
  (function(OverviewRulerLane2) {
    OverviewRulerLane2[OverviewRulerLane2["Left"] = 1] = "Left";
    OverviewRulerLane2[OverviewRulerLane2["Center"] = 2] = "Center";
    OverviewRulerLane2[OverviewRulerLane2["Right"] = 4] = "Right";
    OverviewRulerLane2[OverviewRulerLane2["Full"] = 7] = "Full";
  })(OverviewRulerLane$1 || (OverviewRulerLane$1 = {}));
  var PositionAffinity;
  (function(PositionAffinity2) {
    PositionAffinity2[PositionAffinity2["Left"] = 0] = "Left";
    PositionAffinity2[PositionAffinity2["Right"] = 1] = "Right";
    PositionAffinity2[PositionAffinity2["None"] = 2] = "None";
    PositionAffinity2[PositionAffinity2["LeftOfInjectedText"] = 3] = "LeftOfInjectedText";
    PositionAffinity2[PositionAffinity2["RightOfInjectedText"] = 4] = "RightOfInjectedText";
  })(PositionAffinity || (PositionAffinity = {}));
  var RenderLineNumbersType;
  (function(RenderLineNumbersType2) {
    RenderLineNumbersType2[RenderLineNumbersType2["Off"] = 0] = "Off";
    RenderLineNumbersType2[RenderLineNumbersType2["On"] = 1] = "On";
    RenderLineNumbersType2[RenderLineNumbersType2["Relative"] = 2] = "Relative";
    RenderLineNumbersType2[RenderLineNumbersType2["Interval"] = 3] = "Interval";
    RenderLineNumbersType2[RenderLineNumbersType2["Custom"] = 4] = "Custom";
  })(RenderLineNumbersType || (RenderLineNumbersType = {}));
  var RenderMinimap;
  (function(RenderMinimap2) {
    RenderMinimap2[RenderMinimap2["None"] = 0] = "None";
    RenderMinimap2[RenderMinimap2["Text"] = 1] = "Text";
    RenderMinimap2[RenderMinimap2["Blocks"] = 2] = "Blocks";
  })(RenderMinimap || (RenderMinimap = {}));
  var ScrollType;
  (function(ScrollType2) {
    ScrollType2[ScrollType2["Smooth"] = 0] = "Smooth";
    ScrollType2[ScrollType2["Immediate"] = 1] = "Immediate";
  })(ScrollType || (ScrollType = {}));
  var ScrollbarVisibility;
  (function(ScrollbarVisibility2) {
    ScrollbarVisibility2[ScrollbarVisibility2["Auto"] = 1] = "Auto";
    ScrollbarVisibility2[ScrollbarVisibility2["Hidden"] = 2] = "Hidden";
    ScrollbarVisibility2[ScrollbarVisibility2["Visible"] = 3] = "Visible";
  })(ScrollbarVisibility || (ScrollbarVisibility = {}));
  var SelectionDirection;
  (function(SelectionDirection2) {
    SelectionDirection2[SelectionDirection2["LTR"] = 0] = "LTR";
    SelectionDirection2[SelectionDirection2["RTL"] = 1] = "RTL";
  })(SelectionDirection || (SelectionDirection = {}));
  var ShowAiIconMode;
  (function(ShowAiIconMode2) {
    ShowAiIconMode2["Off"] = "off";
    ShowAiIconMode2["OnCode"] = "onCode";
    ShowAiIconMode2["On"] = "on";
  })(ShowAiIconMode || (ShowAiIconMode = {}));
  var SignatureHelpTriggerKind;
  (function(SignatureHelpTriggerKind2) {
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["Invoke"] = 1] = "Invoke";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["TriggerCharacter"] = 2] = "TriggerCharacter";
    SignatureHelpTriggerKind2[SignatureHelpTriggerKind2["ContentChange"] = 3] = "ContentChange";
  })(SignatureHelpTriggerKind || (SignatureHelpTriggerKind = {}));
  var SymbolKind$1;
  (function(SymbolKind2) {
    SymbolKind2[SymbolKind2["File"] = 0] = "File";
    SymbolKind2[SymbolKind2["Module"] = 1] = "Module";
    SymbolKind2[SymbolKind2["Namespace"] = 2] = "Namespace";
    SymbolKind2[SymbolKind2["Package"] = 3] = "Package";
    SymbolKind2[SymbolKind2["Class"] = 4] = "Class";
    SymbolKind2[SymbolKind2["Method"] = 5] = "Method";
    SymbolKind2[SymbolKind2["Property"] = 6] = "Property";
    SymbolKind2[SymbolKind2["Field"] = 7] = "Field";
    SymbolKind2[SymbolKind2["Constructor"] = 8] = "Constructor";
    SymbolKind2[SymbolKind2["Enum"] = 9] = "Enum";
    SymbolKind2[SymbolKind2["Interface"] = 10] = "Interface";
    SymbolKind2[SymbolKind2["Function"] = 11] = "Function";
    SymbolKind2[SymbolKind2["Variable"] = 12] = "Variable";
    SymbolKind2[SymbolKind2["Constant"] = 13] = "Constant";
    SymbolKind2[SymbolKind2["String"] = 14] = "String";
    SymbolKind2[SymbolKind2["Number"] = 15] = "Number";
    SymbolKind2[SymbolKind2["Boolean"] = 16] = "Boolean";
    SymbolKind2[SymbolKind2["Array"] = 17] = "Array";
    SymbolKind2[SymbolKind2["Object"] = 18] = "Object";
    SymbolKind2[SymbolKind2["Key"] = 19] = "Key";
    SymbolKind2[SymbolKind2["Null"] = 20] = "Null";
    SymbolKind2[SymbolKind2["EnumMember"] = 21] = "EnumMember";
    SymbolKind2[SymbolKind2["Struct"] = 22] = "Struct";
    SymbolKind2[SymbolKind2["Event"] = 23] = "Event";
    SymbolKind2[SymbolKind2["Operator"] = 24] = "Operator";
    SymbolKind2[SymbolKind2["TypeParameter"] = 25] = "TypeParameter";
  })(SymbolKind$1 || (SymbolKind$1 = {}));
  var SymbolTag$1;
  (function(SymbolTag2) {
    SymbolTag2[SymbolTag2["Deprecated"] = 1] = "Deprecated";
  })(SymbolTag$1 || (SymbolTag$1 = {}));
  var TextEditorCursorBlinkingStyle;
  (function(TextEditorCursorBlinkingStyle2) {
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Hidden"] = 0] = "Hidden";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Blink"] = 1] = "Blink";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Smooth"] = 2] = "Smooth";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Phase"] = 3] = "Phase";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Expand"] = 4] = "Expand";
    TextEditorCursorBlinkingStyle2[TextEditorCursorBlinkingStyle2["Solid"] = 5] = "Solid";
  })(TextEditorCursorBlinkingStyle || (TextEditorCursorBlinkingStyle = {}));
  var TextEditorCursorStyle;
  (function(TextEditorCursorStyle2) {
    TextEditorCursorStyle2[TextEditorCursorStyle2["Line"] = 1] = "Line";
    TextEditorCursorStyle2[TextEditorCursorStyle2["Block"] = 2] = "Block";
    TextEditorCursorStyle2[TextEditorCursorStyle2["Underline"] = 3] = "Underline";
    TextEditorCursorStyle2[TextEditorCursorStyle2["LineThin"] = 4] = "LineThin";
    TextEditorCursorStyle2[TextEditorCursorStyle2["BlockOutline"] = 5] = "BlockOutline";
    TextEditorCursorStyle2[TextEditorCursorStyle2["UnderlineThin"] = 6] = "UnderlineThin";
  })(TextEditorCursorStyle || (TextEditorCursorStyle = {}));
  var TrackedRangeStickiness;
  (function(TrackedRangeStickiness2) {
    TrackedRangeStickiness2[TrackedRangeStickiness2["AlwaysGrowsWhenTypingAtEdges"] = 0] = "AlwaysGrowsWhenTypingAtEdges";
    TrackedRangeStickiness2[TrackedRangeStickiness2["NeverGrowsWhenTypingAtEdges"] = 1] = "NeverGrowsWhenTypingAtEdges";
    TrackedRangeStickiness2[TrackedRangeStickiness2["GrowsOnlyWhenTypingBefore"] = 2] = "GrowsOnlyWhenTypingBefore";
    TrackedRangeStickiness2[TrackedRangeStickiness2["GrowsOnlyWhenTypingAfter"] = 3] = "GrowsOnlyWhenTypingAfter";
  })(TrackedRangeStickiness || (TrackedRangeStickiness = {}));
  var WrappingIndent;
  (function(WrappingIndent2) {
    WrappingIndent2[WrappingIndent2["None"] = 0] = "None";
    WrappingIndent2[WrappingIndent2["Same"] = 1] = "Same";
    WrappingIndent2[WrappingIndent2["Indent"] = 2] = "Indent";
    WrappingIndent2[WrappingIndent2["DeepIndent"] = 3] = "DeepIndent";
  })(WrappingIndent || (WrappingIndent = {}));
  class KeyMod {
    static chord(firstPart, secondPart) {
      return KeyChord(firstPart, secondPart);
    }
  }
  KeyMod.CtrlCmd = 2048;
  KeyMod.Shift = 1024;
  KeyMod.Alt = 512;
  KeyMod.WinCtrl = 256;
  function createMonacoBaseAPI() {
    return {
      editor: void 0,
      // undefined override expected here
      languages: void 0,
      // undefined override expected here
      CancellationTokenSource,
      Emitter,
      KeyCode,
      KeyMod,
      Position: Position$1,
      Range: Range$1,
      Selection,
      SelectionDirection,
      MarkerSeverity,
      MarkerTag,
      Uri: URI$1,
      Token
    };
  }
  var OverviewRulerLane;
  (function(OverviewRulerLane2) {
    OverviewRulerLane2[OverviewRulerLane2["Left"] = 1] = "Left";
    OverviewRulerLane2[OverviewRulerLane2["Center"] = 2] = "Center";
    OverviewRulerLane2[OverviewRulerLane2["Right"] = 4] = "Right";
    OverviewRulerLane2[OverviewRulerLane2["Full"] = 7] = "Full";
  })(OverviewRulerLane || (OverviewRulerLane = {}));
  var GlyphMarginLane;
  (function(GlyphMarginLane2) {
    GlyphMarginLane2[GlyphMarginLane2["Left"] = 1] = "Left";
    GlyphMarginLane2[GlyphMarginLane2["Right"] = 2] = "Right";
  })(GlyphMarginLane || (GlyphMarginLane = {}));
  var MinimapPosition;
  (function(MinimapPosition2) {
    MinimapPosition2[MinimapPosition2["Inline"] = 1] = "Inline";
    MinimapPosition2[MinimapPosition2["Gutter"] = 2] = "Gutter";
  })(MinimapPosition || (MinimapPosition = {}));
  var InjectedTextCursorStops;
  (function(InjectedTextCursorStops2) {
    InjectedTextCursorStops2[InjectedTextCursorStops2["Both"] = 0] = "Both";
    InjectedTextCursorStops2[InjectedTextCursorStops2["Right"] = 1] = "Right";
    InjectedTextCursorStops2[InjectedTextCursorStops2["Left"] = 2] = "Left";
    InjectedTextCursorStops2[InjectedTextCursorStops2["None"] = 3] = "None";
  })(InjectedTextCursorStops || (InjectedTextCursorStops = {}));
  function leftIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength) {
    if (matchStartIndex === 0) {
      return true;
    }
    const charBefore = text.charCodeAt(matchStartIndex - 1);
    if (wordSeparators.get(charBefore) !== 0) {
      return true;
    }
    if (charBefore === 13 || charBefore === 10) {
      return true;
    }
    if (matchLength > 0) {
      const firstCharInMatch = text.charCodeAt(matchStartIndex);
      if (wordSeparators.get(firstCharInMatch) !== 0) {
        return true;
      }
    }
    return false;
  }
  function rightIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength) {
    if (matchStartIndex + matchLength === textLength) {
      return true;
    }
    const charAfter = text.charCodeAt(matchStartIndex + matchLength);
    if (wordSeparators.get(charAfter) !== 0) {
      return true;
    }
    if (charAfter === 13 || charAfter === 10) {
      return true;
    }
    if (matchLength > 0) {
      const lastCharInMatch = text.charCodeAt(matchStartIndex + matchLength - 1);
      if (wordSeparators.get(lastCharInMatch) !== 0) {
        return true;
      }
    }
    return false;
  }
  function isValidMatch(wordSeparators, text, textLength, matchStartIndex, matchLength) {
    return leftIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength) && rightIsWordBounday(wordSeparators, text, textLength, matchStartIndex, matchLength);
  }
  class Searcher {
    constructor(wordSeparators, searchRegex) {
      this._wordSeparators = wordSeparators;
      this._searchRegex = searchRegex;
      this._prevMatchStartIndex = -1;
      this._prevMatchLength = 0;
    }
    reset(lastIndex) {
      this._searchRegex.lastIndex = lastIndex;
      this._prevMatchStartIndex = -1;
      this._prevMatchLength = 0;
    }
    next(text) {
      const textLength = text.length;
      let m;
      do {
        if (this._prevMatchStartIndex + this._prevMatchLength === textLength) {
          return null;
        }
        m = this._searchRegex.exec(text);
        if (!m) {
          return null;
        }
        const matchStartIndex = m.index;
        const matchLength = m[0].length;
        if (matchStartIndex === this._prevMatchStartIndex && matchLength === this._prevMatchLength) {
          if (matchLength === 0) {
            if (getNextCodePoint(text, textLength, this._searchRegex.lastIndex) > 65535) {
              this._searchRegex.lastIndex += 2;
            } else {
              this._searchRegex.lastIndex += 1;
            }
            continue;
          }
          return null;
        }
        this._prevMatchStartIndex = matchStartIndex;
        this._prevMatchLength = matchLength;
        if (!this._wordSeparators || isValidMatch(this._wordSeparators, text, textLength, matchStartIndex, matchLength)) {
          return m;
        }
      } while (m);
      return null;
    }
  }
  function assertNever(value, message = "Unreachable") {
    throw new Error(message);
  }
  function assertFn(condition) {
    if (!condition()) {
      debugger;
      condition();
      onUnexpectedError(new BugIndicatingError("Assertion Failed"));
    }
  }
  function checkAdjacentItems(items, predicate) {
    let i = 0;
    while (i < items.length - 1) {
      const a2 = items[i];
      const b = items[i + 1];
      if (!predicate(a2, b)) {
        return false;
      }
      i++;
    }
    return true;
  }
  class UnicodeTextModelHighlighter {
    static computeUnicodeHighlights(model, options, range) {
      const startLine = range ? range.startLineNumber : 1;
      const endLine = range ? range.endLineNumber : model.getLineCount();
      const codePointHighlighter = new CodePointHighlighter(options);
      const candidates = codePointHighlighter.getCandidateCodePoints();
      let regex;
      if (candidates === "allNonBasicAscii") {
        regex = new RegExp("[^\\t\\n\\r\\x20-\\x7E]", "g");
      } else {
        regex = new RegExp(`${buildRegExpCharClassExpr(Array.from(candidates))}`, "g");
      }
      const searcher = new Searcher(null, regex);
      const ranges = [];
      let hasMore = false;
      let m;
      let ambiguousCharacterCount = 0;
      let invisibleCharacterCount = 0;
      let nonBasicAsciiCharacterCount = 0;
      forLoop:
        for (let lineNumber = startLine, lineCount = endLine; lineNumber <= lineCount; lineNumber++) {
          const lineContent = model.getLineContent(lineNumber);
          const lineLength = lineContent.length;
          searcher.reset(0);
          do {
            m = searcher.next(lineContent);
            if (m) {
              let startIndex = m.index;
              let endIndex = m.index + m[0].length;
              if (startIndex > 0) {
                const charCodeBefore = lineContent.charCodeAt(startIndex - 1);
                if (isHighSurrogate(charCodeBefore)) {
                  startIndex--;
                }
              }
              if (endIndex + 1 < lineLength) {
                const charCodeBefore = lineContent.charCodeAt(endIndex - 1);
                if (isHighSurrogate(charCodeBefore)) {
                  endIndex++;
                }
              }
              const str = lineContent.substring(startIndex, endIndex);
              let word = getWordAtText(startIndex + 1, DEFAULT_WORD_REGEXP, lineContent, 0);
              if (word && word.endColumn <= startIndex + 1) {
                word = null;
              }
              const highlightReason = codePointHighlighter.shouldHighlightNonBasicASCII(str, word ? word.word : null);
              if (highlightReason !== 0) {
                if (highlightReason === 3) {
                  ambiguousCharacterCount++;
                } else if (highlightReason === 2) {
                  invisibleCharacterCount++;
                } else if (highlightReason === 1) {
                  nonBasicAsciiCharacterCount++;
                } else {
                  assertNever();
                }
                const MAX_RESULT_LENGTH = 1e3;
                if (ranges.length >= MAX_RESULT_LENGTH) {
                  hasMore = true;
                  break forLoop;
                }
                ranges.push(new Range$1(lineNumber, startIndex + 1, lineNumber, endIndex + 1));
              }
            }
          } while (m);
        }
      return {
        ranges,
        hasMore,
        ambiguousCharacterCount,
        invisibleCharacterCount,
        nonBasicAsciiCharacterCount
      };
    }
    static computeUnicodeHighlightReason(char, options) {
      const codePointHighlighter = new CodePointHighlighter(options);
      const reason = codePointHighlighter.shouldHighlightNonBasicASCII(char, null);
      switch (reason) {
        case 0:
          return null;
        case 2:
          return {
            kind: 1
            /* UnicodeHighlighterReasonKind.Invisible */
          };
        case 3: {
          const codePoint = char.codePointAt(0);
          const primaryConfusable = codePointHighlighter.ambiguousCharacters.getPrimaryConfusable(codePoint);
          const notAmbiguousInLocales = AmbiguousCharacters.getLocales().filter((l) => !AmbiguousCharacters.getInstance(/* @__PURE__ */ new Set([...options.allowedLocales, l])).isAmbiguous(codePoint));
          return { kind: 0, confusableWith: String.fromCodePoint(primaryConfusable), notAmbiguousInLocales };
        }
        case 1:
          return {
            kind: 2
            /* UnicodeHighlighterReasonKind.NonBasicAscii */
          };
      }
    }
  }
  function buildRegExpCharClassExpr(codePoints, flags) {
    const src = `[${escapeRegExpCharacters(codePoints.map((i) => String.fromCodePoint(i)).join(""))}]`;
    return src;
  }
  class CodePointHighlighter {
    constructor(options) {
      this.options = options;
      this.allowedCodePoints = new Set(options.allowedCodePoints);
      this.ambiguousCharacters = AmbiguousCharacters.getInstance(new Set(options.allowedLocales));
    }
    getCandidateCodePoints() {
      if (this.options.nonBasicASCII) {
        return "allNonBasicAscii";
      }
      const set = /* @__PURE__ */ new Set();
      if (this.options.invisibleCharacters) {
        for (const cp of InvisibleCharacters.codePoints) {
          if (!isAllowedInvisibleCharacter(String.fromCodePoint(cp))) {
            set.add(cp);
          }
        }
      }
      if (this.options.ambiguousCharacters) {
        for (const cp of this.ambiguousCharacters.getConfusableCodePoints()) {
          set.add(cp);
        }
      }
      for (const cp of this.allowedCodePoints) {
        set.delete(cp);
      }
      return set;
    }
    shouldHighlightNonBasicASCII(character, wordContext) {
      const codePoint = character.codePointAt(0);
      if (this.allowedCodePoints.has(codePoint)) {
        return 0;
      }
      if (this.options.nonBasicASCII) {
        return 1;
      }
      let hasBasicASCIICharacters = false;
      let hasNonConfusableNonBasicAsciiCharacter = false;
      if (wordContext) {
        for (const char of wordContext) {
          const codePoint2 = char.codePointAt(0);
          const isBasicASCII$1 = isBasicASCII(char);
          hasBasicASCIICharacters = hasBasicASCIICharacters || isBasicASCII$1;
          if (!isBasicASCII$1 && !this.ambiguousCharacters.isAmbiguous(codePoint2) && !InvisibleCharacters.isInvisibleCharacter(codePoint2)) {
            hasNonConfusableNonBasicAsciiCharacter = true;
          }
        }
      }
      if (
        /* Don't allow mixing weird looking characters with ASCII */
        !hasBasicASCIICharacters && /* Is there an obviously weird looking character? */
        hasNonConfusableNonBasicAsciiCharacter
      ) {
        return 0;
      }
      if (this.options.invisibleCharacters) {
        if (!isAllowedInvisibleCharacter(character) && InvisibleCharacters.isInvisibleCharacter(codePoint)) {
          return 2;
        }
      }
      if (this.options.ambiguousCharacters) {
        if (this.ambiguousCharacters.isAmbiguous(codePoint)) {
          return 3;
        }
      }
      return 0;
    }
  }
  function isAllowedInvisibleCharacter(character) {
    return character === " " || character === "\n" || character === "	";
  }
  class LinesDiff {
    constructor(changes, moves, hitTimeout) {
      this.changes = changes;
      this.moves = moves;
      this.hitTimeout = hitTimeout;
    }
  }
  class MovedText {
    constructor(lineRangeMapping, changes) {
      this.lineRangeMapping = lineRangeMapping;
      this.changes = changes;
    }
  }
  class OffsetRange {
    static addRange(range, sortedRanges) {
      let i = 0;
      while (i < sortedRanges.length && sortedRanges[i].endExclusive < range.start) {
        i++;
      }
      let j = i;
      while (j < sortedRanges.length && sortedRanges[j].start <= range.endExclusive) {
        j++;
      }
      if (i === j) {
        sortedRanges.splice(i, 0, range);
      } else {
        const start = Math.min(range.start, sortedRanges[i].start);
        const end = Math.max(range.endExclusive, sortedRanges[j - 1].endExclusive);
        sortedRanges.splice(i, j - i, new OffsetRange(start, end));
      }
    }
    static tryCreate(start, endExclusive) {
      if (start > endExclusive) {
        return void 0;
      }
      return new OffsetRange(start, endExclusive);
    }
    static ofLength(length) {
      return new OffsetRange(0, length);
    }
    static ofStartAndLength(start, length) {
      return new OffsetRange(start, start + length);
    }
    constructor(start, endExclusive) {
      this.start = start;
      this.endExclusive = endExclusive;
      if (start > endExclusive) {
        throw new BugIndicatingError(`Invalid range: ${this.toString()}`);
      }
    }
    get isEmpty() {
      return this.start === this.endExclusive;
    }
    delta(offset) {
      return new OffsetRange(this.start + offset, this.endExclusive + offset);
    }
    deltaStart(offset) {
      return new OffsetRange(this.start + offset, this.endExclusive);
    }
    deltaEnd(offset) {
      return new OffsetRange(this.start, this.endExclusive + offset);
    }
    get length() {
      return this.endExclusive - this.start;
    }
    toString() {
      return `[${this.start}, ${this.endExclusive})`;
    }
    equals(other) {
      return this.start === other.start && this.endExclusive === other.endExclusive;
    }
    containsRange(other) {
      return this.start <= other.start && other.endExclusive <= this.endExclusive;
    }
    contains(offset) {
      return this.start <= offset && offset < this.endExclusive;
    }
    /**
     * for all numbers n: range1.contains(n) or range2.contains(n) => range1.join(range2).contains(n)
     * The joined range is the smallest range that contains both ranges.
     */
    join(other) {
      return new OffsetRange(Math.min(this.start, other.start), Math.max(this.endExclusive, other.endExclusive));
    }
    /**
     * for all numbers n: range1.contains(n) and range2.contains(n) <=> range1.intersect(range2).contains(n)
     *
     * The resulting range is empty if the ranges do not intersect, but touch.
     * If the ranges don't even touch, the result is undefined.
     */
    intersect(other) {
      const start = Math.max(this.start, other.start);
      const end = Math.min(this.endExclusive, other.endExclusive);
      if (start <= end) {
        return new OffsetRange(start, end);
      }
      return void 0;
    }
    isBefore(other) {
      return this.endExclusive <= other.start;
    }
    isAfter(other) {
      return this.start >= other.endExclusive;
    }
    slice(arr) {
      return arr.slice(this.start, this.endExclusive);
    }
    /**
     * Returns the given value if it is contained in this instance, otherwise the closest value that is contained.
     * The range must not be empty.
     */
    clip(value) {
      if (this.isEmpty) {
        throw new BugIndicatingError(`Invalid clipping range: ${this.toString()}`);
      }
      return Math.max(this.start, Math.min(this.endExclusive - 1, value));
    }
    /**
     * Returns `r := value + k * length` such that `r` is contained in this range.
     * The range must not be empty.
     *
     * E.g. `[5, 10).clipCyclic(10) === 5`, `[5, 10).clipCyclic(11) === 6` and `[5, 10).clipCyclic(4) === 9`.
     */
    clipCyclic(value) {
      if (this.isEmpty) {
        throw new BugIndicatingError(`Invalid clipping range: ${this.toString()}`);
      }
      if (value < this.start) {
        return this.endExclusive - (this.start - value) % this.length;
      }
      if (value >= this.endExclusive) {
        return this.start + (value - this.start) % this.length;
      }
      return value;
    }
    forEach(f2) {
      for (let i = this.start; i < this.endExclusive; i++) {
        f2(i);
      }
    }
  }
  function findLastMonotonous(array, predicate) {
    const idx = findLastIdxMonotonous(array, predicate);
    return idx === -1 ? void 0 : array[idx];
  }
  function findLastIdxMonotonous(array, predicate, startIdx = 0, endIdxEx = array.length) {
    let i = startIdx;
    let j = endIdxEx;
    while (i < j) {
      const k = Math.floor((i + j) / 2);
      if (predicate(array[k])) {
        i = k + 1;
      } else {
        j = k;
      }
    }
    return i - 1;
  }
  function findFirstMonotonous(array, predicate) {
    const idx = findFirstIdxMonotonousOrArrLen(array, predicate);
    return idx === array.length ? void 0 : array[idx];
  }
  function findFirstIdxMonotonousOrArrLen(array, predicate, startIdx = 0, endIdxEx = array.length) {
    let i = startIdx;
    let j = endIdxEx;
    while (i < j) {
      const k = Math.floor((i + j) / 2);
      if (predicate(array[k])) {
        j = k;
      } else {
        i = k + 1;
      }
    }
    return i;
  }
  class MonotonousArray {
    constructor(_array) {
      this._array = _array;
      this._findLastMonotonousLastIdx = 0;
    }
    /**
     * The predicate must be monotonous, i.e. `arr.map(predicate)` must be like `[true, ..., true, false, ..., false]`!
     * For subsequent calls, current predicate must be weaker than (or equal to) the previous predicate, i.e. more entries must be `true`.
     */
    findLastMonotonous(predicate) {
      if (MonotonousArray.assertInvariants) {
        if (this._prevFindLastPredicate) {
          for (const item of this._array) {
            if (this._prevFindLastPredicate(item) && !predicate(item)) {
              throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.");
            }
          }
        }
        this._prevFindLastPredicate = predicate;
      }
      const idx = findLastIdxMonotonous(this._array, predicate, this._findLastMonotonousLastIdx);
      this._findLastMonotonousLastIdx = idx + 1;
      return idx === -1 ? void 0 : this._array[idx];
    }
  }
  MonotonousArray.assertInvariants = false;
  class LineRange {
    static fromRange(range) {
      return new LineRange(range.startLineNumber, range.endLineNumber);
    }
    static fromRangeInclusive(range) {
      return new LineRange(range.startLineNumber, range.endLineNumber + 1);
    }
    /**
     * @param lineRanges An array of sorted line ranges.
     */
    static joinMany(lineRanges) {
      if (lineRanges.length === 0) {
        return [];
      }
      let result = new LineRangeSet(lineRanges[0].slice());
      for (let i = 1; i < lineRanges.length; i++) {
        result = result.getUnion(new LineRangeSet(lineRanges[i].slice()));
      }
      return result.ranges;
    }
    static ofLength(startLineNumber, length) {
      return new LineRange(startLineNumber, startLineNumber + length);
    }
    /**
     * @internal
     */
    static deserialize(lineRange) {
      return new LineRange(lineRange[0], lineRange[1]);
    }
    constructor(startLineNumber, endLineNumberExclusive) {
      if (startLineNumber > endLineNumberExclusive) {
        throw new BugIndicatingError(`startLineNumber ${startLineNumber} cannot be after endLineNumberExclusive ${endLineNumberExclusive}`);
      }
      this.startLineNumber = startLineNumber;
      this.endLineNumberExclusive = endLineNumberExclusive;
    }
    /**
     * Indicates if this line range contains the given line number.
     */
    contains(lineNumber) {
      return this.startLineNumber <= lineNumber && lineNumber < this.endLineNumberExclusive;
    }
    /**
     * Indicates if this line range is empty.
     */
    get isEmpty() {
      return this.startLineNumber === this.endLineNumberExclusive;
    }
    /**
     * Moves this line range by the given offset of line numbers.
     */
    delta(offset) {
      return new LineRange(this.startLineNumber + offset, this.endLineNumberExclusive + offset);
    }
    deltaLength(offset) {
      return new LineRange(this.startLineNumber, this.endLineNumberExclusive + offset);
    }
    /**
     * The number of lines this line range spans.
     */
    get length() {
      return this.endLineNumberExclusive - this.startLineNumber;
    }
    /**
     * Creates a line range that combines this and the given line range.
     */
    join(other) {
      return new LineRange(Math.min(this.startLineNumber, other.startLineNumber), Math.max(this.endLineNumberExclusive, other.endLineNumberExclusive));
    }
    toString() {
      return `[${this.startLineNumber},${this.endLineNumberExclusive})`;
    }
    /**
     * The resulting range is empty if the ranges do not intersect, but touch.
     * If the ranges don't even touch, the result is undefined.
     */
    intersect(other) {
      const startLineNumber = Math.max(this.startLineNumber, other.startLineNumber);
      const endLineNumberExclusive = Math.min(this.endLineNumberExclusive, other.endLineNumberExclusive);
      if (startLineNumber <= endLineNumberExclusive) {
        return new LineRange(startLineNumber, endLineNumberExclusive);
      }
      return void 0;
    }
    intersectsStrict(other) {
      return this.startLineNumber < other.endLineNumberExclusive && other.startLineNumber < this.endLineNumberExclusive;
    }
    overlapOrTouch(other) {
      return this.startLineNumber <= other.endLineNumberExclusive && other.startLineNumber <= this.endLineNumberExclusive;
    }
    equals(b) {
      return this.startLineNumber === b.startLineNumber && this.endLineNumberExclusive === b.endLineNumberExclusive;
    }
    toInclusiveRange() {
      if (this.isEmpty) {
        return null;
      }
      return new Range$1(this.startLineNumber, 1, this.endLineNumberExclusive - 1, Number.MAX_SAFE_INTEGER);
    }
    toExclusiveRange() {
      return new Range$1(this.startLineNumber, 1, this.endLineNumberExclusive, 1);
    }
    mapToLineArray(f2) {
      const result = [];
      for (let lineNumber = this.startLineNumber; lineNumber < this.endLineNumberExclusive; lineNumber++) {
        result.push(f2(lineNumber));
      }
      return result;
    }
    forEach(f2) {
      for (let lineNumber = this.startLineNumber; lineNumber < this.endLineNumberExclusive; lineNumber++) {
        f2(lineNumber);
      }
    }
    /**
     * @internal
     */
    serialize() {
      return [this.startLineNumber, this.endLineNumberExclusive];
    }
    includes(lineNumber) {
      return this.startLineNumber <= lineNumber && lineNumber < this.endLineNumberExclusive;
    }
    /**
     * Converts this 1-based line range to a 0-based offset range (subtracts 1!).
     * @internal
     */
    toOffsetRange() {
      return new OffsetRange(this.startLineNumber - 1, this.endLineNumberExclusive - 1);
    }
  }
  class LineRangeSet {
    constructor(_normalizedRanges = []) {
      this._normalizedRanges = _normalizedRanges;
    }
    get ranges() {
      return this._normalizedRanges;
    }
    addRange(range) {
      if (range.length === 0) {
        return;
      }
      const joinRangeStartIdx = findFirstIdxMonotonousOrArrLen(this._normalizedRanges, (r) => r.endLineNumberExclusive >= range.startLineNumber);
      const joinRangeEndIdxExclusive = findLastIdxMonotonous(this._normalizedRanges, (r) => r.startLineNumber <= range.endLineNumberExclusive) + 1;
      if (joinRangeStartIdx === joinRangeEndIdxExclusive) {
        this._normalizedRanges.splice(joinRangeStartIdx, 0, range);
      } else if (joinRangeStartIdx === joinRangeEndIdxExclusive - 1) {
        const joinRange = this._normalizedRanges[joinRangeStartIdx];
        this._normalizedRanges[joinRangeStartIdx] = joinRange.join(range);
      } else {
        const joinRange = this._normalizedRanges[joinRangeStartIdx].join(this._normalizedRanges[joinRangeEndIdxExclusive - 1]).join(range);
        this._normalizedRanges.splice(joinRangeStartIdx, joinRangeEndIdxExclusive - joinRangeStartIdx, joinRange);
      }
    }
    contains(lineNumber) {
      const rangeThatStartsBeforeEnd = findLastMonotonous(this._normalizedRanges, (r) => r.startLineNumber <= lineNumber);
      return !!rangeThatStartsBeforeEnd && rangeThatStartsBeforeEnd.endLineNumberExclusive > lineNumber;
    }
    intersects(range) {
      const rangeThatStartsBeforeEnd = findLastMonotonous(this._normalizedRanges, (r) => r.startLineNumber < range.endLineNumberExclusive);
      return !!rangeThatStartsBeforeEnd && rangeThatStartsBeforeEnd.endLineNumberExclusive > range.startLineNumber;
    }
    getUnion(other) {
      if (this._normalizedRanges.length === 0) {
        return other;
      }
      if (other._normalizedRanges.length === 0) {
        return this;
      }
      const result = [];
      let i1 = 0;
      let i2 = 0;
      let current = null;
      while (i1 < this._normalizedRanges.length || i2 < other._normalizedRanges.length) {
        let next = null;
        if (i1 < this._normalizedRanges.length && i2 < other._normalizedRanges.length) {
          const lineRange1 = this._normalizedRanges[i1];
          const lineRange2 = other._normalizedRanges[i2];
          if (lineRange1.startLineNumber < lineRange2.startLineNumber) {
            next = lineRange1;
            i1++;
          } else {
            next = lineRange2;
            i2++;
          }
        } else if (i1 < this._normalizedRanges.length) {
          next = this._normalizedRanges[i1];
          i1++;
        } else {
          next = other._normalizedRanges[i2];
          i2++;
        }
        if (current === null) {
          current = next;
        } else {
          if (current.endLineNumberExclusive >= next.startLineNumber) {
            current = new LineRange(current.startLineNumber, Math.max(current.endLineNumberExclusive, next.endLineNumberExclusive));
          } else {
            result.push(current);
            current = next;
          }
        }
      }
      if (current !== null) {
        result.push(current);
      }
      return new LineRangeSet(result);
    }
    /**
     * Subtracts all ranges in this set from `range` and returns the result.
     */
    subtractFrom(range) {
      const joinRangeStartIdx = findFirstIdxMonotonousOrArrLen(this._normalizedRanges, (r) => r.endLineNumberExclusive >= range.startLineNumber);
      const joinRangeEndIdxExclusive = findLastIdxMonotonous(this._normalizedRanges, (r) => r.startLineNumber <= range.endLineNumberExclusive) + 1;
      if (joinRangeStartIdx === joinRangeEndIdxExclusive) {
        return new LineRangeSet([range]);
      }
      const result = [];
      let startLineNumber = range.startLineNumber;
      for (let i = joinRangeStartIdx; i < joinRangeEndIdxExclusive; i++) {
        const r = this._normalizedRanges[i];
        if (r.startLineNumber > startLineNumber) {
          result.push(new LineRange(startLineNumber, r.startLineNumber));
        }
        startLineNumber = r.endLineNumberExclusive;
      }
      if (startLineNumber < range.endLineNumberExclusive) {
        result.push(new LineRange(startLineNumber, range.endLineNumberExclusive));
      }
      return new LineRangeSet(result);
    }
    toString() {
      return this._normalizedRanges.map((r) => r.toString()).join(", ");
    }
    getIntersection(other) {
      const result = [];
      let i1 = 0;
      let i2 = 0;
      while (i1 < this._normalizedRanges.length && i2 < other._normalizedRanges.length) {
        const r1 = this._normalizedRanges[i1];
        const r2 = other._normalizedRanges[i2];
        const i = r1.intersect(r2);
        if (i && !i.isEmpty) {
          result.push(i);
        }
        if (r1.endLineNumberExclusive < r2.endLineNumberExclusive) {
          i1++;
        } else {
          i2++;
        }
      }
      return new LineRangeSet(result);
    }
    getWithDelta(value) {
      return new LineRangeSet(this._normalizedRanges.map((r) => r.delta(value)));
    }
  }
  class LineRangeMapping {
    static inverse(mapping, originalLineCount, modifiedLineCount) {
      const result = [];
      let lastOriginalEndLineNumber = 1;
      let lastModifiedEndLineNumber = 1;
      for (const m of mapping) {
        const r2 = new DetailedLineRangeMapping(new LineRange(lastOriginalEndLineNumber, m.original.startLineNumber), new LineRange(lastModifiedEndLineNumber, m.modified.startLineNumber), void 0);
        if (!r2.modified.isEmpty) {
          result.push(r2);
        }
        lastOriginalEndLineNumber = m.original.endLineNumberExclusive;
        lastModifiedEndLineNumber = m.modified.endLineNumberExclusive;
      }
      const r = new DetailedLineRangeMapping(new LineRange(lastOriginalEndLineNumber, originalLineCount + 1), new LineRange(lastModifiedEndLineNumber, modifiedLineCount + 1), void 0);
      if (!r.modified.isEmpty) {
        result.push(r);
      }
      return result;
    }
    constructor(originalRange, modifiedRange) {
      this.original = originalRange;
      this.modified = modifiedRange;
    }
    toString() {
      return `{${this.original.toString()}->${this.modified.toString()}}`;
    }
    flip() {
      return new LineRangeMapping(this.modified, this.original);
    }
    join(other) {
      return new LineRangeMapping(this.original.join(other.original), this.modified.join(other.modified));
    }
  }
  class DetailedLineRangeMapping extends LineRangeMapping {
    constructor(originalRange, modifiedRange, innerChanges) {
      super(originalRange, modifiedRange);
      this.innerChanges = innerChanges;
    }
    flip() {
      var _a2;
      return new DetailedLineRangeMapping(this.modified, this.original, (_a2 = this.innerChanges) === null || _a2 === void 0 ? void 0 : _a2.map((c) => c.flip()));
    }
  }
  class RangeMapping {
    constructor(originalRange, modifiedRange) {
      this.originalRange = originalRange;
      this.modifiedRange = modifiedRange;
    }
    toString() {
      return `{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`;
    }
    flip() {
      return new RangeMapping(this.modifiedRange, this.originalRange);
    }
  }
  const MINIMUM_MATCHING_CHARACTER_LENGTH = 3;
  class LegacyLinesDiffComputer {
    computeDiff(originalLines, modifiedLines, options) {
      var _a2;
      const diffComputer = new DiffComputer(originalLines, modifiedLines, {
        maxComputationTime: options.maxComputationTimeMs,
        shouldIgnoreTrimWhitespace: options.ignoreTrimWhitespace,
        shouldComputeCharChanges: true,
        shouldMakePrettyDiff: true,
        shouldPostProcessCharChanges: true
      });
      const result = diffComputer.computeDiff();
      const changes = [];
      let lastChange = null;
      for (const c of result.changes) {
        let originalRange;
        if (c.originalEndLineNumber === 0) {
          originalRange = new LineRange(c.originalStartLineNumber + 1, c.originalStartLineNumber + 1);
        } else {
          originalRange = new LineRange(c.originalStartLineNumber, c.originalEndLineNumber + 1);
        }
        let modifiedRange;
        if (c.modifiedEndLineNumber === 0) {
          modifiedRange = new LineRange(c.modifiedStartLineNumber + 1, c.modifiedStartLineNumber + 1);
        } else {
          modifiedRange = new LineRange(c.modifiedStartLineNumber, c.modifiedEndLineNumber + 1);
        }
        let change = new DetailedLineRangeMapping(originalRange, modifiedRange, (_a2 = c.charChanges) === null || _a2 === void 0 ? void 0 : _a2.map((c2) => new RangeMapping(new Range$1(c2.originalStartLineNumber, c2.originalStartColumn, c2.originalEndLineNumber, c2.originalEndColumn), new Range$1(c2.modifiedStartLineNumber, c2.modifiedStartColumn, c2.modifiedEndLineNumber, c2.modifiedEndColumn))));
        if (lastChange) {
          if (lastChange.modified.endLineNumberExclusive === change.modified.startLineNumber || lastChange.original.endLineNumberExclusive === change.original.startLineNumber) {
            change = new DetailedLineRangeMapping(lastChange.original.join(change.original), lastChange.modified.join(change.modified), lastChange.innerChanges && change.innerChanges ? lastChange.innerChanges.concat(change.innerChanges) : void 0);
            changes.pop();
          }
        }
        changes.push(change);
        lastChange = change;
      }
      assertFn(() => {
        return checkAdjacentItems(changes, (m1, m2) => m2.original.startLineNumber - m1.original.endLineNumberExclusive === m2.modified.startLineNumber - m1.modified.endLineNumberExclusive && // There has to be an unchanged line in between (otherwise both diffs should have been joined)
        m1.original.endLineNumberExclusive < m2.original.startLineNumber && m1.modified.endLineNumberExclusive < m2.modified.startLineNumber);
      });
      return new LinesDiff(changes, [], result.quitEarly);
    }
  }
  function computeDiff(originalSequence, modifiedSequence, continueProcessingPredicate, pretty) {
    const diffAlgo = new LcsDiff(originalSequence, modifiedSequence, continueProcessingPredicate);
    return diffAlgo.ComputeDiff(pretty);
  }
  let LineSequence$1 = class LineSequence {
    constructor(lines) {
      const startColumns = [];
      const endColumns = [];
      for (let i = 0, length = lines.length; i < length; i++) {
        startColumns[i] = getFirstNonBlankColumn(lines[i], 1);
        endColumns[i] = getLastNonBlankColumn(lines[i], 1);
      }
      this.lines = lines;
      this._startColumns = startColumns;
      this._endColumns = endColumns;
    }
    getElements() {
      const elements = [];
      for (let i = 0, len = this.lines.length; i < len; i++) {
        elements[i] = this.lines[i].substring(this._startColumns[i] - 1, this._endColumns[i] - 1);
      }
      return elements;
    }
    getStrictElement(index) {
      return this.lines[index];
    }
    getStartLineNumber(i) {
      return i + 1;
    }
    getEndLineNumber(i) {
      return i + 1;
    }
    createCharSequence(shouldIgnoreTrimWhitespace, startIndex, endIndex) {
      const charCodes = [];
      const lineNumbers = [];
      const columns = [];
      let len = 0;
      for (let index = startIndex; index <= endIndex; index++) {
        const lineContent = this.lines[index];
        const startColumn = shouldIgnoreTrimWhitespace ? this._startColumns[index] : 1;
        const endColumn = shouldIgnoreTrimWhitespace ? this._endColumns[index] : lineContent.length + 1;
        for (let col = startColumn; col < endColumn; col++) {
          charCodes[len] = lineContent.charCodeAt(col - 1);
          lineNumbers[len] = index + 1;
          columns[len] = col;
          len++;
        }
        if (!shouldIgnoreTrimWhitespace && index < endIndex) {
          charCodes[len] = 10;
          lineNumbers[len] = index + 1;
          columns[len] = lineContent.length + 1;
          len++;
        }
      }
      return new CharSequence(charCodes, lineNumbers, columns);
    }
  };
  class CharSequence {
    constructor(charCodes, lineNumbers, columns) {
      this._charCodes = charCodes;
      this._lineNumbers = lineNumbers;
      this._columns = columns;
    }
    toString() {
      return "[" + this._charCodes.map((s, idx) => (s === 10 ? "\\n" : String.fromCharCode(s)) + `-(${this._lineNumbers[idx]},${this._columns[idx]})`).join(", ") + "]";
    }
    _assertIndex(index, arr) {
      if (index < 0 || index >= arr.length) {
        throw new Error(`Illegal index`);
      }
    }
    getElements() {
      return this._charCodes;
    }
    getStartLineNumber(i) {
      if (i > 0 && i === this._lineNumbers.length) {
        return this.getEndLineNumber(i - 1);
      }
      this._assertIndex(i, this._lineNumbers);
      return this._lineNumbers[i];
    }
    getEndLineNumber(i) {
      if (i === -1) {
        return this.getStartLineNumber(i + 1);
      }
      this._assertIndex(i, this._lineNumbers);
      if (this._charCodes[i] === 10) {
        return this._lineNumbers[i] + 1;
      }
      return this._lineNumbers[i];
    }
    getStartColumn(i) {
      if (i > 0 && i === this._columns.length) {
        return this.getEndColumn(i - 1);
      }
      this._assertIndex(i, this._columns);
      return this._columns[i];
    }
    getEndColumn(i) {
      if (i === -1) {
        return this.getStartColumn(i + 1);
      }
      this._assertIndex(i, this._columns);
      if (this._charCodes[i] === 10) {
        return 1;
      }
      return this._columns[i] + 1;
    }
  }
  class CharChange {
    constructor(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn) {
      this.originalStartLineNumber = originalStartLineNumber;
      this.originalStartColumn = originalStartColumn;
      this.originalEndLineNumber = originalEndLineNumber;
      this.originalEndColumn = originalEndColumn;
      this.modifiedStartLineNumber = modifiedStartLineNumber;
      this.modifiedStartColumn = modifiedStartColumn;
      this.modifiedEndLineNumber = modifiedEndLineNumber;
      this.modifiedEndColumn = modifiedEndColumn;
    }
    static createFromDiffChange(diffChange, originalCharSequence, modifiedCharSequence) {
      const originalStartLineNumber = originalCharSequence.getStartLineNumber(diffChange.originalStart);
      const originalStartColumn = originalCharSequence.getStartColumn(diffChange.originalStart);
      const originalEndLineNumber = originalCharSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);
      const originalEndColumn = originalCharSequence.getEndColumn(diffChange.originalStart + diffChange.originalLength - 1);
      const modifiedStartLineNumber = modifiedCharSequence.getStartLineNumber(diffChange.modifiedStart);
      const modifiedStartColumn = modifiedCharSequence.getStartColumn(diffChange.modifiedStart);
      const modifiedEndLineNumber = modifiedCharSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);
      const modifiedEndColumn = modifiedCharSequence.getEndColumn(diffChange.modifiedStart + diffChange.modifiedLength - 1);
      return new CharChange(originalStartLineNumber, originalStartColumn, originalEndLineNumber, originalEndColumn, modifiedStartLineNumber, modifiedStartColumn, modifiedEndLineNumber, modifiedEndColumn);
    }
  }
  function postProcessCharChanges(rawChanges) {
    if (rawChanges.length <= 1) {
      return rawChanges;
    }
    const result = [rawChanges[0]];
    let prevChange = result[0];
    for (let i = 1, len = rawChanges.length; i < len; i++) {
      const currChange = rawChanges[i];
      const originalMatchingLength = currChange.originalStart - (prevChange.originalStart + prevChange.originalLength);
      const modifiedMatchingLength = currChange.modifiedStart - (prevChange.modifiedStart + prevChange.modifiedLength);
      const matchingLength = Math.min(originalMatchingLength, modifiedMatchingLength);
      if (matchingLength < MINIMUM_MATCHING_CHARACTER_LENGTH) {
        prevChange.originalLength = currChange.originalStart + currChange.originalLength - prevChange.originalStart;
        prevChange.modifiedLength = currChange.modifiedStart + currChange.modifiedLength - prevChange.modifiedStart;
      } else {
        result.push(currChange);
        prevChange = currChange;
      }
    }
    return result;
  }
  class LineChange {
    constructor(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges) {
      this.originalStartLineNumber = originalStartLineNumber;
      this.originalEndLineNumber = originalEndLineNumber;
      this.modifiedStartLineNumber = modifiedStartLineNumber;
      this.modifiedEndLineNumber = modifiedEndLineNumber;
      this.charChanges = charChanges;
    }
    static createFromDiffResult(shouldIgnoreTrimWhitespace, diffChange, originalLineSequence, modifiedLineSequence, continueCharDiff, shouldComputeCharChanges, shouldPostProcessCharChanges) {
      let originalStartLineNumber;
      let originalEndLineNumber;
      let modifiedStartLineNumber;
      let modifiedEndLineNumber;
      let charChanges = void 0;
      if (diffChange.originalLength === 0) {
        originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart) - 1;
        originalEndLineNumber = 0;
      } else {
        originalStartLineNumber = originalLineSequence.getStartLineNumber(diffChange.originalStart);
        originalEndLineNumber = originalLineSequence.getEndLineNumber(diffChange.originalStart + diffChange.originalLength - 1);
      }
      if (diffChange.modifiedLength === 0) {
        modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart) - 1;
        modifiedEndLineNumber = 0;
      } else {
        modifiedStartLineNumber = modifiedLineSequence.getStartLineNumber(diffChange.modifiedStart);
        modifiedEndLineNumber = modifiedLineSequence.getEndLineNumber(diffChange.modifiedStart + diffChange.modifiedLength - 1);
      }
      if (shouldComputeCharChanges && diffChange.originalLength > 0 && diffChange.originalLength < 20 && diffChange.modifiedLength > 0 && diffChange.modifiedLength < 20 && continueCharDiff()) {
        const originalCharSequence = originalLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.originalStart, diffChange.originalStart + diffChange.originalLength - 1);
        const modifiedCharSequence = modifiedLineSequence.createCharSequence(shouldIgnoreTrimWhitespace, diffChange.modifiedStart, diffChange.modifiedStart + diffChange.modifiedLength - 1);
        if (originalCharSequence.getElements().length > 0 && modifiedCharSequence.getElements().length > 0) {
          let rawChanges = computeDiff(originalCharSequence, modifiedCharSequence, continueCharDiff, true).changes;
          if (shouldPostProcessCharChanges) {
            rawChanges = postProcessCharChanges(rawChanges);
          }
          charChanges = [];
          for (let i = 0, length = rawChanges.length; i < length; i++) {
            charChanges.push(CharChange.createFromDiffChange(rawChanges[i], originalCharSequence, modifiedCharSequence));
          }
        }
      }
      return new LineChange(originalStartLineNumber, originalEndLineNumber, modifiedStartLineNumber, modifiedEndLineNumber, charChanges);
    }
  }
  class DiffComputer {
    constructor(originalLines, modifiedLines, opts) {
      this.shouldComputeCharChanges = opts.shouldComputeCharChanges;
      this.shouldPostProcessCharChanges = opts.shouldPostProcessCharChanges;
      this.shouldIgnoreTrimWhitespace = opts.shouldIgnoreTrimWhitespace;
      this.shouldMakePrettyDiff = opts.shouldMakePrettyDiff;
      this.originalLines = originalLines;
      this.modifiedLines = modifiedLines;
      this.original = new LineSequence$1(originalLines);
      this.modified = new LineSequence$1(modifiedLines);
      this.continueLineDiff = createContinueProcessingPredicate(opts.maxComputationTime);
      this.continueCharDiff = createContinueProcessingPredicate(opts.maxComputationTime === 0 ? 0 : Math.min(opts.maxComputationTime, 5e3));
    }
    computeDiff() {
      if (this.original.lines.length === 1 && this.original.lines[0].length === 0) {
        if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {
          return {
            quitEarly: false,
            changes: []
          };
        }
        return {
          quitEarly: false,
          changes: [{
            originalStartLineNumber: 1,
            originalEndLineNumber: 1,
            modifiedStartLineNumber: 1,
            modifiedEndLineNumber: this.modified.lines.length,
            charChanges: void 0
          }]
        };
      }
      if (this.modified.lines.length === 1 && this.modified.lines[0].length === 0) {
        return {
          quitEarly: false,
          changes: [{
            originalStartLineNumber: 1,
            originalEndLineNumber: this.original.lines.length,
            modifiedStartLineNumber: 1,
            modifiedEndLineNumber: 1,
            charChanges: void 0
          }]
        };
      }
      const diffResult = computeDiff(this.original, this.modified, this.continueLineDiff, this.shouldMakePrettyDiff);
      const rawChanges = diffResult.changes;
      const quitEarly = diffResult.quitEarly;
      if (this.shouldIgnoreTrimWhitespace) {
        const lineChanges = [];
        for (let i = 0, length = rawChanges.length; i < length; i++) {
          lineChanges.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, rawChanges[i], this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));
        }
        return {
          quitEarly,
          changes: lineChanges
        };
      }
      const result = [];
      let originalLineIndex = 0;
      let modifiedLineIndex = 0;
      for (let i = -1, len = rawChanges.length; i < len; i++) {
        const nextChange = i + 1 < len ? rawChanges[i + 1] : null;
        const originalStop = nextChange ? nextChange.originalStart : this.originalLines.length;
        const modifiedStop = nextChange ? nextChange.modifiedStart : this.modifiedLines.length;
        while (originalLineIndex < originalStop && modifiedLineIndex < modifiedStop) {
          const originalLine = this.originalLines[originalLineIndex];
          const modifiedLine = this.modifiedLines[modifiedLineIndex];
          if (originalLine !== modifiedLine) {
            {
              let originalStartColumn = getFirstNonBlankColumn(originalLine, 1);
              let modifiedStartColumn = getFirstNonBlankColumn(modifiedLine, 1);
              while (originalStartColumn > 1 && modifiedStartColumn > 1) {
                const originalChar = originalLine.charCodeAt(originalStartColumn - 2);
                const modifiedChar = modifiedLine.charCodeAt(modifiedStartColumn - 2);
                if (originalChar !== modifiedChar) {
                  break;
                }
                originalStartColumn--;
                modifiedStartColumn--;
              }
              if (originalStartColumn > 1 || modifiedStartColumn > 1) {
                this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, 1, originalStartColumn, modifiedLineIndex + 1, 1, modifiedStartColumn);
              }
            }
            {
              let originalEndColumn = getLastNonBlankColumn(originalLine, 1);
              let modifiedEndColumn = getLastNonBlankColumn(modifiedLine, 1);
              const originalMaxColumn = originalLine.length + 1;
              const modifiedMaxColumn = modifiedLine.length + 1;
              while (originalEndColumn < originalMaxColumn && modifiedEndColumn < modifiedMaxColumn) {
                const originalChar = originalLine.charCodeAt(originalEndColumn - 1);
                const modifiedChar = originalLine.charCodeAt(modifiedEndColumn - 1);
                if (originalChar !== modifiedChar) {
                  break;
                }
                originalEndColumn++;
                modifiedEndColumn++;
              }
              if (originalEndColumn < originalMaxColumn || modifiedEndColumn < modifiedMaxColumn) {
                this._pushTrimWhitespaceCharChange(result, originalLineIndex + 1, originalEndColumn, originalMaxColumn, modifiedLineIndex + 1, modifiedEndColumn, modifiedMaxColumn);
              }
            }
          }
          originalLineIndex++;
          modifiedLineIndex++;
        }
        if (nextChange) {
          result.push(LineChange.createFromDiffResult(this.shouldIgnoreTrimWhitespace, nextChange, this.original, this.modified, this.continueCharDiff, this.shouldComputeCharChanges, this.shouldPostProcessCharChanges));
          originalLineIndex += nextChange.originalLength;
          modifiedLineIndex += nextChange.modifiedLength;
        }
      }
      return {
        quitEarly,
        changes: result
      };
    }
    _pushTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {
      if (this._mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn)) {
        return;
      }
      let charChanges = void 0;
      if (this.shouldComputeCharChanges) {
        charChanges = [new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn)];
      }
      result.push(new LineChange(originalLineNumber, originalLineNumber, modifiedLineNumber, modifiedLineNumber, charChanges));
    }
    _mergeTrimWhitespaceCharChange(result, originalLineNumber, originalStartColumn, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedEndColumn) {
      const len = result.length;
      if (len === 0) {
        return false;
      }
      const prevChange = result[len - 1];
      if (prevChange.originalEndLineNumber === 0 || prevChange.modifiedEndLineNumber === 0) {
        return false;
      }
      if (prevChange.originalEndLineNumber === originalLineNumber && prevChange.modifiedEndLineNumber === modifiedLineNumber) {
        if (this.shouldComputeCharChanges && prevChange.charChanges) {
          prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));
        }
        return true;
      }
      if (prevChange.originalEndLineNumber + 1 === originalLineNumber && prevChange.modifiedEndLineNumber + 1 === modifiedLineNumber) {
        prevChange.originalEndLineNumber = originalLineNumber;
        prevChange.modifiedEndLineNumber = modifiedLineNumber;
        if (this.shouldComputeCharChanges && prevChange.charChanges) {
          prevChange.charChanges.push(new CharChange(originalLineNumber, originalStartColumn, originalLineNumber, originalEndColumn, modifiedLineNumber, modifiedStartColumn, modifiedLineNumber, modifiedEndColumn));
        }
        return true;
      }
      return false;
    }
  }
  function getFirstNonBlankColumn(txt, defaultValue) {
    const r = firstNonWhitespaceIndex(txt);
    if (r === -1) {
      return defaultValue;
    }
    return r + 1;
  }
  function getLastNonBlankColumn(txt, defaultValue) {
    const r = lastNonWhitespaceIndex(txt);
    if (r === -1) {
      return defaultValue;
    }
    return r + 2;
  }
  function createContinueProcessingPredicate(maximumRuntime) {
    if (maximumRuntime === 0) {
      return () => true;
    }
    const startTime = Date.now();
    return () => {
      return Date.now() - startTime < maximumRuntime;
    };
  }
  class DiffAlgorithmResult {
    static trivial(seq1, seq2) {
      return new DiffAlgorithmResult([new SequenceDiff(OffsetRange.ofLength(seq1.length), OffsetRange.ofLength(seq2.length))], false);
    }
    static trivialTimedOut(seq1, seq2) {
      return new DiffAlgorithmResult([new SequenceDiff(OffsetRange.ofLength(seq1.length), OffsetRange.ofLength(seq2.length))], true);
    }
    constructor(diffs, hitTimeout) {
      this.diffs = diffs;
      this.hitTimeout = hitTimeout;
    }
  }
  class SequenceDiff {
    static invert(sequenceDiffs, doc1Length) {
      const result = [];
      forEachAdjacent(sequenceDiffs, (a2, b) => {
        result.push(SequenceDiff.fromOffsetPairs(a2 ? a2.getEndExclusives() : OffsetPair.zero, b ? b.getStarts() : new OffsetPair(doc1Length, (a2 ? a2.seq2Range.endExclusive - a2.seq1Range.endExclusive : 0) + doc1Length)));
      });
      return result;
    }
    static fromOffsetPairs(start, endExclusive) {
      return new SequenceDiff(new OffsetRange(start.offset1, endExclusive.offset1), new OffsetRange(start.offset2, endExclusive.offset2));
    }
    constructor(seq1Range, seq2Range) {
      this.seq1Range = seq1Range;
      this.seq2Range = seq2Range;
    }
    swap() {
      return new SequenceDiff(this.seq2Range, this.seq1Range);
    }
    toString() {
      return `${this.seq1Range} <-> ${this.seq2Range}`;
    }
    join(other) {
      return new SequenceDiff(this.seq1Range.join(other.seq1Range), this.seq2Range.join(other.seq2Range));
    }
    delta(offset) {
      if (offset === 0) {
        return this;
      }
      return new SequenceDiff(this.seq1Range.delta(offset), this.seq2Range.delta(offset));
    }
    deltaStart(offset) {
      if (offset === 0) {
        return this;
      }
      return new SequenceDiff(this.seq1Range.deltaStart(offset), this.seq2Range.deltaStart(offset));
    }
    deltaEnd(offset) {
      if (offset === 0) {
        return this;
      }
      return new SequenceDiff(this.seq1Range.deltaEnd(offset), this.seq2Range.deltaEnd(offset));
    }
    intersect(other) {
      const i1 = this.seq1Range.intersect(other.seq1Range);
      const i2 = this.seq2Range.intersect(other.seq2Range);
      if (!i1 || !i2) {
        return void 0;
      }
      return new SequenceDiff(i1, i2);
    }
    getStarts() {
      return new OffsetPair(this.seq1Range.start, this.seq2Range.start);
    }
    getEndExclusives() {
      return new OffsetPair(this.seq1Range.endExclusive, this.seq2Range.endExclusive);
    }
  }
  class OffsetPair {
    constructor(offset1, offset2) {
      this.offset1 = offset1;
      this.offset2 = offset2;
    }
    toString() {
      return `${this.offset1} <-> ${this.offset2}`;
    }
  }
  OffsetPair.zero = new OffsetPair(0, 0);
  OffsetPair.max = new OffsetPair(Number.MAX_SAFE_INTEGER, Number.MAX_SAFE_INTEGER);
  class InfiniteTimeout {
    isValid() {
      return true;
    }
  }
  InfiniteTimeout.instance = new InfiniteTimeout();
  class DateTimeout {
    constructor(timeout) {
      this.timeout = timeout;
      this.startTime = Date.now();
      this.valid = true;
      if (timeout <= 0) {
        throw new BugIndicatingError("timeout must be positive");
      }
    }
    // Recommendation: Set a log-point `{this.disable()}` in the body
    isValid() {
      const valid = Date.now() - this.startTime < this.timeout;
      if (!valid && this.valid) {
        this.valid = false;
        debugger;
      }
      return this.valid;
    }
  }
  class Array2D {
    constructor(width, height) {
      this.width = width;
      this.height = height;
      this.array = [];
      this.array = new Array(width * height);
    }
    get(x, y) {
      return this.array[x + y * this.width];
    }
    set(x, y, value) {
      this.array[x + y * this.width] = value;
    }
  }
  function isSpace(charCode) {
    return charCode === 32 || charCode === 9;
  }
  class LineRangeFragment {
    static getKey(chr) {
      let key = this.chrKeys.get(chr);
      if (key === void 0) {
        key = this.chrKeys.size;
        this.chrKeys.set(chr, key);
      }
      return key;
    }
    constructor(range, lines, source) {
      this.range = range;
      this.lines = lines;
      this.source = source;
      this.histogram = [];
      let counter = 0;
      for (let i = range.startLineNumber - 1; i < range.endLineNumberExclusive - 1; i++) {
        const line = lines[i];
        for (let j = 0; j < line.length; j++) {
          counter++;
          const chr = line[j];
          const key2 = LineRangeFragment.getKey(chr);
          this.histogram[key2] = (this.histogram[key2] || 0) + 1;
        }
        counter++;
        const key = LineRangeFragment.getKey("\n");
        this.histogram[key] = (this.histogram[key] || 0) + 1;
      }
      this.totalCount = counter;
    }
    computeSimilarity(other) {
      var _a2, _b;
      let sumDifferences = 0;
      const maxLength = Math.max(this.histogram.length, other.histogram.length);
      for (let i = 0; i < maxLength; i++) {
        sumDifferences += Math.abs(((_a2 = this.histogram[i]) !== null && _a2 !== void 0 ? _a2 : 0) - ((_b = other.histogram[i]) !== null && _b !== void 0 ? _b : 0));
      }
      return 1 - sumDifferences / (this.totalCount + other.totalCount);
    }
  }
  LineRangeFragment.chrKeys = /* @__PURE__ */ new Map();
  class DynamicProgrammingDiffing {
    compute(sequence1, sequence2, timeout = InfiniteTimeout.instance, equalityScore) {
      if (sequence1.length === 0 || sequence2.length === 0) {
        return DiffAlgorithmResult.trivial(sequence1, sequence2);
      }
      const lcsLengths = new Array2D(sequence1.length, sequence2.length);
      const directions = new Array2D(sequence1.length, sequence2.length);
      const lengths = new Array2D(sequence1.length, sequence2.length);
      for (let s12 = 0; s12 < sequence1.length; s12++) {
        for (let s22 = 0; s22 < sequence2.length; s22++) {
          if (!timeout.isValid()) {
            return DiffAlgorithmResult.trivialTimedOut(sequence1, sequence2);
          }
          const horizontalLen = s12 === 0 ? 0 : lcsLengths.get(s12 - 1, s22);
          const verticalLen = s22 === 0 ? 0 : lcsLengths.get(s12, s22 - 1);
          let extendedSeqScore;
          if (sequence1.getElement(s12) === sequence2.getElement(s22)) {
            if (s12 === 0 || s22 === 0) {
              extendedSeqScore = 0;
            } else {
              extendedSeqScore = lcsLengths.get(s12 - 1, s22 - 1);
            }
            if (s12 > 0 && s22 > 0 && directions.get(s12 - 1, s22 - 1) === 3) {
              extendedSeqScore += lengths.get(s12 - 1, s22 - 1);
            }
            extendedSeqScore += equalityScore ? equalityScore(s12, s22) : 1;
          } else {
            extendedSeqScore = -1;
          }
          const newValue = Math.max(horizontalLen, verticalLen, extendedSeqScore);
          if (newValue === extendedSeqScore) {
            const prevLen = s12 > 0 && s22 > 0 ? lengths.get(s12 - 1, s22 - 1) : 0;
            lengths.set(s12, s22, prevLen + 1);
            directions.set(s12, s22, 3);
          } else if (newValue === horizontalLen) {
            lengths.set(s12, s22, 0);
            directions.set(s12, s22, 1);
          } else if (newValue === verticalLen) {
            lengths.set(s12, s22, 0);
            directions.set(s12, s22, 2);
          }
          lcsLengths.set(s12, s22, newValue);
        }
      }
      const result = [];
      let lastAligningPosS1 = sequence1.length;
      let lastAligningPosS2 = sequence2.length;
      function reportDecreasingAligningPositions(s12, s22) {
        if (s12 + 1 !== lastAligningPosS1 || s22 + 1 !== lastAligningPosS2) {
          result.push(new SequenceDiff(new OffsetRange(s12 + 1, lastAligningPosS1), new OffsetRange(s22 + 1, lastAligningPosS2)));
        }
        lastAligningPosS1 = s12;
        lastAligningPosS2 = s22;
      }
      let s1 = sequence1.length - 1;
      let s2 = sequence2.length - 1;
      while (s1 >= 0 && s2 >= 0) {
        if (directions.get(s1, s2) === 3) {
          reportDecreasingAligningPositions(s1, s2);
          s1--;
          s2--;
        } else {
          if (directions.get(s1, s2) === 1) {
            s1--;
          } else {
            s2--;
          }
        }
      }
      reportDecreasingAligningPositions(-1, -1);
      result.reverse();
      return new DiffAlgorithmResult(result, false);
    }
  }
  class MyersDiffAlgorithm {
    compute(seq1, seq2, timeout = InfiniteTimeout.instance) {
      if (seq1.length === 0 || seq2.length === 0) {
        return DiffAlgorithmResult.trivial(seq1, seq2);
      }
      const seqX = seq1;
      const seqY = seq2;
      function getXAfterSnake(x, y) {
        while (x < seqX.length && y < seqY.length && seqX.getElement(x) === seqY.getElement(y)) {
          x++;
          y++;
        }
        return x;
      }
      let d = 0;
      const V = new FastInt32Array();
      V.set(0, getXAfterSnake(0, 0));
      const paths = new FastArrayNegativeIndices();
      paths.set(0, V.get(0) === 0 ? null : new SnakePath(null, 0, 0, V.get(0)));
      let k = 0;
      loop:
        while (true) {
          d++;
          if (!timeout.isValid()) {
            return DiffAlgorithmResult.trivialTimedOut(seqX, seqY);
          }
          const lowerBound = -Math.min(d, seqY.length + d % 2);
          const upperBound = Math.min(d, seqX.length + d % 2);
          for (k = lowerBound; k <= upperBound; k += 2) {
            const maxXofDLineTop = k === upperBound ? -1 : V.get(k + 1);
            const maxXofDLineLeft = k === lowerBound ? -1 : V.get(k - 1) + 1;
            const x = Math.min(Math.max(maxXofDLineTop, maxXofDLineLeft), seqX.length);
            const y = x - k;
            if (x > seqX.length || y > seqY.length) {
              continue;
            }
            const newMaxX = getXAfterSnake(x, y);
            V.set(k, newMaxX);
            const lastPath = x === maxXofDLineTop ? paths.get(k + 1) : paths.get(k - 1);
            paths.set(k, newMaxX !== x ? new SnakePath(lastPath, x, y, newMaxX - x) : lastPath);
            if (V.get(k) === seqX.length && V.get(k) - k === seqY.length) {
              break loop;
            }
          }
        }
      let path = paths.get(k);
      const result = [];
      let lastAligningPosS1 = seqX.length;
      let lastAligningPosS2 = seqY.length;
      while (true) {
        const endX = path ? path.x + path.length : 0;
        const endY = path ? path.y + path.length : 0;
        if (endX !== lastAligningPosS1 || endY !== lastAligningPosS2) {
          result.push(new SequenceDiff(new OffsetRange(endX, lastAligningPosS1), new OffsetRange(endY, lastAligningPosS2)));
        }
        if (!path) {
          break;
        }
        lastAligningPosS1 = path.x;
        lastAligningPosS2 = path.y;
        path = path.prev;
      }
      result.reverse();
      return new DiffAlgorithmResult(result, false);
    }
  }
  class SnakePath {
    constructor(prev, x, y, length) {
      this.prev = prev;
      this.x = x;
      this.y = y;
      this.length = length;
    }
  }
  class FastInt32Array {
    constructor() {
      this.positiveArr = new Int32Array(10);
      this.negativeArr = new Int32Array(10);
    }
    get(idx) {
      if (idx < 0) {
        idx = -idx - 1;
        return this.negativeArr[idx];
      } else {
        return this.positiveArr[idx];
      }
    }
    set(idx, value) {
      if (idx < 0) {
        idx = -idx - 1;
        if (idx >= this.negativeArr.length) {
          const arr = this.negativeArr;
          this.negativeArr = new Int32Array(arr.length * 2);
          this.negativeArr.set(arr);
        }
        this.negativeArr[idx] = value;
      } else {
        if (idx >= this.positiveArr.length) {
          const arr = this.positiveArr;
          this.positiveArr = new Int32Array(arr.length * 2);
          this.positiveArr.set(arr);
        }
        this.positiveArr[idx] = value;
      }
    }
  }
  class FastArrayNegativeIndices {
    constructor() {
      this.positiveArr = [];
      this.negativeArr = [];
    }
    get(idx) {
      if (idx < 0) {
        idx = -idx - 1;
        return this.negativeArr[idx];
      } else {
        return this.positiveArr[idx];
      }
    }
    set(idx, value) {
      if (idx < 0) {
        idx = -idx - 1;
        this.negativeArr[idx] = value;
      } else {
        this.positiveArr[idx] = value;
      }
    }
  }
  class SetMap {
    constructor() {
      this.map = /* @__PURE__ */ new Map();
    }
    add(key, value) {
      let values = this.map.get(key);
      if (!values) {
        values = /* @__PURE__ */ new Set();
        this.map.set(key, values);
      }
      values.add(value);
    }
    delete(key, value) {
      const values = this.map.get(key);
      if (!values) {
        return;
      }
      values.delete(value);
      if (values.size === 0) {
        this.map.delete(key);
      }
    }
    forEach(key, fn) {
      const values = this.map.get(key);
      if (!values) {
        return;
      }
      values.forEach(fn);
    }
    get(key) {
      const values = this.map.get(key);
      if (!values) {
        return /* @__PURE__ */ new Set();
      }
      return values;
    }
  }
  class LinesSliceCharSequence {
    constructor(lines, lineRange, considerWhitespaceChanges) {
      this.lines = lines;
      this.considerWhitespaceChanges = considerWhitespaceChanges;
      this.elements = [];
      this.firstCharOffsetByLine = [];
      this.additionalOffsetByLine = [];
      let trimFirstLineFully = false;
      if (lineRange.start > 0 && lineRange.endExclusive >= lines.length) {
        lineRange = new OffsetRange(lineRange.start - 1, lineRange.endExclusive);
        trimFirstLineFully = true;
      }
      this.lineRange = lineRange;
      this.firstCharOffsetByLine[0] = 0;
      for (let i = this.lineRange.start; i < this.lineRange.endExclusive; i++) {
        let line = lines[i];
        let offset = 0;
        if (trimFirstLineFully) {
          offset = line.length;
          line = "";
          trimFirstLineFully = false;
        } else if (!considerWhitespaceChanges) {
          const trimmedStartLine = line.trimStart();
          offset = line.length - trimmedStartLine.length;
          line = trimmedStartLine.trimEnd();
        }
        this.additionalOffsetByLine.push(offset);
        for (let i2 = 0; i2 < line.length; i2++) {
          this.elements.push(line.charCodeAt(i2));
        }
        if (i < lines.length - 1) {
          this.elements.push("\n".charCodeAt(0));
          this.firstCharOffsetByLine[i - this.lineRange.start + 1] = this.elements.length;
        }
      }
      this.additionalOffsetByLine.push(0);
    }
    toString() {
      return `Slice: "${this.text}"`;
    }
    get text() {
      return this.getText(new OffsetRange(0, this.length));
    }
    getText(range) {
      return this.elements.slice(range.start, range.endExclusive).map((e) => String.fromCharCode(e)).join("");
    }
    getElement(offset) {
      return this.elements[offset];
    }
    get length() {
      return this.elements.length;
    }
    getBoundaryScore(length) {
      const prevCategory = getCategory(length > 0 ? this.elements[length - 1] : -1);
      const nextCategory = getCategory(length < this.elements.length ? this.elements[length] : -1);
      if (prevCategory === 7 && nextCategory === 8) {
        return 0;
      }
      let score2 = 0;
      if (prevCategory !== nextCategory) {
        score2 += 10;
        if (prevCategory === 0 && nextCategory === 1) {
          score2 += 1;
        }
      }
      score2 += getCategoryBoundaryScore(prevCategory);
      score2 += getCategoryBoundaryScore(nextCategory);
      return score2;
    }
    translateOffset(offset) {
      if (this.lineRange.isEmpty) {
        return new Position$1(this.lineRange.start + 1, 1);
      }
      const i = findLastIdxMonotonous(this.firstCharOffsetByLine, (value) => value <= offset);
      return new Position$1(this.lineRange.start + i + 1, offset - this.firstCharOffsetByLine[i] + this.additionalOffsetByLine[i] + 1);
    }
    translateRange(range) {
      return Range$1.fromPositions(this.translateOffset(range.start), this.translateOffset(range.endExclusive));
    }
    /**
     * Finds the word that contains the character at the given offset
     */
    findWordContaining(offset) {
      if (offset < 0 || offset >= this.elements.length) {
        return void 0;
      }
      if (!isWordChar(this.elements[offset])) {
        return void 0;
      }
      let start = offset;
      while (start > 0 && isWordChar(this.elements[start - 1])) {
        start--;
      }
      let end = offset;
      while (end < this.elements.length && isWordChar(this.elements[end])) {
        end++;
      }
      return new OffsetRange(start, end);
    }
    countLinesIn(range) {
      return this.translateOffset(range.endExclusive).lineNumber - this.translateOffset(range.start).lineNumber;
    }
    isStronglyEqual(offset1, offset2) {
      return this.elements[offset1] === this.elements[offset2];
    }
    extendToFullLines(range) {
      var _a2, _b;
      const start = (_a2 = findLastMonotonous(this.firstCharOffsetByLine, (x) => x <= range.start)) !== null && _a2 !== void 0 ? _a2 : 0;
      const end = (_b = findFirstMonotonous(this.firstCharOffsetByLine, (x) => range.endExclusive <= x)) !== null && _b !== void 0 ? _b : this.elements.length;
      return new OffsetRange(start, end);
    }
  }
  function isWordChar(charCode) {
    return charCode >= 97 && charCode <= 122 || charCode >= 65 && charCode <= 90 || charCode >= 48 && charCode <= 57;
  }
  const score = {
    [
      0
      /* CharBoundaryCategory.WordLower */
    ]: 0,
    [
      1
      /* CharBoundaryCategory.WordUpper */
    ]: 0,
    [
      2
      /* CharBoundaryCategory.WordNumber */
    ]: 0,
    [
      3
      /* CharBoundaryCategory.End */
    ]: 10,
    [
      4
      /* CharBoundaryCategory.Other */
    ]: 2,
    [
      5
      /* CharBoundaryCategory.Separator */
    ]: 3,
    [
      6
      /* CharBoundaryCategory.Space */
    ]: 3,
    [
      7
      /* CharBoundaryCategory.LineBreakCR */
    ]: 10,
    [
      8
      /* CharBoundaryCategory.LineBreakLF */
    ]: 10
  };
  function getCategoryBoundaryScore(category) {
    return score[category];
  }
  function getCategory(charCode) {
    if (charCode === 10) {
      return 8;
    } else if (charCode === 13) {
      return 7;
    } else if (isSpace(charCode)) {
      return 6;
    } else if (charCode >= 97 && charCode <= 122) {
      return 0;
    } else if (charCode >= 65 && charCode <= 90) {
      return 1;
    } else if (charCode >= 48 && charCode <= 57) {
      return 2;
    } else if (charCode === -1) {
      return 3;
    } else if (charCode === 44 || charCode === 59) {
      return 5;
    } else {
      return 4;
    }
  }
  function computeMovedLines(changes, originalLines, modifiedLines, hashedOriginalLines, hashedModifiedLines, timeout) {
    let { moves, excludedChanges } = computeMovesFromSimpleDeletionsToSimpleInsertions(changes, originalLines, modifiedLines, timeout);
    if (!timeout.isValid()) {
      return [];
    }
    const filteredChanges = changes.filter((c) => !excludedChanges.has(c));
    const unchangedMoves = computeUnchangedMoves(filteredChanges, hashedOriginalLines, hashedModifiedLines, originalLines, modifiedLines, timeout);
    pushMany(moves, unchangedMoves);
    moves = joinCloseConsecutiveMoves(moves);
    moves = moves.filter((current) => {
      const lines = current.original.toOffsetRange().slice(originalLines).map((l) => l.trim());
      const originalText = lines.join("\n");
      return originalText.length >= 15 && countWhere(lines, (l) => l.length >= 2) >= 2;
    });
    moves = removeMovesInSameDiff(changes, moves);
    return moves;
  }
  function countWhere(arr, predicate) {
    let count = 0;
    for (const t of arr) {
      if (predicate(t)) {
        count++;
      }
    }
    return count;
  }
  function computeMovesFromSimpleDeletionsToSimpleInsertions(changes, originalLines, modifiedLines, timeout) {
    const moves = [];
    const deletions = changes.filter((c) => c.modified.isEmpty && c.original.length >= 3).map((d) => new LineRangeFragment(d.original, originalLines, d));
    const insertions = new Set(changes.filter((c) => c.original.isEmpty && c.modified.length >= 3).map((d) => new LineRangeFragment(d.modified, modifiedLines, d)));
    const excludedChanges = /* @__PURE__ */ new Set();
    for (const deletion of deletions) {
      let highestSimilarity = -1;
      let best;
      for (const insertion of insertions) {
        const similarity = deletion.computeSimilarity(insertion);
        if (similarity > highestSimilarity) {
          highestSimilarity = similarity;
          best = insertion;
        }
      }
      if (highestSimilarity > 0.9 && best) {
        insertions.delete(best);
        moves.push(new LineRangeMapping(deletion.range, best.range));
        excludedChanges.add(deletion.source);
        excludedChanges.add(best.source);
      }
      if (!timeout.isValid()) {
        return { moves, excludedChanges };
      }
    }
    return { moves, excludedChanges };
  }
  function computeUnchangedMoves(changes, hashedOriginalLines, hashedModifiedLines, originalLines, modifiedLines, timeout) {
    const moves = [];
    const original3LineHashes = new SetMap();
    for (const change of changes) {
      for (let i = change.original.startLineNumber; i < change.original.endLineNumberExclusive - 2; i++) {
        const key = `${hashedOriginalLines[i - 1]}:${hashedOriginalLines[i + 1 - 1]}:${hashedOriginalLines[i + 2 - 1]}`;
        original3LineHashes.add(key, { range: new LineRange(i, i + 3) });
      }
    }
    const possibleMappings = [];
    changes.sort(compareBy((c) => c.modified.startLineNumber, numberComparator));
    for (const change of changes) {
      let lastMappings = [];
      for (let i = change.modified.startLineNumber; i < change.modified.endLineNumberExclusive - 2; i++) {
        const key = `${hashedModifiedLines[i - 1]}:${hashedModifiedLines[i + 1 - 1]}:${hashedModifiedLines[i + 2 - 1]}`;
        const currentModifiedRange = new LineRange(i, i + 3);
        const nextMappings = [];
        original3LineHashes.forEach(key, ({ range }) => {
          for (const lastMapping of lastMappings) {
            if (lastMapping.originalLineRange.endLineNumberExclusive + 1 === range.endLineNumberExclusive && lastMapping.modifiedLineRange.endLineNumberExclusive + 1 === currentModifiedRange.endLineNumberExclusive) {
              lastMapping.originalLineRange = new LineRange(lastMapping.originalLineRange.startLineNumber, range.endLineNumberExclusive);
              lastMapping.modifiedLineRange = new LineRange(lastMapping.modifiedLineRange.startLineNumber, currentModifiedRange.endLineNumberExclusive);
              nextMappings.push(lastMapping);
              return;
            }
          }
          const mapping = {
            modifiedLineRange: currentModifiedRange,
            originalLineRange: range
          };
          possibleMappings.push(mapping);
          nextMappings.push(mapping);
        });
        lastMappings = nextMappings;
      }
      if (!timeout.isValid()) {
        return [];
      }
    }
    possibleMappings.sort(reverseOrder(compareBy((m) => m.modifiedLineRange.length, numberComparator)));
    const modifiedSet = new LineRangeSet();
    const originalSet = new LineRangeSet();
    for (const mapping of possibleMappings) {
      const diffOrigToMod = mapping.modifiedLineRange.startLineNumber - mapping.originalLineRange.startLineNumber;
      const modifiedSections = modifiedSet.subtractFrom(mapping.modifiedLineRange);
      const originalTranslatedSections = originalSet.subtractFrom(mapping.originalLineRange).getWithDelta(diffOrigToMod);
      const modifiedIntersectedSections = modifiedSections.getIntersection(originalTranslatedSections);
      for (const s of modifiedIntersectedSections.ranges) {
        if (s.length < 3) {
          continue;
        }
        const modifiedLineRange = s;
        const originalLineRange = s.delta(-diffOrigToMod);
        moves.push(new LineRangeMapping(originalLineRange, modifiedLineRange));
        modifiedSet.addRange(modifiedLineRange);
        originalSet.addRange(originalLineRange);
      }
    }
    moves.sort(compareBy((m) => m.original.startLineNumber, numberComparator));
    const monotonousChanges = new MonotonousArray(changes);
    for (let i = 0; i < moves.length; i++) {
      const move = moves[i];
      const firstTouchingChangeOrig = monotonousChanges.findLastMonotonous((c) => c.original.startLineNumber <= move.original.startLineNumber);
      const firstTouchingChangeMod = findLastMonotonous(changes, (c) => c.modified.startLineNumber <= move.modified.startLineNumber);
      const linesAbove = Math.max(move.original.startLineNumber - firstTouchingChangeOrig.original.startLineNumber, move.modified.startLineNumber - firstTouchingChangeMod.modified.startLineNumber);
      const lastTouchingChangeOrig = monotonousChanges.findLastMonotonous((c) => c.original.startLineNumber < move.original.endLineNumberExclusive);
      const lastTouchingChangeMod = findLastMonotonous(changes, (c) => c.modified.startLineNumber < move.modified.endLineNumberExclusive);
      const linesBelow = Math.max(lastTouchingChangeOrig.original.endLineNumberExclusive - move.original.endLineNumberExclusive, lastTouchingChangeMod.modified.endLineNumberExclusive - move.modified.endLineNumberExclusive);
      let extendToTop;
      for (extendToTop = 0; extendToTop < linesAbove; extendToTop++) {
        const origLine = move.original.startLineNumber - extendToTop - 1;
        const modLine = move.modified.startLineNumber - extendToTop - 1;
        if (origLine > originalLines.length || modLine > modifiedLines.length) {
          break;
        }
        if (modifiedSet.contains(modLine) || originalSet.contains(origLine)) {
          break;
        }
        if (!areLinesSimilar(originalLines[origLine - 1], modifiedLines[modLine - 1], timeout)) {
          break;
        }
      }
      if (extendToTop > 0) {
        originalSet.addRange(new LineRange(move.original.startLineNumber - extendToTop, move.original.startLineNumber));
        modifiedSet.addRange(new LineRange(move.modified.startLineNumber - extendToTop, move.modified.startLineNumber));
      }
      let extendToBottom;
      for (extendToBottom = 0; extendToBottom < linesBelow; extendToBottom++) {
        const origLine = move.original.endLineNumberExclusive + extendToBottom;
        const modLine = move.modified.endLineNumberExclusive + extendToBottom;
        if (origLine > originalLines.length || modLine > modifiedLines.length) {
          break;
        }
        if (modifiedSet.contains(modLine) || originalSet.contains(origLine)) {
          break;
        }
        if (!areLinesSimilar(originalLines[origLine - 1], modifiedLines[modLine - 1], timeout)) {
          break;
        }
      }
      if (extendToBottom > 0) {
        originalSet.addRange(new LineRange(move.original.endLineNumberExclusive, move.original.endLineNumberExclusive + extendToBottom));
        modifiedSet.addRange(new LineRange(move.modified.endLineNumberExclusive, move.modified.endLineNumberExclusive + extendToBottom));
      }
      if (extendToTop > 0 || extendToBottom > 0) {
        moves[i] = new LineRangeMapping(new LineRange(move.original.startLineNumber - extendToTop, move.original.endLineNumberExclusive + extendToBottom), new LineRange(move.modified.startLineNumber - extendToTop, move.modified.endLineNumberExclusive + extendToBottom));
      }
    }
    return moves;
  }
  function areLinesSimilar(line1, line2, timeout) {
    if (line1.trim() === line2.trim()) {
      return true;
    }
    if (line1.length > 300 && line2.length > 300) {
      return false;
    }
    const myersDiffingAlgorithm = new MyersDiffAlgorithm();
    const result = myersDiffingAlgorithm.compute(new LinesSliceCharSequence([line1], new OffsetRange(0, 1), false), new LinesSliceCharSequence([line2], new OffsetRange(0, 1), false), timeout);
    let commonNonSpaceCharCount = 0;
    const inverted = SequenceDiff.invert(result.diffs, line1.length);
    for (const seq of inverted) {
      seq.seq1Range.forEach((idx) => {
        if (!isSpace(line1.charCodeAt(idx))) {
          commonNonSpaceCharCount++;
        }
      });
    }
    function countNonWsChars(str) {
      let count = 0;
      for (let i = 0; i < line1.length; i++) {
        if (!isSpace(str.charCodeAt(i))) {
          count++;
        }
      }
      return count;
    }
    const longerLineLength = countNonWsChars(line1.length > line2.length ? line1 : line2);
    const r = commonNonSpaceCharCount / longerLineLength > 0.6 && longerLineLength > 10;
    return r;
  }
  function joinCloseConsecutiveMoves(moves) {
    if (moves.length === 0) {
      return moves;
    }
    moves.sort(compareBy((m) => m.original.startLineNumber, numberComparator));
    const result = [moves[0]];
    for (let i = 1; i < moves.length; i++) {
      const last = result[result.length - 1];
      const current = moves[i];
      const originalDist = current.original.startLineNumber - last.original.endLineNumberExclusive;
      const modifiedDist = current.modified.startLineNumber - last.modified.endLineNumberExclusive;
      const currentMoveAfterLast = originalDist >= 0 && modifiedDist >= 0;
      if (currentMoveAfterLast && originalDist + modifiedDist <= 2) {
        result[result.length - 1] = last.join(current);
        continue;
      }
      result.push(current);
    }
    return result;
  }
  function removeMovesInSameDiff(changes, moves) {
    const changesMonotonous = new MonotonousArray(changes);
    moves = moves.filter((m) => {
      const diffBeforeEndOfMoveOriginal = changesMonotonous.findLastMonotonous((c) => c.original.startLineNumber < m.original.endLineNumberExclusive) || new LineRangeMapping(new LineRange(1, 1), new LineRange(1, 1));
      const diffBeforeEndOfMoveModified = findLastMonotonous(changes, (c) => c.modified.startLineNumber < m.modified.endLineNumberExclusive);
      const differentDiffs = diffBeforeEndOfMoveOriginal !== diffBeforeEndOfMoveModified;
      return differentDiffs;
    });
    return moves;
  }
  function optimizeSequenceDiffs(sequence1, sequence2, sequenceDiffs) {
    let result = sequenceDiffs;
    result = joinSequenceDiffsByShifting(sequence1, sequence2, result);
    result = joinSequenceDiffsByShifting(sequence1, sequence2, result);
    result = shiftSequenceDiffs(sequence1, sequence2, result);
    return result;
  }
  function joinSequenceDiffsByShifting(sequence1, sequence2, sequenceDiffs) {
    if (sequenceDiffs.length === 0) {
      return sequenceDiffs;
    }
    const result = [];
    result.push(sequenceDiffs[0]);
    for (let i = 1; i < sequenceDiffs.length; i++) {
      const prevResult = result[result.length - 1];
      let cur = sequenceDiffs[i];
      if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {
        const length = cur.seq1Range.start - prevResult.seq1Range.endExclusive;
        let d;
        for (d = 1; d <= length; d++) {
          if (sequence1.getElement(cur.seq1Range.start - d) !== sequence1.getElement(cur.seq1Range.endExclusive - d) || sequence2.getElement(cur.seq2Range.start - d) !== sequence2.getElement(cur.seq2Range.endExclusive - d)) {
            break;
          }
        }
        d--;
        if (d === length) {
          result[result.length - 1] = new SequenceDiff(new OffsetRange(prevResult.seq1Range.start, cur.seq1Range.endExclusive - length), new OffsetRange(prevResult.seq2Range.start, cur.seq2Range.endExclusive - length));
          continue;
        }
        cur = cur.delta(-d);
      }
      result.push(cur);
    }
    const result2 = [];
    for (let i = 0; i < result.length - 1; i++) {
      const nextResult = result[i + 1];
      let cur = result[i];
      if (cur.seq1Range.isEmpty || cur.seq2Range.isEmpty) {
        const length = nextResult.seq1Range.start - cur.seq1Range.endExclusive;
        let d;
        for (d = 0; d < length; d++) {
          if (!sequence1.isStronglyEqual(cur.seq1Range.start + d, cur.seq1Range.endExclusive + d) || !sequence2.isStronglyEqual(cur.seq2Range.start + d, cur.seq2Range.endExclusive + d)) {
            break;
          }
        }
        if (d === length) {
          result[i + 1] = new SequenceDiff(new OffsetRange(cur.seq1Range.start + length, nextResult.seq1Range.endExclusive), new OffsetRange(cur.seq2Range.start + length, nextResult.seq2Range.endExclusive));
          continue;
        }
        if (d > 0) {
          cur = cur.delta(d);
        }
      }
      result2.push(cur);
    }
    if (result.length > 0) {
      result2.push(result[result.length - 1]);
    }
    return result2;
  }
  function shiftSequenceDiffs(sequence1, sequence2, sequenceDiffs) {
    if (!sequence1.getBoundaryScore || !sequence2.getBoundaryScore) {
      return sequenceDiffs;
    }
    for (let i = 0; i < sequenceDiffs.length; i++) {
      const prevDiff = i > 0 ? sequenceDiffs[i - 1] : void 0;
      const diff = sequenceDiffs[i];
      const nextDiff = i + 1 < sequenceDiffs.length ? sequenceDiffs[i + 1] : void 0;
      const seq1ValidRange = new OffsetRange(prevDiff ? prevDiff.seq1Range.start + 1 : 0, nextDiff ? nextDiff.seq1Range.endExclusive - 1 : sequence1.length);
      const seq2ValidRange = new OffsetRange(prevDiff ? prevDiff.seq2Range.start + 1 : 0, nextDiff ? nextDiff.seq2Range.endExclusive - 1 : sequence2.length);
      if (diff.seq1Range.isEmpty) {
        sequenceDiffs[i] = shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange);
      } else if (diff.seq2Range.isEmpty) {
        sequenceDiffs[i] = shiftDiffToBetterPosition(diff.swap(), sequence2, sequence1, seq2ValidRange, seq1ValidRange).swap();
      }
    }
    return sequenceDiffs;
  }
  function shiftDiffToBetterPosition(diff, sequence1, sequence2, seq1ValidRange, seq2ValidRange) {
    const maxShiftLimit = 100;
    let deltaBefore = 1;
    while (diff.seq1Range.start - deltaBefore >= seq1ValidRange.start && diff.seq2Range.start - deltaBefore >= seq2ValidRange.start && sequence2.isStronglyEqual(diff.seq2Range.start - deltaBefore, diff.seq2Range.endExclusive - deltaBefore) && deltaBefore < maxShiftLimit) {
      deltaBefore++;
    }
    deltaBefore--;
    let deltaAfter = 0;
    while (diff.seq1Range.start + deltaAfter < seq1ValidRange.endExclusive && diff.seq2Range.endExclusive + deltaAfter < seq2ValidRange.endExclusive && sequence2.isStronglyEqual(diff.seq2Range.start + deltaAfter, diff.seq2Range.endExclusive + deltaAfter) && deltaAfter < maxShiftLimit) {
      deltaAfter++;
    }
    if (deltaBefore === 0 && deltaAfter === 0) {
      return diff;
    }
    let bestDelta = 0;
    let bestScore = -1;
    for (let delta = -deltaBefore; delta <= deltaAfter; delta++) {
      const seq2OffsetStart = diff.seq2Range.start + delta;
      const seq2OffsetEndExclusive = diff.seq2Range.endExclusive + delta;
      const seq1Offset = diff.seq1Range.start + delta;
      const score2 = sequence1.getBoundaryScore(seq1Offset) + sequence2.getBoundaryScore(seq2OffsetStart) + sequence2.getBoundaryScore(seq2OffsetEndExclusive);
      if (score2 > bestScore) {
        bestScore = score2;
        bestDelta = delta;
      }
    }
    return diff.delta(bestDelta);
  }
  function removeShortMatches(sequence1, sequence2, sequenceDiffs) {
    const result = [];
    for (const s of sequenceDiffs) {
      const last = result[result.length - 1];
      if (!last) {
        result.push(s);
        continue;
      }
      if (s.seq1Range.start - last.seq1Range.endExclusive <= 2 || s.seq2Range.start - last.seq2Range.endExclusive <= 2) {
        result[result.length - 1] = new SequenceDiff(last.seq1Range.join(s.seq1Range), last.seq2Range.join(s.seq2Range));
      } else {
        result.push(s);
      }
    }
    return result;
  }
  function extendDiffsToEntireWordIfAppropriate(sequence1, sequence2, sequenceDiffs) {
    const additional = [];
    let lastModifiedWord = void 0;
    function maybePushWordToAdditional() {
      if (!lastModifiedWord) {
        return;
      }
      const originalLength1 = lastModifiedWord.s1Range.length - lastModifiedWord.deleted;
      lastModifiedWord.s2Range.length - lastModifiedWord.added;
      if (Math.max(lastModifiedWord.deleted, lastModifiedWord.added) + (lastModifiedWord.count - 1) > originalLength1) {
        additional.push(new SequenceDiff(lastModifiedWord.s1Range, lastModifiedWord.s2Range));
      }
      lastModifiedWord = void 0;
    }
    for (const s of sequenceDiffs) {
      let processWord = function(s1Range, s2Range) {
        var _a2, _b, _c, _d;
        if (!lastModifiedWord || !lastModifiedWord.s1Range.containsRange(s1Range) || !lastModifiedWord.s2Range.containsRange(s2Range)) {
          if (lastModifiedWord && !(lastModifiedWord.s1Range.endExclusive < s1Range.start && lastModifiedWord.s2Range.endExclusive < s2Range.start)) {
            const s1Added = OffsetRange.tryCreate(lastModifiedWord.s1Range.endExclusive, s1Range.start);
            const s2Added = OffsetRange.tryCreate(lastModifiedWord.s2Range.endExclusive, s2Range.start);
            lastModifiedWord.deleted += (_a2 = s1Added === null || s1Added === void 0 ? void 0 : s1Added.length) !== null && _a2 !== void 0 ? _a2 : 0;
            lastModifiedWord.added += (_b = s2Added === null || s2Added === void 0 ? void 0 : s2Added.length) !== null && _b !== void 0 ? _b : 0;
            lastModifiedWord.s1Range = lastModifiedWord.s1Range.join(s1Range);
            lastModifiedWord.s2Range = lastModifiedWord.s2Range.join(s2Range);
          } else {
            maybePushWordToAdditional();
            lastModifiedWord = { added: 0, deleted: 0, count: 0, s1Range, s2Range };
          }
        }
        const changedS1 = s1Range.intersect(s.seq1Range);
        const changedS2 = s2Range.intersect(s.seq2Range);
        lastModifiedWord.count++;
        lastModifiedWord.deleted += (_c = changedS1 === null || changedS1 === void 0 ? void 0 : changedS1.length) !== null && _c !== void 0 ? _c : 0;
        lastModifiedWord.added += (_d = changedS2 === null || changedS2 === void 0 ? void 0 : changedS2.length) !== null && _d !== void 0 ? _d : 0;
      };
      const w1Before = sequence1.findWordContaining(s.seq1Range.start - 1);
      const w2Before = sequence2.findWordContaining(s.seq2Range.start - 1);
      const w1After = sequence1.findWordContaining(s.seq1Range.endExclusive);
      const w2After = sequence2.findWordContaining(s.seq2Range.endExclusive);
      if (w1Before && w1After && w2Before && w2After && w1Before.equals(w1After) && w2Before.equals(w2After)) {
        processWord(w1Before, w2Before);
      } else {
        if (w1Before && w2Before) {
          processWord(w1Before, w2Before);
        }
        if (w1After && w2After) {
          processWord(w1After, w2After);
        }
      }
    }
    maybePushWordToAdditional();
    const merged = mergeSequenceDiffs(sequenceDiffs, additional);
    return merged;
  }
  function mergeSequenceDiffs(sequenceDiffs1, sequenceDiffs2) {
    const result = [];
    while (sequenceDiffs1.length > 0 || sequenceDiffs2.length > 0) {
      const sd1 = sequenceDiffs1[0];
      const sd2 = sequenceDiffs2[0];
      let next;
      if (sd1 && (!sd2 || sd1.seq1Range.start < sd2.seq1Range.start)) {
        next = sequenceDiffs1.shift();
      } else {
        next = sequenceDiffs2.shift();
      }
      if (result.length > 0 && result[result.length - 1].seq1Range.endExclusive >= next.seq1Range.start) {
        result[result.length - 1] = result[result.length - 1].join(next);
      } else {
        result.push(next);
      }
    }
    return result;
  }
  function removeVeryShortMatchingLinesBetweenDiffs(sequence1, _sequence2, sequenceDiffs) {
    let diffs = sequenceDiffs;
    if (diffs.length === 0) {
      return diffs;
    }
    let counter = 0;
    let shouldRepeat;
    do {
      shouldRepeat = false;
      const result = [
        diffs[0]
      ];
      for (let i = 1; i < diffs.length; i++) {
        let shouldJoinDiffs = function(before, after) {
          const unchangedRange = new OffsetRange(lastResult.seq1Range.endExclusive, cur.seq1Range.start);
          const unchangedText = sequence1.getText(unchangedRange);
          const unchangedTextWithoutWs = unchangedText.replace(/\s/g, "");
          if (unchangedTextWithoutWs.length <= 4 && (before.seq1Range.length + before.seq2Range.length > 5 || after.seq1Range.length + after.seq2Range.length > 5)) {
            return true;
          }
          return false;
        };
        const cur = diffs[i];
        const lastResult = result[result.length - 1];
        const shouldJoin = shouldJoinDiffs(lastResult, cur);
        if (shouldJoin) {
          shouldRepeat = true;
          result[result.length - 1] = result[result.length - 1].join(cur);
        } else {
          result.push(cur);
        }
      }
      diffs = result;
    } while (counter++ < 10 && shouldRepeat);
    return diffs;
  }
  function removeVeryShortMatchingTextBetweenLongDiffs(sequence1, sequence2, sequenceDiffs) {
    let diffs = sequenceDiffs;
    if (diffs.length === 0) {
      return diffs;
    }
    let counter = 0;
    let shouldRepeat;
    do {
      shouldRepeat = false;
      const result = [
        diffs[0]
      ];
      for (let i = 1; i < diffs.length; i++) {
        let shouldJoinDiffs = function(before, after) {
          const unchangedRange = new OffsetRange(lastResult.seq1Range.endExclusive, cur.seq1Range.start);
          const unchangedLineCount = sequence1.countLinesIn(unchangedRange);
          if (unchangedLineCount > 5 || unchangedRange.length > 500) {
            return false;
          }
          const unchangedText = sequence1.getText(unchangedRange).trim();
          if (unchangedText.length > 20 || unchangedText.split(/\r\n|\r|\n/).length > 1) {
            return false;
          }
          const beforeLineCount1 = sequence1.countLinesIn(before.seq1Range);
          const beforeSeq1Length = before.seq1Range.length;
          const beforeLineCount2 = sequence2.countLinesIn(before.seq2Range);
          const beforeSeq2Length = before.seq2Range.length;
          const afterLineCount1 = sequence1.countLinesIn(after.seq1Range);
          const afterSeq1Length = after.seq1Range.length;
          const afterLineCount2 = sequence2.countLinesIn(after.seq2Range);
          const afterSeq2Length = after.seq2Range.length;
          const max = 2 * 40 + 50;
          function cap(v) {
            return Math.min(v, max);
          }
          if (Math.pow(Math.pow(cap(beforeLineCount1 * 40 + beforeSeq1Length), 1.5) + Math.pow(cap(beforeLineCount2 * 40 + beforeSeq2Length), 1.5), 1.5) + Math.pow(Math.pow(cap(afterLineCount1 * 40 + afterSeq1Length), 1.5) + Math.pow(cap(afterLineCount2 * 40 + afterSeq2Length), 1.5), 1.5) > (max ** 1.5) ** 1.5 * 1.3) {
            return true;
          }
          return false;
        };
        const cur = diffs[i];
        const lastResult = result[result.length - 1];
        const shouldJoin = shouldJoinDiffs(lastResult, cur);
        if (shouldJoin) {
          shouldRepeat = true;
          result[result.length - 1] = result[result.length - 1].join(cur);
        } else {
          result.push(cur);
        }
      }
      diffs = result;
    } while (counter++ < 10 && shouldRepeat);
    const newDiffs = [];
    forEachWithNeighbors(diffs, (prev, cur, next) => {
      let newDiff = cur;
      function shouldMarkAsChanged(text) {
        return text.length > 0 && text.trim().length <= 3 && cur.seq1Range.length + cur.seq2Range.length > 100;
      }
      const fullRange1 = sequence1.extendToFullLines(cur.seq1Range);
      const prefix = sequence1.getText(new OffsetRange(fullRange1.start, cur.seq1Range.start));
      if (shouldMarkAsChanged(prefix)) {
        newDiff = newDiff.deltaStart(-prefix.length);
      }
      const suffix = sequence1.getText(new OffsetRange(cur.seq1Range.endExclusive, fullRange1.endExclusive));
      if (shouldMarkAsChanged(suffix)) {
        newDiff = newDiff.deltaEnd(suffix.length);
      }
      const availableSpace = SequenceDiff.fromOffsetPairs(prev ? prev.getEndExclusives() : OffsetPair.zero, next ? next.getStarts() : OffsetPair.max);
      const result = newDiff.intersect(availableSpace);
      newDiffs.push(result);
    });
    return newDiffs;
  }
  class LineSequence {
    constructor(trimmedHash, lines) {
      this.trimmedHash = trimmedHash;
      this.lines = lines;
    }
    getElement(offset) {
      return this.trimmedHash[offset];
    }
    get length() {
      return this.trimmedHash.length;
    }
    getBoundaryScore(length) {
      const indentationBefore = length === 0 ? 0 : getIndentation(this.lines[length - 1]);
      const indentationAfter = length === this.lines.length ? 0 : getIndentation(this.lines[length]);
      return 1e3 - (indentationBefore + indentationAfter);
    }
    getText(range) {
      return this.lines.slice(range.start, range.endExclusive).join("\n");
    }
    isStronglyEqual(offset1, offset2) {
      return this.lines[offset1] === this.lines[offset2];
    }
  }
  function getIndentation(str) {
    let i = 0;
    while (i < str.length && (str.charCodeAt(i) === 32 || str.charCodeAt(i) === 9)) {
      i++;
    }
    return i;
  }
  class DefaultLinesDiffComputer {
    constructor() {
      this.dynamicProgrammingDiffing = new DynamicProgrammingDiffing();
      this.myersDiffingAlgorithm = new MyersDiffAlgorithm();
    }
    computeDiff(originalLines, modifiedLines, options) {
      if (originalLines.length <= 1 && equals$1(originalLines, modifiedLines, (a2, b) => a2 === b)) {
        return new LinesDiff([], [], false);
      }
      if (originalLines.length === 1 && originalLines[0].length === 0 || modifiedLines.length === 1 && modifiedLines[0].length === 0) {
        return new LinesDiff([
          new DetailedLineRangeMapping(new LineRange(1, originalLines.length + 1), new LineRange(1, modifiedLines.length + 1), [
            new RangeMapping(new Range$1(1, 1, originalLines.length, originalLines[0].length + 1), new Range$1(1, 1, modifiedLines.length, modifiedLines[0].length + 1))
          ])
        ], [], false);
      }
      const timeout = options.maxComputationTimeMs === 0 ? InfiniteTimeout.instance : new DateTimeout(options.maxComputationTimeMs);
      const considerWhitespaceChanges = !options.ignoreTrimWhitespace;
      const perfectHashes = /* @__PURE__ */ new Map();
      function getOrCreateHash(text) {
        let hash = perfectHashes.get(text);
        if (hash === void 0) {
          hash = perfectHashes.size;
          perfectHashes.set(text, hash);
        }
        return hash;
      }
      const originalLinesHashes = originalLines.map((l) => getOrCreateHash(l.trim()));
      const modifiedLinesHashes = modifiedLines.map((l) => getOrCreateHash(l.trim()));
      const sequence1 = new LineSequence(originalLinesHashes, originalLines);
      const sequence2 = new LineSequence(modifiedLinesHashes, modifiedLines);
      const lineAlignmentResult = (() => {
        if (sequence1.length + sequence2.length < 1700) {
          return this.dynamicProgrammingDiffing.compute(sequence1, sequence2, timeout, (offset1, offset2) => originalLines[offset1] === modifiedLines[offset2] ? modifiedLines[offset2].length === 0 ? 0.1 : 1 + Math.log(1 + modifiedLines[offset2].length) : 0.99);
        }
        return this.myersDiffingAlgorithm.compute(sequence1, sequence2);
      })();
      let lineAlignments = lineAlignmentResult.diffs;
      let hitTimeout = lineAlignmentResult.hitTimeout;
      lineAlignments = optimizeSequenceDiffs(sequence1, sequence2, lineAlignments);
      lineAlignments = removeVeryShortMatchingLinesBetweenDiffs(sequence1, sequence2, lineAlignments);
      const alignments = [];
      const scanForWhitespaceChanges = (equalLinesCount) => {
        if (!considerWhitespaceChanges) {
          return;
        }
        for (let i = 0; i < equalLinesCount; i++) {
          const seq1Offset = seq1LastStart + i;
          const seq2Offset = seq2LastStart + i;
          if (originalLines[seq1Offset] !== modifiedLines[seq2Offset]) {
            const characterDiffs = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(new OffsetRange(seq1Offset, seq1Offset + 1), new OffsetRange(seq2Offset, seq2Offset + 1)), timeout, considerWhitespaceChanges);
            for (const a2 of characterDiffs.mappings) {
              alignments.push(a2);
            }
            if (characterDiffs.hitTimeout) {
              hitTimeout = true;
            }
          }
        }
      };
      let seq1LastStart = 0;
      let seq2LastStart = 0;
      for (const diff of lineAlignments) {
        assertFn(() => diff.seq1Range.start - seq1LastStart === diff.seq2Range.start - seq2LastStart);
        const equalLinesCount = diff.seq1Range.start - seq1LastStart;
        scanForWhitespaceChanges(equalLinesCount);
        seq1LastStart = diff.seq1Range.endExclusive;
        seq2LastStart = diff.seq2Range.endExclusive;
        const characterDiffs = this.refineDiff(originalLines, modifiedLines, diff, timeout, considerWhitespaceChanges);
        if (characterDiffs.hitTimeout) {
          hitTimeout = true;
        }
        for (const a2 of characterDiffs.mappings) {
          alignments.push(a2);
        }
      }
      scanForWhitespaceChanges(originalLines.length - seq1LastStart);
      const changes = lineRangeMappingFromRangeMappings(alignments, originalLines, modifiedLines);
      let moves = [];
      if (options.computeMoves) {
        moves = this.computeMoves(changes, originalLines, modifiedLines, originalLinesHashes, modifiedLinesHashes, timeout, considerWhitespaceChanges);
      }
      assertFn(() => {
        function validatePosition(pos, lines) {
          if (pos.lineNumber < 1 || pos.lineNumber > lines.length) {
            return false;
          }
          const line = lines[pos.lineNumber - 1];
          if (pos.column < 1 || pos.column > line.length + 1) {
            return false;
          }
          return true;
        }
        function validateRange(range, lines) {
          if (range.startLineNumber < 1 || range.startLineNumber > lines.length + 1) {
            return false;
          }
          if (range.endLineNumberExclusive < 1 || range.endLineNumberExclusive > lines.length + 1) {
            return false;
          }
          return true;
        }
        for (const c of changes) {
          if (!c.innerChanges) {
            return false;
          }
          for (const ic of c.innerChanges) {
            const valid = validatePosition(ic.modifiedRange.getStartPosition(), modifiedLines) && validatePosition(ic.modifiedRange.getEndPosition(), modifiedLines) && validatePosition(ic.originalRange.getStartPosition(), originalLines) && validatePosition(ic.originalRange.getEndPosition(), originalLines);
            if (!valid) {
              return false;
            }
          }
          if (!validateRange(c.modified, modifiedLines) || !validateRange(c.original, originalLines)) {
            return false;
          }
        }
        return true;
      });
      return new LinesDiff(changes, moves, hitTimeout);
    }
    computeMoves(changes, originalLines, modifiedLines, hashedOriginalLines, hashedModifiedLines, timeout, considerWhitespaceChanges) {
      const moves = computeMovedLines(changes, originalLines, modifiedLines, hashedOriginalLines, hashedModifiedLines, timeout);
      const movesWithDiffs = moves.map((m) => {
        const moveChanges = this.refineDiff(originalLines, modifiedLines, new SequenceDiff(m.original.toOffsetRange(), m.modified.toOffsetRange()), timeout, considerWhitespaceChanges);
        const mappings = lineRangeMappingFromRangeMappings(moveChanges.mappings, originalLines, modifiedLines, true);
        return new MovedText(m, mappings);
      });
      return movesWithDiffs;
    }
    refineDiff(originalLines, modifiedLines, diff, timeout, considerWhitespaceChanges) {
      const slice1 = new LinesSliceCharSequence(originalLines, diff.seq1Range, considerWhitespaceChanges);
      const slice2 = new LinesSliceCharSequence(modifiedLines, diff.seq2Range, considerWhitespaceChanges);
      const diffResult = slice1.length + slice2.length < 500 ? this.dynamicProgrammingDiffing.compute(slice1, slice2, timeout) : this.myersDiffingAlgorithm.compute(slice1, slice2, timeout);
      let diffs = diffResult.diffs;
      diffs = optimizeSequenceDiffs(slice1, slice2, diffs);
      diffs = extendDiffsToEntireWordIfAppropriate(slice1, slice2, diffs);
      diffs = removeShortMatches(slice1, slice2, diffs);
      diffs = removeVeryShortMatchingTextBetweenLongDiffs(slice1, slice2, diffs);
      const result = diffs.map((d) => new RangeMapping(slice1.translateRange(d.seq1Range), slice2.translateRange(d.seq2Range)));
      return {
        mappings: result,
        hitTimeout: diffResult.hitTimeout
      };
    }
  }
  function lineRangeMappingFromRangeMappings(alignments, originalLines, modifiedLines, dontAssertStartLine = false) {
    const changes = [];
    for (const g of groupAdjacentBy(alignments.map((a2) => getLineRangeMapping(a2, originalLines, modifiedLines)), (a1, a2) => a1.original.overlapOrTouch(a2.original) || a1.modified.overlapOrTouch(a2.modified))) {
      const first = g[0];
      const last = g[g.length - 1];
      changes.push(new DetailedLineRangeMapping(first.original.join(last.original), first.modified.join(last.modified), g.map((a2) => a2.innerChanges[0])));
    }
    assertFn(() => {
      if (!dontAssertStartLine) {
        if (changes.length > 0 && changes[0].original.startLineNumber !== changes[0].modified.startLineNumber) {
          return false;
        }
      }
      return checkAdjacentItems(changes, (m1, m2) => m2.original.startLineNumber - m1.original.endLineNumberExclusive === m2.modified.startLineNumber - m1.modified.endLineNumberExclusive && // There has to be an unchanged line in between (otherwise both diffs should have been joined)
      m1.original.endLineNumberExclusive < m2.original.startLineNumber && m1.modified.endLineNumberExclusive < m2.modified.startLineNumber);
    });
    return changes;
  }
  function getLineRangeMapping(rangeMapping, originalLines, modifiedLines) {
    let lineStartDelta = 0;
    let lineEndDelta = 0;
    if (rangeMapping.modifiedRange.endColumn === 1 && rangeMapping.originalRange.endColumn === 1 && rangeMapping.originalRange.startLineNumber + lineStartDelta <= rangeMapping.originalRange.endLineNumber && rangeMapping.modifiedRange.startLineNumber + lineStartDelta <= rangeMapping.modifiedRange.endLineNumber) {
      lineEndDelta = -1;
    }
    if (rangeMapping.modifiedRange.startColumn - 1 >= modifiedLines[rangeMapping.modifiedRange.startLineNumber - 1].length && rangeMapping.originalRange.startColumn - 1 >= originalLines[rangeMapping.originalRange.startLineNumber - 1].length && rangeMapping.originalRange.startLineNumber <= rangeMapping.originalRange.endLineNumber + lineEndDelta && rangeMapping.modifiedRange.startLineNumber <= rangeMapping.modifiedRange.endLineNumber + lineEndDelta) {
      lineStartDelta = 1;
    }
    const originalLineRange = new LineRange(rangeMapping.originalRange.startLineNumber + lineStartDelta, rangeMapping.originalRange.endLineNumber + 1 + lineEndDelta);
    const modifiedLineRange = new LineRange(rangeMapping.modifiedRange.startLineNumber + lineStartDelta, rangeMapping.modifiedRange.endLineNumber + 1 + lineEndDelta);
    return new DetailedLineRangeMapping(originalLineRange, modifiedLineRange, [rangeMapping]);
  }
  const linesDiffComputers = {
    getLegacy: () => new LegacyLinesDiffComputer(),
    getDefault: () => new DefaultLinesDiffComputer()
  };
  function roundFloat(number, decimalPoints) {
    const decimal = Math.pow(10, decimalPoints);
    return Math.round(number * decimal) / decimal;
  }
  class RGBA {
    constructor(r, g, b, a2 = 1) {
      this._rgbaBrand = void 0;
      this.r = Math.min(255, Math.max(0, r)) | 0;
      this.g = Math.min(255, Math.max(0, g)) | 0;
      this.b = Math.min(255, Math.max(0, b)) | 0;
      this.a = roundFloat(Math.max(Math.min(1, a2), 0), 3);
    }
    static equals(a2, b) {
      return a2.r === b.r && a2.g === b.g && a2.b === b.b && a2.a === b.a;
    }
  }
  class HSLA {
    constructor(h, s, l, a2) {
      this._hslaBrand = void 0;
      this.h = Math.max(Math.min(360, h), 0) | 0;
      this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);
      this.l = roundFloat(Math.max(Math.min(1, l), 0), 3);
      this.a = roundFloat(Math.max(Math.min(1, a2), 0), 3);
    }
    static equals(a2, b) {
      return a2.h === b.h && a2.s === b.s && a2.l === b.l && a2.a === b.a;
    }
    /**
     * Converts an RGB color value to HSL. Conversion formula
     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
     * Assumes r, g, and b are contained in the set [0, 255] and
     * returns h in the set [0, 360], s, and l in the set [0, 1].
     */
    static fromRGBA(rgba) {
      const r = rgba.r / 255;
      const g = rgba.g / 255;
      const b = rgba.b / 255;
      const a2 = rgba.a;
      const max = Math.max(r, g, b);
      const min = Math.min(r, g, b);
      let h = 0;
      let s = 0;
      const l = (min + max) / 2;
      const chroma = max - min;
      if (chroma > 0) {
        s = Math.min(l <= 0.5 ? chroma / (2 * l) : chroma / (2 - 2 * l), 1);
        switch (max) {
          case r:
            h = (g - b) / chroma + (g < b ? 6 : 0);
            break;
          case g:
            h = (b - r) / chroma + 2;
            break;
          case b:
            h = (r - g) / chroma + 4;
            break;
        }
        h *= 60;
        h = Math.round(h);
      }
      return new HSLA(h, s, l, a2);
    }
    static _hue2rgb(p, q, t) {
      if (t < 0) {
        t += 1;
      }
      if (t > 1) {
        t -= 1;
      }
      if (t < 1 / 6) {
        return p + (q - p) * 6 * t;
      }
      if (t < 1 / 2) {
        return q;
      }
      if (t < 2 / 3) {
        return p + (q - p) * (2 / 3 - t) * 6;
      }
      return p;
    }
    /**
     * Converts an HSL color value to RGB. Conversion formula
     * adapted from http://en.wikipedia.org/wiki/HSL_color_space.
     * Assumes h in the set [0, 360] s, and l are contained in the set [0, 1] and
     * returns r, g, and b in the set [0, 255].
     */
    static toRGBA(hsla) {
      const h = hsla.h / 360;
      const { s, l, a: a2 } = hsla;
      let r, g, b;
      if (s === 0) {
        r = g = b = l;
      } else {
        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
        const p = 2 * l - q;
        r = HSLA._hue2rgb(p, q, h + 1 / 3);
        g = HSLA._hue2rgb(p, q, h);
        b = HSLA._hue2rgb(p, q, h - 1 / 3);
      }
      return new RGBA(Math.round(r * 255), Math.round(g * 255), Math.round(b * 255), a2);
    }
  }
  class HSVA {
    constructor(h, s, v, a2) {
      this._hsvaBrand = void 0;
      this.h = Math.max(Math.min(360, h), 0) | 0;
      this.s = roundFloat(Math.max(Math.min(1, s), 0), 3);
      this.v = roundFloat(Math.max(Math.min(1, v), 0), 3);
      this.a = roundFloat(Math.max(Math.min(1, a2), 0), 3);
    }
    static equals(a2, b) {
      return a2.h === b.h && a2.s === b.s && a2.v === b.v && a2.a === b.a;
    }
    // from http://www.rapidtables.com/convert/color/rgb-to-hsv.htm
    static fromRGBA(rgba) {
      const r = rgba.r / 255;
      const g = rgba.g / 255;
      const b = rgba.b / 255;
      const cmax = Math.max(r, g, b);
      const cmin = Math.min(r, g, b);
      const delta = cmax - cmin;
      const s = cmax === 0 ? 0 : delta / cmax;
      let m;
      if (delta === 0) {
        m = 0;
      } else if (cmax === r) {
        m = ((g - b) / delta % 6 + 6) % 6;
      } else if (cmax === g) {
        m = (b - r) / delta + 2;
      } else {
        m = (r - g) / delta + 4;
      }
      return new HSVA(Math.round(m * 60), s, cmax, rgba.a);
    }
    // from http://www.rapidtables.com/convert/color/hsv-to-rgb.htm
    static toRGBA(hsva) {
      const { h, s, v, a: a2 } = hsva;
      const c = v * s;
      const x = c * (1 - Math.abs(h / 60 % 2 - 1));
      const m = v - c;
      let [r, g, b] = [0, 0, 0];
      if (h < 60) {
        r = c;
        g = x;
      } else if (h < 120) {
        r = x;
        g = c;
      } else if (h < 180) {
        g = c;
        b = x;
      } else if (h < 240) {
        g = x;
        b = c;
      } else if (h < 300) {
        r = x;
        b = c;
      } else if (h <= 360) {
        r = c;
        b = x;
      }
      r = Math.round((r + m) * 255);
      g = Math.round((g + m) * 255);
      b = Math.round((b + m) * 255);
      return new RGBA(r, g, b, a2);
    }
  }
  let Color$1 = class Color2 {
    static fromHex(hex) {
      return Color2.Format.CSS.parseHex(hex) || Color2.red;
    }
    static equals(a2, b) {
      if (!a2 && !b) {
        return true;
      }
      if (!a2 || !b) {
        return false;
      }
      return a2.equals(b);
    }
    get hsla() {
      if (this._hsla) {
        return this._hsla;
      } else {
        return HSLA.fromRGBA(this.rgba);
      }
    }
    get hsva() {
      if (this._hsva) {
        return this._hsva;
      }
      return HSVA.fromRGBA(this.rgba);
    }
    constructor(arg) {
      if (!arg) {
        throw new Error("Color needs a value");
      } else if (arg instanceof RGBA) {
        this.rgba = arg;
      } else if (arg instanceof HSLA) {
        this._hsla = arg;
        this.rgba = HSLA.toRGBA(arg);
      } else if (arg instanceof HSVA) {
        this._hsva = arg;
        this.rgba = HSVA.toRGBA(arg);
      } else {
        throw new Error("Invalid color ctor argument");
      }
    }
    equals(other) {
      return !!other && RGBA.equals(this.rgba, other.rgba) && HSLA.equals(this.hsla, other.hsla) && HSVA.equals(this.hsva, other.hsva);
    }
    /**
     * http://www.w3.org/TR/WCAG20/#relativeluminancedef
     * Returns the number in the set [0, 1]. O => Darkest Black. 1 => Lightest white.
     */
    getRelativeLuminance() {
      const R = Color2._relativeLuminanceForComponent(this.rgba.r);
      const G = Color2._relativeLuminanceForComponent(this.rgba.g);
      const B = Color2._relativeLuminanceForComponent(this.rgba.b);
      const luminance = 0.2126 * R + 0.7152 * G + 0.0722 * B;
      return roundFloat(luminance, 4);
    }
    static _relativeLuminanceForComponent(color) {
      const c = color / 255;
      return c <= 0.03928 ? c / 12.92 : Math.pow((c + 0.055) / 1.055, 2.4);
    }
    /**
     *	http://24ways.org/2010/calculating-color-contrast
     *  Return 'true' if lighter color otherwise 'false'
     */
    isLighter() {
      const yiq = (this.rgba.r * 299 + this.rgba.g * 587 + this.rgba.b * 114) / 1e3;
      return yiq >= 128;
    }
    isLighterThan(another) {
      const lum1 = this.getRelativeLuminance();
      const lum2 = another.getRelativeLuminance();
      return lum1 > lum2;
    }
    isDarkerThan(another) {
      const lum1 = this.getRelativeLuminance();
      const lum2 = another.getRelativeLuminance();
      return lum1 < lum2;
    }
    lighten(factor) {
      return new Color2(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l + this.hsla.l * factor, this.hsla.a));
    }
    darken(factor) {
      return new Color2(new HSLA(this.hsla.h, this.hsla.s, this.hsla.l - this.hsla.l * factor, this.hsla.a));
    }
    transparent(factor) {
      const { r, g, b, a: a2 } = this.rgba;
      return new Color2(new RGBA(r, g, b, a2 * factor));
    }
    isTransparent() {
      return this.rgba.a === 0;
    }
    isOpaque() {
      return this.rgba.a === 1;
    }
    opposite() {
      return new Color2(new RGBA(255 - this.rgba.r, 255 - this.rgba.g, 255 - this.rgba.b, this.rgba.a));
    }
    makeOpaque(opaqueBackground) {
      if (this.isOpaque() || opaqueBackground.rgba.a !== 1) {
        return this;
      }
      const { r, g, b, a: a2 } = this.rgba;
      return new Color2(new RGBA(opaqueBackground.rgba.r - a2 * (opaqueBackground.rgba.r - r), opaqueBackground.rgba.g - a2 * (opaqueBackground.rgba.g - g), opaqueBackground.rgba.b - a2 * (opaqueBackground.rgba.b - b), 1));
    }
    toString() {
      if (!this._toString) {
        this._toString = Color2.Format.CSS.format(this);
      }
      return this._toString;
    }
    static getLighterColor(of, relative, factor) {
      if (of.isLighterThan(relative)) {
        return of;
      }
      factor = factor ? factor : 0.5;
      const lum1 = of.getRelativeLuminance();
      const lum2 = relative.getRelativeLuminance();
      factor = factor * (lum2 - lum1) / lum2;
      return of.lighten(factor);
    }
    static getDarkerColor(of, relative, factor) {
      if (of.isDarkerThan(relative)) {
        return of;
      }
      factor = factor ? factor : 0.5;
      const lum1 = of.getRelativeLuminance();
      const lum2 = relative.getRelativeLuminance();
      factor = factor * (lum1 - lum2) / lum1;
      return of.darken(factor);
    }
  };
  Color$1.white = new Color$1(new RGBA(255, 255, 255, 1));
  Color$1.black = new Color$1(new RGBA(0, 0, 0, 1));
  Color$1.red = new Color$1(new RGBA(255, 0, 0, 1));
  Color$1.blue = new Color$1(new RGBA(0, 0, 255, 1));
  Color$1.green = new Color$1(new RGBA(0, 255, 0, 1));
  Color$1.cyan = new Color$1(new RGBA(0, 255, 255, 1));
  Color$1.lightgrey = new Color$1(new RGBA(211, 211, 211, 1));
  Color$1.transparent = new Color$1(new RGBA(0, 0, 0, 0));
  (function(Color2) {
    (function(Format) {
      (function(CSS) {
        function formatRGB(color) {
          if (color.rgba.a === 1) {
            return `rgb(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b})`;
          }
          return Color2.Format.CSS.formatRGBA(color);
        }
        CSS.formatRGB = formatRGB;
        function formatRGBA(color) {
          return `rgba(${color.rgba.r}, ${color.rgba.g}, ${color.rgba.b}, ${+color.rgba.a.toFixed(2)})`;
        }
        CSS.formatRGBA = formatRGBA;
        function formatHSL(color) {
          if (color.hsla.a === 1) {
            return `hsl(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%)`;
          }
          return Color2.Format.CSS.formatHSLA(color);
        }
        CSS.formatHSL = formatHSL;
        function formatHSLA(color) {
          return `hsla(${color.hsla.h}, ${(color.hsla.s * 100).toFixed(2)}%, ${(color.hsla.l * 100).toFixed(2)}%, ${color.hsla.a.toFixed(2)})`;
        }
        CSS.formatHSLA = formatHSLA;
        function _toTwoDigitHex(n) {
          const r = n.toString(16);
          return r.length !== 2 ? "0" + r : r;
        }
        function formatHex(color) {
          return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}`;
        }
        CSS.formatHex = formatHex;
        function formatHexA(color, compact = false) {
          if (compact && color.rgba.a === 1) {
            return Color2.Format.CSS.formatHex(color);
          }
          return `#${_toTwoDigitHex(color.rgba.r)}${_toTwoDigitHex(color.rgba.g)}${_toTwoDigitHex(color.rgba.b)}${_toTwoDigitHex(Math.round(color.rgba.a * 255))}`;
        }
        CSS.formatHexA = formatHexA;
        function format4(color) {
          if (color.isOpaque()) {
            return Color2.Format.CSS.formatHex(color);
          }
          return Color2.Format.CSS.formatRGBA(color);
        }
        CSS.format = format4;
        function parseHex(hex) {
          const length = hex.length;
          if (length === 0) {
            return null;
          }
          if (hex.charCodeAt(0) !== 35) {
            return null;
          }
          if (length === 7) {
            const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));
            const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));
            const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));
            return new Color2(new RGBA(r, g, b, 1));
          }
          if (length === 9) {
            const r = 16 * _parseHexDigit(hex.charCodeAt(1)) + _parseHexDigit(hex.charCodeAt(2));
            const g = 16 * _parseHexDigit(hex.charCodeAt(3)) + _parseHexDigit(hex.charCodeAt(4));
            const b = 16 * _parseHexDigit(hex.charCodeAt(5)) + _parseHexDigit(hex.charCodeAt(6));
            const a2 = 16 * _parseHexDigit(hex.charCodeAt(7)) + _parseHexDigit(hex.charCodeAt(8));
            return new Color2(new RGBA(r, g, b, a2 / 255));
          }
          if (length === 4) {
            const r = _parseHexDigit(hex.charCodeAt(1));
            const g = _parseHexDigit(hex.charCodeAt(2));
            const b = _parseHexDigit(hex.charCodeAt(3));
            return new Color2(new RGBA(16 * r + r, 16 * g + g, 16 * b + b));
          }
          if (length === 5) {
            const r = _parseHexDigit(hex.charCodeAt(1));
            const g = _parseHexDigit(hex.charCodeAt(2));
            const b = _parseHexDigit(hex.charCodeAt(3));
            const a2 = _parseHexDigit(hex.charCodeAt(4));
            return new Color2(new RGBA(16 * r + r, 16 * g + g, 16 * b + b, (16 * a2 + a2) / 255));
          }
          return null;
        }
        CSS.parseHex = parseHex;
        function _parseHexDigit(charCode) {
          switch (charCode) {
            case 48:
              return 0;
            case 49:
              return 1;
            case 50:
              return 2;
            case 51:
              return 3;
            case 52:
              return 4;
            case 53:
              return 5;
            case 54:
              return 6;
            case 55:
              return 7;
            case 56:
              return 8;
            case 57:
              return 9;
            case 97:
              return 10;
            case 65:
              return 10;
            case 98:
              return 11;
            case 66:
              return 11;
            case 99:
              return 12;
            case 67:
              return 12;
            case 100:
              return 13;
            case 68:
              return 13;
            case 101:
              return 14;
            case 69:
              return 14;
            case 102:
              return 15;
            case 70:
              return 15;
          }
          return 0;
        }
      })(Format.CSS || (Format.CSS = {}));
    })(Color2.Format || (Color2.Format = {}));
  })(Color$1 || (Color$1 = {}));
  function _parseCaptureGroups(captureGroups) {
    const values = [];
    for (const captureGroup of captureGroups) {
      const parsedNumber = Number(captureGroup);
      if (parsedNumber || parsedNumber === 0 && captureGroup.replace(/\s/g, "") !== "") {
        values.push(parsedNumber);
      }
    }
    return values;
  }
  function _toIColor(r, g, b, a2) {
    return {
      red: r / 255,
      blue: b / 255,
      green: g / 255,
      alpha: a2
    };
  }
  function _findRange(model, match) {
    const index = match.index;
    const length = match[0].length;
    if (!index) {
      return;
    }
    const startPosition = model.positionAt(index);
    const range = {
      startLineNumber: startPosition.lineNumber,
      startColumn: startPosition.column,
      endLineNumber: startPosition.lineNumber,
      endColumn: startPosition.column + length
    };
    return range;
  }
  function _findHexColorInformation(range, hexValue) {
    if (!range) {
      return;
    }
    const parsedHexColor = Color$1.Format.CSS.parseHex(hexValue);
    if (!parsedHexColor) {
      return;
    }
    return {
      range,
      color: _toIColor(parsedHexColor.rgba.r, parsedHexColor.rgba.g, parsedHexColor.rgba.b, parsedHexColor.rgba.a)
    };
  }
  function _findRGBColorInformation(range, matches, isAlpha) {
    if (!range || matches.length !== 1) {
      return;
    }
    const match = matches[0];
    const captureGroups = match.values();
    const parsedRegex = _parseCaptureGroups(captureGroups);
    return {
      range,
      color: _toIColor(parsedRegex[0], parsedRegex[1], parsedRegex[2], isAlpha ? parsedRegex[3] : 1)
    };
  }
  function _findHSLColorInformation(range, matches, isAlpha) {
    if (!range || matches.length !== 1) {
      return;
    }
    const match = matches[0];
    const captureGroups = match.values();
    const parsedRegex = _parseCaptureGroups(captureGroups);
    const colorEquivalent = new Color$1(new HSLA(parsedRegex[0], parsedRegex[1] / 100, parsedRegex[2] / 100, isAlpha ? parsedRegex[3] : 1));
    return {
      range,
      color: _toIColor(colorEquivalent.rgba.r, colorEquivalent.rgba.g, colorEquivalent.rgba.b, colorEquivalent.rgba.a)
    };
  }
  function _findMatches(model, regex) {
    if (typeof model === "string") {
      return [...model.matchAll(regex)];
    } else {
      return model.findMatches(regex);
    }
  }
  function computeColors(model) {
    const result = [];
    const initialValidationRegex = /\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm;
    const initialValidationMatches = _findMatches(model, initialValidationRegex);
    if (initialValidationMatches.length > 0) {
      for (const initialMatch of initialValidationMatches) {
        const initialCaptureGroups = initialMatch.filter((captureGroup) => captureGroup !== void 0);
        const colorScheme = initialCaptureGroups[1];
        const colorParameters = initialCaptureGroups[2];
        if (!colorParameters) {
          continue;
        }
        let colorInformation;
        if (colorScheme === "rgb") {
          const regexParameters = /^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;
          colorInformation = _findRGBColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), false);
        } else if (colorScheme === "rgba") {
          const regexParameters = /^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;
          colorInformation = _findRGBColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), true);
        } else if (colorScheme === "hsl") {
          const regexParameters = /^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;
          colorInformation = _findHSLColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), false);
        } else if (colorScheme === "hsla") {
          const regexParameters = /^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;
          colorInformation = _findHSLColorInformation(_findRange(model, initialMatch), _findMatches(colorParameters, regexParameters), true);
        } else if (colorScheme === "#") {
          colorInformation = _findHexColorInformation(_findRange(model, initialMatch), colorScheme + colorParameters);
        }
        if (colorInformation) {
          result.push(colorInformation);
        }
      }
    }
    return result;
  }
  function computeDefaultDocumentColors(model) {
    if (!model || typeof model.getValue !== "function" || typeof model.positionAt !== "function") {
      return [];
    }
    return computeColors(model);
  }
  class MirrorModel extends MirrorTextModel {
    get uri() {
      return this._uri;
    }
    get eol() {
      return this._eol;
    }
    getValue() {
      return this.getText();
    }
    findMatches(regex) {
      const matches = [];
      for (let i = 0; i < this._lines.length; i++) {
        const line = this._lines[i];
        const offsetToAdd = this.offsetAt(new Position$1(i + 1, 1));
        const iteratorOverMatches = line.matchAll(regex);
        for (const match of iteratorOverMatches) {
          if (match.index || match.index === 0) {
            match.index = match.index + offsetToAdd;
          }
          matches.push(match);
        }
      }
      return matches;
    }
    getLinesContent() {
      return this._lines.slice(0);
    }
    getLineCount() {
      return this._lines.length;
    }
    getLineContent(lineNumber) {
      return this._lines[lineNumber - 1];
    }
    getWordAtPosition(position, wordDefinition) {
      const wordAtText = getWordAtText(position.column, ensureValidWordDefinition(wordDefinition), this._lines[position.lineNumber - 1], 0);
      if (wordAtText) {
        return new Range$1(position.lineNumber, wordAtText.startColumn, position.lineNumber, wordAtText.endColumn);
      }
      return null;
    }
    words(wordDefinition) {
      const lines = this._lines;
      const wordenize = this._wordenize.bind(this);
      let lineNumber = 0;
      let lineText = "";
      let wordRangesIdx = 0;
      let wordRanges = [];
      return {
        *[Symbol.iterator]() {
          while (true) {
            if (wordRangesIdx < wordRanges.length) {
              const value = lineText.substring(wordRanges[wordRangesIdx].start, wordRanges[wordRangesIdx].end);
              wordRangesIdx += 1;
              yield value;
            } else {
              if (lineNumber < lines.length) {
                lineText = lines[lineNumber];
                wordRanges = wordenize(lineText, wordDefinition);
                wordRangesIdx = 0;
                lineNumber += 1;
              } else {
                break;
              }
            }
          }
        }
      };
    }
    getLineWords(lineNumber, wordDefinition) {
      const content = this._lines[lineNumber - 1];
      const ranges = this._wordenize(content, wordDefinition);
      const words = [];
      for (const range of ranges) {
        words.push({
          word: content.substring(range.start, range.end),
          startColumn: range.start + 1,
          endColumn: range.end + 1
        });
      }
      return words;
    }
    _wordenize(content, wordDefinition) {
      const result = [];
      let match;
      wordDefinition.lastIndex = 0;
      while (match = wordDefinition.exec(content)) {
        if (match[0].length === 0) {
          break;
        }
        result.push({ start: match.index, end: match.index + match[0].length });
      }
      return result;
    }
    getValueInRange(range) {
      range = this._validateRange(range);
      if (range.startLineNumber === range.endLineNumber) {
        return this._lines[range.startLineNumber - 1].substring(range.startColumn - 1, range.endColumn - 1);
      }
      const lineEnding = this._eol;
      const startLineIndex = range.startLineNumber - 1;
      const endLineIndex = range.endLineNumber - 1;
      const resultLines = [];
      resultLines.push(this._lines[startLineIndex].substring(range.startColumn - 1));
      for (let i = startLineIndex + 1; i < endLineIndex; i++) {
        resultLines.push(this._lines[i]);
      }
      resultLines.push(this._lines[endLineIndex].substring(0, range.endColumn - 1));
      return resultLines.join(lineEnding);
    }
    offsetAt(position) {
      position = this._validatePosition(position);
      this._ensureLineStarts();
      return this._lineStarts.getPrefixSum(position.lineNumber - 2) + (position.column - 1);
    }
    positionAt(offset) {
      offset = Math.floor(offset);
      offset = Math.max(0, offset);
      this._ensureLineStarts();
      const out = this._lineStarts.getIndexOf(offset);
      const lineLength = this._lines[out.index].length;
      return {
        lineNumber: 1 + out.index,
        column: 1 + Math.min(out.remainder, lineLength)
      };
    }
    _validateRange(range) {
      const start = this._validatePosition({ lineNumber: range.startLineNumber, column: range.startColumn });
      const end = this._validatePosition({ lineNumber: range.endLineNumber, column: range.endColumn });
      if (start.lineNumber !== range.startLineNumber || start.column !== range.startColumn || end.lineNumber !== range.endLineNumber || end.column !== range.endColumn) {
        return {
          startLineNumber: start.lineNumber,
          startColumn: start.column,
          endLineNumber: end.lineNumber,
          endColumn: end.column
        };
      }
      return range;
    }
    _validatePosition(position) {
      if (!Position$1.isIPosition(position)) {
        throw new Error("bad position");
      }
      let { lineNumber, column } = position;
      let hasChanged = false;
      if (lineNumber < 1) {
        lineNumber = 1;
        column = 1;
        hasChanged = true;
      } else if (lineNumber > this._lines.length) {
        lineNumber = this._lines.length;
        column = this._lines[lineNumber - 1].length + 1;
        hasChanged = true;
      } else {
        const maxCharacter = this._lines[lineNumber - 1].length + 1;
        if (column < 1) {
          column = 1;
          hasChanged = true;
        } else if (column > maxCharacter) {
          column = maxCharacter;
          hasChanged = true;
        }
      }
      if (!hasChanged) {
        return position;
      } else {
        return { lineNumber, column };
      }
    }
  }
  class EditorSimpleWorker {
    constructor(host, foreignModuleFactory) {
      this._host = host;
      this._models = /* @__PURE__ */ Object.create(null);
      this._foreignModuleFactory = foreignModuleFactory;
      this._foreignModule = null;
    }
    dispose() {
      this._models = /* @__PURE__ */ Object.create(null);
    }
    _getModel(uri) {
      return this._models[uri];
    }
    _getModels() {
      const all = [];
      Object.keys(this._models).forEach((key) => all.push(this._models[key]));
      return all;
    }
    acceptNewModel(data) {
      this._models[data.url] = new MirrorModel(URI$1.parse(data.url), data.lines, data.EOL, data.versionId);
    }
    acceptModelChanged(strURL, e) {
      if (!this._models[strURL]) {
        return;
      }
      const model = this._models[strURL];
      model.onEvents(e);
    }
    acceptRemovedModel(strURL) {
      if (!this._models[strURL]) {
        return;
      }
      delete this._models[strURL];
    }
    async computeUnicodeHighlights(url, options, range) {
      const model = this._getModel(url);
      if (!model) {
        return { ranges: [], hasMore: false, ambiguousCharacterCount: 0, invisibleCharacterCount: 0, nonBasicAsciiCharacterCount: 0 };
      }
      return UnicodeTextModelHighlighter.computeUnicodeHighlights(model, options, range);
    }
    // ---- BEGIN diff --------------------------------------------------------------------------
    async computeDiff(originalUrl, modifiedUrl, options, algorithm) {
      const original = this._getModel(originalUrl);
      const modified = this._getModel(modifiedUrl);
      if (!original || !modified) {
        return null;
      }
      return EditorSimpleWorker.computeDiff(original, modified, options, algorithm);
    }
    static computeDiff(originalTextModel, modifiedTextModel, options, algorithm) {
      const diffAlgorithm = algorithm === "advanced" ? linesDiffComputers.getDefault() : linesDiffComputers.getLegacy();
      const originalLines = originalTextModel.getLinesContent();
      const modifiedLines = modifiedTextModel.getLinesContent();
      const result = diffAlgorithm.computeDiff(originalLines, modifiedLines, options);
      const identical = result.changes.length > 0 ? false : this._modelsAreIdentical(originalTextModel, modifiedTextModel);
      function getLineChanges(changes) {
        return changes.map((m) => {
          var _a2;
          return [m.original.startLineNumber, m.original.endLineNumberExclusive, m.modified.startLineNumber, m.modified.endLineNumberExclusive, (_a2 = m.innerChanges) === null || _a2 === void 0 ? void 0 : _a2.map((m2) => [
            m2.originalRange.startLineNumber,
            m2.originalRange.startColumn,
            m2.originalRange.endLineNumber,
            m2.originalRange.endColumn,
            m2.modifiedRange.startLineNumber,
            m2.modifiedRange.startColumn,
            m2.modifiedRange.endLineNumber,
            m2.modifiedRange.endColumn
          ])];
        });
      }
      return {
        identical,
        quitEarly: result.hitTimeout,
        changes: getLineChanges(result.changes),
        moves: result.moves.map((m) => [
          m.lineRangeMapping.original.startLineNumber,
          m.lineRangeMapping.original.endLineNumberExclusive,
          m.lineRangeMapping.modified.startLineNumber,
          m.lineRangeMapping.modified.endLineNumberExclusive,
          getLineChanges(m.changes)
        ])
      };
    }
    static _modelsAreIdentical(original, modified) {
      const originalLineCount = original.getLineCount();
      const modifiedLineCount = modified.getLineCount();
      if (originalLineCount !== modifiedLineCount) {
        return false;
      }
      for (let line = 1; line <= originalLineCount; line++) {
        const originalLine = original.getLineContent(line);
        const modifiedLine = modified.getLineContent(line);
        if (originalLine !== modifiedLine) {
          return false;
        }
      }
      return true;
    }
    async computeMoreMinimalEdits(modelUrl, edits, pretty) {
      const model = this._getModel(modelUrl);
      if (!model) {
        return edits;
      }
      const result = [];
      let lastEol = void 0;
      edits = edits.slice(0).sort((a2, b) => {
        if (a2.range && b.range) {
          return Range$1.compareRangesUsingStarts(a2.range, b.range);
        }
        const aRng = a2.range ? 0 : 1;
        const bRng = b.range ? 0 : 1;
        return aRng - bRng;
      });
      let writeIndex = 0;
      for (let readIndex = 1; readIndex < edits.length; readIndex++) {
        if (Range$1.getEndPosition(edits[writeIndex].range).equals(Range$1.getStartPosition(edits[readIndex].range))) {
          edits[writeIndex].range = Range$1.fromPositions(Range$1.getStartPosition(edits[writeIndex].range), Range$1.getEndPosition(edits[readIndex].range));
          edits[writeIndex].text += edits[readIndex].text;
        } else {
          writeIndex++;
          edits[writeIndex] = edits[readIndex];
        }
      }
      edits.length = writeIndex + 1;
      for (let { range, text, eol } of edits) {
        if (typeof eol === "number") {
          lastEol = eol;
        }
        if (Range$1.isEmpty(range) && !text) {
          continue;
        }
        const original = model.getValueInRange(range);
        text = text.replace(/\r\n|\n|\r/g, model.eol);
        if (original === text) {
          continue;
        }
        if (Math.max(text.length, original.length) > EditorSimpleWorker._diffLimit) {
          result.push({ range, text });
          continue;
        }
        const changes = stringDiff(original, text, pretty);
        const editOffset = model.offsetAt(Range$1.lift(range).getStartPosition());
        for (const change of changes) {
          const start = model.positionAt(editOffset + change.originalStart);
          const end = model.positionAt(editOffset + change.originalStart + change.originalLength);
          const newEdit = {
            text: text.substr(change.modifiedStart, change.modifiedLength),
            range: { startLineNumber: start.lineNumber, startColumn: start.column, endLineNumber: end.lineNumber, endColumn: end.column }
          };
          if (model.getValueInRange(newEdit.range) !== newEdit.text) {
            result.push(newEdit);
          }
        }
      }
      if (typeof lastEol === "number") {
        result.push({ eol: lastEol, text: "", range: { startLineNumber: 0, startColumn: 0, endLineNumber: 0, endColumn: 0 } });
      }
      return result;
    }
    // ---- END minimal edits ---------------------------------------------------------------
    async computeLinks(modelUrl) {
      const model = this._getModel(modelUrl);
      if (!model) {
        return null;
      }
      return computeLinks(model);
    }
    // --- BEGIN default document colors -----------------------------------------------------------
    async computeDefaultDocumentColors(modelUrl) {
      const model = this._getModel(modelUrl);
      if (!model) {
        return null;
      }
      return computeDefaultDocumentColors(model);
    }
    async textualSuggest(modelUrls, leadingWord, wordDef, wordDefFlags) {
      const sw = new StopWatch();
      const wordDefRegExp = new RegExp(wordDef, wordDefFlags);
      const seen = /* @__PURE__ */ new Set();
      outer:
        for (const url of modelUrls) {
          const model = this._getModel(url);
          if (!model) {
            continue;
          }
          for (const word of model.words(wordDefRegExp)) {
            if (word === leadingWord || !isNaN(Number(word))) {
              continue;
            }
            seen.add(word);
            if (seen.size > EditorSimpleWorker._suggestionsLimit) {
              break outer;
            }
          }
        }
      return { words: Array.from(seen), duration: sw.elapsed() };
    }
    // ---- END suggest --------------------------------------------------------------------------
    //#region -- word ranges --
    async computeWordRanges(modelUrl, range, wordDef, wordDefFlags) {
      const model = this._getModel(modelUrl);
      if (!model) {
        return /* @__PURE__ */ Object.create(null);
      }
      const wordDefRegExp = new RegExp(wordDef, wordDefFlags);
      const result = /* @__PURE__ */ Object.create(null);
      for (let line = range.startLineNumber; line < range.endLineNumber; line++) {
        const words = model.getLineWords(line, wordDefRegExp);
        for (const word of words) {
          if (!isNaN(Number(word.word))) {
            continue;
          }
          let array = result[word.word];
          if (!array) {
            array = [];
            result[word.word] = array;
          }
          array.push({
            startLineNumber: line,
            startColumn: word.startColumn,
            endLineNumber: line,
            endColumn: word.endColumn
          });
        }
      }
      return result;
    }
    //#endregion
    async navigateValueSet(modelUrl, range, up, wordDef, wordDefFlags) {
      const model = this._getModel(modelUrl);
      if (!model) {
        return null;
      }
      const wordDefRegExp = new RegExp(wordDef, wordDefFlags);
      if (range.startColumn === range.endColumn) {
        range = {
          startLineNumber: range.startLineNumber,
          startColumn: range.startColumn,
          endLineNumber: range.endLineNumber,
          endColumn: range.endColumn + 1
        };
      }
      const selectionText = model.getValueInRange(range);
      const wordRange = model.getWordAtPosition({ lineNumber: range.startLineNumber, column: range.startColumn }, wordDefRegExp);
      if (!wordRange) {
        return null;
      }
      const word = model.getValueInRange(wordRange);
      const result = BasicInplaceReplace.INSTANCE.navigateValueSet(range, selectionText, wordRange, word, up);
      return result;
    }
    // ---- BEGIN foreign module support --------------------------------------------------------------------------
    loadForeignModule(moduleId, createData, foreignHostMethods) {
      const proxyMethodRequest = (method, args) => {
        return this._host.fhr(method, args);
      };
      const foreignHost = createProxyObject$1(foreignHostMethods, proxyMethodRequest);
      const ctx = {
        host: foreignHost,
        getMirrorModels: () => {
          return this._getModels();
        }
      };
      if (this._foreignModuleFactory) {
        this._foreignModule = this._foreignModuleFactory(ctx, createData);
        return Promise.resolve(getAllMethodNames(this._foreignModule));
      }
      return Promise.reject(new Error(`Unexpected usage`));
    }
    // foreign method request
    fmr(method, args) {
      if (!this._foreignModule || typeof this._foreignModule[method] !== "function") {
        return Promise.reject(new Error("Missing requestHandler or method: " + method));
      }
      try {
        return Promise.resolve(this._foreignModule[method].apply(this._foreignModule, args));
      } catch (e) {
        return Promise.reject(e);
      }
    }
  }
  EditorSimpleWorker._diffLimit = 1e5;
  EditorSimpleWorker._suggestionsLimit = 1e4;
  if (typeof importScripts === "function") {
    globalThis.monaco = createMonacoBaseAPI();
  }
  let initialized = false;
  function initialize(foreignModule) {
    if (initialized) {
      return;
    }
    initialized = true;
    const simpleWorker = new SimpleWorkerServer((msg) => {
      globalThis.postMessage(msg);
    }, (host) => new EditorSimpleWorker(host, foreignModule));
    globalThis.onmessage = (e) => {
      simpleWorker.onmessage(e.data);
    };
  }
  globalThis.onmessage = (e) => {
    if (!initialized) {
      initialize(null);
    }
  };
  /*!-----------------------------------------------------------------------------
   * Copyright (c) Microsoft Corporation. All rights reserved.
   * Version: 0.45.0(5e5af013f8d295555a7210df0d5f2cea0bf5dd56)
   * Released under the MIT license
   * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
   *-----------------------------------------------------------------------------*/
  function createScanner(text, ignoreTrivia) {
    if (ignoreTrivia === void 0) {
      ignoreTrivia = false;
    }
    var len = text.length;
    var pos = 0, value = "", tokenOffset = 0, token = 16, lineNumber = 0, lineStartOffset = 0, tokenLineStartOffset = 0, prevTokenLineStartOffset = 0, scanError = 0;
    function scanHexDigits(count, exact) {
      var digits = 0;
      var value2 = 0;
      while (digits < count || !exact) {
        var ch = text.charCodeAt(pos);
        if (ch >= 48 && ch <= 57) {
          value2 = value2 * 16 + ch - 48;
        } else if (ch >= 65 && ch <= 70) {
          value2 = value2 * 16 + ch - 65 + 10;
        } else if (ch >= 97 && ch <= 102) {
          value2 = value2 * 16 + ch - 97 + 10;
        } else {
          break;
        }
        pos++;
        digits++;
      }
      if (digits < count) {
        value2 = -1;
      }
      return value2;
    }
    function setPosition(newPosition) {
      pos = newPosition;
      value = "";
      tokenOffset = 0;
      token = 16;
      scanError = 0;
    }
    function scanNumber() {
      var start = pos;
      if (text.charCodeAt(pos) === 48) {
        pos++;
      } else {
        pos++;
        while (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
        }
      }
      if (pos < text.length && text.charCodeAt(pos) === 46) {
        pos++;
        if (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
          while (pos < text.length && isDigit(text.charCodeAt(pos))) {
            pos++;
          }
        } else {
          scanError = 3;
          return text.substring(start, pos);
        }
      }
      var end = pos;
      if (pos < text.length && (text.charCodeAt(pos) === 69 || text.charCodeAt(pos) === 101)) {
        pos++;
        if (pos < text.length && text.charCodeAt(pos) === 43 || text.charCodeAt(pos) === 45) {
          pos++;
        }
        if (pos < text.length && isDigit(text.charCodeAt(pos))) {
          pos++;
          while (pos < text.length && isDigit(text.charCodeAt(pos))) {
            pos++;
          }
          end = pos;
        } else {
          scanError = 3;
        }
      }
      return text.substring(start, end);
    }
    function scanString() {
      var result = "", start = pos;
      while (true) {
        if (pos >= len) {
          result += text.substring(start, pos);
          scanError = 2;
          break;
        }
        var ch = text.charCodeAt(pos);
        if (ch === 34) {
          result += text.substring(start, pos);
          pos++;
          break;
        }
        if (ch === 92) {
          result += text.substring(start, pos);
          pos++;
          if (pos >= len) {
            scanError = 2;
            break;
          }
          var ch2 = text.charCodeAt(pos++);
          switch (ch2) {
            case 34:
              result += '"';
              break;
            case 92:
              result += "\\";
              break;
            case 47:
              result += "/";
              break;
            case 98:
              result += "\b";
              break;
            case 102:
              result += "\f";
              break;
            case 110:
              result += "\n";
              break;
            case 114:
              result += "\r";
              break;
            case 116:
              result += "	";
              break;
            case 117:
              var ch3 = scanHexDigits(4, true);
              if (ch3 >= 0) {
                result += String.fromCharCode(ch3);
              } else {
                scanError = 4;
              }
              break;
            default:
              scanError = 5;
          }
          start = pos;
          continue;
        }
        if (ch >= 0 && ch <= 31) {
          if (isLineBreak(ch)) {
            result += text.substring(start, pos);
            scanError = 2;
            break;
          } else {
            scanError = 6;
          }
        }
        pos++;
      }
      return result;
    }
    function scanNext() {
      value = "";
      scanError = 0;
      tokenOffset = pos;
      lineStartOffset = lineNumber;
      prevTokenLineStartOffset = tokenLineStartOffset;
      if (pos >= len) {
        tokenOffset = len;
        return token = 17;
      }
      var code = text.charCodeAt(pos);
      if (isWhiteSpace(code)) {
        do {
          pos++;
          value += String.fromCharCode(code);
          code = text.charCodeAt(pos);
        } while (isWhiteSpace(code));
        return token = 15;
      }
      if (isLineBreak(code)) {
        pos++;
        value += String.fromCharCode(code);
        if (code === 13 && text.charCodeAt(pos) === 10) {
          pos++;
          value += "\n";
        }
        lineNumber++;
        tokenLineStartOffset = pos;
        return token = 14;
      }
      switch (code) {
        case 123:
          pos++;
          return token = 1;
        case 125:
          pos++;
          return token = 2;
        case 91:
          pos++;
          return token = 3;
        case 93:
          pos++;
          return token = 4;
        case 58:
          pos++;
          return token = 6;
        case 44:
          pos++;
          return token = 5;
        case 34:
          pos++;
          value = scanString();
          return token = 10;
        case 47:
          var start = pos - 1;
          if (text.charCodeAt(pos + 1) === 47) {
            pos += 2;
            while (pos < len) {
              if (isLineBreak(text.charCodeAt(pos))) {
                break;
              }
              pos++;
            }
            value = text.substring(start, pos);
            return token = 12;
          }
          if (text.charCodeAt(pos + 1) === 42) {
            pos += 2;
            var safeLength = len - 1;
            var commentClosed = false;
            while (pos < safeLength) {
              var ch = text.charCodeAt(pos);
              if (ch === 42 && text.charCodeAt(pos + 1) === 47) {
                pos += 2;
                commentClosed = true;
                break;
              }
              pos++;
              if (isLineBreak(ch)) {
                if (ch === 13 && text.charCodeAt(pos) === 10) {
                  pos++;
                }
                lineNumber++;
                tokenLineStartOffset = pos;
              }
            }
            if (!commentClosed) {
              pos++;
              scanError = 1;
            }
            value = text.substring(start, pos);
            return token = 13;
          }
          value += String.fromCharCode(code);
          pos++;
          return token = 16;
        case 45:
          value += String.fromCharCode(code);
          pos++;
          if (pos === len || !isDigit(text.charCodeAt(pos))) {
            return token = 16;
          }
        case 48:
        case 49:
        case 50:
        case 51:
        case 52:
        case 53:
        case 54:
        case 55:
        case 56:
        case 57:
          value += scanNumber();
          return token = 11;
        default:
          while (pos < len && isUnknownContentCharacter(code)) {
            pos++;
            code = text.charCodeAt(pos);
          }
          if (tokenOffset !== pos) {
            value = text.substring(tokenOffset, pos);
            switch (value) {
              case "true":
                return token = 8;
              case "false":
                return token = 9;
              case "null":
                return token = 7;
            }
            return token = 16;
          }
          value += String.fromCharCode(code);
          pos++;
          return token = 16;
      }
    }
    function isUnknownContentCharacter(code) {
      if (isWhiteSpace(code) || isLineBreak(code)) {
        return false;
      }
      switch (code) {
        case 125:
        case 93:
        case 123:
        case 91:
        case 34:
        case 58:
        case 44:
        case 47:
          return false;
      }
      return true;
    }
    function scanNextNonTrivia() {
      var result;
      do {
        result = scanNext();
      } while (result >= 12 && result <= 15);
      return result;
    }
    return {
      setPosition,
      getPosition: function() {
        return pos;
      },
      scan: ignoreTrivia ? scanNextNonTrivia : scanNext,
      getToken: function() {
        return token;
      },
      getTokenValue: function() {
        return value;
      },
      getTokenOffset: function() {
        return tokenOffset;
      },
      getTokenLength: function() {
        return pos - tokenOffset;
      },
      getTokenStartLine: function() {
        return lineStartOffset;
      },
      getTokenStartCharacter: function() {
        return tokenOffset - prevTokenLineStartOffset;
      },
      getTokenError: function() {
        return scanError;
      }
    };
  }
  function isWhiteSpace(ch) {
    return ch === 32 || ch === 9 || ch === 11 || ch === 12 || ch === 160 || ch === 5760 || ch >= 8192 && ch <= 8203 || ch === 8239 || ch === 8287 || ch === 12288 || ch === 65279;
  }
  function isLineBreak(ch) {
    return ch === 10 || ch === 13 || ch === 8232 || ch === 8233;
  }
  function isDigit(ch) {
    return ch >= 48 && ch <= 57;
  }
  function format(documentText, range, options) {
    var initialIndentLevel;
    var formatText;
    var formatTextStart;
    var rangeStart;
    var rangeEnd;
    if (range) {
      rangeStart = range.offset;
      rangeEnd = rangeStart + range.length;
      formatTextStart = rangeStart;
      while (formatTextStart > 0 && !isEOL(documentText, formatTextStart - 1)) {
        formatTextStart--;
      }
      var endOffset = rangeEnd;
      while (endOffset < documentText.length && !isEOL(documentText, endOffset)) {
        endOffset++;
      }
      formatText = documentText.substring(formatTextStart, endOffset);
      initialIndentLevel = computeIndentLevel(formatText, options);
    } else {
      formatText = documentText;
      initialIndentLevel = 0;
      formatTextStart = 0;
      rangeStart = 0;
      rangeEnd = documentText.length;
    }
    var eol = getEOL(options, documentText);
    var lineBreak = false;
    var indentLevel = 0;
    var indentValue;
    if (options.insertSpaces) {
      indentValue = repeat(" ", options.tabSize || 4);
    } else {
      indentValue = "	";
    }
    var scanner = createScanner(formatText, false);
    var hasError = false;
    function newLineAndIndent() {
      return eol + repeat(indentValue, initialIndentLevel + indentLevel);
    }
    function scanNext() {
      var token = scanner.scan();
      lineBreak = false;
      while (token === 15 || token === 14) {
        lineBreak = lineBreak || token === 14;
        token = scanner.scan();
      }
      hasError = token === 16 || scanner.getTokenError() !== 0;
      return token;
    }
    var editOperations = [];
    function addEdit(text, startOffset, endOffset2) {
      if (!hasError && (!range || startOffset < rangeEnd && endOffset2 > rangeStart) && documentText.substring(startOffset, endOffset2) !== text) {
        editOperations.push({ offset: startOffset, length: endOffset2 - startOffset, content: text });
      }
    }
    var firstToken = scanNext();
    if (firstToken !== 17) {
      var firstTokenStart = scanner.getTokenOffset() + formatTextStart;
      var initialIndent = repeat(indentValue, initialIndentLevel);
      addEdit(initialIndent, formatTextStart, firstTokenStart);
    }
    while (firstToken !== 17) {
      var firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;
      var secondToken = scanNext();
      var replaceContent = "";
      var needsLineBreak = false;
      while (!lineBreak && (secondToken === 12 || secondToken === 13)) {
        var commentTokenStart = scanner.getTokenOffset() + formatTextStart;
        addEdit(" ", firstTokenEnd, commentTokenStart);
        firstTokenEnd = scanner.getTokenOffset() + scanner.getTokenLength() + formatTextStart;
        needsLineBreak = secondToken === 12;
        replaceContent = needsLineBreak ? newLineAndIndent() : "";
        secondToken = scanNext();
      }
      if (secondToken === 2) {
        if (firstToken !== 1) {
          indentLevel--;
          replaceContent = newLineAndIndent();
        }
      } else if (secondToken === 4) {
        if (firstToken !== 3) {
          indentLevel--;
          replaceContent = newLineAndIndent();
        }
      } else {
        switch (firstToken) {
          case 3:
          case 1:
            indentLevel++;
            replaceContent = newLineAndIndent();
            break;
          case 5:
          case 12:
            replaceContent = newLineAndIndent();
            break;
          case 13:
            if (lineBreak) {
              replaceContent = newLineAndIndent();
            } else if (!needsLineBreak) {
              replaceContent = " ";
            }
            break;
          case 6:
            if (!needsLineBreak) {
              replaceContent = " ";
            }
            break;
          case 10:
            if (secondToken === 6) {
              if (!needsLineBreak) {
                replaceContent = "";
              }
              break;
            }
          case 7:
          case 8:
          case 9:
          case 11:
          case 2:
          case 4:
            if (secondToken === 12 || secondToken === 13) {
              if (!needsLineBreak) {
                replaceContent = " ";
              }
            } else if (secondToken !== 5 && secondToken !== 17) {
              hasError = true;
            }
            break;
          case 16:
            hasError = true;
            break;
        }
        if (lineBreak && (secondToken === 12 || secondToken === 13)) {
          replaceContent = newLineAndIndent();
        }
      }
      if (secondToken === 17) {
        replaceContent = options.insertFinalNewline ? eol : "";
      }
      var secondTokenStart = scanner.getTokenOffset() + formatTextStart;
      addEdit(replaceContent, firstTokenEnd, secondTokenStart);
      firstToken = secondToken;
    }
    return editOperations;
  }
  function repeat(s, count) {
    var result = "";
    for (var i = 0; i < count; i++) {
      result += s;
    }
    return result;
  }
  function computeIndentLevel(content, options) {
    var i = 0;
    var nChars = 0;
    var tabSize = options.tabSize || 4;
    while (i < content.length) {
      var ch = content.charAt(i);
      if (ch === " ") {
        nChars++;
      } else if (ch === "	") {
        nChars += tabSize;
      } else {
        break;
      }
      i++;
    }
    return Math.floor(nChars / tabSize);
  }
  function getEOL(options, text) {
    for (var i = 0; i < text.length; i++) {
      var ch = text.charAt(i);
      if (ch === "\r") {
        if (i + 1 < text.length && text.charAt(i + 1) === "\n") {
          return "\r\n";
        }
        return "\r";
      } else if (ch === "\n") {
        return "\n";
      }
    }
    return options && options.eol || "\n";
  }
  function isEOL(text, offset) {
    return "\r\n".indexOf(text.charAt(offset)) !== -1;
  }
  var ParseOptions;
  (function(ParseOptions2) {
    ParseOptions2.DEFAULT = {
      allowTrailingComma: false
    };
  })(ParseOptions || (ParseOptions = {}));
  function parse(text, errors, options) {
    if (errors === void 0) {
      errors = [];
    }
    if (options === void 0) {
      options = ParseOptions.DEFAULT;
    }
    var currentProperty = null;
    var currentParent = [];
    var previousParents = [];
    function onValue(value) {
      if (Array.isArray(currentParent)) {
        currentParent.push(value);
      } else if (currentProperty !== null) {
        currentParent[currentProperty] = value;
      }
    }
    var visitor = {
      onObjectBegin: function() {
        var object = {};
        onValue(object);
        previousParents.push(currentParent);
        currentParent = object;
        currentProperty = null;
      },
      onObjectProperty: function(name) {
        currentProperty = name;
      },
      onObjectEnd: function() {
        currentParent = previousParents.pop();
      },
      onArrayBegin: function() {
        var array = [];
        onValue(array);
        previousParents.push(currentParent);
        currentParent = array;
        currentProperty = null;
      },
      onArrayEnd: function() {
        currentParent = previousParents.pop();
      },
      onLiteralValue: onValue,
      onError: function(error, offset, length) {
        errors.push({ error, offset, length });
      }
    };
    visit(text, visitor, options);
    return currentParent[0];
  }
  function getNodePath(node) {
    if (!node.parent || !node.parent.children) {
      return [];
    }
    var path = getNodePath(node.parent);
    if (node.parent.type === "property") {
      var key = node.parent.children[0].value;
      path.push(key);
    } else if (node.parent.type === "array") {
      var index = node.parent.children.indexOf(node);
      if (index !== -1) {
        path.push(index);
      }
    }
    return path;
  }
  function getNodeValue(node) {
    switch (node.type) {
      case "array":
        return node.children.map(getNodeValue);
      case "object":
        var obj = /* @__PURE__ */ Object.create(null);
        for (var _i = 0, _a2 = node.children; _i < _a2.length; _i++) {
          var prop = _a2[_i];
          var valueNode = prop.children[1];
          if (valueNode) {
            obj[prop.children[0].value] = getNodeValue(valueNode);
          }
        }
        return obj;
      case "null":
      case "string":
      case "number":
      case "boolean":
        return node.value;
      default:
        return void 0;
    }
  }
  function contains(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    return offset >= node.offset && offset < node.offset + node.length || includeRightBound && offset === node.offset + node.length;
  }
  function findNodeAtOffset(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    if (contains(node, offset, includeRightBound)) {
      var children = node.children;
      if (Array.isArray(children)) {
        for (var i = 0; i < children.length && children[i].offset <= offset; i++) {
          var item = findNodeAtOffset(children[i], offset, includeRightBound);
          if (item) {
            return item;
          }
        }
      }
      return node;
    }
    return void 0;
  }
  function visit(text, visitor, options) {
    if (options === void 0) {
      options = ParseOptions.DEFAULT;
    }
    var _scanner = createScanner(text, false);
    function toNoArgVisit(visitFunction) {
      return visitFunction ? function() {
        return visitFunction(_scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter());
      } : function() {
        return true;
      };
    }
    function toOneArgVisit(visitFunction) {
      return visitFunction ? function(arg) {
        return visitFunction(arg, _scanner.getTokenOffset(), _scanner.getTokenLength(), _scanner.getTokenStartLine(), _scanner.getTokenStartCharacter());
      } : function() {
        return true;
      };
    }
    var onObjectBegin = toNoArgVisit(visitor.onObjectBegin), onObjectProperty = toOneArgVisit(visitor.onObjectProperty), onObjectEnd = toNoArgVisit(visitor.onObjectEnd), onArrayBegin = toNoArgVisit(visitor.onArrayBegin), onArrayEnd = toNoArgVisit(visitor.onArrayEnd), onLiteralValue = toOneArgVisit(visitor.onLiteralValue), onSeparator = toOneArgVisit(visitor.onSeparator), onComment = toNoArgVisit(visitor.onComment), onError = toOneArgVisit(visitor.onError);
    var disallowComments = options && options.disallowComments;
    var allowTrailingComma = options && options.allowTrailingComma;
    function scanNext() {
      while (true) {
        var token = _scanner.scan();
        switch (_scanner.getTokenError()) {
          case 4:
            handleError(14);
            break;
          case 5:
            handleError(15);
            break;
          case 3:
            handleError(13);
            break;
          case 1:
            if (!disallowComments) {
              handleError(11);
            }
            break;
          case 2:
            handleError(12);
            break;
          case 6:
            handleError(16);
            break;
        }
        switch (token) {
          case 12:
          case 13:
            if (disallowComments) {
              handleError(10);
            } else {
              onComment();
            }
            break;
          case 16:
            handleError(1);
            break;
          case 15:
          case 14:
            break;
          default:
            return token;
        }
      }
    }
    function handleError(error, skipUntilAfter, skipUntil) {
      if (skipUntilAfter === void 0) {
        skipUntilAfter = [];
      }
      if (skipUntil === void 0) {
        skipUntil = [];
      }
      onError(error);
      if (skipUntilAfter.length + skipUntil.length > 0) {
        var token = _scanner.getToken();
        while (token !== 17) {
          if (skipUntilAfter.indexOf(token) !== -1) {
            scanNext();
            break;
          } else if (skipUntil.indexOf(token) !== -1) {
            break;
          }
          token = scanNext();
        }
      }
    }
    function parseString(isValue) {
      var value = _scanner.getTokenValue();
      if (isValue) {
        onLiteralValue(value);
      } else {
        onObjectProperty(value);
      }
      scanNext();
      return true;
    }
    function parseLiteral() {
      switch (_scanner.getToken()) {
        case 11:
          var tokenValue = _scanner.getTokenValue();
          var value = Number(tokenValue);
          if (isNaN(value)) {
            handleError(2);
            value = 0;
          }
          onLiteralValue(value);
          break;
        case 7:
          onLiteralValue(null);
          break;
        case 8:
          onLiteralValue(true);
          break;
        case 9:
          onLiteralValue(false);
          break;
        default:
          return false;
      }
      scanNext();
      return true;
    }
    function parseProperty() {
      if (_scanner.getToken() !== 10) {
        handleError(3, [], [2, 5]);
        return false;
      }
      parseString(false);
      if (_scanner.getToken() === 6) {
        onSeparator(":");
        scanNext();
        if (!parseValue()) {
          handleError(4, [], [2, 5]);
        }
      } else {
        handleError(5, [], [2, 5]);
      }
      return true;
    }
    function parseObject() {
      onObjectBegin();
      scanNext();
      var needsComma = false;
      while (_scanner.getToken() !== 2 && _scanner.getToken() !== 17) {
        if (_scanner.getToken() === 5) {
          if (!needsComma) {
            handleError(4, [], []);
          }
          onSeparator(",");
          scanNext();
          if (_scanner.getToken() === 2 && allowTrailingComma) {
            break;
          }
        } else if (needsComma) {
          handleError(6, [], []);
        }
        if (!parseProperty()) {
          handleError(4, [], [2, 5]);
        }
        needsComma = true;
      }
      onObjectEnd();
      if (_scanner.getToken() !== 2) {
        handleError(7, [2], []);
      } else {
        scanNext();
      }
      return true;
    }
    function parseArray() {
      onArrayBegin();
      scanNext();
      var needsComma = false;
      while (_scanner.getToken() !== 4 && _scanner.getToken() !== 17) {
        if (_scanner.getToken() === 5) {
          if (!needsComma) {
            handleError(4, [], []);
          }
          onSeparator(",");
          scanNext();
          if (_scanner.getToken() === 4 && allowTrailingComma) {
            break;
          }
        } else if (needsComma) {
          handleError(6, [], []);
        }
        if (!parseValue()) {
          handleError(4, [], [4, 5]);
        }
        needsComma = true;
      }
      onArrayEnd();
      if (_scanner.getToken() !== 4) {
        handleError(8, [4], []);
      } else {
        scanNext();
      }
      return true;
    }
    function parseValue() {
      switch (_scanner.getToken()) {
        case 3:
          return parseArray();
        case 1:
          return parseObject();
        case 10:
          return parseString(true);
        default:
          return parseLiteral();
      }
    }
    scanNext();
    if (_scanner.getToken() === 17) {
      if (options.allowEmptyContent) {
        return true;
      }
      handleError(4, [], []);
      return false;
    }
    if (!parseValue()) {
      handleError(4, [], []);
      return false;
    }
    if (_scanner.getToken() !== 17) {
      handleError(9, [], []);
    }
    return true;
  }
  var createScanner2 = createScanner;
  var parse2 = parse;
  var findNodeAtOffset2 = findNodeAtOffset;
  var getNodePath2 = getNodePath;
  var getNodeValue2 = getNodeValue;
  function format2(documentText, range, options) {
    return format(documentText, range, options);
  }
  function equals(one, other) {
    if (one === other) {
      return true;
    }
    if (one === null || one === void 0 || other === null || other === void 0) {
      return false;
    }
    if (typeof one !== typeof other) {
      return false;
    }
    if (typeof one !== "object") {
      return false;
    }
    if (Array.isArray(one) !== Array.isArray(other)) {
      return false;
    }
    var i, key;
    if (Array.isArray(one)) {
      if (one.length !== other.length) {
        return false;
      }
      for (i = 0; i < one.length; i++) {
        if (!equals(one[i], other[i])) {
          return false;
        }
      }
    } else {
      var oneKeys = [];
      for (key in one) {
        oneKeys.push(key);
      }
      oneKeys.sort();
      var otherKeys = [];
      for (key in other) {
        otherKeys.push(key);
      }
      otherKeys.sort();
      if (!equals(oneKeys, otherKeys)) {
        return false;
      }
      for (i = 0; i < oneKeys.length; i++) {
        if (!equals(one[oneKeys[i]], other[oneKeys[i]])) {
          return false;
        }
      }
    }
    return true;
  }
  function isNumber(val) {
    return typeof val === "number";
  }
  function isDefined(val) {
    return typeof val !== "undefined";
  }
  function isBoolean(val) {
    return typeof val === "boolean";
  }
  function isString(val) {
    return typeof val === "string";
  }
  function startsWith(haystack, needle) {
    if (haystack.length < needle.length) {
      return false;
    }
    for (var i = 0; i < needle.length; i++) {
      if (haystack[i] !== needle[i]) {
        return false;
      }
    }
    return true;
  }
  function endsWith(haystack, needle) {
    var diff = haystack.length - needle.length;
    if (diff > 0) {
      return haystack.lastIndexOf(needle) === diff;
    } else if (diff === 0) {
      return haystack === needle;
    } else {
      return false;
    }
  }
  function extendedRegExp(pattern) {
    var flags = "";
    if (startsWith(pattern, "(?i)")) {
      pattern = pattern.substring(4);
      flags = "i";
    }
    try {
      return new RegExp(pattern, flags + "u");
    } catch (e) {
      try {
        return new RegExp(pattern, flags);
      } catch (e2) {
        return void 0;
      }
    }
  }
  var integer;
  (function(integer2) {
    integer2.MIN_VALUE = -2147483648;
    integer2.MAX_VALUE = 2147483647;
  })(integer || (integer = {}));
  var uinteger;
  (function(uinteger2) {
    uinteger2.MIN_VALUE = 0;
    uinteger2.MAX_VALUE = 2147483647;
  })(uinteger || (uinteger = {}));
  var Position;
  (function(Position2) {
    function create(line, character) {
      if (line === Number.MAX_VALUE) {
        line = uinteger.MAX_VALUE;
      }
      if (character === Number.MAX_VALUE) {
        character = uinteger.MAX_VALUE;
      }
      return { line, character };
    }
    Position2.create = create;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);
    }
    Position2.is = is;
  })(Position || (Position = {}));
  var Range;
  (function(Range2) {
    function create(one, two, three, four) {
      if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {
        return { start: Position.create(one, two), end: Position.create(three, four) };
      } else if (Position.is(one) && Position.is(two)) {
        return { start: one, end: two };
      } else {
        throw new Error("Range#create called with invalid arguments[" + one + ", " + two + ", " + three + ", " + four + "]");
      }
    }
    Range2.create = create;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);
    }
    Range2.is = is;
  })(Range || (Range = {}));
  var Location;
  (function(Location2) {
    function create(uri, range) {
      return { uri, range };
    }
    Location2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));
    }
    Location2.is = is;
  })(Location || (Location = {}));
  var LocationLink;
  (function(LocationLink2) {
    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {
      return { targetUri, targetRange, targetSelectionRange, originSelectionRange };
    }
    LocationLink2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri) && (Range.is(candidate.targetSelectionRange) || Is.undefined(candidate.targetSelectionRange)) && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));
    }
    LocationLink2.is = is;
  })(LocationLink || (LocationLink = {}));
  var Color;
  (function(Color2) {
    function create(red, green, blue, alpha) {
      return {
        red,
        green,
        blue,
        alpha
      };
    }
    Color2.create = create;
    function is(value) {
      var candidate = value;
      return Is.numberRange(candidate.red, 0, 1) && Is.numberRange(candidate.green, 0, 1) && Is.numberRange(candidate.blue, 0, 1) && Is.numberRange(candidate.alpha, 0, 1);
    }
    Color2.is = is;
  })(Color || (Color = {}));
  var ColorInformation;
  (function(ColorInformation2) {
    function create(range, color) {
      return {
        range,
        color
      };
    }
    ColorInformation2.create = create;
    function is(value) {
      var candidate = value;
      return Range.is(candidate.range) && Color.is(candidate.color);
    }
    ColorInformation2.is = is;
  })(ColorInformation || (ColorInformation = {}));
  var ColorPresentation;
  (function(ColorPresentation2) {
    function create(label, textEdit, additionalTextEdits) {
      return {
        label,
        textEdit,
        additionalTextEdits
      };
    }
    ColorPresentation2.create = create;
    function is(value) {
      var candidate = value;
      return Is.string(candidate.label) && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate)) && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));
    }
    ColorPresentation2.is = is;
  })(ColorPresentation || (ColorPresentation = {}));
  var FoldingRangeKind;
  (function(FoldingRangeKind2) {
    FoldingRangeKind2["Comment"] = "comment";
    FoldingRangeKind2["Imports"] = "imports";
    FoldingRangeKind2["Region"] = "region";
  })(FoldingRangeKind || (FoldingRangeKind = {}));
  var FoldingRange;
  (function(FoldingRange2) {
    function create(startLine, endLine, startCharacter, endCharacter, kind) {
      var result = {
        startLine,
        endLine
      };
      if (Is.defined(startCharacter)) {
        result.startCharacter = startCharacter;
      }
      if (Is.defined(endCharacter)) {
        result.endCharacter = endCharacter;
      }
      if (Is.defined(kind)) {
        result.kind = kind;
      }
      return result;
    }
    FoldingRange2.create = create;
    function is(value) {
      var candidate = value;
      return Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine) && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter)) && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter)) && (Is.undefined(candidate.kind) || Is.string(candidate.kind));
    }
    FoldingRange2.is = is;
  })(FoldingRange || (FoldingRange = {}));
  var DiagnosticRelatedInformation;
  (function(DiagnosticRelatedInformation2) {
    function create(location, message) {
      return {
        location,
        message
      };
    }
    DiagnosticRelatedInformation2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);
    }
    DiagnosticRelatedInformation2.is = is;
  })(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));
  var DiagnosticSeverity;
  (function(DiagnosticSeverity2) {
    DiagnosticSeverity2.Error = 1;
    DiagnosticSeverity2.Warning = 2;
    DiagnosticSeverity2.Information = 3;
    DiagnosticSeverity2.Hint = 4;
  })(DiagnosticSeverity || (DiagnosticSeverity = {}));
  var DiagnosticTag;
  (function(DiagnosticTag2) {
    DiagnosticTag2.Unnecessary = 1;
    DiagnosticTag2.Deprecated = 2;
  })(DiagnosticTag || (DiagnosticTag = {}));
  var CodeDescription;
  (function(CodeDescription2) {
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && candidate !== null && Is.string(candidate.href);
    }
    CodeDescription2.is = is;
  })(CodeDescription || (CodeDescription = {}));
  var Diagnostic;
  (function(Diagnostic2) {
    function create(range, message, severity, code, source, relatedInformation) {
      var result = { range, message };
      if (Is.defined(severity)) {
        result.severity = severity;
      }
      if (Is.defined(code)) {
        result.code = code;
      }
      if (Is.defined(source)) {
        result.source = source;
      }
      if (Is.defined(relatedInformation)) {
        result.relatedInformation = relatedInformation;
      }
      return result;
    }
    Diagnostic2.create = create;
    function is(value) {
      var _a2;
      var candidate = value;
      return Is.defined(candidate) && Range.is(candidate.range) && Is.string(candidate.message) && (Is.number(candidate.severity) || Is.undefined(candidate.severity)) && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code)) && (Is.undefined(candidate.codeDescription) || Is.string((_a2 = candidate.codeDescription) === null || _a2 === void 0 ? void 0 : _a2.href)) && (Is.string(candidate.source) || Is.undefined(candidate.source)) && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));
    }
    Diagnostic2.is = is;
  })(Diagnostic || (Diagnostic = {}));
  var Command;
  (function(Command2) {
    function create(title, command) {
      var args = [];
      for (var _i = 2; _i < arguments.length; _i++) {
        args[_i - 2] = arguments[_i];
      }
      var result = { title, command };
      if (Is.defined(args) && args.length > 0) {
        result.arguments = args;
      }
      return result;
    }
    Command2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);
    }
    Command2.is = is;
  })(Command || (Command = {}));
  var TextEdit;
  (function(TextEdit2) {
    function replace(range, newText) {
      return { range, newText };
    }
    TextEdit2.replace = replace;
    function insert(position, newText) {
      return { range: { start: position, end: position }, newText };
    }
    TextEdit2.insert = insert;
    function del(range) {
      return { range, newText: "" };
    }
    TextEdit2.del = del;
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(candidate) && Is.string(candidate.newText) && Range.is(candidate.range);
    }
    TextEdit2.is = is;
  })(TextEdit || (TextEdit = {}));
  var ChangeAnnotation;
  (function(ChangeAnnotation2) {
    function create(label, needsConfirmation, description2) {
      var result = { label };
      if (needsConfirmation !== void 0) {
        result.needsConfirmation = needsConfirmation;
      }
      if (description2 !== void 0) {
        result.description = description2;
      }
      return result;
    }
    ChangeAnnotation2.create = create;
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && Is.objectLiteral(candidate) && Is.string(candidate.label) && (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === void 0) && (Is.string(candidate.description) || candidate.description === void 0);
    }
    ChangeAnnotation2.is = is;
  })(ChangeAnnotation || (ChangeAnnotation = {}));
  var ChangeAnnotationIdentifier;
  (function(ChangeAnnotationIdentifier2) {
    function is(value) {
      var candidate = value;
      return typeof candidate === "string";
    }
    ChangeAnnotationIdentifier2.is = is;
  })(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));
  var AnnotatedTextEdit;
  (function(AnnotatedTextEdit2) {
    function replace(range, newText, annotation) {
      return { range, newText, annotationId: annotation };
    }
    AnnotatedTextEdit2.replace = replace;
    function insert(position, newText, annotation) {
      return { range: { start: position, end: position }, newText, annotationId: annotation };
    }
    AnnotatedTextEdit2.insert = insert;
    function del(range, annotation) {
      return { range, newText: "", annotationId: annotation };
    }
    AnnotatedTextEdit2.del = del;
    function is(value) {
      var candidate = value;
      return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    AnnotatedTextEdit2.is = is;
  })(AnnotatedTextEdit || (AnnotatedTextEdit = {}));
  var TextDocumentEdit;
  (function(TextDocumentEdit2) {
    function create(textDocument, edits) {
      return { textDocument, edits };
    }
    TextDocumentEdit2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument) && Array.isArray(candidate.edits);
    }
    TextDocumentEdit2.is = is;
  })(TextDocumentEdit || (TextDocumentEdit = {}));
  var CreateFile;
  (function(CreateFile2) {
    function create(uri, options, annotation) {
      var result = {
        kind: "create",
        uri
      };
      if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    CreateFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "create" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    CreateFile2.is = is;
  })(CreateFile || (CreateFile = {}));
  var RenameFile;
  (function(RenameFile2) {
    function create(oldUri, newUri, options, annotation) {
      var result = {
        kind: "rename",
        oldUri,
        newUri
      };
      if (options !== void 0 && (options.overwrite !== void 0 || options.ignoreIfExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    RenameFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "rename" && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === void 0 || (candidate.options.overwrite === void 0 || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === void 0 || Is.boolean(candidate.options.ignoreIfExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    RenameFile2.is = is;
  })(RenameFile || (RenameFile = {}));
  var DeleteFile;
  (function(DeleteFile2) {
    function create(uri, options, annotation) {
      var result = {
        kind: "delete",
        uri
      };
      if (options !== void 0 && (options.recursive !== void 0 || options.ignoreIfNotExists !== void 0)) {
        result.options = options;
      }
      if (annotation !== void 0) {
        result.annotationId = annotation;
      }
      return result;
    }
    DeleteFile2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && candidate.kind === "delete" && Is.string(candidate.uri) && (candidate.options === void 0 || (candidate.options.recursive === void 0 || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === void 0 || Is.boolean(candidate.options.ignoreIfNotExists))) && (candidate.annotationId === void 0 || ChangeAnnotationIdentifier.is(candidate.annotationId));
    }
    DeleteFile2.is = is;
  })(DeleteFile || (DeleteFile = {}));
  var WorkspaceEdit;
  (function(WorkspaceEdit2) {
    function is(value) {
      var candidate = value;
      return candidate && (candidate.changes !== void 0 || candidate.documentChanges !== void 0) && (candidate.documentChanges === void 0 || candidate.documentChanges.every(function(change) {
        if (Is.string(change.kind)) {
          return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);
        } else {
          return TextDocumentEdit.is(change);
        }
      }));
    }
    WorkspaceEdit2.is = is;
  })(WorkspaceEdit || (WorkspaceEdit = {}));
  var TextEditChangeImpl = function() {
    function TextEditChangeImpl2(edits, changeAnnotations) {
      this.edits = edits;
      this.changeAnnotations = changeAnnotations;
    }
    TextEditChangeImpl2.prototype.insert = function(position, newText, annotation) {
      var edit;
      var id;
      if (annotation === void 0) {
        edit = TextEdit.insert(position, newText);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit = AnnotatedTextEdit.insert(position, newText, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit = AnnotatedTextEdit.insert(position, newText, id);
      }
      this.edits.push(edit);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.replace = function(range, newText, annotation) {
      var edit;
      var id;
      if (annotation === void 0) {
        edit = TextEdit.replace(range, newText);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit = AnnotatedTextEdit.replace(range, newText, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit = AnnotatedTextEdit.replace(range, newText, id);
      }
      this.edits.push(edit);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.delete = function(range, annotation) {
      var edit;
      var id;
      if (annotation === void 0) {
        edit = TextEdit.del(range);
      } else if (ChangeAnnotationIdentifier.is(annotation)) {
        id = annotation;
        edit = AnnotatedTextEdit.del(range, annotation);
      } else {
        this.assertChangeAnnotations(this.changeAnnotations);
        id = this.changeAnnotations.manage(annotation);
        edit = AnnotatedTextEdit.del(range, id);
      }
      this.edits.push(edit);
      if (id !== void 0) {
        return id;
      }
    };
    TextEditChangeImpl2.prototype.add = function(edit) {
      this.edits.push(edit);
    };
    TextEditChangeImpl2.prototype.all = function() {
      return this.edits;
    };
    TextEditChangeImpl2.prototype.clear = function() {
      this.edits.splice(0, this.edits.length);
    };
    TextEditChangeImpl2.prototype.assertChangeAnnotations = function(value) {
      if (value === void 0) {
        throw new Error("Text edit change is not configured to manage change annotations.");
      }
    };
    return TextEditChangeImpl2;
  }();
  var ChangeAnnotations = function() {
    function ChangeAnnotations2(annotations) {
      this._annotations = annotations === void 0 ? /* @__PURE__ */ Object.create(null) : annotations;
      this._counter = 0;
      this._size = 0;
    }
    ChangeAnnotations2.prototype.all = function() {
      return this._annotations;
    };
    Object.defineProperty(ChangeAnnotations2.prototype, "size", {
      get: function() {
        return this._size;
      },
      enumerable: false,
      configurable: true
    });
    ChangeAnnotations2.prototype.manage = function(idOrAnnotation, annotation) {
      var id;
      if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {
        id = idOrAnnotation;
      } else {
        id = this.nextId();
        annotation = idOrAnnotation;
      }
      if (this._annotations[id] !== void 0) {
        throw new Error("Id " + id + " is already in use.");
      }
      if (annotation === void 0) {
        throw new Error("No annotation provided for id " + id);
      }
      this._annotations[id] = annotation;
      this._size++;
      return id;
    };
    ChangeAnnotations2.prototype.nextId = function() {
      this._counter++;
      return this._counter.toString();
    };
    return ChangeAnnotations2;
  }();
  (function() {
    function WorkspaceChange2(workspaceEdit) {
      var _this = this;
      this._textEditChanges = /* @__PURE__ */ Object.create(null);
      if (workspaceEdit !== void 0) {
        this._workspaceEdit = workspaceEdit;
        if (workspaceEdit.documentChanges) {
          this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);
          workspaceEdit.changeAnnotations = this._changeAnnotations.all();
          workspaceEdit.documentChanges.forEach(function(change) {
            if (TextDocumentEdit.is(change)) {
              var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);
              _this._textEditChanges[change.textDocument.uri] = textEditChange;
            }
          });
        } else if (workspaceEdit.changes) {
          Object.keys(workspaceEdit.changes).forEach(function(key) {
            var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);
            _this._textEditChanges[key] = textEditChange;
          });
        }
      } else {
        this._workspaceEdit = {};
      }
    }
    Object.defineProperty(WorkspaceChange2.prototype, "edit", {
      get: function() {
        this.initDocumentChanges();
        if (this._changeAnnotations !== void 0) {
          if (this._changeAnnotations.size === 0) {
            this._workspaceEdit.changeAnnotations = void 0;
          } else {
            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();
          }
        }
        return this._workspaceEdit;
      },
      enumerable: false,
      configurable: true
    });
    WorkspaceChange2.prototype.getTextEditChange = function(key) {
      if (OptionalVersionedTextDocumentIdentifier.is(key)) {
        this.initDocumentChanges();
        if (this._workspaceEdit.documentChanges === void 0) {
          throw new Error("Workspace edit is not configured for document changes.");
        }
        var textDocument = { uri: key.uri, version: key.version };
        var result = this._textEditChanges[textDocument.uri];
        if (!result) {
          var edits = [];
          var textDocumentEdit = {
            textDocument,
            edits
          };
          this._workspaceEdit.documentChanges.push(textDocumentEdit);
          result = new TextEditChangeImpl(edits, this._changeAnnotations);
          this._textEditChanges[textDocument.uri] = result;
        }
        return result;
      } else {
        this.initChanges();
        if (this._workspaceEdit.changes === void 0) {
          throw new Error("Workspace edit is not configured for normal text edit changes.");
        }
        var result = this._textEditChanges[key];
        if (!result) {
          var edits = [];
          this._workspaceEdit.changes[key] = edits;
          result = new TextEditChangeImpl(edits);
          this._textEditChanges[key] = result;
        }
        return result;
      }
    };
    WorkspaceChange2.prototype.initDocumentChanges = function() {
      if (this._workspaceEdit.documentChanges === void 0 && this._workspaceEdit.changes === void 0) {
        this._changeAnnotations = new ChangeAnnotations();
        this._workspaceEdit.documentChanges = [];
        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();
      }
    };
    WorkspaceChange2.prototype.initChanges = function() {
      if (this._workspaceEdit.documentChanges === void 0 && this._workspaceEdit.changes === void 0) {
        this._workspaceEdit.changes = /* @__PURE__ */ Object.create(null);
      }
    };
    WorkspaceChange2.prototype.createFile = function(uri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = CreateFile.create(uri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = CreateFile.create(uri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    WorkspaceChange2.prototype.renameFile = function(oldUri, newUri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = RenameFile.create(oldUri, newUri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = RenameFile.create(oldUri, newUri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    WorkspaceChange2.prototype.deleteFile = function(uri, optionsOrAnnotation, options) {
      this.initDocumentChanges();
      if (this._workspaceEdit.documentChanges === void 0) {
        throw new Error("Workspace edit is not configured for document changes.");
      }
      var annotation;
      if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {
        annotation = optionsOrAnnotation;
      } else {
        options = optionsOrAnnotation;
      }
      var operation;
      var id;
      if (annotation === void 0) {
        operation = DeleteFile.create(uri, options);
      } else {
        id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);
        operation = DeleteFile.create(uri, options, id);
      }
      this._workspaceEdit.documentChanges.push(operation);
      if (id !== void 0) {
        return id;
      }
    };
    return WorkspaceChange2;
  })();
  var TextDocumentIdentifier;
  (function(TextDocumentIdentifier2) {
    function create(uri) {
      return { uri };
    }
    TextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri);
    }
    TextDocumentIdentifier2.is = is;
  })(TextDocumentIdentifier || (TextDocumentIdentifier = {}));
  var VersionedTextDocumentIdentifier;
  (function(VersionedTextDocumentIdentifier2) {
    function create(uri, version) {
      return { uri, version };
    }
    VersionedTextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);
    }
    VersionedTextDocumentIdentifier2.is = is;
  })(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));
  var OptionalVersionedTextDocumentIdentifier;
  (function(OptionalVersionedTextDocumentIdentifier2) {
    function create(uri, version) {
      return { uri, version };
    }
    OptionalVersionedTextDocumentIdentifier2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));
    }
    OptionalVersionedTextDocumentIdentifier2.is = is;
  })(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));
  var TextDocumentItem;
  (function(TextDocumentItem2) {
    function create(uri, languageId, version, text) {
      return { uri, languageId, version, text };
    }
    TextDocumentItem2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);
    }
    TextDocumentItem2.is = is;
  })(TextDocumentItem || (TextDocumentItem = {}));
  var MarkupKind;
  (function(MarkupKind2) {
    MarkupKind2.PlainText = "plaintext";
    MarkupKind2.Markdown = "markdown";
  })(MarkupKind || (MarkupKind = {}));
  (function(MarkupKind2) {
    function is(value) {
      var candidate = value;
      return candidate === MarkupKind2.PlainText || candidate === MarkupKind2.Markdown;
    }
    MarkupKind2.is = is;
  })(MarkupKind || (MarkupKind = {}));
  var MarkupContent;
  (function(MarkupContent2) {
    function is(value) {
      var candidate = value;
      return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);
    }
    MarkupContent2.is = is;
  })(MarkupContent || (MarkupContent = {}));
  var CompletionItemKind;
  (function(CompletionItemKind2) {
    CompletionItemKind2.Text = 1;
    CompletionItemKind2.Method = 2;
    CompletionItemKind2.Function = 3;
    CompletionItemKind2.Constructor = 4;
    CompletionItemKind2.Field = 5;
    CompletionItemKind2.Variable = 6;
    CompletionItemKind2.Class = 7;
    CompletionItemKind2.Interface = 8;
    CompletionItemKind2.Module = 9;
    CompletionItemKind2.Property = 10;
    CompletionItemKind2.Unit = 11;
    CompletionItemKind2.Value = 12;
    CompletionItemKind2.Enum = 13;
    CompletionItemKind2.Keyword = 14;
    CompletionItemKind2.Snippet = 15;
    CompletionItemKind2.Color = 16;
    CompletionItemKind2.File = 17;
    CompletionItemKind2.Reference = 18;
    CompletionItemKind2.Folder = 19;
    CompletionItemKind2.EnumMember = 20;
    CompletionItemKind2.Constant = 21;
    CompletionItemKind2.Struct = 22;
    CompletionItemKind2.Event = 23;
    CompletionItemKind2.Operator = 24;
    CompletionItemKind2.TypeParameter = 25;
  })(CompletionItemKind || (CompletionItemKind = {}));
  var InsertTextFormat;
  (function(InsertTextFormat2) {
    InsertTextFormat2.PlainText = 1;
    InsertTextFormat2.Snippet = 2;
  })(InsertTextFormat || (InsertTextFormat = {}));
  var CompletionItemTag;
  (function(CompletionItemTag2) {
    CompletionItemTag2.Deprecated = 1;
  })(CompletionItemTag || (CompletionItemTag = {}));
  var InsertReplaceEdit;
  (function(InsertReplaceEdit2) {
    function create(newText, insert, replace) {
      return { newText, insert, replace };
    }
    InsertReplaceEdit2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);
    }
    InsertReplaceEdit2.is = is;
  })(InsertReplaceEdit || (InsertReplaceEdit = {}));
  var InsertTextMode;
  (function(InsertTextMode2) {
    InsertTextMode2.asIs = 1;
    InsertTextMode2.adjustIndentation = 2;
  })(InsertTextMode || (InsertTextMode = {}));
  var CompletionItem;
  (function(CompletionItem2) {
    function create(label) {
      return { label };
    }
    CompletionItem2.create = create;
  })(CompletionItem || (CompletionItem = {}));
  var CompletionList;
  (function(CompletionList2) {
    function create(items, isIncomplete) {
      return { items: items ? items : [], isIncomplete: !!isIncomplete };
    }
    CompletionList2.create = create;
  })(CompletionList || (CompletionList = {}));
  var MarkedString;
  (function(MarkedString2) {
    function fromPlainText(plainText) {
      return plainText.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
    }
    MarkedString2.fromPlainText = fromPlainText;
    function is(value) {
      var candidate = value;
      return Is.string(candidate) || Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value);
    }
    MarkedString2.is = is;
  })(MarkedString || (MarkedString = {}));
  var Hover;
  (function(Hover2) {
    function is(value) {
      var candidate = value;
      return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) || MarkedString.is(candidate.contents) || Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === void 0 || Range.is(value.range));
    }
    Hover2.is = is;
  })(Hover || (Hover = {}));
  var ParameterInformation;
  (function(ParameterInformation2) {
    function create(label, documentation) {
      return documentation ? { label, documentation } : { label };
    }
    ParameterInformation2.create = create;
  })(ParameterInformation || (ParameterInformation = {}));
  var SignatureInformation;
  (function(SignatureInformation2) {
    function create(label, documentation) {
      var parameters = [];
      for (var _i = 2; _i < arguments.length; _i++) {
        parameters[_i - 2] = arguments[_i];
      }
      var result = { label };
      if (Is.defined(documentation)) {
        result.documentation = documentation;
      }
      if (Is.defined(parameters)) {
        result.parameters = parameters;
      } else {
        result.parameters = [];
      }
      return result;
    }
    SignatureInformation2.create = create;
  })(SignatureInformation || (SignatureInformation = {}));
  var DocumentHighlightKind;
  (function(DocumentHighlightKind2) {
    DocumentHighlightKind2.Text = 1;
    DocumentHighlightKind2.Read = 2;
    DocumentHighlightKind2.Write = 3;
  })(DocumentHighlightKind || (DocumentHighlightKind = {}));
  var DocumentHighlight;
  (function(DocumentHighlight2) {
    function create(range, kind) {
      var result = { range };
      if (Is.number(kind)) {
        result.kind = kind;
      }
      return result;
    }
    DocumentHighlight2.create = create;
  })(DocumentHighlight || (DocumentHighlight = {}));
  var SymbolKind;
  (function(SymbolKind2) {
    SymbolKind2.File = 1;
    SymbolKind2.Module = 2;
    SymbolKind2.Namespace = 3;
    SymbolKind2.Package = 4;
    SymbolKind2.Class = 5;
    SymbolKind2.Method = 6;
    SymbolKind2.Property = 7;
    SymbolKind2.Field = 8;
    SymbolKind2.Constructor = 9;
    SymbolKind2.Enum = 10;
    SymbolKind2.Interface = 11;
    SymbolKind2.Function = 12;
    SymbolKind2.Variable = 13;
    SymbolKind2.Constant = 14;
    SymbolKind2.String = 15;
    SymbolKind2.Number = 16;
    SymbolKind2.Boolean = 17;
    SymbolKind2.Array = 18;
    SymbolKind2.Object = 19;
    SymbolKind2.Key = 20;
    SymbolKind2.Null = 21;
    SymbolKind2.EnumMember = 22;
    SymbolKind2.Struct = 23;
    SymbolKind2.Event = 24;
    SymbolKind2.Operator = 25;
    SymbolKind2.TypeParameter = 26;
  })(SymbolKind || (SymbolKind = {}));
  var SymbolTag;
  (function(SymbolTag2) {
    SymbolTag2.Deprecated = 1;
  })(SymbolTag || (SymbolTag = {}));
  var SymbolInformation;
  (function(SymbolInformation2) {
    function create(name, kind, range, uri, containerName) {
      var result = {
        name,
        kind,
        location: { uri, range }
      };
      if (containerName) {
        result.containerName = containerName;
      }
      return result;
    }
    SymbolInformation2.create = create;
  })(SymbolInformation || (SymbolInformation = {}));
  var DocumentSymbol;
  (function(DocumentSymbol2) {
    function create(name, detail, kind, range, selectionRange, children) {
      var result = {
        name,
        detail,
        kind,
        range,
        selectionRange
      };
      if (children !== void 0) {
        result.children = children;
      }
      return result;
    }
    DocumentSymbol2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.name) && Is.number(candidate.kind) && Range.is(candidate.range) && Range.is(candidate.selectionRange) && (candidate.detail === void 0 || Is.string(candidate.detail)) && (candidate.deprecated === void 0 || Is.boolean(candidate.deprecated)) && (candidate.children === void 0 || Array.isArray(candidate.children)) && (candidate.tags === void 0 || Array.isArray(candidate.tags));
    }
    DocumentSymbol2.is = is;
  })(DocumentSymbol || (DocumentSymbol = {}));
  var CodeActionKind;
  (function(CodeActionKind2) {
    CodeActionKind2.Empty = "";
    CodeActionKind2.QuickFix = "quickfix";
    CodeActionKind2.Refactor = "refactor";
    CodeActionKind2.RefactorExtract = "refactor.extract";
    CodeActionKind2.RefactorInline = "refactor.inline";
    CodeActionKind2.RefactorRewrite = "refactor.rewrite";
    CodeActionKind2.Source = "source";
    CodeActionKind2.SourceOrganizeImports = "source.organizeImports";
    CodeActionKind2.SourceFixAll = "source.fixAll";
  })(CodeActionKind || (CodeActionKind = {}));
  var CodeActionContext;
  (function(CodeActionContext2) {
    function create(diagnostics, only) {
      var result = { diagnostics };
      if (only !== void 0 && only !== null) {
        result.only = only;
      }
      return result;
    }
    CodeActionContext2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is) && (candidate.only === void 0 || Is.typedArray(candidate.only, Is.string));
    }
    CodeActionContext2.is = is;
  })(CodeActionContext || (CodeActionContext = {}));
  var CodeAction;
  (function(CodeAction2) {
    function create(title, kindOrCommandOrEdit, kind) {
      var result = { title };
      var checkKind = true;
      if (typeof kindOrCommandOrEdit === "string") {
        checkKind = false;
        result.kind = kindOrCommandOrEdit;
      } else if (Command.is(kindOrCommandOrEdit)) {
        result.command = kindOrCommandOrEdit;
      } else {
        result.edit = kindOrCommandOrEdit;
      }
      if (checkKind && kind !== void 0) {
        result.kind = kind;
      }
      return result;
    }
    CodeAction2.create = create;
    function is(value) {
      var candidate = value;
      return candidate && Is.string(candidate.title) && (candidate.diagnostics === void 0 || Is.typedArray(candidate.diagnostics, Diagnostic.is)) && (candidate.kind === void 0 || Is.string(candidate.kind)) && (candidate.edit !== void 0 || candidate.command !== void 0) && (candidate.command === void 0 || Command.is(candidate.command)) && (candidate.isPreferred === void 0 || Is.boolean(candidate.isPreferred)) && (candidate.edit === void 0 || WorkspaceEdit.is(candidate.edit));
    }
    CodeAction2.is = is;
  })(CodeAction || (CodeAction = {}));
  var CodeLens;
  (function(CodeLens2) {
    function create(range, data) {
      var result = { range };
      if (Is.defined(data)) {
        result.data = data;
      }
      return result;
    }
    CodeLens2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));
    }
    CodeLens2.is = is;
  })(CodeLens || (CodeLens = {}));
  var FormattingOptions;
  (function(FormattingOptions2) {
    function create(tabSize, insertSpaces) {
      return { tabSize, insertSpaces };
    }
    FormattingOptions2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);
    }
    FormattingOptions2.is = is;
  })(FormattingOptions || (FormattingOptions = {}));
  var DocumentLink;
  (function(DocumentLink2) {
    function create(range, target, data) {
      return { range, target, data };
    }
    DocumentLink2.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));
    }
    DocumentLink2.is = is;
  })(DocumentLink || (DocumentLink = {}));
  var SelectionRange;
  (function(SelectionRange2) {
    function create(range, parent) {
      return { range, parent };
    }
    SelectionRange2.create = create;
    function is(value) {
      var candidate = value;
      return candidate !== void 0 && Range.is(candidate.range) && (candidate.parent === void 0 || SelectionRange2.is(candidate.parent));
    }
    SelectionRange2.is = is;
  })(SelectionRange || (SelectionRange = {}));
  var TextDocument;
  (function(TextDocument3) {
    function create(uri, languageId, version, content) {
      return new FullTextDocument(uri, languageId, version, content);
    }
    TextDocument3.create = create;
    function is(value) {
      var candidate = value;
      return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount) && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;
    }
    TextDocument3.is = is;
    function applyEdits(document2, edits) {
      var text = document2.getText();
      var sortedEdits = mergeSort2(edits, function(a2, b) {
        var diff = a2.range.start.line - b.range.start.line;
        if (diff === 0) {
          return a2.range.start.character - b.range.start.character;
        }
        return diff;
      });
      var lastModifiedOffset = text.length;
      for (var i = sortedEdits.length - 1; i >= 0; i--) {
        var e = sortedEdits[i];
        var startOffset = document2.offsetAt(e.range.start);
        var endOffset = document2.offsetAt(e.range.end);
        if (endOffset <= lastModifiedOffset) {
          text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);
        } else {
          throw new Error("Overlapping edit");
        }
        lastModifiedOffset = startOffset;
      }
      return text;
    }
    TextDocument3.applyEdits = applyEdits;
    function mergeSort2(data, compare) {
      if (data.length <= 1) {
        return data;
      }
      var p = data.length / 2 | 0;
      var left = data.slice(0, p);
      var right = data.slice(p);
      mergeSort2(left, compare);
      mergeSort2(right, compare);
      var leftIdx = 0;
      var rightIdx = 0;
      var i = 0;
      while (leftIdx < left.length && rightIdx < right.length) {
        var ret = compare(left[leftIdx], right[rightIdx]);
        if (ret <= 0) {
          data[i++] = left[leftIdx++];
        } else {
          data[i++] = right[rightIdx++];
        }
      }
      while (leftIdx < left.length) {
        data[i++] = left[leftIdx++];
      }
      while (rightIdx < right.length) {
        data[i++] = right[rightIdx++];
      }
      return data;
    }
  })(TextDocument || (TextDocument = {}));
  var FullTextDocument = function() {
    function FullTextDocument3(uri, languageId, version, content) {
      this._uri = uri;
      this._languageId = languageId;
      this._version = version;
      this._content = content;
      this._lineOffsets = void 0;
    }
    Object.defineProperty(FullTextDocument3.prototype, "uri", {
      get: function() {
        return this._uri;
      },
      enumerable: false,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "languageId", {
      get: function() {
        return this._languageId;
      },
      enumerable: false,
      configurable: true
    });
    Object.defineProperty(FullTextDocument3.prototype, "version", {
      get: function() {
        return this._version;
      },
      enumerable: false,
      configurable: true
    });
    FullTextDocument3.prototype.getText = function(range) {
      if (range) {
        var start = this.offsetAt(range.start);
        var end = this.offsetAt(range.end);
        return this._content.substring(start, end);
      }
      return this._content;
    };
    FullTextDocument3.prototype.update = function(event, version) {
      this._content = event.text;
      this._version = version;
      this._lineOffsets = void 0;
    };
    FullTextDocument3.prototype.getLineOffsets = function() {
      if (this._lineOffsets === void 0) {
        var lineOffsets = [];
        var text = this._content;
        var isLineStart = true;
        for (var i = 0; i < text.length; i++) {
          if (isLineStart) {
            lineOffsets.push(i);
            isLineStart = false;
          }
          var ch = text.charAt(i);
          isLineStart = ch === "\r" || ch === "\n";
          if (ch === "\r" && i + 1 < text.length && text.charAt(i + 1) === "\n") {
            i++;
          }
        }
        if (isLineStart && text.length > 0) {
          lineOffsets.push(text.length);
        }
        this._lineOffsets = lineOffsets;
      }
      return this._lineOffsets;
    };
    FullTextDocument3.prototype.positionAt = function(offset) {
      offset = Math.max(Math.min(offset, this._content.length), 0);
      var lineOffsets = this.getLineOffsets();
      var low = 0, high = lineOffsets.length;
      if (high === 0) {
        return Position.create(0, offset);
      }
      while (low < high) {
        var mid = Math.floor((low + high) / 2);
        if (lineOffsets[mid] > offset) {
          high = mid;
        } else {
          low = mid + 1;
        }
      }
      var line = low - 1;
      return Position.create(line, offset - lineOffsets[line]);
    };
    FullTextDocument3.prototype.offsetAt = function(position) {
      var lineOffsets = this.getLineOffsets();
      if (position.line >= lineOffsets.length) {
        return this._content.length;
      } else if (position.line < 0) {
        return 0;
      }
      var lineOffset = lineOffsets[position.line];
      var nextLineOffset = position.line + 1 < lineOffsets.length ? lineOffsets[position.line + 1] : this._content.length;
      return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);
    };
    Object.defineProperty(FullTextDocument3.prototype, "lineCount", {
      get: function() {
        return this.getLineOffsets().length;
      },
      enumerable: false,
      configurable: true
    });
    return FullTextDocument3;
  }();
  var Is;
  (function(Is2) {
    var toString = Object.prototype.toString;
    function defined(value) {
      return typeof value !== "undefined";
    }
    Is2.defined = defined;
    function undefined2(value) {
      return typeof value === "undefined";
    }
    Is2.undefined = undefined2;
    function boolean(value) {
      return value === true || value === false;
    }
    Is2.boolean = boolean;
    function string(value) {
      return toString.call(value) === "[object String]";
    }
    Is2.string = string;
    function number(value) {
      return toString.call(value) === "[object Number]";
    }
    Is2.number = number;
    function numberRange(value, min, max) {
      return toString.call(value) === "[object Number]" && min <= value && value <= max;
    }
    Is2.numberRange = numberRange;
    function integer2(value) {
      return toString.call(value) === "[object Number]" && -2147483648 <= value && value <= 2147483647;
    }
    Is2.integer = integer2;
    function uinteger2(value) {
      return toString.call(value) === "[object Number]" && 0 <= value && value <= 2147483647;
    }
    Is2.uinteger = uinteger2;
    function func(value) {
      return toString.call(value) === "[object Function]";
    }
    Is2.func = func;
    function objectLiteral(value) {
      return value !== null && typeof value === "object";
    }
    Is2.objectLiteral = objectLiteral;
    function typedArray(value, check) {
      return Array.isArray(value) && value.every(check);
    }
    Is2.typedArray = typedArray;
  })(Is || (Is = {}));
  var FullTextDocument2 = class {
    constructor(uri, languageId, version, content) {
      this._uri = uri;
      this._languageId = languageId;
      this._version = version;
      this._content = content;
      this._lineOffsets = void 0;
    }
    get uri() {
      return this._uri;
    }
    get languageId() {
      return this._languageId;
    }
    get version() {
      return this._version;
    }
    getText(range) {
      if (range) {
        const start = this.offsetAt(range.start);
        const end = this.offsetAt(range.end);
        return this._content.substring(start, end);
      }
      return this._content;
    }
    update(changes, version) {
      for (let change of changes) {
        if (FullTextDocument2.isIncremental(change)) {
          const range = getWellformedRange(change.range);
          const startOffset = this.offsetAt(range.start);
          const endOffset = this.offsetAt(range.end);
          this._content = this._content.substring(0, startOffset) + change.text + this._content.substring(endOffset, this._content.length);
          const startLine = Math.max(range.start.line, 0);
          const endLine = Math.max(range.end.line, 0);
          let lineOffsets = this._lineOffsets;
          const addedLineOffsets = computeLineOffsets(change.text, false, startOffset);
          if (endLine - startLine === addedLineOffsets.length) {
            for (let i = 0, len = addedLineOffsets.length; i < len; i++) {
              lineOffsets[i + startLine + 1] = addedLineOffsets[i];
            }
          } else {
            if (addedLineOffsets.length < 1e4) {
              lineOffsets.splice(startLine + 1, endLine - startLine, ...addedLineOffsets);
            } else {
              this._lineOffsets = lineOffsets = lineOffsets.slice(0, startLine + 1).concat(addedLineOffsets, lineOffsets.slice(endLine + 1));
            }
          }
          const diff = change.text.length - (endOffset - startOffset);
          if (diff !== 0) {
            for (let i = startLine + 1 + addedLineOffsets.length, len = lineOffsets.length; i < len; i++) {
              lineOffsets[i] = lineOffsets[i] + diff;
            }
          }
        } else if (FullTextDocument2.isFull(change)) {
          this._content = change.text;
          this._lineOffsets = void 0;
        } else {
          throw new Error("Unknown change event received");
        }
      }
      this._version = version;
    }
    getLineOffsets() {
      if (this._lineOffsets === void 0) {
        this._lineOffsets = computeLineOffsets(this._content, true);
      }
      return this._lineOffsets;
    }
    positionAt(offset) {
      offset = Math.max(Math.min(offset, this._content.length), 0);
      let lineOffsets = this.getLineOffsets();
      let low = 0, high = lineOffsets.length;
      if (high === 0) {
        return { line: 0, character: offset };
      }
      while (low < high) {
        let mid = Math.floor((low + high) / 2);
        if (lineOffsets[mid] > offset) {
          high = mid;
        } else {
          low = mid + 1;
        }
      }
      let line = low - 1;
      return { line, character: offset - lineOffsets[line] };
    }
    offsetAt(position) {
      let lineOffsets = this.getLineOffsets();
      if (position.line >= lineOffsets.length) {
        return this._content.length;
      } else if (position.line < 0) {
        return 0;
      }
      let lineOffset = lineOffsets[position.line];
      let nextLineOffset = position.line + 1 < lineOffsets.length ? lineOffsets[position.line + 1] : this._content.length;
      return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);
    }
    get lineCount() {
      return this.getLineOffsets().length;
    }
    static isIncremental(event) {
      let candidate = event;
      return candidate !== void 0 && candidate !== null && typeof candidate.text === "string" && candidate.range !== void 0 && (candidate.rangeLength === void 0 || typeof candidate.rangeLength === "number");
    }
    static isFull(event) {
      let candidate = event;
      return candidate !== void 0 && candidate !== null && typeof candidate.text === "string" && candidate.range === void 0 && candidate.rangeLength === void 0;
    }
  };
  var TextDocument2;
  (function(TextDocument3) {
    function create(uri, languageId, version, content) {
      return new FullTextDocument2(uri, languageId, version, content);
    }
    TextDocument3.create = create;
    function update(document2, changes, version) {
      if (document2 instanceof FullTextDocument2) {
        document2.update(changes, version);
        return document2;
      } else {
        throw new Error("TextDocument.update: document must be created by TextDocument.create");
      }
    }
    TextDocument3.update = update;
    function applyEdits(document2, edits) {
      let text = document2.getText();
      let sortedEdits = mergeSort(edits.map(getWellformedEdit), (a2, b) => {
        let diff = a2.range.start.line - b.range.start.line;
        if (diff === 0) {
          return a2.range.start.character - b.range.start.character;
        }
        return diff;
      });
      let lastModifiedOffset = 0;
      const spans = [];
      for (const e of sortedEdits) {
        let startOffset = document2.offsetAt(e.range.start);
        if (startOffset < lastModifiedOffset) {
          throw new Error("Overlapping edit");
        } else if (startOffset > lastModifiedOffset) {
          spans.push(text.substring(lastModifiedOffset, startOffset));
        }
        if (e.newText.length) {
          spans.push(e.newText);
        }
        lastModifiedOffset = document2.offsetAt(e.range.end);
      }
      spans.push(text.substr(lastModifiedOffset));
      return spans.join("");
    }
    TextDocument3.applyEdits = applyEdits;
  })(TextDocument2 || (TextDocument2 = {}));
  function mergeSort(data, compare) {
    if (data.length <= 1) {
      return data;
    }
    const p = data.length / 2 | 0;
    const left = data.slice(0, p);
    const right = data.slice(p);
    mergeSort(left, compare);
    mergeSort(right, compare);
    let leftIdx = 0;
    let rightIdx = 0;
    let i = 0;
    while (leftIdx < left.length && rightIdx < right.length) {
      let ret = compare(left[leftIdx], right[rightIdx]);
      if (ret <= 0) {
        data[i++] = left[leftIdx++];
      } else {
        data[i++] = right[rightIdx++];
      }
    }
    while (leftIdx < left.length) {
      data[i++] = left[leftIdx++];
    }
    while (rightIdx < right.length) {
      data[i++] = right[rightIdx++];
    }
    return data;
  }
  function computeLineOffsets(text, isAtLineStart, textOffset = 0) {
    const result = isAtLineStart ? [textOffset] : [];
    for (let i = 0; i < text.length; i++) {
      let ch = text.charCodeAt(i);
      if (ch === 13 || ch === 10) {
        if (ch === 13 && i + 1 < text.length && text.charCodeAt(i + 1) === 10) {
          i++;
        }
        result.push(textOffset + i + 1);
      }
    }
    return result;
  }
  function getWellformedRange(range) {
    const start = range.start;
    const end = range.end;
    if (start.line > end.line || start.line === end.line && start.character > end.character) {
      return { start: end, end: start };
    }
    return range;
  }
  function getWellformedEdit(textEdit) {
    const range = getWellformedRange(textEdit.range);
    if (range !== textEdit.range) {
      return { newText: textEdit.newText, range };
    }
    return textEdit;
  }
  var ErrorCode;
  (function(ErrorCode2) {
    ErrorCode2[ErrorCode2["Undefined"] = 0] = "Undefined";
    ErrorCode2[ErrorCode2["EnumValueMismatch"] = 1] = "EnumValueMismatch";
    ErrorCode2[ErrorCode2["Deprecated"] = 2] = "Deprecated";
    ErrorCode2[ErrorCode2["UnexpectedEndOfComment"] = 257] = "UnexpectedEndOfComment";
    ErrorCode2[ErrorCode2["UnexpectedEndOfString"] = 258] = "UnexpectedEndOfString";
    ErrorCode2[ErrorCode2["UnexpectedEndOfNumber"] = 259] = "UnexpectedEndOfNumber";
    ErrorCode2[ErrorCode2["InvalidUnicode"] = 260] = "InvalidUnicode";
    ErrorCode2[ErrorCode2["InvalidEscapeCharacter"] = 261] = "InvalidEscapeCharacter";
    ErrorCode2[ErrorCode2["InvalidCharacter"] = 262] = "InvalidCharacter";
    ErrorCode2[ErrorCode2["PropertyExpected"] = 513] = "PropertyExpected";
    ErrorCode2[ErrorCode2["CommaExpected"] = 514] = "CommaExpected";
    ErrorCode2[ErrorCode2["ColonExpected"] = 515] = "ColonExpected";
    ErrorCode2[ErrorCode2["ValueExpected"] = 516] = "ValueExpected";
    ErrorCode2[ErrorCode2["CommaOrCloseBacketExpected"] = 517] = "CommaOrCloseBacketExpected";
    ErrorCode2[ErrorCode2["CommaOrCloseBraceExpected"] = 518] = "CommaOrCloseBraceExpected";
    ErrorCode2[ErrorCode2["TrailingComma"] = 519] = "TrailingComma";
    ErrorCode2[ErrorCode2["DuplicateKey"] = 520] = "DuplicateKey";
    ErrorCode2[ErrorCode2["CommentNotPermitted"] = 521] = "CommentNotPermitted";
    ErrorCode2[ErrorCode2["SchemaResolveError"] = 768] = "SchemaResolveError";
  })(ErrorCode || (ErrorCode = {}));
  var ClientCapabilities;
  (function(ClientCapabilities2) {
    ClientCapabilities2.LATEST = {
      textDocument: {
        completion: {
          completionItem: {
            documentationFormat: [MarkupKind.Markdown, MarkupKind.PlainText],
            commitCharactersSupport: true
          }
        }
      }
    };
  })(ClientCapabilities || (ClientCapabilities = {}));
  function format3(message, args) {
    let result;
    if (args.length === 0) {
      result = message;
    } else {
      result = message.replace(/\{(\d+)\}/g, (match, rest) => {
        let index = rest[0];
        return typeof args[index] !== "undefined" ? args[index] : match;
      });
    }
    return result;
  }
  function localize(key, message, ...args) {
    return format3(message, args);
  }
  function loadMessageBundle(file) {
    return localize;
  }
  var __extends = /* @__PURE__ */ function() {
    var extendStatics = function(d, b) {
      extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d2, b2) {
        d2.__proto__ = b2;
      } || function(d2, b2) {
        for (var p in b2)
          if (Object.prototype.hasOwnProperty.call(b2, p))
            d2[p] = b2[p];
      };
      return extendStatics(d, b);
    };
    return function(d, b) {
      if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
      extendStatics(d, b);
      function __() {
        this.constructor = d;
      }
      d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
  }();
  var localize2 = loadMessageBundle();
  var formats = {
    "color-hex": { errorMessage: localize2("colorHexFormatWarning", "Invalid color format. Use #RGB, #RGBA, #RRGGBB or #RRGGBBAA."), pattern: /^#([0-9A-Fa-f]{3,4}|([0-9A-Fa-f]{2}){3,4})$/ },
    "date-time": { errorMessage: localize2("dateTimeFormatWarning", "String is not a RFC3339 date-time."), pattern: /^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },
    "date": { errorMessage: localize2("dateFormatWarning", "String is not a RFC3339 date."), pattern: /^(\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/i },
    "time": { errorMessage: localize2("timeFormatWarning", "String is not a RFC3339 time."), pattern: /^([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\.[0-9]+)?(Z|(\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$/i },
    "email": { errorMessage: localize2("emailFormatWarning", "String is not an e-mail address."), pattern: /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z0-9-]+\.)+[a-zA-Z]{2,}))$/ },
    "hostname": { errorMessage: localize2("hostnameFormatWarning", "String is not a hostname."), pattern: /^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i },
    "ipv4": { errorMessage: localize2("ipv4FormatWarning", "String is not an IPv4 address."), pattern: /^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/ },
    "ipv6": { errorMessage: localize2("ipv6FormatWarning", "String is not an IPv6 address."), pattern: /^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i }
  };
  var ASTNodeImpl = function() {
    function ASTNodeImpl2(parent, offset, length) {
      if (length === void 0) {
        length = 0;
      }
      this.offset = offset;
      this.length = length;
      this.parent = parent;
    }
    Object.defineProperty(ASTNodeImpl2.prototype, "children", {
      get: function() {
        return [];
      },
      enumerable: false,
      configurable: true
    });
    ASTNodeImpl2.prototype.toString = function() {
      return "type: " + this.type + " (" + this.offset + "/" + this.length + ")" + (this.parent ? " parent: {" + this.parent.toString() + "}" : "");
    };
    return ASTNodeImpl2;
  }();
  var NullASTNodeImpl = function(_super) {
    __extends(NullASTNodeImpl2, _super);
    function NullASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "null";
      _this.value = null;
      return _this;
    }
    return NullASTNodeImpl2;
  }(ASTNodeImpl);
  var BooleanASTNodeImpl = function(_super) {
    __extends(BooleanASTNodeImpl2, _super);
    function BooleanASTNodeImpl2(parent, boolValue, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "boolean";
      _this.value = boolValue;
      return _this;
    }
    return BooleanASTNodeImpl2;
  }(ASTNodeImpl);
  var ArrayASTNodeImpl = function(_super) {
    __extends(ArrayASTNodeImpl2, _super);
    function ArrayASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "array";
      _this.items = [];
      return _this;
    }
    Object.defineProperty(ArrayASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.items;
      },
      enumerable: false,
      configurable: true
    });
    return ArrayASTNodeImpl2;
  }(ASTNodeImpl);
  var NumberASTNodeImpl = function(_super) {
    __extends(NumberASTNodeImpl2, _super);
    function NumberASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "number";
      _this.isInteger = true;
      _this.value = Number.NaN;
      return _this;
    }
    return NumberASTNodeImpl2;
  }(ASTNodeImpl);
  var StringASTNodeImpl = function(_super) {
    __extends(StringASTNodeImpl2, _super);
    function StringASTNodeImpl2(parent, offset, length) {
      var _this = _super.call(this, parent, offset, length) || this;
      _this.type = "string";
      _this.value = "";
      return _this;
    }
    return StringASTNodeImpl2;
  }(ASTNodeImpl);
  var PropertyASTNodeImpl = function(_super) {
    __extends(PropertyASTNodeImpl2, _super);
    function PropertyASTNodeImpl2(parent, offset, keyNode) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "property";
      _this.colonOffset = -1;
      _this.keyNode = keyNode;
      return _this;
    }
    Object.defineProperty(PropertyASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.valueNode ? [this.keyNode, this.valueNode] : [this.keyNode];
      },
      enumerable: false,
      configurable: true
    });
    return PropertyASTNodeImpl2;
  }(ASTNodeImpl);
  var ObjectASTNodeImpl = function(_super) {
    __extends(ObjectASTNodeImpl2, _super);
    function ObjectASTNodeImpl2(parent, offset) {
      var _this = _super.call(this, parent, offset) || this;
      _this.type = "object";
      _this.properties = [];
      return _this;
    }
    Object.defineProperty(ObjectASTNodeImpl2.prototype, "children", {
      get: function() {
        return this.properties;
      },
      enumerable: false,
      configurable: true
    });
    return ObjectASTNodeImpl2;
  }(ASTNodeImpl);
  function asSchema(schema2) {
    if (isBoolean(schema2)) {
      return schema2 ? {} : { "not": {} };
    }
    return schema2;
  }
  var EnumMatch;
  (function(EnumMatch2) {
    EnumMatch2[EnumMatch2["Key"] = 0] = "Key";
    EnumMatch2[EnumMatch2["Enum"] = 1] = "Enum";
  })(EnumMatch || (EnumMatch = {}));
  var SchemaCollector = function() {
    function SchemaCollector2(focusOffset, exclude) {
      if (focusOffset === void 0) {
        focusOffset = -1;
      }
      this.focusOffset = focusOffset;
      this.exclude = exclude;
      this.schemas = [];
    }
    SchemaCollector2.prototype.add = function(schema2) {
      this.schemas.push(schema2);
    };
    SchemaCollector2.prototype.merge = function(other) {
      Array.prototype.push.apply(this.schemas, other.schemas);
    };
    SchemaCollector2.prototype.include = function(node) {
      return (this.focusOffset === -1 || contains2(node, this.focusOffset)) && node !== this.exclude;
    };
    SchemaCollector2.prototype.newSub = function() {
      return new SchemaCollector2(-1, this.exclude);
    };
    return SchemaCollector2;
  }();
  var NoOpSchemaCollector = function() {
    function NoOpSchemaCollector2() {
    }
    Object.defineProperty(NoOpSchemaCollector2.prototype, "schemas", {
      get: function() {
        return [];
      },
      enumerable: false,
      configurable: true
    });
    NoOpSchemaCollector2.prototype.add = function(schema2) {
    };
    NoOpSchemaCollector2.prototype.merge = function(other) {
    };
    NoOpSchemaCollector2.prototype.include = function(node) {
      return true;
    };
    NoOpSchemaCollector2.prototype.newSub = function() {
      return this;
    };
    NoOpSchemaCollector2.instance = new NoOpSchemaCollector2();
    return NoOpSchemaCollector2;
  }();
  var ValidationResult = function() {
    function ValidationResult2() {
      this.problems = [];
      this.propertiesMatches = 0;
      this.propertiesValueMatches = 0;
      this.primaryValueMatches = 0;
      this.enumValueMatch = false;
      this.enumValues = void 0;
    }
    ValidationResult2.prototype.hasProblems = function() {
      return !!this.problems.length;
    };
    ValidationResult2.prototype.mergeAll = function(validationResults) {
      for (var _i = 0, validationResults_1 = validationResults; _i < validationResults_1.length; _i++) {
        var validationResult = validationResults_1[_i];
        this.merge(validationResult);
      }
    };
    ValidationResult2.prototype.merge = function(validationResult) {
      this.problems = this.problems.concat(validationResult.problems);
    };
    ValidationResult2.prototype.mergeEnumValues = function(validationResult) {
      if (!this.enumValueMatch && !validationResult.enumValueMatch && this.enumValues && validationResult.enumValues) {
        this.enumValues = this.enumValues.concat(validationResult.enumValues);
        for (var _i = 0, _a2 = this.problems; _i < _a2.length; _i++) {
          var error = _a2[_i];
          if (error.code === ErrorCode.EnumValueMismatch) {
            error.message = localize2("enumWarning", "Value is not accepted. Valid values: {0}.", this.enumValues.map(function(v) {
              return JSON.stringify(v);
            }).join(", "));
          }
        }
      }
    };
    ValidationResult2.prototype.mergePropertyMatch = function(propertyValidationResult) {
      this.merge(propertyValidationResult);
      this.propertiesMatches++;
      if (propertyValidationResult.enumValueMatch || !propertyValidationResult.hasProblems() && propertyValidationResult.propertiesMatches) {
        this.propertiesValueMatches++;
      }
      if (propertyValidationResult.enumValueMatch && propertyValidationResult.enumValues && propertyValidationResult.enumValues.length === 1) {
        this.primaryValueMatches++;
      }
    };
    ValidationResult2.prototype.compare = function(other) {
      var hasProblems = this.hasProblems();
      if (hasProblems !== other.hasProblems()) {
        return hasProblems ? -1 : 1;
      }
      if (this.enumValueMatch !== other.enumValueMatch) {
        return other.enumValueMatch ? -1 : 1;
      }
      if (this.primaryValueMatches !== other.primaryValueMatches) {
        return this.primaryValueMatches - other.primaryValueMatches;
      }
      if (this.propertiesValueMatches !== other.propertiesValueMatches) {
        return this.propertiesValueMatches - other.propertiesValueMatches;
      }
      return this.propertiesMatches - other.propertiesMatches;
    };
    return ValidationResult2;
  }();
  function newJSONDocument(root, diagnostics) {
    if (diagnostics === void 0) {
      diagnostics = [];
    }
    return new JSONDocument(root, diagnostics, []);
  }
  function getNodeValue3(node) {
    return getNodeValue2(node);
  }
  function getNodePath3(node) {
    return getNodePath2(node);
  }
  function contains2(node, offset, includeRightBound) {
    if (includeRightBound === void 0) {
      includeRightBound = false;
    }
    return offset >= node.offset && offset < node.offset + node.length || includeRightBound && offset === node.offset + node.length;
  }
  var JSONDocument = function() {
    function JSONDocument2(root, syntaxErrors, comments) {
      if (syntaxErrors === void 0) {
        syntaxErrors = [];
      }
      if (comments === void 0) {
        comments = [];
      }
      this.root = root;
      this.syntaxErrors = syntaxErrors;
      this.comments = comments;
    }
    JSONDocument2.prototype.getNodeFromOffset = function(offset, includeRightBound) {
      if (includeRightBound === void 0) {
        includeRightBound = false;
      }
      if (this.root) {
        return findNodeAtOffset2(this.root, offset, includeRightBound);
      }
      return void 0;
    };
    JSONDocument2.prototype.visit = function(visitor) {
      if (this.root) {
        var doVisit_1 = function(node) {
          var ctn = visitor(node);
          var children = node.children;
          if (Array.isArray(children)) {
            for (var i = 0; i < children.length && ctn; i++) {
              ctn = doVisit_1(children[i]);
            }
          }
          return ctn;
        };
        doVisit_1(this.root);
      }
    };
    JSONDocument2.prototype.validate = function(textDocument, schema2, severity) {
      if (severity === void 0) {
        severity = DiagnosticSeverity.Warning;
      }
      if (this.root && schema2) {
        var validationResult = new ValidationResult();
        validate(this.root, schema2, validationResult, NoOpSchemaCollector.instance);
        return validationResult.problems.map(function(p) {
          var _a2;
          var range = Range.create(textDocument.positionAt(p.location.offset), textDocument.positionAt(p.location.offset + p.location.length));
          return Diagnostic.create(range, p.message, (_a2 = p.severity) !== null && _a2 !== void 0 ? _a2 : severity, p.code);
        });
      }
      return void 0;
    };
    JSONDocument2.prototype.getMatchingSchemas = function(schema2, focusOffset, exclude) {
      if (focusOffset === void 0) {
        focusOffset = -1;
      }
      var matchingSchemas = new SchemaCollector(focusOffset, exclude);
      if (this.root && schema2) {
        validate(this.root, schema2, new ValidationResult(), matchingSchemas);
      }
      return matchingSchemas.schemas;
    };
    return JSONDocument2;
  }();
  function validate(n, schema2, validationResult, matchingSchemas) {
    if (!n || !matchingSchemas.include(n)) {
      return;
    }
    var node = n;
    switch (node.type) {
      case "object":
        _validateObjectNode(node, schema2, validationResult, matchingSchemas);
        break;
      case "array":
        _validateArrayNode(node, schema2, validationResult, matchingSchemas);
        break;
      case "string":
        _validateStringNode(node, schema2, validationResult);
        break;
      case "number":
        _validateNumberNode(node, schema2, validationResult);
        break;
      case "property":
        return validate(node.valueNode, schema2, validationResult, matchingSchemas);
    }
    _validateNode();
    matchingSchemas.add({ node, schema: schema2 });
    function _validateNode() {
      function matchesType(type) {
        return node.type === type || type === "integer" && node.type === "number" && node.isInteger;
      }
      if (Array.isArray(schema2.type)) {
        if (!schema2.type.some(matchesType)) {
          validationResult.problems.push({
            location: { offset: node.offset, length: node.length },
            message: schema2.errorMessage || localize2("typeArrayMismatchWarning", "Incorrect type. Expected one of {0}.", schema2.type.join(", "))
          });
        }
      } else if (schema2.type) {
        if (!matchesType(schema2.type)) {
          validationResult.problems.push({
            location: { offset: node.offset, length: node.length },
            message: schema2.errorMessage || localize2("typeMismatchWarning", 'Incorrect type. Expected "{0}".', schema2.type)
          });
        }
      }
      if (Array.isArray(schema2.allOf)) {
        for (var _i = 0, _a2 = schema2.allOf; _i < _a2.length; _i++) {
          var subSchemaRef = _a2[_i];
          validate(node, asSchema(subSchemaRef), validationResult, matchingSchemas);
        }
      }
      var notSchema = asSchema(schema2.not);
      if (notSchema) {
        var subValidationResult = new ValidationResult();
        var subMatchingSchemas = matchingSchemas.newSub();
        validate(node, notSchema, subValidationResult, subMatchingSchemas);
        if (!subValidationResult.hasProblems()) {
          validationResult.problems.push({
            location: { offset: node.offset, length: node.length },
            message: localize2("notSchemaWarning", "Matches a schema that is not allowed.")
          });
        }
        for (var _b = 0, _c = subMatchingSchemas.schemas; _b < _c.length; _b++) {
          var ms = _c[_b];
          ms.inverted = !ms.inverted;
          matchingSchemas.add(ms);
        }
      }
      var testAlternatives = function(alternatives, maxOneMatch) {
        var matches = [];
        var bestMatch = void 0;
        for (var _i2 = 0, alternatives_1 = alternatives; _i2 < alternatives_1.length; _i2++) {
          var subSchemaRef2 = alternatives_1[_i2];
          var subSchema = asSchema(subSchemaRef2);
          var subValidationResult2 = new ValidationResult();
          var subMatchingSchemas2 = matchingSchemas.newSub();
          validate(node, subSchema, subValidationResult2, subMatchingSchemas2);
          if (!subValidationResult2.hasProblems()) {
            matches.push(subSchema);
          }
          if (!bestMatch) {
            bestMatch = { schema: subSchema, validationResult: subValidationResult2, matchingSchemas: subMatchingSchemas2 };
          } else {
            if (!maxOneMatch && !subValidationResult2.hasProblems() && !bestMatch.validationResult.hasProblems()) {
              bestMatch.matchingSchemas.merge(subMatchingSchemas2);
              bestMatch.validationResult.propertiesMatches += subValidationResult2.propertiesMatches;
              bestMatch.validationResult.propertiesValueMatches += subValidationResult2.propertiesValueMatches;
            } else {
              var compareResult = subValidationResult2.compare(bestMatch.validationResult);
              if (compareResult > 0) {
                bestMatch = { schema: subSchema, validationResult: subValidationResult2, matchingSchemas: subMatchingSchemas2 };
              } else if (compareResult === 0) {
                bestMatch.matchingSchemas.merge(subMatchingSchemas2);
                bestMatch.validationResult.mergeEnumValues(subValidationResult2);
              }
            }
          }
        }
        if (matches.length > 1 && maxOneMatch) {
          validationResult.problems.push({
            location: { offset: node.offset, length: 1 },
            message: localize2("oneOfWarning", "Matches multiple schemas when only one must validate.")
          });
        }
        if (bestMatch) {
          validationResult.merge(bestMatch.validationResult);
          validationResult.propertiesMatches += bestMatch.validationResult.propertiesMatches;
          validationResult.propertiesValueMatches += bestMatch.validationResult.propertiesValueMatches;
          matchingSchemas.merge(bestMatch.matchingSchemas);
        }
        return matches.length;
      };
      if (Array.isArray(schema2.anyOf)) {
        testAlternatives(schema2.anyOf, false);
      }
      if (Array.isArray(schema2.oneOf)) {
        testAlternatives(schema2.oneOf, true);
      }
      var testBranch = function(schema22) {
        var subValidationResult2 = new ValidationResult();
        var subMatchingSchemas2 = matchingSchemas.newSub();
        validate(node, asSchema(schema22), subValidationResult2, subMatchingSchemas2);
        validationResult.merge(subValidationResult2);
        validationResult.propertiesMatches += subValidationResult2.propertiesMatches;
        validationResult.propertiesValueMatches += subValidationResult2.propertiesValueMatches;
        matchingSchemas.merge(subMatchingSchemas2);
      };
      var testCondition = function(ifSchema2, thenSchema, elseSchema) {
        var subSchema = asSchema(ifSchema2);
        var subValidationResult2 = new ValidationResult();
        var subMatchingSchemas2 = matchingSchemas.newSub();
        validate(node, subSchema, subValidationResult2, subMatchingSchemas2);
        matchingSchemas.merge(subMatchingSchemas2);
        if (!subValidationResult2.hasProblems()) {
          if (thenSchema) {
            testBranch(thenSchema);
          }
        } else if (elseSchema) {
          testBranch(elseSchema);
        }
      };
      var ifSchema = asSchema(schema2.if);
      if (ifSchema) {
        testCondition(ifSchema, asSchema(schema2.then), asSchema(schema2.else));
      }
      if (Array.isArray(schema2.enum)) {
        var val = getNodeValue3(node);
        var enumValueMatch = false;
        for (var _d = 0, _e = schema2.enum; _d < _e.length; _d++) {
          var e = _e[_d];
          if (equals(val, e)) {
            enumValueMatch = true;
            break;
          }
        }
        validationResult.enumValues = schema2.enum;
        validationResult.enumValueMatch = enumValueMatch;
        if (!enumValueMatch) {
          validationResult.problems.push({
            location: { offset: node.offset, length: node.length },
            code: ErrorCode.EnumValueMismatch,
            message: schema2.errorMessage || localize2("enumWarning", "Value is not accepted. Valid values: {0}.", schema2.enum.map(function(v) {
              return JSON.stringify(v);
            }).join(", "))
          });
        }
      }
      if (isDefined(schema2.const)) {
        var val = getNodeValue3(node);
        if (!equals(val, schema2.const)) {
          validationResult.problems.push({
            location: { offset: node.offset, length: node.length },
            code: ErrorCode.EnumValueMismatch,
            message: schema2.errorMessage || localize2("constWarning", "Value must be {0}.", JSON.stringify(schema2.const))
          });
          validationResult.enumValueMatch = false;
        } else {
          validationResult.enumValueMatch = true;
        }
        validationResult.enumValues = [schema2.const];
      }
      if (schema2.deprecationMessage && node.parent) {
        validationResult.problems.push({
          location: { offset: node.parent.offset, length: node.parent.length },
          severity: DiagnosticSeverity.Warning,
          message: schema2.deprecationMessage,
          code: ErrorCode.Deprecated
        });
      }
    }
    function _validateNumberNode(node2, schema22, validationResult2, matchingSchemas2) {
      var val = node2.value;
      function normalizeFloats(float) {
        var _a2;
        var parts = /^(-?\d+)(?:\.(\d+))?(?:e([-+]\d+))?$/.exec(float.toString());
        return parts && {
          value: Number(parts[1] + (parts[2] || "")),
          multiplier: (((_a2 = parts[2]) === null || _a2 === void 0 ? void 0 : _a2.length) || 0) - (parseInt(parts[3]) || 0)
        };
      }
      if (isNumber(schema22.multipleOf)) {
        var remainder = -1;
        if (Number.isInteger(schema22.multipleOf)) {
          remainder = val % schema22.multipleOf;
        } else {
          var normMultipleOf = normalizeFloats(schema22.multipleOf);
          var normValue = normalizeFloats(val);
          if (normMultipleOf && normValue) {
            var multiplier = Math.pow(10, Math.abs(normValue.multiplier - normMultipleOf.multiplier));
            if (normValue.multiplier < normMultipleOf.multiplier) {
              normValue.value *= multiplier;
            } else {
              normMultipleOf.value *= multiplier;
            }
            remainder = normValue.value % normMultipleOf.value;
          }
        }
        if (remainder !== 0) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: localize2("multipleOfWarning", "Value is not divisible by {0}.", schema22.multipleOf)
          });
        }
      }
      function getExclusiveLimit(limit, exclusive) {
        if (isNumber(exclusive)) {
          return exclusive;
        }
        if (isBoolean(exclusive) && exclusive) {
          return limit;
        }
        return void 0;
      }
      function getLimit(limit, exclusive) {
        if (!isBoolean(exclusive) || !exclusive) {
          return limit;
        }
        return void 0;
      }
      var exclusiveMinimum = getExclusiveLimit(schema22.minimum, schema22.exclusiveMinimum);
      if (isNumber(exclusiveMinimum) && val <= exclusiveMinimum) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("exclusiveMinimumWarning", "Value is below the exclusive minimum of {0}.", exclusiveMinimum)
        });
      }
      var exclusiveMaximum = getExclusiveLimit(schema22.maximum, schema22.exclusiveMaximum);
      if (isNumber(exclusiveMaximum) && val >= exclusiveMaximum) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("exclusiveMaximumWarning", "Value is above the exclusive maximum of {0}.", exclusiveMaximum)
        });
      }
      var minimum = getLimit(schema22.minimum, schema22.exclusiveMinimum);
      if (isNumber(minimum) && val < minimum) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("minimumWarning", "Value is below the minimum of {0}.", minimum)
        });
      }
      var maximum = getLimit(schema22.maximum, schema22.exclusiveMaximum);
      if (isNumber(maximum) && val > maximum) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("maximumWarning", "Value is above the maximum of {0}.", maximum)
        });
      }
    }
    function _validateStringNode(node2, schema22, validationResult2, matchingSchemas2) {
      if (isNumber(schema22.minLength) && node2.value.length < schema22.minLength) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("minLengthWarning", "String is shorter than the minimum length of {0}.", schema22.minLength)
        });
      }
      if (isNumber(schema22.maxLength) && node2.value.length > schema22.maxLength) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("maxLengthWarning", "String is longer than the maximum length of {0}.", schema22.maxLength)
        });
      }
      if (isString(schema22.pattern)) {
        var regex = extendedRegExp(schema22.pattern);
        if (!(regex === null || regex === void 0 ? void 0 : regex.test(node2.value))) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: schema22.patternErrorMessage || schema22.errorMessage || localize2("patternWarning", 'String does not match the pattern of "{0}".', schema22.pattern)
          });
        }
      }
      if (schema22.format) {
        switch (schema22.format) {
          case "uri":
          case "uri-reference":
            {
              var errorMessage = void 0;
              if (!node2.value) {
                errorMessage = localize2("uriEmpty", "URI expected.");
              } else {
                var match = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/.exec(node2.value);
                if (!match) {
                  errorMessage = localize2("uriMissing", "URI is expected.");
                } else if (!match[2] && schema22.format === "uri") {
                  errorMessage = localize2("uriSchemeMissing", "URI with a scheme is expected.");
                }
              }
              if (errorMessage) {
                validationResult2.problems.push({
                  location: { offset: node2.offset, length: node2.length },
                  message: schema22.patternErrorMessage || schema22.errorMessage || localize2("uriFormatWarning", "String is not a URI: {0}", errorMessage)
                });
              }
            }
            break;
          case "color-hex":
          case "date-time":
          case "date":
          case "time":
          case "email":
          case "hostname":
          case "ipv4":
          case "ipv6":
            var format4 = formats[schema22.format];
            if (!node2.value || !format4.pattern.exec(node2.value)) {
              validationResult2.problems.push({
                location: { offset: node2.offset, length: node2.length },
                message: schema22.patternErrorMessage || schema22.errorMessage || format4.errorMessage
              });
            }
        }
      }
    }
    function _validateArrayNode(node2, schema22, validationResult2, matchingSchemas2) {
      if (Array.isArray(schema22.items)) {
        var subSchemas = schema22.items;
        for (var index = 0; index < subSchemas.length; index++) {
          var subSchemaRef = subSchemas[index];
          var subSchema = asSchema(subSchemaRef);
          var itemValidationResult = new ValidationResult();
          var item = node2.items[index];
          if (item) {
            validate(item, subSchema, itemValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(itemValidationResult);
          } else if (node2.items.length >= subSchemas.length) {
            validationResult2.propertiesValueMatches++;
          }
        }
        if (node2.items.length > subSchemas.length) {
          if (typeof schema22.additionalItems === "object") {
            for (var i = subSchemas.length; i < node2.items.length; i++) {
              var itemValidationResult = new ValidationResult();
              validate(node2.items[i], schema22.additionalItems, itemValidationResult, matchingSchemas2);
              validationResult2.mergePropertyMatch(itemValidationResult);
            }
          } else if (schema22.additionalItems === false) {
            validationResult2.problems.push({
              location: { offset: node2.offset, length: node2.length },
              message: localize2("additionalItemsWarning", "Array has too many items according to schema. Expected {0} or fewer.", subSchemas.length)
            });
          }
        }
      } else {
        var itemSchema = asSchema(schema22.items);
        if (itemSchema) {
          for (var _i = 0, _a2 = node2.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            var itemValidationResult = new ValidationResult();
            validate(item, itemSchema, itemValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(itemValidationResult);
          }
        }
      }
      var containsSchema = asSchema(schema22.contains);
      if (containsSchema) {
        var doesContain = node2.items.some(function(item2) {
          var itemValidationResult2 = new ValidationResult();
          validate(item2, containsSchema, itemValidationResult2, NoOpSchemaCollector.instance);
          return !itemValidationResult2.hasProblems();
        });
        if (!doesContain) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: schema22.errorMessage || localize2("requiredItemMissingWarning", "Array does not contain required item.")
          });
        }
      }
      if (isNumber(schema22.minItems) && node2.items.length < schema22.minItems) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("minItemsWarning", "Array has too few items. Expected {0} or more.", schema22.minItems)
        });
      }
      if (isNumber(schema22.maxItems) && node2.items.length > schema22.maxItems) {
        validationResult2.problems.push({
          location: { offset: node2.offset, length: node2.length },
          message: localize2("maxItemsWarning", "Array has too many items. Expected {0} or fewer.", schema22.maxItems)
        });
      }
      if (schema22.uniqueItems === true) {
        var values_1 = getNodeValue3(node2);
        var duplicates = values_1.some(function(value, index2) {
          return index2 !== values_1.lastIndexOf(value);
        });
        if (duplicates) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: localize2("uniqueItemsWarning", "Array has duplicate items.")
          });
        }
      }
    }
    function _validateObjectNode(node2, schema22, validationResult2, matchingSchemas2) {
      var seenKeys = /* @__PURE__ */ Object.create(null);
      var unprocessedProperties = [];
      for (var _i = 0, _a2 = node2.properties; _i < _a2.length; _i++) {
        var propertyNode = _a2[_i];
        var key = propertyNode.keyNode.value;
        seenKeys[key] = propertyNode.valueNode;
        unprocessedProperties.push(key);
      }
      if (Array.isArray(schema22.required)) {
        for (var _b = 0, _c = schema22.required; _b < _c.length; _b++) {
          var propertyName = _c[_b];
          if (!seenKeys[propertyName]) {
            var keyNode = node2.parent && node2.parent.type === "property" && node2.parent.keyNode;
            var location = keyNode ? { offset: keyNode.offset, length: keyNode.length } : { offset: node2.offset, length: 1 };
            validationResult2.problems.push({
              location,
              message: localize2("MissingRequiredPropWarning", 'Missing property "{0}".', propertyName)
            });
          }
        }
      }
      var propertyProcessed = function(prop2) {
        var index = unprocessedProperties.indexOf(prop2);
        while (index >= 0) {
          unprocessedProperties.splice(index, 1);
          index = unprocessedProperties.indexOf(prop2);
        }
      };
      if (schema22.properties) {
        for (var _d = 0, _e = Object.keys(schema22.properties); _d < _e.length; _d++) {
          var propertyName = _e[_d];
          propertyProcessed(propertyName);
          var propertySchema = schema22.properties[propertyName];
          var child = seenKeys[propertyName];
          if (child) {
            if (isBoolean(propertySchema)) {
              if (!propertySchema) {
                var propertyNode = child.parent;
                validationResult2.problems.push({
                  location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },
                  message: schema22.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
                });
              } else {
                validationResult2.propertiesMatches++;
                validationResult2.propertiesValueMatches++;
              }
            } else {
              var propertyValidationResult = new ValidationResult();
              validate(child, propertySchema, propertyValidationResult, matchingSchemas2);
              validationResult2.mergePropertyMatch(propertyValidationResult);
            }
          }
        }
      }
      if (schema22.patternProperties) {
        for (var _f = 0, _g = Object.keys(schema22.patternProperties); _f < _g.length; _f++) {
          var propertyPattern = _g[_f];
          var regex = extendedRegExp(propertyPattern);
          for (var _h = 0, _j = unprocessedProperties.slice(0); _h < _j.length; _h++) {
            var propertyName = _j[_h];
            if (regex === null || regex === void 0 ? void 0 : regex.test(propertyName)) {
              propertyProcessed(propertyName);
              var child = seenKeys[propertyName];
              if (child) {
                var propertySchema = schema22.patternProperties[propertyPattern];
                if (isBoolean(propertySchema)) {
                  if (!propertySchema) {
                    var propertyNode = child.parent;
                    validationResult2.problems.push({
                      location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },
                      message: schema22.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
                    });
                  } else {
                    validationResult2.propertiesMatches++;
                    validationResult2.propertiesValueMatches++;
                  }
                } else {
                  var propertyValidationResult = new ValidationResult();
                  validate(child, propertySchema, propertyValidationResult, matchingSchemas2);
                  validationResult2.mergePropertyMatch(propertyValidationResult);
                }
              }
            }
          }
        }
      }
      if (typeof schema22.additionalProperties === "object") {
        for (var _k = 0, unprocessedProperties_1 = unprocessedProperties; _k < unprocessedProperties_1.length; _k++) {
          var propertyName = unprocessedProperties_1[_k];
          var child = seenKeys[propertyName];
          if (child) {
            var propertyValidationResult = new ValidationResult();
            validate(child, schema22.additionalProperties, propertyValidationResult, matchingSchemas2);
            validationResult2.mergePropertyMatch(propertyValidationResult);
          }
        }
      } else if (schema22.additionalProperties === false) {
        if (unprocessedProperties.length > 0) {
          for (var _l = 0, unprocessedProperties_2 = unprocessedProperties; _l < unprocessedProperties_2.length; _l++) {
            var propertyName = unprocessedProperties_2[_l];
            var child = seenKeys[propertyName];
            if (child) {
              var propertyNode = child.parent;
              validationResult2.problems.push({
                location: { offset: propertyNode.keyNode.offset, length: propertyNode.keyNode.length },
                message: schema22.errorMessage || localize2("DisallowedExtraPropWarning", "Property {0} is not allowed.", propertyName)
              });
            }
          }
        }
      }
      if (isNumber(schema22.maxProperties)) {
        if (node2.properties.length > schema22.maxProperties) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: localize2("MaxPropWarning", "Object has more properties than limit of {0}.", schema22.maxProperties)
          });
        }
      }
      if (isNumber(schema22.minProperties)) {
        if (node2.properties.length < schema22.minProperties) {
          validationResult2.problems.push({
            location: { offset: node2.offset, length: node2.length },
            message: localize2("MinPropWarning", "Object has fewer properties than the required number of {0}", schema22.minProperties)
          });
        }
      }
      if (schema22.dependencies) {
        for (var _m = 0, _o = Object.keys(schema22.dependencies); _m < _o.length; _m++) {
          var key = _o[_m];
          var prop = seenKeys[key];
          if (prop) {
            var propertyDep = schema22.dependencies[key];
            if (Array.isArray(propertyDep)) {
              for (var _p = 0, propertyDep_1 = propertyDep; _p < propertyDep_1.length; _p++) {
                var requiredProp = propertyDep_1[_p];
                if (!seenKeys[requiredProp]) {
                  validationResult2.problems.push({
                    location: { offset: node2.offset, length: node2.length },
                    message: localize2("RequiredDependentPropWarning", "Object is missing property {0} required by property {1}.", requiredProp, key)
                  });
                } else {
                  validationResult2.propertiesValueMatches++;
                }
              }
            } else {
              var propertySchema = asSchema(propertyDep);
              if (propertySchema) {
                var propertyValidationResult = new ValidationResult();
                validate(node2, propertySchema, propertyValidationResult, matchingSchemas2);
                validationResult2.mergePropertyMatch(propertyValidationResult);
              }
            }
          }
        }
      }
      var propertyNames = asSchema(schema22.propertyNames);
      if (propertyNames) {
        for (var _q = 0, _r = node2.properties; _q < _r.length; _q++) {
          var f2 = _r[_q];
          var key = f2.keyNode;
          if (key) {
            validate(key, propertyNames, validationResult2, NoOpSchemaCollector.instance);
          }
        }
      }
    }
  }
  function parse3(textDocument, config) {
    var problems = [];
    var lastProblemOffset = -1;
    var text = textDocument.getText();
    var scanner = createScanner2(text, false);
    var commentRanges = config && config.collectComments ? [] : void 0;
    function _scanNext() {
      while (true) {
        var token_1 = scanner.scan();
        _checkScanError();
        switch (token_1) {
          case 12:
          case 13:
            if (Array.isArray(commentRanges)) {
              commentRanges.push(Range.create(textDocument.positionAt(scanner.getTokenOffset()), textDocument.positionAt(scanner.getTokenOffset() + scanner.getTokenLength())));
            }
            break;
          case 15:
          case 14:
            break;
          default:
            return token_1;
        }
      }
    }
    function _errorAtRange(message, code, startOffset, endOffset, severity) {
      if (severity === void 0) {
        severity = DiagnosticSeverity.Error;
      }
      if (problems.length === 0 || startOffset !== lastProblemOffset) {
        var range = Range.create(textDocument.positionAt(startOffset), textDocument.positionAt(endOffset));
        problems.push(Diagnostic.create(range, message, severity, code, textDocument.languageId));
        lastProblemOffset = startOffset;
      }
    }
    function _error(message, code, node, skipUntilAfter, skipUntil) {
      if (node === void 0) {
        node = void 0;
      }
      if (skipUntilAfter === void 0) {
        skipUntilAfter = [];
      }
      if (skipUntil === void 0) {
        skipUntil = [];
      }
      var start = scanner.getTokenOffset();
      var end = scanner.getTokenOffset() + scanner.getTokenLength();
      if (start === end && start > 0) {
        start--;
        while (start > 0 && /\s/.test(text.charAt(start))) {
          start--;
        }
        end = start + 1;
      }
      _errorAtRange(message, code, start, end);
      if (node) {
        _finalize(node, false);
      }
      if (skipUntilAfter.length + skipUntil.length > 0) {
        var token_2 = scanner.getToken();
        while (token_2 !== 17) {
          if (skipUntilAfter.indexOf(token_2) !== -1) {
            _scanNext();
            break;
          } else if (skipUntil.indexOf(token_2) !== -1) {
            break;
          }
          token_2 = _scanNext();
        }
      }
      return node;
    }
    function _checkScanError() {
      switch (scanner.getTokenError()) {
        case 4:
          _error(localize2("InvalidUnicode", "Invalid unicode sequence in string."), ErrorCode.InvalidUnicode);
          return true;
        case 5:
          _error(localize2("InvalidEscapeCharacter", "Invalid escape character in string."), ErrorCode.InvalidEscapeCharacter);
          return true;
        case 3:
          _error(localize2("UnexpectedEndOfNumber", "Unexpected end of number."), ErrorCode.UnexpectedEndOfNumber);
          return true;
        case 1:
          _error(localize2("UnexpectedEndOfComment", "Unexpected end of comment."), ErrorCode.UnexpectedEndOfComment);
          return true;
        case 2:
          _error(localize2("UnexpectedEndOfString", "Unexpected end of string."), ErrorCode.UnexpectedEndOfString);
          return true;
        case 6:
          _error(localize2("InvalidCharacter", "Invalid characters in string. Control characters must be escaped."), ErrorCode.InvalidCharacter);
          return true;
      }
      return false;
    }
    function _finalize(node, scanNext) {
      node.length = scanner.getTokenOffset() + scanner.getTokenLength() - node.offset;
      if (scanNext) {
        _scanNext();
      }
      return node;
    }
    function _parseArray(parent) {
      if (scanner.getToken() !== 3) {
        return void 0;
      }
      var node = new ArrayASTNodeImpl(parent, scanner.getTokenOffset());
      _scanNext();
      var needsComma = false;
      while (scanner.getToken() !== 4 && scanner.getToken() !== 17) {
        if (scanner.getToken() === 5) {
          if (!needsComma) {
            _error(localize2("ValueExpected", "Value expected"), ErrorCode.ValueExpected);
          }
          var commaOffset = scanner.getTokenOffset();
          _scanNext();
          if (scanner.getToken() === 4) {
            if (needsComma) {
              _errorAtRange(localize2("TrailingComma", "Trailing comma"), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);
            }
            continue;
          }
        } else if (needsComma) {
          _error(localize2("ExpectedComma", "Expected comma"), ErrorCode.CommaExpected);
        }
        var item = _parseValue(node);
        if (!item) {
          _error(localize2("PropertyExpected", "Value expected"), ErrorCode.ValueExpected, void 0, [], [4, 5]);
        } else {
          node.items.push(item);
        }
        needsComma = true;
      }
      if (scanner.getToken() !== 4) {
        return _error(localize2("ExpectedCloseBracket", "Expected comma or closing bracket"), ErrorCode.CommaOrCloseBacketExpected, node);
      }
      return _finalize(node, true);
    }
    var keyPlaceholder = new StringASTNodeImpl(void 0, 0, 0);
    function _parseProperty(parent, keysSeen) {
      var node = new PropertyASTNodeImpl(parent, scanner.getTokenOffset(), keyPlaceholder);
      var key = _parseString(node);
      if (!key) {
        if (scanner.getToken() === 16) {
          _error(localize2("DoubleQuotesExpected", "Property keys must be doublequoted"), ErrorCode.Undefined);
          var keyNode = new StringASTNodeImpl(node, scanner.getTokenOffset(), scanner.getTokenLength());
          keyNode.value = scanner.getTokenValue();
          key = keyNode;
          _scanNext();
        } else {
          return void 0;
        }
      }
      node.keyNode = key;
      var seen = keysSeen[key.value];
      if (seen) {
        _errorAtRange(localize2("DuplicateKeyWarning", "Duplicate object key"), ErrorCode.DuplicateKey, node.keyNode.offset, node.keyNode.offset + node.keyNode.length, DiagnosticSeverity.Warning);
        if (typeof seen === "object") {
          _errorAtRange(localize2("DuplicateKeyWarning", "Duplicate object key"), ErrorCode.DuplicateKey, seen.keyNode.offset, seen.keyNode.offset + seen.keyNode.length, DiagnosticSeverity.Warning);
        }
        keysSeen[key.value] = true;
      } else {
        keysSeen[key.value] = node;
      }
      if (scanner.getToken() === 6) {
        node.colonOffset = scanner.getTokenOffset();
        _scanNext();
      } else {
        _error(localize2("ColonExpected", "Colon expected"), ErrorCode.ColonExpected);
        if (scanner.getToken() === 10 && textDocument.positionAt(key.offset + key.length).line < textDocument.positionAt(scanner.getTokenOffset()).line) {
          node.length = key.length;
          return node;
        }
      }
      var value = _parseValue(node);
      if (!value) {
        return _error(localize2("ValueExpected", "Value expected"), ErrorCode.ValueExpected, node, [], [2, 5]);
      }
      node.valueNode = value;
      node.length = value.offset + value.length - node.offset;
      return node;
    }
    function _parseObject(parent) {
      if (scanner.getToken() !== 1) {
        return void 0;
      }
      var node = new ObjectASTNodeImpl(parent, scanner.getTokenOffset());
      var keysSeen = /* @__PURE__ */ Object.create(null);
      _scanNext();
      var needsComma = false;
      while (scanner.getToken() !== 2 && scanner.getToken() !== 17) {
        if (scanner.getToken() === 5) {
          if (!needsComma) {
            _error(localize2("PropertyExpected", "Property expected"), ErrorCode.PropertyExpected);
          }
          var commaOffset = scanner.getTokenOffset();
          _scanNext();
          if (scanner.getToken() === 2) {
            if (needsComma) {
              _errorAtRange(localize2("TrailingComma", "Trailing comma"), ErrorCode.TrailingComma, commaOffset, commaOffset + 1);
            }
            continue;
          }
        } else if (needsComma) {
          _error(localize2("ExpectedComma", "Expected comma"), ErrorCode.CommaExpected);
        }
        var property2 = _parseProperty(node, keysSeen);
        if (!property2) {
          _error(localize2("PropertyExpected", "Property expected"), ErrorCode.PropertyExpected, void 0, [], [2, 5]);
        } else {
          node.properties.push(property2);
        }
        needsComma = true;
      }
      if (scanner.getToken() !== 2) {
        return _error(localize2("ExpectedCloseBrace", "Expected comma or closing brace"), ErrorCode.CommaOrCloseBraceExpected, node);
      }
      return _finalize(node, true);
    }
    function _parseString(parent) {
      if (scanner.getToken() !== 10) {
        return void 0;
      }
      var node = new StringASTNodeImpl(parent, scanner.getTokenOffset());
      node.value = scanner.getTokenValue();
      return _finalize(node, true);
    }
    function _parseNumber(parent) {
      if (scanner.getToken() !== 11) {
        return void 0;
      }
      var node = new NumberASTNodeImpl(parent, scanner.getTokenOffset());
      if (scanner.getTokenError() === 0) {
        var tokenValue = scanner.getTokenValue();
        try {
          var numberValue = JSON.parse(tokenValue);
          if (!isNumber(numberValue)) {
            return _error(localize2("InvalidNumberFormat", "Invalid number format."), ErrorCode.Undefined, node);
          }
          node.value = numberValue;
        } catch (e) {
          return _error(localize2("InvalidNumberFormat", "Invalid number format."), ErrorCode.Undefined, node);
        }
        node.isInteger = tokenValue.indexOf(".") === -1;
      }
      return _finalize(node, true);
    }
    function _parseLiteral(parent) {
      switch (scanner.getToken()) {
        case 7:
          return _finalize(new NullASTNodeImpl(parent, scanner.getTokenOffset()), true);
        case 8:
          return _finalize(new BooleanASTNodeImpl(parent, true, scanner.getTokenOffset()), true);
        case 9:
          return _finalize(new BooleanASTNodeImpl(parent, false, scanner.getTokenOffset()), true);
        default:
          return void 0;
      }
    }
    function _parseValue(parent) {
      return _parseArray(parent) || _parseObject(parent) || _parseString(parent) || _parseNumber(parent) || _parseLiteral(parent);
    }
    var _root = void 0;
    var token = _scanNext();
    if (token !== 17) {
      _root = _parseValue(_root);
      if (!_root) {
        _error(localize2("Invalid symbol", "Expected a JSON object, array or literal."), ErrorCode.Undefined);
      } else if (scanner.getToken() !== 17) {
        _error(localize2("End of file expected", "End of file expected."), ErrorCode.Undefined);
      }
    }
    return new JSONDocument(_root, problems, commentRanges);
  }
  function stringifyObject(obj, indent, stringifyLiteral) {
    if (obj !== null && typeof obj === "object") {
      var newIndent = indent + "	";
      if (Array.isArray(obj)) {
        if (obj.length === 0) {
          return "[]";
        }
        var result = "[\n";
        for (var i = 0; i < obj.length; i++) {
          result += newIndent + stringifyObject(obj[i], newIndent, stringifyLiteral);
          if (i < obj.length - 1) {
            result += ",";
          }
          result += "\n";
        }
        result += indent + "]";
        return result;
      } else {
        var keys = Object.keys(obj);
        if (keys.length === 0) {
          return "{}";
        }
        var result = "{\n";
        for (var i = 0; i < keys.length; i++) {
          var key = keys[i];
          result += newIndent + JSON.stringify(key) + ": " + stringifyObject(obj[key], newIndent, stringifyLiteral);
          if (i < keys.length - 1) {
            result += ",";
          }
          result += "\n";
        }
        result += indent + "}";
        return result;
      }
    }
    return stringifyLiteral(obj);
  }
  var localize3 = loadMessageBundle();
  var JSONCompletion = function() {
    function JSONCompletion2(schemaService, contributions, promiseConstructor, clientCapabilities) {
      if (contributions === void 0) {
        contributions = [];
      }
      if (promiseConstructor === void 0) {
        promiseConstructor = Promise;
      }
      if (clientCapabilities === void 0) {
        clientCapabilities = {};
      }
      this.schemaService = schemaService;
      this.contributions = contributions;
      this.promiseConstructor = promiseConstructor;
      this.clientCapabilities = clientCapabilities;
    }
    JSONCompletion2.prototype.doResolve = function(item) {
      for (var i = this.contributions.length - 1; i >= 0; i--) {
        var resolveCompletion = this.contributions[i].resolveCompletion;
        if (resolveCompletion) {
          var resolver = resolveCompletion(item);
          if (resolver) {
            return resolver;
          }
        }
      }
      return this.promiseConstructor.resolve(item);
    };
    JSONCompletion2.prototype.doComplete = function(document2, position, doc) {
      var _this = this;
      var result = {
        items: [],
        isIncomplete: false
      };
      var text = document2.getText();
      var offset = document2.offsetAt(position);
      var node = doc.getNodeFromOffset(offset, true);
      if (this.isInComment(document2, node ? node.offset : 0, offset)) {
        return Promise.resolve(result);
      }
      if (node && offset === node.offset + node.length && offset > 0) {
        var ch = text[offset - 1];
        if (node.type === "object" && ch === "}" || node.type === "array" && ch === "]") {
          node = node.parent;
        }
      }
      var currentWord = this.getCurrentWord(document2, offset);
      var overwriteRange;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        overwriteRange = Range.create(document2.positionAt(node.offset), document2.positionAt(node.offset + node.length));
      } else {
        var overwriteStart = offset - currentWord.length;
        if (overwriteStart > 0 && text[overwriteStart - 1] === '"') {
          overwriteStart--;
        }
        overwriteRange = Range.create(document2.positionAt(overwriteStart), position);
      }
      var proposed = {};
      var collector = {
        add: function(suggestion) {
          var label = suggestion.label;
          var existing = proposed[label];
          if (!existing) {
            label = label.replace(/[\n]/g, "↵");
            if (label.length > 60) {
              var shortendedLabel = label.substr(0, 57).trim() + "...";
              if (!proposed[shortendedLabel]) {
                label = shortendedLabel;
              }
            }
            if (overwriteRange && suggestion.insertText !== void 0) {
              suggestion.textEdit = TextEdit.replace(overwriteRange, suggestion.insertText);
            }
            suggestion.label = label;
            proposed[label] = suggestion;
            result.items.push(suggestion);
          } else {
            if (!existing.documentation) {
              existing.documentation = suggestion.documentation;
            }
            if (!existing.detail) {
              existing.detail = suggestion.detail;
            }
          }
        },
        setAsIncomplete: function() {
          result.isIncomplete = true;
        },
        error: function(message) {
          console.error(message);
        },
        log: function(message) {
          console.log(message);
        },
        getNumberOfProposals: function() {
          return result.items.length;
        }
      };
      return this.schemaService.getSchemaForResource(document2.uri, doc).then(function(schema2) {
        var collectionPromises = [];
        var addValue = true;
        var currentKey = "";
        var currentProperty = void 0;
        if (node) {
          if (node.type === "string") {
            var parent = node.parent;
            if (parent && parent.type === "property" && parent.keyNode === node) {
              addValue = !parent.valueNode;
              currentProperty = parent;
              currentKey = text.substr(node.offset + 1, node.length - 2);
              if (parent) {
                node = parent.parent;
              }
            }
          }
        }
        if (node && node.type === "object") {
          if (node.offset === offset) {
            return result;
          }
          var properties = node.properties;
          properties.forEach(function(p) {
            if (!currentProperty || currentProperty !== p) {
              proposed[p.keyNode.value] = CompletionItem.create("__");
            }
          });
          var separatorAfter_1 = "";
          if (addValue) {
            separatorAfter_1 = _this.evaluateSeparatorAfter(document2, document2.offsetAt(overwriteRange.end));
          }
          if (schema2) {
            _this.getPropertyCompletions(schema2, doc, node, addValue, separatorAfter_1, collector);
          } else {
            _this.getSchemaLessPropertyCompletions(doc, node, currentKey, collector);
          }
          var location_1 = getNodePath3(node);
          _this.contributions.forEach(function(contribution) {
            var collectPromise = contribution.collectPropertyCompletions(document2.uri, location_1, currentWord, addValue, separatorAfter_1 === "", collector);
            if (collectPromise) {
              collectionPromises.push(collectPromise);
            }
          });
          if (!schema2 && currentWord.length > 0 && text.charAt(offset - currentWord.length - 1) !== '"') {
            collector.add({
              kind: CompletionItemKind.Property,
              label: _this.getLabelForValue(currentWord),
              insertText: _this.getInsertTextForProperty(currentWord, void 0, false, separatorAfter_1),
              insertTextFormat: InsertTextFormat.Snippet,
              documentation: ""
            });
            collector.setAsIncomplete();
          }
        }
        var types = {};
        if (schema2) {
          _this.getValueCompletions(schema2, doc, node, offset, document2, collector, types);
        } else {
          _this.getSchemaLessValueCompletions(doc, node, offset, document2, collector);
        }
        if (_this.contributions.length > 0) {
          _this.getContributedValueCompletions(doc, node, offset, document2, collector, collectionPromises);
        }
        return _this.promiseConstructor.all(collectionPromises).then(function() {
          if (collector.getNumberOfProposals() === 0) {
            var offsetForSeparator = offset;
            if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
              offsetForSeparator = node.offset + node.length;
            }
            var separatorAfter = _this.evaluateSeparatorAfter(document2, offsetForSeparator);
            _this.addFillerValueCompletions(types, separatorAfter, collector);
          }
          return result;
        });
      });
    };
    JSONCompletion2.prototype.getPropertyCompletions = function(schema2, doc, node, addValue, separatorAfter, collector) {
      var _this = this;
      var matchingSchemas = doc.getMatchingSchemas(schema2.schema, node.offset);
      matchingSchemas.forEach(function(s) {
        if (s.node === node && !s.inverted) {
          var schemaProperties_1 = s.schema.properties;
          if (schemaProperties_1) {
            Object.keys(schemaProperties_1).forEach(function(key) {
              var propertySchema = schemaProperties_1[key];
              if (typeof propertySchema === "object" && !propertySchema.deprecationMessage && !propertySchema.doNotSuggest) {
                var proposal = {
                  kind: CompletionItemKind.Property,
                  label: key,
                  insertText: _this.getInsertTextForProperty(key, propertySchema, addValue, separatorAfter),
                  insertTextFormat: InsertTextFormat.Snippet,
                  filterText: _this.getFilterTextForValue(key),
                  documentation: _this.fromMarkup(propertySchema.markdownDescription) || propertySchema.description || ""
                };
                if (propertySchema.suggestSortText !== void 0) {
                  proposal.sortText = propertySchema.suggestSortText;
                }
                if (proposal.insertText && endsWith(proposal.insertText, "$1".concat(separatorAfter))) {
                  proposal.command = {
                    title: "Suggest",
                    command: "editor.action.triggerSuggest"
                  };
                }
                collector.add(proposal);
              }
            });
          }
          var schemaPropertyNames_1 = s.schema.propertyNames;
          if (typeof schemaPropertyNames_1 === "object" && !schemaPropertyNames_1.deprecationMessage && !schemaPropertyNames_1.doNotSuggest) {
            var propertyNameCompletionItem = function(name, enumDescription2) {
              if (enumDescription2 === void 0) {
                enumDescription2 = void 0;
              }
              var proposal = {
                kind: CompletionItemKind.Property,
                label: name,
                insertText: _this.getInsertTextForProperty(name, void 0, addValue, separatorAfter),
                insertTextFormat: InsertTextFormat.Snippet,
                filterText: _this.getFilterTextForValue(name),
                documentation: enumDescription2 || _this.fromMarkup(schemaPropertyNames_1.markdownDescription) || schemaPropertyNames_1.description || ""
              };
              if (schemaPropertyNames_1.suggestSortText !== void 0) {
                proposal.sortText = schemaPropertyNames_1.suggestSortText;
              }
              if (proposal.insertText && endsWith(proposal.insertText, "$1".concat(separatorAfter))) {
                proposal.command = {
                  title: "Suggest",
                  command: "editor.action.triggerSuggest"
                };
              }
              collector.add(proposal);
            };
            if (schemaPropertyNames_1.enum) {
              for (var i = 0; i < schemaPropertyNames_1.enum.length; i++) {
                var enumDescription = void 0;
                if (schemaPropertyNames_1.markdownEnumDescriptions && i < schemaPropertyNames_1.markdownEnumDescriptions.length) {
                  enumDescription = _this.fromMarkup(schemaPropertyNames_1.markdownEnumDescriptions[i]);
                } else if (schemaPropertyNames_1.enumDescriptions && i < schemaPropertyNames_1.enumDescriptions.length) {
                  enumDescription = schemaPropertyNames_1.enumDescriptions[i];
                }
                propertyNameCompletionItem(schemaPropertyNames_1.enum[i], enumDescription);
              }
            }
            if (schemaPropertyNames_1.const) {
              propertyNameCompletionItem(schemaPropertyNames_1.const);
            }
          }
        }
      });
    };
    JSONCompletion2.prototype.getSchemaLessPropertyCompletions = function(doc, node, currentKey, collector) {
      var _this = this;
      var collectCompletionsForSimilarObject = function(obj) {
        obj.properties.forEach(function(p) {
          var key = p.keyNode.value;
          collector.add({
            kind: CompletionItemKind.Property,
            label: key,
            insertText: _this.getInsertTextForValue(key, ""),
            insertTextFormat: InsertTextFormat.Snippet,
            filterText: _this.getFilterTextForValue(key),
            documentation: ""
          });
        });
      };
      if (node.parent) {
        if (node.parent.type === "property") {
          var parentKey_1 = node.parent.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n !== node.parent && n.keyNode.value === parentKey_1 && n.valueNode && n.valueNode.type === "object") {
              collectCompletionsForSimilarObject(n.valueNode);
            }
            return true;
          });
        } else if (node.parent.type === "array") {
          node.parent.items.forEach(function(n) {
            if (n.type === "object" && n !== node) {
              collectCompletionsForSimilarObject(n);
            }
          });
        }
      } else if (node.type === "object") {
        collector.add({
          kind: CompletionItemKind.Property,
          label: "$schema",
          insertText: this.getInsertTextForProperty("$schema", void 0, true, ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: "",
          filterText: this.getFilterTextForValue("$schema")
        });
      }
    };
    JSONCompletion2.prototype.getSchemaLessValueCompletions = function(doc, node, offset, document2, collector) {
      var _this = this;
      var offsetForSeparator = offset;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        offsetForSeparator = node.offset + node.length;
        node = node.parent;
      }
      if (!node) {
        collector.add({
          kind: this.getSuggestionKind("object"),
          label: "Empty object",
          insertText: this.getInsertTextForValue({}, ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
        collector.add({
          kind: this.getSuggestionKind("array"),
          label: "Empty array",
          insertText: this.getInsertTextForValue([], ""),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
        return;
      }
      var separatorAfter = this.evaluateSeparatorAfter(document2, offsetForSeparator);
      var collectSuggestionsForValues = function(value) {
        if (value.parent && !contains2(value.parent, offset, true)) {
          collector.add({
            kind: _this.getSuggestionKind(value.type),
            label: _this.getLabelTextForMatchingNode(value, document2),
            insertText: _this.getInsertTextForMatchingNode(value, document2, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet,
            documentation: ""
          });
        }
        if (value.type === "boolean") {
          _this.addBooleanValueCompletion(!value.value, separatorAfter, collector);
        }
      };
      if (node.type === "property") {
        if (offset > (node.colonOffset || 0)) {
          var valueNode = node.valueNode;
          if (valueNode && (offset > valueNode.offset + valueNode.length || valueNode.type === "object" || valueNode.type === "array")) {
            return;
          }
          var parentKey_2 = node.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n.keyNode.value === parentKey_2 && n.valueNode) {
              collectSuggestionsForValues(n.valueNode);
            }
            return true;
          });
          if (parentKey_2 === "$schema" && node.parent && !node.parent.parent) {
            this.addDollarSchemaCompletions(separatorAfter, collector);
          }
        }
      }
      if (node.type === "array") {
        if (node.parent && node.parent.type === "property") {
          var parentKey_3 = node.parent.keyNode.value;
          doc.visit(function(n) {
            if (n.type === "property" && n.keyNode.value === parentKey_3 && n.valueNode && n.valueNode.type === "array") {
              n.valueNode.items.forEach(collectSuggestionsForValues);
            }
            return true;
          });
        } else {
          node.items.forEach(collectSuggestionsForValues);
        }
      }
    };
    JSONCompletion2.prototype.getValueCompletions = function(schema2, doc, node, offset, document2, collector, types) {
      var offsetForSeparator = offset;
      var parentKey = void 0;
      var valueNode = void 0;
      if (node && (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null")) {
        offsetForSeparator = node.offset + node.length;
        valueNode = node;
        node = node.parent;
      }
      if (!node) {
        this.addSchemaValueCompletions(schema2.schema, "", collector, types);
        return;
      }
      if (node.type === "property" && offset > (node.colonOffset || 0)) {
        var valueNode_1 = node.valueNode;
        if (valueNode_1 && offset > valueNode_1.offset + valueNode_1.length) {
          return;
        }
        parentKey = node.keyNode.value;
        node = node.parent;
      }
      if (node && (parentKey !== void 0 || node.type === "array")) {
        var separatorAfter = this.evaluateSeparatorAfter(document2, offsetForSeparator);
        var matchingSchemas = doc.getMatchingSchemas(schema2.schema, node.offset, valueNode);
        for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {
          var s = matchingSchemas_1[_i];
          if (s.node === node && !s.inverted && s.schema) {
            if (node.type === "array" && s.schema.items) {
              if (Array.isArray(s.schema.items)) {
                var index = this.findItemAtOffset(node, document2, offset);
                if (index < s.schema.items.length) {
                  this.addSchemaValueCompletions(s.schema.items[index], separatorAfter, collector, types);
                }
              } else {
                this.addSchemaValueCompletions(s.schema.items, separatorAfter, collector, types);
              }
            }
            if (parentKey !== void 0) {
              var propertyMatched = false;
              if (s.schema.properties) {
                var propertySchema = s.schema.properties[parentKey];
                if (propertySchema) {
                  propertyMatched = true;
                  this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);
                }
              }
              if (s.schema.patternProperties && !propertyMatched) {
                for (var _a2 = 0, _b = Object.keys(s.schema.patternProperties); _a2 < _b.length; _a2++) {
                  var pattern = _b[_a2];
                  var regex = extendedRegExp(pattern);
                  if (regex === null || regex === void 0 ? void 0 : regex.test(parentKey)) {
                    propertyMatched = true;
                    var propertySchema = s.schema.patternProperties[pattern];
                    this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);
                  }
                }
              }
              if (s.schema.additionalProperties && !propertyMatched) {
                var propertySchema = s.schema.additionalProperties;
                this.addSchemaValueCompletions(propertySchema, separatorAfter, collector, types);
              }
            }
          }
        }
        if (parentKey === "$schema" && !node.parent) {
          this.addDollarSchemaCompletions(separatorAfter, collector);
        }
        if (types["boolean"]) {
          this.addBooleanValueCompletion(true, separatorAfter, collector);
          this.addBooleanValueCompletion(false, separatorAfter, collector);
        }
        if (types["null"]) {
          this.addNullValueCompletion(separatorAfter, collector);
        }
      }
    };
    JSONCompletion2.prototype.getContributedValueCompletions = function(doc, node, offset, document2, collector, collectionPromises) {
      if (!node) {
        this.contributions.forEach(function(contribution) {
          var collectPromise = contribution.collectDefaultCompletions(document2.uri, collector);
          if (collectPromise) {
            collectionPromises.push(collectPromise);
          }
        });
      } else {
        if (node.type === "string" || node.type === "number" || node.type === "boolean" || node.type === "null") {
          node = node.parent;
        }
        if (node && node.type === "property" && offset > (node.colonOffset || 0)) {
          var parentKey_4 = node.keyNode.value;
          var valueNode = node.valueNode;
          if ((!valueNode || offset <= valueNode.offset + valueNode.length) && node.parent) {
            var location_2 = getNodePath3(node.parent);
            this.contributions.forEach(function(contribution) {
              var collectPromise = contribution.collectValueCompletions(document2.uri, location_2, parentKey_4, collector);
              if (collectPromise) {
                collectionPromises.push(collectPromise);
              }
            });
          }
        }
      }
    };
    JSONCompletion2.prototype.addSchemaValueCompletions = function(schema2, separatorAfter, collector, types) {
      var _this = this;
      if (typeof schema2 === "object") {
        this.addEnumValueCompletions(schema2, separatorAfter, collector);
        this.addDefaultValueCompletions(schema2, separatorAfter, collector);
        this.collectTypes(schema2, types);
        if (Array.isArray(schema2.allOf)) {
          schema2.allOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types);
          });
        }
        if (Array.isArray(schema2.anyOf)) {
          schema2.anyOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types);
          });
        }
        if (Array.isArray(schema2.oneOf)) {
          schema2.oneOf.forEach(function(s) {
            return _this.addSchemaValueCompletions(s, separatorAfter, collector, types);
          });
        }
      }
    };
    JSONCompletion2.prototype.addDefaultValueCompletions = function(schema2, separatorAfter, collector, arrayDepth) {
      var _this = this;
      if (arrayDepth === void 0) {
        arrayDepth = 0;
      }
      var hasProposals = false;
      if (isDefined(schema2.default)) {
        var type = schema2.type;
        var value = schema2.default;
        for (var i = arrayDepth; i > 0; i--) {
          value = [value];
          type = "array";
        }
        collector.add({
          kind: this.getSuggestionKind(type),
          label: this.getLabelForValue(value),
          insertText: this.getInsertTextForValue(value, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("json.suggest.default", "Default value")
        });
        hasProposals = true;
      }
      if (Array.isArray(schema2.examples)) {
        schema2.examples.forEach(function(example) {
          var type2 = schema2.type;
          var value2 = example;
          for (var i2 = arrayDepth; i2 > 0; i2--) {
            value2 = [value2];
            type2 = "array";
          }
          collector.add({
            kind: _this.getSuggestionKind(type2),
            label: _this.getLabelForValue(value2),
            insertText: _this.getInsertTextForValue(value2, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet
          });
          hasProposals = true;
        });
      }
      if (Array.isArray(schema2.defaultSnippets)) {
        schema2.defaultSnippets.forEach(function(s) {
          var type2 = schema2.type;
          var value2 = s.body;
          var label = s.label;
          var insertText;
          var filterText;
          if (isDefined(value2)) {
            schema2.type;
            for (var i2 = arrayDepth; i2 > 0; i2--) {
              value2 = [value2];
            }
            insertText = _this.getInsertTextForSnippetValue(value2, separatorAfter);
            filterText = _this.getFilterTextForSnippetValue(value2);
            label = label || _this.getLabelForSnippetValue(value2);
          } else if (typeof s.bodyText === "string") {
            var prefix = "", suffix = "", indent = "";
            for (var i2 = arrayDepth; i2 > 0; i2--) {
              prefix = prefix + indent + "[\n";
              suffix = suffix + "\n" + indent + "]";
              indent += "	";
              type2 = "array";
            }
            insertText = prefix + indent + s.bodyText.split("\n").join("\n" + indent) + suffix + separatorAfter;
            label = label || insertText, filterText = insertText.replace(/[\n]/g, "");
          } else {
            return;
          }
          collector.add({
            kind: _this.getSuggestionKind(type2),
            label,
            documentation: _this.fromMarkup(s.markdownDescription) || s.description,
            insertText,
            insertTextFormat: InsertTextFormat.Snippet,
            filterText
          });
          hasProposals = true;
        });
      }
      if (!hasProposals && typeof schema2.items === "object" && !Array.isArray(schema2.items) && arrayDepth < 5) {
        this.addDefaultValueCompletions(schema2.items, separatorAfter, collector, arrayDepth + 1);
      }
    };
    JSONCompletion2.prototype.addEnumValueCompletions = function(schema2, separatorAfter, collector) {
      if (isDefined(schema2.const)) {
        collector.add({
          kind: this.getSuggestionKind(schema2.type),
          label: this.getLabelForValue(schema2.const),
          insertText: this.getInsertTextForValue(schema2.const, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: this.fromMarkup(schema2.markdownDescription) || schema2.description
        });
      }
      if (Array.isArray(schema2.enum)) {
        for (var i = 0, length = schema2.enum.length; i < length; i++) {
          var enm = schema2.enum[i];
          var documentation = this.fromMarkup(schema2.markdownDescription) || schema2.description;
          if (schema2.markdownEnumDescriptions && i < schema2.markdownEnumDescriptions.length && this.doesSupportMarkdown()) {
            documentation = this.fromMarkup(schema2.markdownEnumDescriptions[i]);
          } else if (schema2.enumDescriptions && i < schema2.enumDescriptions.length) {
            documentation = schema2.enumDescriptions[i];
          }
          collector.add({
            kind: this.getSuggestionKind(schema2.type),
            label: this.getLabelForValue(enm),
            insertText: this.getInsertTextForValue(enm, separatorAfter),
            insertTextFormat: InsertTextFormat.Snippet,
            documentation
          });
        }
      }
    };
    JSONCompletion2.prototype.collectTypes = function(schema2, types) {
      if (Array.isArray(schema2.enum) || isDefined(schema2.const)) {
        return;
      }
      var type = schema2.type;
      if (Array.isArray(type)) {
        type.forEach(function(t) {
          return types[t] = true;
        });
      } else if (type) {
        types[type] = true;
      }
    };
    JSONCompletion2.prototype.addFillerValueCompletions = function(types, separatorAfter, collector) {
      if (types["object"]) {
        collector.add({
          kind: this.getSuggestionKind("object"),
          label: "{}",
          insertText: this.getInsertTextForGuessedValue({}, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("defaults.object", "New object"),
          documentation: ""
        });
      }
      if (types["array"]) {
        collector.add({
          kind: this.getSuggestionKind("array"),
          label: "[]",
          insertText: this.getInsertTextForGuessedValue([], separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          detail: localize3("defaults.array", "New array"),
          documentation: ""
        });
      }
    };
    JSONCompletion2.prototype.addBooleanValueCompletion = function(value, separatorAfter, collector) {
      collector.add({
        kind: this.getSuggestionKind("boolean"),
        label: value ? "true" : "false",
        insertText: this.getInsertTextForValue(value, separatorAfter),
        insertTextFormat: InsertTextFormat.Snippet,
        documentation: ""
      });
    };
    JSONCompletion2.prototype.addNullValueCompletion = function(separatorAfter, collector) {
      collector.add({
        kind: this.getSuggestionKind("null"),
        label: "null",
        insertText: "null" + separatorAfter,
        insertTextFormat: InsertTextFormat.Snippet,
        documentation: ""
      });
    };
    JSONCompletion2.prototype.addDollarSchemaCompletions = function(separatorAfter, collector) {
      var _this = this;
      var schemaIds = this.schemaService.getRegisteredSchemaIds(function(schema2) {
        return schema2 === "http" || schema2 === "https";
      });
      schemaIds.forEach(function(schemaId) {
        return collector.add({
          kind: CompletionItemKind.Module,
          label: _this.getLabelForValue(schemaId),
          filterText: _this.getFilterTextForValue(schemaId),
          insertText: _this.getInsertTextForValue(schemaId, separatorAfter),
          insertTextFormat: InsertTextFormat.Snippet,
          documentation: ""
        });
      });
    };
    JSONCompletion2.prototype.getLabelForValue = function(value) {
      return JSON.stringify(value);
    };
    JSONCompletion2.prototype.getFilterTextForValue = function(value) {
      return JSON.stringify(value);
    };
    JSONCompletion2.prototype.getFilterTextForSnippetValue = function(value) {
      return JSON.stringify(value).replace(/\$\{\d+:([^}]+)\}|\$\d+/g, "$1");
    };
    JSONCompletion2.prototype.getLabelForSnippetValue = function(value) {
      var label = JSON.stringify(value);
      return label.replace(/\$\{\d+:([^}]+)\}|\$\d+/g, "$1");
    };
    JSONCompletion2.prototype.getInsertTextForPlainText = function(text) {
      return text.replace(/[\\\$\}]/g, "\\$&");
    };
    JSONCompletion2.prototype.getInsertTextForValue = function(value, separatorAfter) {
      var text = JSON.stringify(value, null, "	");
      if (text === "{}") {
        return "{$1}" + separatorAfter;
      } else if (text === "[]") {
        return "[$1]" + separatorAfter;
      }
      return this.getInsertTextForPlainText(text + separatorAfter);
    };
    JSONCompletion2.prototype.getInsertTextForSnippetValue = function(value, separatorAfter) {
      var replacer = function(value2) {
        if (typeof value2 === "string") {
          if (value2[0] === "^") {
            return value2.substr(1);
          }
        }
        return JSON.stringify(value2);
      };
      return stringifyObject(value, "", replacer) + separatorAfter;
    };
    JSONCompletion2.prototype.getInsertTextForGuessedValue = function(value, separatorAfter) {
      switch (typeof value) {
        case "object":
          if (value === null) {
            return "${1:null}" + separatorAfter;
          }
          return this.getInsertTextForValue(value, separatorAfter);
        case "string":
          var snippetValue = JSON.stringify(value);
          snippetValue = snippetValue.substr(1, snippetValue.length - 2);
          snippetValue = this.getInsertTextForPlainText(snippetValue);
          return '"${1:' + snippetValue + '}"' + separatorAfter;
        case "number":
        case "boolean":
          return "${1:" + JSON.stringify(value) + "}" + separatorAfter;
      }
      return this.getInsertTextForValue(value, separatorAfter);
    };
    JSONCompletion2.prototype.getSuggestionKind = function(type) {
      if (Array.isArray(type)) {
        var array = type;
        type = array.length > 0 ? array[0] : void 0;
      }
      if (!type) {
        return CompletionItemKind.Value;
      }
      switch (type) {
        case "string":
          return CompletionItemKind.Value;
        case "object":
          return CompletionItemKind.Module;
        case "property":
          return CompletionItemKind.Property;
        default:
          return CompletionItemKind.Value;
      }
    };
    JSONCompletion2.prototype.getLabelTextForMatchingNode = function(node, document2) {
      switch (node.type) {
        case "array":
          return "[]";
        case "object":
          return "{}";
        default:
          var content = document2.getText().substr(node.offset, node.length);
          return content;
      }
    };
    JSONCompletion2.prototype.getInsertTextForMatchingNode = function(node, document2, separatorAfter) {
      switch (node.type) {
        case "array":
          return this.getInsertTextForValue([], separatorAfter);
        case "object":
          return this.getInsertTextForValue({}, separatorAfter);
        default:
          var content = document2.getText().substr(node.offset, node.length) + separatorAfter;
          return this.getInsertTextForPlainText(content);
      }
    };
    JSONCompletion2.prototype.getInsertTextForProperty = function(key, propertySchema, addValue, separatorAfter) {
      var propertyText = this.getInsertTextForValue(key, "");
      if (!addValue) {
        return propertyText;
      }
      var resultText = propertyText + ": ";
      var value;
      var nValueProposals = 0;
      if (propertySchema) {
        if (Array.isArray(propertySchema.defaultSnippets)) {
          if (propertySchema.defaultSnippets.length === 1) {
            var body = propertySchema.defaultSnippets[0].body;
            if (isDefined(body)) {
              value = this.getInsertTextForSnippetValue(body, "");
            }
          }
          nValueProposals += propertySchema.defaultSnippets.length;
        }
        if (propertySchema.enum) {
          if (!value && propertySchema.enum.length === 1) {
            value = this.getInsertTextForGuessedValue(propertySchema.enum[0], "");
          }
          nValueProposals += propertySchema.enum.length;
        }
        if (isDefined(propertySchema.default)) {
          if (!value) {
            value = this.getInsertTextForGuessedValue(propertySchema.default, "");
          }
          nValueProposals++;
        }
        if (Array.isArray(propertySchema.examples) && propertySchema.examples.length) {
          if (!value) {
            value = this.getInsertTextForGuessedValue(propertySchema.examples[0], "");
          }
          nValueProposals += propertySchema.examples.length;
        }
        if (nValueProposals === 0) {
          var type = Array.isArray(propertySchema.type) ? propertySchema.type[0] : propertySchema.type;
          if (!type) {
            if (propertySchema.properties) {
              type = "object";
            } else if (propertySchema.items) {
              type = "array";
            }
          }
          switch (type) {
            case "boolean":
              value = "$1";
              break;
            case "string":
              value = '"$1"';
              break;
            case "object":
              value = "{$1}";
              break;
            case "array":
              value = "[$1]";
              break;
            case "number":
            case "integer":
              value = "${1:0}";
              break;
            case "null":
              value = "${1:null}";
              break;
            default:
              return propertyText;
          }
        }
      }
      if (!value || nValueProposals > 1) {
        value = "$1";
      }
      return resultText + value + separatorAfter;
    };
    JSONCompletion2.prototype.getCurrentWord = function(document2, offset) {
      var i = offset - 1;
      var text = document2.getText();
      while (i >= 0 && ' 	\n\r\v":{[,]}'.indexOf(text.charAt(i)) === -1) {
        i--;
      }
      return text.substring(i + 1, offset);
    };
    JSONCompletion2.prototype.evaluateSeparatorAfter = function(document2, offset) {
      var scanner = createScanner2(document2.getText(), true);
      scanner.setPosition(offset);
      var token = scanner.scan();
      switch (token) {
        case 5:
        case 2:
        case 4:
        case 17:
          return "";
        default:
          return ",";
      }
    };
    JSONCompletion2.prototype.findItemAtOffset = function(node, document2, offset) {
      var scanner = createScanner2(document2.getText(), true);
      var children = node.items;
      for (var i = children.length - 1; i >= 0; i--) {
        var child = children[i];
        if (offset > child.offset + child.length) {
          scanner.setPosition(child.offset + child.length);
          var token = scanner.scan();
          if (token === 5 && offset >= scanner.getTokenOffset() + scanner.getTokenLength()) {
            return i + 1;
          }
          return i;
        } else if (offset >= child.offset) {
          return i;
        }
      }
      return 0;
    };
    JSONCompletion2.prototype.isInComment = function(document2, start, offset) {
      var scanner = createScanner2(document2.getText(), false);
      scanner.setPosition(start);
      var token = scanner.scan();
      while (token !== 17 && scanner.getTokenOffset() + scanner.getTokenLength() < offset) {
        token = scanner.scan();
      }
      return (token === 12 || token === 13) && scanner.getTokenOffset() <= offset;
    };
    JSONCompletion2.prototype.fromMarkup = function(markupString) {
      if (markupString && this.doesSupportMarkdown()) {
        return {
          kind: MarkupKind.Markdown,
          value: markupString
        };
      }
      return void 0;
    };
    JSONCompletion2.prototype.doesSupportMarkdown = function() {
      if (!isDefined(this.supportsMarkdown)) {
        var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;
        this.supportsMarkdown = completion && completion.completionItem && Array.isArray(completion.completionItem.documentationFormat) && completion.completionItem.documentationFormat.indexOf(MarkupKind.Markdown) !== -1;
      }
      return this.supportsMarkdown;
    };
    JSONCompletion2.prototype.doesSupportsCommitCharacters = function() {
      if (!isDefined(this.supportsCommitCharacters)) {
        var completion = this.clientCapabilities.textDocument && this.clientCapabilities.textDocument.completion;
        this.supportsCommitCharacters = completion && completion.completionItem && !!completion.completionItem.commitCharactersSupport;
      }
      return this.supportsCommitCharacters;
    };
    return JSONCompletion2;
  }();
  var JSONHover = function() {
    function JSONHover2(schemaService, contributions, promiseConstructor) {
      if (contributions === void 0) {
        contributions = [];
      }
      this.schemaService = schemaService;
      this.contributions = contributions;
      this.promise = promiseConstructor || Promise;
    }
    JSONHover2.prototype.doHover = function(document2, position, doc) {
      var offset = document2.offsetAt(position);
      var node = doc.getNodeFromOffset(offset);
      if (!node || (node.type === "object" || node.type === "array") && offset > node.offset + 1 && offset < node.offset + node.length - 1) {
        return this.promise.resolve(null);
      }
      var hoverRangeNode = node;
      if (node.type === "string") {
        var parent = node.parent;
        if (parent && parent.type === "property" && parent.keyNode === node) {
          node = parent.valueNode;
          if (!node) {
            return this.promise.resolve(null);
          }
        }
      }
      var hoverRange = Range.create(document2.positionAt(hoverRangeNode.offset), document2.positionAt(hoverRangeNode.offset + hoverRangeNode.length));
      var createHover = function(contents) {
        var result = {
          contents,
          range: hoverRange
        };
        return result;
      };
      var location = getNodePath3(node);
      for (var i = this.contributions.length - 1; i >= 0; i--) {
        var contribution = this.contributions[i];
        var promise = contribution.getInfoContribution(document2.uri, location);
        if (promise) {
          return promise.then(function(htmlContent) {
            return createHover(htmlContent);
          });
        }
      }
      return this.schemaService.getSchemaForResource(document2.uri, doc).then(function(schema2) {
        if (schema2 && node) {
          var matchingSchemas = doc.getMatchingSchemas(schema2.schema, node.offset);
          var title_1 = void 0;
          var markdownDescription_1 = void 0;
          var markdownEnumValueDescription_1 = void 0, enumValue_1 = void 0;
          matchingSchemas.every(function(s) {
            if (s.node === node && !s.inverted && s.schema) {
              title_1 = title_1 || s.schema.title;
              markdownDescription_1 = markdownDescription_1 || s.schema.markdownDescription || toMarkdown(s.schema.description);
              if (s.schema.enum) {
                var idx = s.schema.enum.indexOf(getNodeValue3(node));
                if (s.schema.markdownEnumDescriptions) {
                  markdownEnumValueDescription_1 = s.schema.markdownEnumDescriptions[idx];
                } else if (s.schema.enumDescriptions) {
                  markdownEnumValueDescription_1 = toMarkdown(s.schema.enumDescriptions[idx]);
                }
                if (markdownEnumValueDescription_1) {
                  enumValue_1 = s.schema.enum[idx];
                  if (typeof enumValue_1 !== "string") {
                    enumValue_1 = JSON.stringify(enumValue_1);
                  }
                }
              }
            }
            return true;
          });
          var result = "";
          if (title_1) {
            result = toMarkdown(title_1);
          }
          if (markdownDescription_1) {
            if (result.length > 0) {
              result += "\n\n";
            }
            result += markdownDescription_1;
          }
          if (markdownEnumValueDescription_1) {
            if (result.length > 0) {
              result += "\n\n";
            }
            result += "`".concat(toMarkdownCodeBlock(enumValue_1), "`: ").concat(markdownEnumValueDescription_1);
          }
          return createHover([result]);
        }
        return null;
      });
    };
    return JSONHover2;
  }();
  function toMarkdown(plain) {
    if (plain) {
      var res = plain.replace(/([^\n\r])(\r?\n)([^\n\r])/gm, "$1\n\n$3");
      return res.replace(/[\\`*_{}[\]()#+\-.!]/g, "\\$&");
    }
    return void 0;
  }
  function toMarkdownCodeBlock(content) {
    if (content.indexOf("`") !== -1) {
      return "`` " + content + " ``";
    }
    return content;
  }
  var localize4 = loadMessageBundle();
  var JSONValidation = function() {
    function JSONValidation2(jsonSchemaService, promiseConstructor) {
      this.jsonSchemaService = jsonSchemaService;
      this.promise = promiseConstructor;
      this.validationEnabled = true;
    }
    JSONValidation2.prototype.configure = function(raw) {
      if (raw) {
        this.validationEnabled = raw.validate !== false;
        this.commentSeverity = raw.allowComments ? void 0 : DiagnosticSeverity.Error;
      }
    };
    JSONValidation2.prototype.doValidation = function(textDocument, jsonDocument, documentSettings, schema2) {
      var _this = this;
      if (!this.validationEnabled) {
        return this.promise.resolve([]);
      }
      var diagnostics = [];
      var added = {};
      var addProblem = function(problem) {
        var signature = problem.range.start.line + " " + problem.range.start.character + " " + problem.message;
        if (!added[signature]) {
          added[signature] = true;
          diagnostics.push(problem);
        }
      };
      var getDiagnostics = function(schema22) {
        var trailingCommaSeverity = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.trailingCommas) ? toDiagnosticSeverity(documentSettings.trailingCommas) : DiagnosticSeverity.Error;
        var commentSeverity = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.comments) ? toDiagnosticSeverity(documentSettings.comments) : _this.commentSeverity;
        var schemaValidation = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaValidation) ? toDiagnosticSeverity(documentSettings.schemaValidation) : DiagnosticSeverity.Warning;
        var schemaRequest = (documentSettings === null || documentSettings === void 0 ? void 0 : documentSettings.schemaRequest) ? toDiagnosticSeverity(documentSettings.schemaRequest) : DiagnosticSeverity.Warning;
        if (schema22) {
          if (schema22.errors.length && jsonDocument.root && schemaRequest) {
            var astRoot = jsonDocument.root;
            var property2 = astRoot.type === "object" ? astRoot.properties[0] : void 0;
            if (property2 && property2.keyNode.value === "$schema") {
              var node = property2.valueNode || property2;
              var range = Range.create(textDocument.positionAt(node.offset), textDocument.positionAt(node.offset + node.length));
              addProblem(Diagnostic.create(range, schema22.errors[0], schemaRequest, ErrorCode.SchemaResolveError));
            } else {
              var range = Range.create(textDocument.positionAt(astRoot.offset), textDocument.positionAt(astRoot.offset + 1));
              addProblem(Diagnostic.create(range, schema22.errors[0], schemaRequest, ErrorCode.SchemaResolveError));
            }
          } else if (schemaValidation) {
            var semanticErrors = jsonDocument.validate(textDocument, schema22.schema, schemaValidation);
            if (semanticErrors) {
              semanticErrors.forEach(addProblem);
            }
          }
          if (schemaAllowsComments(schema22.schema)) {
            commentSeverity = void 0;
          }
          if (schemaAllowsTrailingCommas(schema22.schema)) {
            trailingCommaSeverity = void 0;
          }
        }
        for (var _i = 0, _a2 = jsonDocument.syntaxErrors; _i < _a2.length; _i++) {
          var p = _a2[_i];
          if (p.code === ErrorCode.TrailingComma) {
            if (typeof trailingCommaSeverity !== "number") {
              continue;
            }
            p.severity = trailingCommaSeverity;
          }
          addProblem(p);
        }
        if (typeof commentSeverity === "number") {
          var message_1 = localize4("InvalidCommentToken", "Comments are not permitted in JSON.");
          jsonDocument.comments.forEach(function(c) {
            addProblem(Diagnostic.create(c, message_1, commentSeverity, ErrorCode.CommentNotPermitted));
          });
        }
        return diagnostics;
      };
      if (schema2) {
        var id = schema2.id || "schemaservice://untitled/" + idCounter++;
        var handle = this.jsonSchemaService.registerExternalSchema(id, [], schema2);
        return handle.getResolvedSchema().then(function(resolvedSchema) {
          return getDiagnostics(resolvedSchema);
        });
      }
      return this.jsonSchemaService.getSchemaForResource(textDocument.uri, jsonDocument).then(function(schema22) {
        return getDiagnostics(schema22);
      });
    };
    JSONValidation2.prototype.getLanguageStatus = function(textDocument, jsonDocument) {
      return { schemas: this.jsonSchemaService.getSchemaURIsForResource(textDocument.uri, jsonDocument) };
    };
    return JSONValidation2;
  }();
  var idCounter = 0;
  function schemaAllowsComments(schemaRef) {
    if (schemaRef && typeof schemaRef === "object") {
      if (isBoolean(schemaRef.allowComments)) {
        return schemaRef.allowComments;
      }
      if (schemaRef.allOf) {
        for (var _i = 0, _a2 = schemaRef.allOf; _i < _a2.length; _i++) {
          var schema2 = _a2[_i];
          var allow = schemaAllowsComments(schema2);
          if (isBoolean(allow)) {
            return allow;
          }
        }
      }
    }
    return void 0;
  }
  function schemaAllowsTrailingCommas(schemaRef) {
    if (schemaRef && typeof schemaRef === "object") {
      if (isBoolean(schemaRef.allowTrailingCommas)) {
        return schemaRef.allowTrailingCommas;
      }
      var deprSchemaRef = schemaRef;
      if (isBoolean(deprSchemaRef["allowsTrailingCommas"])) {
        return deprSchemaRef["allowsTrailingCommas"];
      }
      if (schemaRef.allOf) {
        for (var _i = 0, _a2 = schemaRef.allOf; _i < _a2.length; _i++) {
          var schema2 = _a2[_i];
          var allow = schemaAllowsTrailingCommas(schema2);
          if (isBoolean(allow)) {
            return allow;
          }
        }
      }
    }
    return void 0;
  }
  function toDiagnosticSeverity(severityLevel) {
    switch (severityLevel) {
      case "error":
        return DiagnosticSeverity.Error;
      case "warning":
        return DiagnosticSeverity.Warning;
      case "ignore":
        return void 0;
    }
    return void 0;
  }
  var Digit0 = 48;
  var Digit9 = 57;
  var A = 65;
  var a = 97;
  var f = 102;
  function hexDigit(charCode) {
    if (charCode < Digit0) {
      return 0;
    }
    if (charCode <= Digit9) {
      return charCode - Digit0;
    }
    if (charCode < a) {
      charCode += a - A;
    }
    if (charCode >= a && charCode <= f) {
      return charCode - a + 10;
    }
    return 0;
  }
  function colorFromHex(text) {
    if (text[0] !== "#") {
      return void 0;
    }
    switch (text.length) {
      case 4:
        return {
          red: hexDigit(text.charCodeAt(1)) * 17 / 255,
          green: hexDigit(text.charCodeAt(2)) * 17 / 255,
          blue: hexDigit(text.charCodeAt(3)) * 17 / 255,
          alpha: 1
        };
      case 5:
        return {
          red: hexDigit(text.charCodeAt(1)) * 17 / 255,
          green: hexDigit(text.charCodeAt(2)) * 17 / 255,
          blue: hexDigit(text.charCodeAt(3)) * 17 / 255,
          alpha: hexDigit(text.charCodeAt(4)) * 17 / 255
        };
      case 7:
        return {
          red: (hexDigit(text.charCodeAt(1)) * 16 + hexDigit(text.charCodeAt(2))) / 255,
          green: (hexDigit(text.charCodeAt(3)) * 16 + hexDigit(text.charCodeAt(4))) / 255,
          blue: (hexDigit(text.charCodeAt(5)) * 16 + hexDigit(text.charCodeAt(6))) / 255,
          alpha: 1
        };
      case 9:
        return {
          red: (hexDigit(text.charCodeAt(1)) * 16 + hexDigit(text.charCodeAt(2))) / 255,
          green: (hexDigit(text.charCodeAt(3)) * 16 + hexDigit(text.charCodeAt(4))) / 255,
          blue: (hexDigit(text.charCodeAt(5)) * 16 + hexDigit(text.charCodeAt(6))) / 255,
          alpha: (hexDigit(text.charCodeAt(7)) * 16 + hexDigit(text.charCodeAt(8))) / 255
        };
    }
    return void 0;
  }
  var JSONDocumentSymbols = function() {
    function JSONDocumentSymbols2(schemaService) {
      this.schemaService = schemaService;
    }
    JSONDocumentSymbols2.prototype.findDocumentSymbols = function(document2, doc, context) {
      var _this = this;
      if (context === void 0) {
        context = { resultLimit: Number.MAX_VALUE };
      }
      var root = doc.root;
      if (!root) {
        return [];
      }
      var limit = context.resultLimit || Number.MAX_VALUE;
      var resourceString = document2.uri;
      if (resourceString === "vscode://defaultsettings/keybindings.json" || endsWith(resourceString.toLowerCase(), "/user/keybindings.json")) {
        if (root.type === "array") {
          var result_1 = [];
          for (var _i = 0, _a2 = root.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            if (item.type === "object") {
              for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {
                var property2 = _c[_b];
                if (property2.keyNode.value === "key" && property2.valueNode) {
                  var location = Location.create(document2.uri, getRange(document2, item));
                  result_1.push({ name: getNodeValue3(property2.valueNode), kind: SymbolKind.Function, location });
                  limit--;
                  if (limit <= 0) {
                    if (context && context.onResultLimitExceeded) {
                      context.onResultLimitExceeded(resourceString);
                    }
                    return result_1;
                  }
                }
              }
            }
          }
          return result_1;
        }
      }
      var toVisit = [
        { node: root, containerName: "" }
      ];
      var nextToVisit = 0;
      var limitExceeded = false;
      var result = [];
      var collectOutlineEntries = function(node, containerName) {
        if (node.type === "array") {
          node.items.forEach(function(node2) {
            if (node2) {
              toVisit.push({ node: node2, containerName });
            }
          });
        } else if (node.type === "object") {
          node.properties.forEach(function(property22) {
            var valueNode = property22.valueNode;
            if (valueNode) {
              if (limit > 0) {
                limit--;
                var location2 = Location.create(document2.uri, getRange(document2, property22));
                var childContainerName = containerName ? containerName + "." + property22.keyNode.value : property22.keyNode.value;
                result.push({ name: _this.getKeyLabel(property22), kind: _this.getSymbolKind(valueNode.type), location: location2, containerName });
                toVisit.push({ node: valueNode, containerName: childContainerName });
              } else {
                limitExceeded = true;
              }
            }
          });
        }
      };
      while (nextToVisit < toVisit.length) {
        var next = toVisit[nextToVisit++];
        collectOutlineEntries(next.node, next.containerName);
      }
      if (limitExceeded && context && context.onResultLimitExceeded) {
        context.onResultLimitExceeded(resourceString);
      }
      return result;
    };
    JSONDocumentSymbols2.prototype.findDocumentSymbols2 = function(document2, doc, context) {
      var _this = this;
      if (context === void 0) {
        context = { resultLimit: Number.MAX_VALUE };
      }
      var root = doc.root;
      if (!root) {
        return [];
      }
      var limit = context.resultLimit || Number.MAX_VALUE;
      var resourceString = document2.uri;
      if (resourceString === "vscode://defaultsettings/keybindings.json" || endsWith(resourceString.toLowerCase(), "/user/keybindings.json")) {
        if (root.type === "array") {
          var result_2 = [];
          for (var _i = 0, _a2 = root.items; _i < _a2.length; _i++) {
            var item = _a2[_i];
            if (item.type === "object") {
              for (var _b = 0, _c = item.properties; _b < _c.length; _b++) {
                var property2 = _c[_b];
                if (property2.keyNode.value === "key" && property2.valueNode) {
                  var range = getRange(document2, item);
                  var selectionRange = getRange(document2, property2.keyNode);
                  result_2.push({ name: getNodeValue3(property2.valueNode), kind: SymbolKind.Function, range, selectionRange });
                  limit--;
                  if (limit <= 0) {
                    if (context && context.onResultLimitExceeded) {
                      context.onResultLimitExceeded(resourceString);
                    }
                    return result_2;
                  }
                }
              }
            }
          }
          return result_2;
        }
      }
      var result = [];
      var toVisit = [
        { node: root, result }
      ];
      var nextToVisit = 0;
      var limitExceeded = false;
      var collectOutlineEntries = function(node, result2) {
        if (node.type === "array") {
          node.items.forEach(function(node2, index) {
            if (node2) {
              if (limit > 0) {
                limit--;
                var range2 = getRange(document2, node2);
                var selectionRange2 = range2;
                var name = String(index);
                var symbol = { name, kind: _this.getSymbolKind(node2.type), range: range2, selectionRange: selectionRange2, children: [] };
                result2.push(symbol);
                toVisit.push({ result: symbol.children, node: node2 });
              } else {
                limitExceeded = true;
              }
            }
          });
        } else if (node.type === "object") {
          node.properties.forEach(function(property22) {
            var valueNode = property22.valueNode;
            if (valueNode) {
              if (limit > 0) {
                limit--;
                var range2 = getRange(document2, property22);
                var selectionRange2 = getRange(document2, property22.keyNode);
                var children = [];
                var symbol = { name: _this.getKeyLabel(property22), kind: _this.getSymbolKind(valueNode.type), range: range2, selectionRange: selectionRange2, children, detail: _this.getDetail(valueNode) };
                result2.push(symbol);
                toVisit.push({ result: children, node: valueNode });
              } else {
                limitExceeded = true;
              }
            }
          });
        }
      };
      while (nextToVisit < toVisit.length) {
        var next = toVisit[nextToVisit++];
        collectOutlineEntries(next.node, next.result);
      }
      if (limitExceeded && context && context.onResultLimitExceeded) {
        context.onResultLimitExceeded(resourceString);
      }
      return result;
    };
    JSONDocumentSymbols2.prototype.getSymbolKind = function(nodeType) {
      switch (nodeType) {
        case "object":
          return SymbolKind.Module;
        case "string":
          return SymbolKind.String;
        case "number":
          return SymbolKind.Number;
        case "array":
          return SymbolKind.Array;
        case "boolean":
          return SymbolKind.Boolean;
        default:
          return SymbolKind.Variable;
      }
    };
    JSONDocumentSymbols2.prototype.getKeyLabel = function(property2) {
      var name = property2.keyNode.value;
      if (name) {
        name = name.replace(/[\n]/g, "↵");
      }
      if (name && name.trim()) {
        return name;
      }
      return '"'.concat(name, '"');
    };
    JSONDocumentSymbols2.prototype.getDetail = function(node) {
      if (!node) {
        return void 0;
      }
      if (node.type === "boolean" || node.type === "number" || node.type === "null" || node.type === "string") {
        return String(node.value);
      } else {
        if (node.type === "array") {
          return node.children.length ? void 0 : "[]";
        } else if (node.type === "object") {
          return node.children.length ? void 0 : "{}";
        }
      }
      return void 0;
    };
    JSONDocumentSymbols2.prototype.findDocumentColors = function(document2, doc, context) {
      return this.schemaService.getSchemaForResource(document2.uri, doc).then(function(schema2) {
        var result = [];
        if (schema2) {
          var limit = context && typeof context.resultLimit === "number" ? context.resultLimit : Number.MAX_VALUE;
          var matchingSchemas = doc.getMatchingSchemas(schema2.schema);
          var visitedNode = {};
          for (var _i = 0, matchingSchemas_1 = matchingSchemas; _i < matchingSchemas_1.length; _i++) {
            var s = matchingSchemas_1[_i];
            if (!s.inverted && s.schema && (s.schema.format === "color" || s.schema.format === "color-hex") && s.node && s.node.type === "string") {
              var nodeId = String(s.node.offset);
              if (!visitedNode[nodeId]) {
                var color = colorFromHex(getNodeValue3(s.node));
                if (color) {
                  var range = getRange(document2, s.node);
                  result.push({ color, range });
                }
                visitedNode[nodeId] = true;
                limit--;
                if (limit <= 0) {
                  if (context && context.onResultLimitExceeded) {
                    context.onResultLimitExceeded(document2.uri);
                  }
                  return result;
                }
              }
            }
          }
        }
        return result;
      });
    };
    JSONDocumentSymbols2.prototype.getColorPresentations = function(document2, doc, color, range) {
      var result = [];
      var red256 = Math.round(color.red * 255), green256 = Math.round(color.green * 255), blue256 = Math.round(color.blue * 255);
      function toTwoDigitHex(n) {
        var r = n.toString(16);
        return r.length !== 2 ? "0" + r : r;
      }
      var label;
      if (color.alpha === 1) {
        label = "#".concat(toTwoDigitHex(red256)).concat(toTwoDigitHex(green256)).concat(toTwoDigitHex(blue256));
      } else {
        label = "#".concat(toTwoDigitHex(red256)).concat(toTwoDigitHex(green256)).concat(toTwoDigitHex(blue256)).concat(toTwoDigitHex(Math.round(color.alpha * 255)));
      }
      result.push({ label, textEdit: TextEdit.replace(range, JSON.stringify(label)) });
      return result;
    };
    return JSONDocumentSymbols2;
  }();
  function getRange(document2, node) {
    return Range.create(document2.positionAt(node.offset), document2.positionAt(node.offset + node.length));
  }
  var localize5 = loadMessageBundle();
  var schemaContributions = {
    schemaAssociations: [],
    schemas: {
      "http://json-schema.org/schema#": {
        $ref: "http://json-schema.org/draft-07/schema#"
      },
      "http://json-schema.org/draft-04/schema#": {
        "$schema": "http://json-schema.org/draft-04/schema#",
        "definitions": {
          "schemaArray": {
            "type": "array",
            "minItems": 1,
            "items": {
              "$ref": "#"
            }
          },
          "positiveInteger": {
            "type": "integer",
            "minimum": 0
          },
          "positiveIntegerDefault0": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveInteger"
              },
              {
                "default": 0
              }
            ]
          },
          "simpleTypes": {
            "type": "string",
            "enum": [
              "array",
              "boolean",
              "integer",
              "null",
              "number",
              "object",
              "string"
            ]
          },
          "stringArray": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "minItems": 1,
            "uniqueItems": true
          }
        },
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "format": "uri"
          },
          "$schema": {
            "type": "string",
            "format": "uri"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "default": {},
          "multipleOf": {
            "type": "number",
            "minimum": 0,
            "exclusiveMinimum": true
          },
          "maximum": {
            "type": "number"
          },
          "exclusiveMaximum": {
            "type": "boolean",
            "default": false
          },
          "minimum": {
            "type": "number"
          },
          "exclusiveMinimum": {
            "type": "boolean",
            "default": false
          },
          "maxLength": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveInteger"
              }
            ]
          },
          "minLength": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          "pattern": {
            "type": "string",
            "format": "regex"
          },
          "additionalItems": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "$ref": "#"
              }
            ],
            "default": {}
          },
          "items": {
            "anyOf": [
              {
                "$ref": "#"
              },
              {
                "$ref": "#/definitions/schemaArray"
              }
            ],
            "default": {}
          },
          "maxItems": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveInteger"
              }
            ]
          },
          "minItems": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          "uniqueItems": {
            "type": "boolean",
            "default": false
          },
          "maxProperties": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveInteger"
              }
            ]
          },
          "minProperties": {
            "allOf": [
              {
                "$ref": "#/definitions/positiveIntegerDefault0"
              }
            ]
          },
          "required": {
            "allOf": [
              {
                "$ref": "#/definitions/stringArray"
              }
            ]
          },
          "additionalProperties": {
            "anyOf": [
              {
                "type": "boolean"
              },
              {
                "$ref": "#"
              }
            ],
            "default": {}
          },
          "definitions": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#"
            },
            "default": {}
          },
          "properties": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#"
            },
            "default": {}
          },
          "patternProperties": {
            "type": "object",
            "additionalProperties": {
              "$ref": "#"
            },
            "default": {}
          },
          "dependencies": {
            "type": "object",
            "additionalProperties": {
              "anyOf": [
                {
                  "$ref": "#"
                },
                {
                  "$ref": "#/definitions/stringArray"
                }
              ]
            }
          },
          "enum": {
            "type": "array",
            "minItems": 1,
            "uniqueItems": true
          },
          "type": {
            "anyOf": [
              {
                "$ref": "#/definitions/simpleTypes"
              },
              {
                "type": "array",
                "items": {
                  "$ref": "#/definitions/simpleTypes"
                },
                "minItems": 1,
                "uniqueItems": true
              }
            ]
          },
          "format": {
            "anyOf": [
              {
                "type": "string",
                "enum": [
                  "date-time",
                  "uri",
                  "email",
                  "hostname",
                  "ipv4",
                  "ipv6",
                  "regex"
                ]
              },
              {
                "type": "string"
              }
            ]
          },
          "allOf": {
            "allOf": [
              {
                "$ref": "#/definitions/schemaArray"
              }
            ]
          },
          "anyOf": {
            "allOf": [
              {
                "$ref": "#/definitions/schemaArray"
              }
            ]
          },
          "oneOf": {
            "allOf": [
              {
                "$ref": "#/definitions/schemaArray"
              }
            ]
          },
          "not": {
            "allOf": [
              {
                "$ref": "#"
              }
            ]
          }
        },
        "dependencies": {
          "exclusiveMaximum": [
            "maximum"
          ],
          "exclusiveMinimum": [
            "minimum"
          ]
        },
        "default": {}
      },
      "http://json-schema.org/draft-07/schema#": {
        "definitions": {
          "schemaArray": {
            "type": "array",
            "minItems": 1,
            "items": { "$ref": "#" }
          },
          "nonNegativeInteger": {
            "type": "integer",
            "minimum": 0
          },
          "nonNegativeIntegerDefault0": {
            "allOf": [
              { "$ref": "#/definitions/nonNegativeInteger" },
              { "default": 0 }
            ]
          },
          "simpleTypes": {
            "enum": [
              "array",
              "boolean",
              "integer",
              "null",
              "number",
              "object",
              "string"
            ]
          },
          "stringArray": {
            "type": "array",
            "items": { "type": "string" },
            "uniqueItems": true,
            "default": []
          }
        },
        "type": ["object", "boolean"],
        "properties": {
          "$id": {
            "type": "string",
            "format": "uri-reference"
          },
          "$schema": {
            "type": "string",
            "format": "uri"
          },
          "$ref": {
            "type": "string",
            "format": "uri-reference"
          },
          "$comment": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "default": true,
          "readOnly": {
            "type": "boolean",
            "default": false
          },
          "examples": {
            "type": "array",
            "items": true
          },
          "multipleOf": {
            "type": "number",
            "exclusiveMinimum": 0
          },
          "maximum": {
            "type": "number"
          },
          "exclusiveMaximum": {
            "type": "number"
          },
          "minimum": {
            "type": "number"
          },
          "exclusiveMinimum": {
            "type": "number"
          },
          "maxLength": { "$ref": "#/definitions/nonNegativeInteger" },
          "minLength": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
          "pattern": {
            "type": "string",
            "format": "regex"
          },
          "additionalItems": { "$ref": "#" },
          "items": {
            "anyOf": [
              { "$ref": "#" },
              { "$ref": "#/definitions/schemaArray" }
            ],
            "default": true
          },
          "maxItems": { "$ref": "#/definitions/nonNegativeInteger" },
          "minItems": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
          "uniqueItems": {
            "type": "boolean",
            "default": false
          },
          "contains": { "$ref": "#" },
          "maxProperties": { "$ref": "#/definitions/nonNegativeInteger" },
          "minProperties": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
          "required": { "$ref": "#/definitions/stringArray" },
          "additionalProperties": { "$ref": "#" },
          "definitions": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "default": {}
          },
          "properties": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "default": {}
          },
          "patternProperties": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "propertyNames": { "format": "regex" },
            "default": {}
          },
          "dependencies": {
            "type": "object",
            "additionalProperties": {
              "anyOf": [
                { "$ref": "#" },
                { "$ref": "#/definitions/stringArray" }
              ]
            }
          },
          "propertyNames": { "$ref": "#" },
          "const": true,
          "enum": {
            "type": "array",
            "items": true,
            "minItems": 1,
            "uniqueItems": true
          },
          "type": {
            "anyOf": [
              { "$ref": "#/definitions/simpleTypes" },
              {
                "type": "array",
                "items": { "$ref": "#/definitions/simpleTypes" },
                "minItems": 1,
                "uniqueItems": true
              }
            ]
          },
          "format": { "type": "string" },
          "contentMediaType": { "type": "string" },
          "contentEncoding": { "type": "string" },
          "if": { "$ref": "#" },
          "then": { "$ref": "#" },
          "else": { "$ref": "#" },
          "allOf": { "$ref": "#/definitions/schemaArray" },
          "anyOf": { "$ref": "#/definitions/schemaArray" },
          "oneOf": { "$ref": "#/definitions/schemaArray" },
          "not": { "$ref": "#" }
        },
        "default": true
      }
    }
  };
  var descriptions = {
    id: localize5("schema.json.id", "A unique identifier for the schema."),
    $schema: localize5("schema.json.$schema", "The schema to verify this document against."),
    title: localize5("schema.json.title", "A descriptive title of the element."),
    description: localize5("schema.json.description", "A long description of the element. Used in hover menus and suggestions."),
    default: localize5("schema.json.default", "A default value. Used by suggestions."),
    multipleOf: localize5("schema.json.multipleOf", "A number that should cleanly divide the current value (i.e. have no remainder)."),
    maximum: localize5("schema.json.maximum", "The maximum numerical value, inclusive by default."),
    exclusiveMaximum: localize5("schema.json.exclusiveMaximum", "Makes the maximum property exclusive."),
    minimum: localize5("schema.json.minimum", "The minimum numerical value, inclusive by default."),
    exclusiveMinimum: localize5("schema.json.exclusiveMininum", "Makes the minimum property exclusive."),
    maxLength: localize5("schema.json.maxLength", "The maximum length of a string."),
    minLength: localize5("schema.json.minLength", "The minimum length of a string."),
    pattern: localize5("schema.json.pattern", "A regular expression to match the string against. It is not implicitly anchored."),
    additionalItems: localize5("schema.json.additionalItems", "For arrays, only when items is set as an array. If it is a schema, then this schema validates items after the ones specified by the items array. If it is false, then additional items will cause validation to fail."),
    items: localize5("schema.json.items", "For arrays. Can either be a schema to validate every element against or an array of schemas to validate each item against in order (the first schema will validate the first element, the second schema will validate the second element, and so on."),
    maxItems: localize5("schema.json.maxItems", "The maximum number of items that can be inside an array. Inclusive."),
    minItems: localize5("schema.json.minItems", "The minimum number of items that can be inside an array. Inclusive."),
    uniqueItems: localize5("schema.json.uniqueItems", "If all of the items in the array must be unique. Defaults to false."),
    maxProperties: localize5("schema.json.maxProperties", "The maximum number of properties an object can have. Inclusive."),
    minProperties: localize5("schema.json.minProperties", "The minimum number of properties an object can have. Inclusive."),
    required: localize5("schema.json.required", "An array of strings that lists the names of all properties required on this object."),
    additionalProperties: localize5("schema.json.additionalProperties", "Either a schema or a boolean. If a schema, then used to validate all properties not matched by 'properties' or 'patternProperties'. If false, then any properties not matched by either will cause this schema to fail."),
    definitions: localize5("schema.json.definitions", "Not used for validation. Place subschemas here that you wish to reference inline with $ref."),
    properties: localize5("schema.json.properties", "A map of property names to schemas for each property."),
    patternProperties: localize5("schema.json.patternProperties", "A map of regular expressions on property names to schemas for matching properties."),
    dependencies: localize5("schema.json.dependencies", "A map of property names to either an array of property names or a schema. An array of property names means the property named in the key depends on the properties in the array being present in the object in order to be valid. If the value is a schema, then the schema is only applied to the object if the property in the key exists on the object."),
    enum: localize5("schema.json.enum", "The set of literal values that are valid."),
    type: localize5("schema.json.type", "Either a string of one of the basic schema types (number, integer, null, array, object, boolean, string) or an array of strings specifying a subset of those types."),
    format: localize5("schema.json.format", "Describes the format expected for the value."),
    allOf: localize5("schema.json.allOf", "An array of schemas, all of which must match."),
    anyOf: localize5("schema.json.anyOf", "An array of schemas, where at least one must match."),
    oneOf: localize5("schema.json.oneOf", "An array of schemas, exactly one of which must match."),
    not: localize5("schema.json.not", "A schema which must not match."),
    $id: localize5("schema.json.$id", "A unique identifier for the schema."),
    $ref: localize5("schema.json.$ref", "Reference a definition hosted on any location."),
    $comment: localize5("schema.json.$comment", "Comments from schema authors to readers or maintainers of the schema."),
    readOnly: localize5("schema.json.readOnly", "Indicates that the value of the instance is managed exclusively by the owning authority."),
    examples: localize5("schema.json.examples", "Sample JSON values associated with a particular schema, for the purpose of illustrating usage."),
    contains: localize5("schema.json.contains", 'An array instance is valid against "contains" if at least one of its elements is valid against the given schema.'),
    propertyNames: localize5("schema.json.propertyNames", "If the instance is an object, this keyword validates if every property name in the instance validates against the provided schema."),
    const: localize5("schema.json.const", "An instance validates successfully against this keyword if its value is equal to the value of the keyword."),
    contentMediaType: localize5("schema.json.contentMediaType", "Describes the media type of a string property."),
    contentEncoding: localize5("schema.json.contentEncoding", "Describes the content encoding of a string property."),
    if: localize5("schema.json.if", 'The validation outcome of the "if" subschema controls which of the "then" or "else" keywords are evaluated.'),
    then: localize5("schema.json.then", 'The "if" subschema is used for validation when the "if" subschema succeeds.'),
    else: localize5("schema.json.else", 'The "else" subschema is used for validation when the "if" subschema fails.')
  };
  for (schemaName in schemaContributions.schemas) {
    schema = schemaContributions.schemas[schemaName];
    for (property in schema.properties) {
      propertyObject = schema.properties[property];
      if (typeof propertyObject === "boolean") {
        propertyObject = schema.properties[property] = {};
      }
      description = descriptions[property];
      if (description) {
        propertyObject["description"] = description;
      } else {
        console.log("".concat(property, ": localize('schema.json.").concat(property, `', "")`));
      }
    }
  }
  var schema;
  var propertyObject;
  var description;
  var property;
  var schemaName;
  var LIB;
  LIB = (() => {
    var t = { 470: (t2) => {
      function e2(t3) {
        if ("string" != typeof t3)
          throw new TypeError("Path must be a string. Received " + JSON.stringify(t3));
      }
      function r2(t3, e3) {
        for (var r3, n2 = "", o = 0, i = -1, a2 = 0, h = 0; h <= t3.length; ++h) {
          if (h < t3.length)
            r3 = t3.charCodeAt(h);
          else {
            if (47 === r3)
              break;
            r3 = 47;
          }
          if (47 === r3) {
            if (i === h - 1 || 1 === a2)
              ;
            else if (i !== h - 1 && 2 === a2) {
              if (n2.length < 2 || 2 !== o || 46 !== n2.charCodeAt(n2.length - 1) || 46 !== n2.charCodeAt(n2.length - 2)) {
                if (n2.length > 2) {
                  var s = n2.lastIndexOf("/");
                  if (s !== n2.length - 1) {
                    -1 === s ? (n2 = "", o = 0) : o = (n2 = n2.slice(0, s)).length - 1 - n2.lastIndexOf("/"), i = h, a2 = 0;
                    continue;
                  }
                } else if (2 === n2.length || 1 === n2.length) {
                  n2 = "", o = 0, i = h, a2 = 0;
                  continue;
                }
              }
              e3 && (n2.length > 0 ? n2 += "/.." : n2 = "..", o = 2);
            } else
              n2.length > 0 ? n2 += "/" + t3.slice(i + 1, h) : n2 = t3.slice(i + 1, h), o = h - i - 1;
            i = h, a2 = 0;
          } else
            46 === r3 && -1 !== a2 ? ++a2 : a2 = -1;
        }
        return n2;
      }
      var n = { resolve: function() {
        for (var t3, n2 = "", o = false, i = arguments.length - 1; i >= -1 && !o; i--) {
          var a2;
          i >= 0 ? a2 = arguments[i] : (void 0 === t3 && (t3 = process.cwd()), a2 = t3), e2(a2), 0 !== a2.length && (n2 = a2 + "/" + n2, o = 47 === a2.charCodeAt(0));
        }
        return n2 = r2(n2, !o), o ? n2.length > 0 ? "/" + n2 : "/" : n2.length > 0 ? n2 : ".";
      }, normalize: function(t3) {
        if (e2(t3), 0 === t3.length)
          return ".";
        var n2 = 47 === t3.charCodeAt(0), o = 47 === t3.charCodeAt(t3.length - 1);
        return 0 !== (t3 = r2(t3, !n2)).length || n2 || (t3 = "."), t3.length > 0 && o && (t3 += "/"), n2 ? "/" + t3 : t3;
      }, isAbsolute: function(t3) {
        return e2(t3), t3.length > 0 && 47 === t3.charCodeAt(0);
      }, join: function() {
        if (0 === arguments.length)
          return ".";
        for (var t3, r3 = 0; r3 < arguments.length; ++r3) {
          var o = arguments[r3];
          e2(o), o.length > 0 && (void 0 === t3 ? t3 = o : t3 += "/" + o);
        }
        return void 0 === t3 ? "." : n.normalize(t3);
      }, relative: function(t3, r3) {
        if (e2(t3), e2(r3), t3 === r3)
          return "";
        if ((t3 = n.resolve(t3)) === (r3 = n.resolve(r3)))
          return "";
        for (var o = 1; o < t3.length && 47 === t3.charCodeAt(o); ++o)
          ;
        for (var i = t3.length, a2 = i - o, h = 1; h < r3.length && 47 === r3.charCodeAt(h); ++h)
          ;
        for (var s = r3.length - h, c = a2 < s ? a2 : s, f2 = -1, u = 0; u <= c; ++u) {
          if (u === c) {
            if (s > c) {
              if (47 === r3.charCodeAt(h + u))
                return r3.slice(h + u + 1);
              if (0 === u)
                return r3.slice(h + u);
            } else
              a2 > c && (47 === t3.charCodeAt(o + u) ? f2 = u : 0 === u && (f2 = 0));
            break;
          }
          var l = t3.charCodeAt(o + u);
          if (l !== r3.charCodeAt(h + u))
            break;
          47 === l && (f2 = u);
        }
        var p = "";
        for (u = o + f2 + 1; u <= i; ++u)
          u !== i && 47 !== t3.charCodeAt(u) || (0 === p.length ? p += ".." : p += "/..");
        return p.length > 0 ? p + r3.slice(h + f2) : (h += f2, 47 === r3.charCodeAt(h) && ++h, r3.slice(h));
      }, _makeLong: function(t3) {
        return t3;
      }, dirname: function(t3) {
        if (e2(t3), 0 === t3.length)
          return ".";
        for (var r3 = t3.charCodeAt(0), n2 = 47 === r3, o = -1, i = true, a2 = t3.length - 1; a2 >= 1; --a2)
          if (47 === (r3 = t3.charCodeAt(a2))) {
            if (!i) {
              o = a2;
              break;
            }
          } else
            i = false;
        return -1 === o ? n2 ? "/" : "." : n2 && 1 === o ? "//" : t3.slice(0, o);
      }, basename: function(t3, r3) {
        if (void 0 !== r3 && "string" != typeof r3)
          throw new TypeError('"ext" argument must be a string');
        e2(t3);
        var n2, o = 0, i = -1, a2 = true;
        if (void 0 !== r3 && r3.length > 0 && r3.length <= t3.length) {
          if (r3.length === t3.length && r3 === t3)
            return "";
          var h = r3.length - 1, s = -1;
          for (n2 = t3.length - 1; n2 >= 0; --n2) {
            var c = t3.charCodeAt(n2);
            if (47 === c) {
              if (!a2) {
                o = n2 + 1;
                break;
              }
            } else
              -1 === s && (a2 = false, s = n2 + 1), h >= 0 && (c === r3.charCodeAt(h) ? -1 == --h && (i = n2) : (h = -1, i = s));
          }
          return o === i ? i = s : -1 === i && (i = t3.length), t3.slice(o, i);
        }
        for (n2 = t3.length - 1; n2 >= 0; --n2)
          if (47 === t3.charCodeAt(n2)) {
            if (!a2) {
              o = n2 + 1;
              break;
            }
          } else
            -1 === i && (a2 = false, i = n2 + 1);
        return -1 === i ? "" : t3.slice(o, i);
      }, extname: function(t3) {
        e2(t3);
        for (var r3 = -1, n2 = 0, o = -1, i = true, a2 = 0, h = t3.length - 1; h >= 0; --h) {
          var s = t3.charCodeAt(h);
          if (47 !== s)
            -1 === o && (i = false, o = h + 1), 46 === s ? -1 === r3 ? r3 = h : 1 !== a2 && (a2 = 1) : -1 !== r3 && (a2 = -1);
          else if (!i) {
            n2 = h + 1;
            break;
          }
        }
        return -1 === r3 || -1 === o || 0 === a2 || 1 === a2 && r3 === o - 1 && r3 === n2 + 1 ? "" : t3.slice(r3, o);
      }, format: function(t3) {
        if (null === t3 || "object" != typeof t3)
          throw new TypeError('The "pathObject" argument must be of type Object. Received type ' + typeof t3);
        return function(t4, e3) {
          var r3 = e3.dir || e3.root, n2 = e3.base || (e3.name || "") + (e3.ext || "");
          return r3 ? r3 === e3.root ? r3 + n2 : r3 + "/" + n2 : n2;
        }(0, t3);
      }, parse: function(t3) {
        e2(t3);
        var r3 = { root: "", dir: "", base: "", ext: "", name: "" };
        if (0 === t3.length)
          return r3;
        var n2, o = t3.charCodeAt(0), i = 47 === o;
        i ? (r3.root = "/", n2 = 1) : n2 = 0;
        for (var a2 = -1, h = 0, s = -1, c = true, f2 = t3.length - 1, u = 0; f2 >= n2; --f2)
          if (47 !== (o = t3.charCodeAt(f2)))
            -1 === s && (c = false, s = f2 + 1), 46 === o ? -1 === a2 ? a2 = f2 : 1 !== u && (u = 1) : -1 !== a2 && (u = -1);
          else if (!c) {
            h = f2 + 1;
            break;
          }
        return -1 === a2 || -1 === s || 0 === u || 1 === u && a2 === s - 1 && a2 === h + 1 ? -1 !== s && (r3.base = r3.name = 0 === h && i ? t3.slice(1, s) : t3.slice(h, s)) : (0 === h && i ? (r3.name = t3.slice(1, a2), r3.base = t3.slice(1, s)) : (r3.name = t3.slice(h, a2), r3.base = t3.slice(h, s)), r3.ext = t3.slice(a2, s)), h > 0 ? r3.dir = t3.slice(0, h - 1) : i && (r3.dir = "/"), r3;
      }, sep: "/", delimiter: ":", win32: null, posix: null };
      n.posix = n, t2.exports = n;
    }, 447: (t2, e2, r2) => {
      var n;
      if (r2.r(e2), r2.d(e2, { URI: () => d, Utils: () => P }), "object" == typeof process)
        n = "win32" === process.platform;
      else if ("object" == typeof navigator) {
        var o = navigator.userAgent;
        n = o.indexOf("Windows") >= 0;
      }
      var i, a2, h = (i = function(t3, e3) {
        return (i = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t4, e4) {
          t4.__proto__ = e4;
        } || function(t4, e4) {
          for (var r3 in e4)
            Object.prototype.hasOwnProperty.call(e4, r3) && (t4[r3] = e4[r3]);
        })(t3, e3);
      }, function(t3, e3) {
        if ("function" != typeof e3 && null !== e3)
          throw new TypeError("Class extends value " + String(e3) + " is not a constructor or null");
        function r3() {
          this.constructor = t3;
        }
        i(t3, e3), t3.prototype = null === e3 ? Object.create(e3) : (r3.prototype = e3.prototype, new r3());
      }), s = /^\w[\w\d+.-]*$/, c = /^\//, f2 = /^\/\//;
      function u(t3, e3) {
        if (!t3.scheme && e3)
          throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(t3.authority, '", path: "').concat(t3.path, '", query: "').concat(t3.query, '", fragment: "').concat(t3.fragment, '"}'));
        if (t3.scheme && !s.test(t3.scheme))
          throw new Error("[UriError]: Scheme contains illegal characters.");
        if (t3.path) {
          if (t3.authority) {
            if (!c.test(t3.path))
              throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character');
          } else if (f2.test(t3.path))
            throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")');
        }
      }
      var l = "", p = "/", g = /^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/, d = function() {
        function t3(t4, e3, r3, n2, o2, i2) {
          void 0 === i2 && (i2 = false), "object" == typeof t4 ? (this.scheme = t4.scheme || l, this.authority = t4.authority || l, this.path = t4.path || l, this.query = t4.query || l, this.fragment = t4.fragment || l) : (this.scheme = /* @__PURE__ */ function(t5, e4) {
            return t5 || e4 ? t5 : "file";
          }(t4, i2), this.authority = e3 || l, this.path = function(t5, e4) {
            switch (t5) {
              case "https":
              case "http":
              case "file":
                e4 ? e4[0] !== p && (e4 = p + e4) : e4 = p;
            }
            return e4;
          }(this.scheme, r3 || l), this.query = n2 || l, this.fragment = o2 || l, u(this, i2));
        }
        return t3.isUri = function(e3) {
          return e3 instanceof t3 || !!e3 && "string" == typeof e3.authority && "string" == typeof e3.fragment && "string" == typeof e3.path && "string" == typeof e3.query && "string" == typeof e3.scheme && "string" == typeof e3.fsPath && "function" == typeof e3.with && "function" == typeof e3.toString;
        }, Object.defineProperty(t3.prototype, "fsPath", { get: function() {
          return A2(this, false);
        }, enumerable: false, configurable: true }), t3.prototype.with = function(t4) {
          if (!t4)
            return this;
          var e3 = t4.scheme, r3 = t4.authority, n2 = t4.path, o2 = t4.query, i2 = t4.fragment;
          return void 0 === e3 ? e3 = this.scheme : null === e3 && (e3 = l), void 0 === r3 ? r3 = this.authority : null === r3 && (r3 = l), void 0 === n2 ? n2 = this.path : null === n2 && (n2 = l), void 0 === o2 ? o2 = this.query : null === o2 && (o2 = l), void 0 === i2 ? i2 = this.fragment : null === i2 && (i2 = l), e3 === this.scheme && r3 === this.authority && n2 === this.path && o2 === this.query && i2 === this.fragment ? this : new y(e3, r3, n2, o2, i2);
        }, t3.parse = function(t4, e3) {
          void 0 === e3 && (e3 = false);
          var r3 = g.exec(t4);
          return r3 ? new y(r3[2] || l, O(r3[4] || l), O(r3[5] || l), O(r3[7] || l), O(r3[9] || l), e3) : new y(l, l, l, l, l);
        }, t3.file = function(t4) {
          var e3 = l;
          if (n && (t4 = t4.replace(/\\/g, p)), t4[0] === p && t4[1] === p) {
            var r3 = t4.indexOf(p, 2);
            -1 === r3 ? (e3 = t4.substring(2), t4 = p) : (e3 = t4.substring(2, r3), t4 = t4.substring(r3) || p);
          }
          return new y("file", e3, t4, l, l);
        }, t3.from = function(t4) {
          var e3 = new y(t4.scheme, t4.authority, t4.path, t4.query, t4.fragment);
          return u(e3, true), e3;
        }, t3.prototype.toString = function(t4) {
          return void 0 === t4 && (t4 = false), w(this, t4);
        }, t3.prototype.toJSON = function() {
          return this;
        }, t3.revive = function(e3) {
          if (e3) {
            if (e3 instanceof t3)
              return e3;
            var r3 = new y(e3);
            return r3._formatted = e3.external, r3._fsPath = e3._sep === v ? e3.fsPath : null, r3;
          }
          return e3;
        }, t3;
      }(), v = n ? 1 : void 0, y = function(t3) {
        function e3() {
          var e4 = null !== t3 && t3.apply(this, arguments) || this;
          return e4._formatted = null, e4._fsPath = null, e4;
        }
        return h(e3, t3), Object.defineProperty(e3.prototype, "fsPath", { get: function() {
          return this._fsPath || (this._fsPath = A2(this, false)), this._fsPath;
        }, enumerable: false, configurable: true }), e3.prototype.toString = function(t4) {
          return void 0 === t4 && (t4 = false), t4 ? w(this, true) : (this._formatted || (this._formatted = w(this, false)), this._formatted);
        }, e3.prototype.toJSON = function() {
          var t4 = { $mid: 1 };
          return this._fsPath && (t4.fsPath = this._fsPath, t4._sep = v), this._formatted && (t4.external = this._formatted), this.path && (t4.path = this.path), this.scheme && (t4.scheme = this.scheme), this.authority && (t4.authority = this.authority), this.query && (t4.query = this.query), this.fragment && (t4.fragment = this.fragment), t4;
        }, e3;
      }(d), m = ((a2 = {})[58] = "%3A", a2[47] = "%2F", a2[63] = "%3F", a2[35] = "%23", a2[91] = "%5B", a2[93] = "%5D", a2[64] = "%40", a2[33] = "%21", a2[36] = "%24", a2[38] = "%26", a2[39] = "%27", a2[40] = "%28", a2[41] = "%29", a2[42] = "%2A", a2[43] = "%2B", a2[44] = "%2C", a2[59] = "%3B", a2[61] = "%3D", a2[32] = "%20", a2);
      function b(t3, e3) {
        for (var r3 = void 0, n2 = -1, o2 = 0; o2 < t3.length; o2++) {
          var i2 = t3.charCodeAt(o2);
          if (i2 >= 97 && i2 <= 122 || i2 >= 65 && i2 <= 90 || i2 >= 48 && i2 <= 57 || 45 === i2 || 46 === i2 || 95 === i2 || 126 === i2 || e3 && 47 === i2)
            -1 !== n2 && (r3 += encodeURIComponent(t3.substring(n2, o2)), n2 = -1), void 0 !== r3 && (r3 += t3.charAt(o2));
          else {
            void 0 === r3 && (r3 = t3.substr(0, o2));
            var a3 = m[i2];
            void 0 !== a3 ? (-1 !== n2 && (r3 += encodeURIComponent(t3.substring(n2, o2)), n2 = -1), r3 += a3) : -1 === n2 && (n2 = o2);
          }
        }
        return -1 !== n2 && (r3 += encodeURIComponent(t3.substring(n2))), void 0 !== r3 ? r3 : t3;
      }
      function C(t3) {
        for (var e3 = void 0, r3 = 0; r3 < t3.length; r3++) {
          var n2 = t3.charCodeAt(r3);
          35 === n2 || 63 === n2 ? (void 0 === e3 && (e3 = t3.substr(0, r3)), e3 += m[n2]) : void 0 !== e3 && (e3 += t3[r3]);
        }
        return void 0 !== e3 ? e3 : t3;
      }
      function A2(t3, e3) {
        var r3;
        return r3 = t3.authority && t3.path.length > 1 && "file" === t3.scheme ? "//".concat(t3.authority).concat(t3.path) : 47 === t3.path.charCodeAt(0) && (t3.path.charCodeAt(1) >= 65 && t3.path.charCodeAt(1) <= 90 || t3.path.charCodeAt(1) >= 97 && t3.path.charCodeAt(1) <= 122) && 58 === t3.path.charCodeAt(2) ? e3 ? t3.path.substr(1) : t3.path[1].toLowerCase() + t3.path.substr(2) : t3.path, n && (r3 = r3.replace(/\//g, "\\")), r3;
      }
      function w(t3, e3) {
        var r3 = e3 ? C : b, n2 = "", o2 = t3.scheme, i2 = t3.authority, a3 = t3.path, h2 = t3.query, s2 = t3.fragment;
        if (o2 && (n2 += o2, n2 += ":"), (i2 || "file" === o2) && (n2 += p, n2 += p), i2) {
          var c2 = i2.indexOf("@");
          if (-1 !== c2) {
            var f3 = i2.substr(0, c2);
            i2 = i2.substr(c2 + 1), -1 === (c2 = f3.indexOf(":")) ? n2 += r3(f3, false) : (n2 += r3(f3.substr(0, c2), false), n2 += ":", n2 += r3(f3.substr(c2 + 1), false)), n2 += "@";
          }
          -1 === (c2 = (i2 = i2.toLowerCase()).indexOf(":")) ? n2 += r3(i2, false) : (n2 += r3(i2.substr(0, c2), false), n2 += i2.substr(c2));
        }
        if (a3) {
          if (a3.length >= 3 && 47 === a3.charCodeAt(0) && 58 === a3.charCodeAt(2))
            (u2 = a3.charCodeAt(1)) >= 65 && u2 <= 90 && (a3 = "/".concat(String.fromCharCode(u2 + 32), ":").concat(a3.substr(3)));
          else if (a3.length >= 2 && 58 === a3.charCodeAt(1)) {
            var u2;
            (u2 = a3.charCodeAt(0)) >= 65 && u2 <= 90 && (a3 = "".concat(String.fromCharCode(u2 + 32), ":").concat(a3.substr(2)));
          }
          n2 += r3(a3, true);
        }
        return h2 && (n2 += "?", n2 += r3(h2, false)), s2 && (n2 += "#", n2 += e3 ? s2 : b(s2, false)), n2;
      }
      function x(t3) {
        try {
          return decodeURIComponent(t3);
        } catch (e3) {
          return t3.length > 3 ? t3.substr(0, 3) + x(t3.substr(3)) : t3;
        }
      }
      var _ = /(%[0-9A-Za-z][0-9A-Za-z])+/g;
      function O(t3) {
        return t3.match(_) ? t3.replace(_, function(t4) {
          return x(t4);
        }) : t3;
      }
      var P, j = r2(470), U = function(t3, e3, r3) {
        if (r3 || 2 === arguments.length)
          for (var n2, o2 = 0, i2 = e3.length; o2 < i2; o2++)
            !n2 && o2 in e3 || (n2 || (n2 = Array.prototype.slice.call(e3, 0, o2)), n2[o2] = e3[o2]);
        return t3.concat(n2 || Array.prototype.slice.call(e3));
      }, I = j.posix || j;
      !function(t3) {
        t3.joinPath = function(t4) {
          for (var e3 = [], r3 = 1; r3 < arguments.length; r3++)
            e3[r3 - 1] = arguments[r3];
          return t4.with({ path: I.join.apply(I, U([t4.path], e3, false)) });
        }, t3.resolvePath = function(t4) {
          for (var e3 = [], r3 = 1; r3 < arguments.length; r3++)
            e3[r3 - 1] = arguments[r3];
          var n2 = t4.path || "/";
          return t4.with({ path: I.resolve.apply(I, U([n2], e3, false)) });
        }, t3.dirname = function(t4) {
          var e3 = I.dirname(t4.path);
          return 1 === e3.length && 46 === e3.charCodeAt(0) ? t4 : t4.with({ path: e3 });
        }, t3.basename = function(t4) {
          return I.basename(t4.path);
        }, t3.extname = function(t4) {
          return I.extname(t4.path);
        };
      }(P || (P = {}));
    } }, e = {};
    function r(n) {
      if (e[n])
        return e[n].exports;
      var o = e[n] = { exports: {} };
      return t[n](o, o.exports, r), o.exports;
    }
    return r.d = (t2, e2) => {
      for (var n in e2)
        r.o(e2, n) && !r.o(t2, n) && Object.defineProperty(t2, n, { enumerable: true, get: e2[n] });
    }, r.o = (t2, e2) => Object.prototype.hasOwnProperty.call(t2, e2), r.r = (t2) => {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t2, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t2, "__esModule", { value: true });
    }, r(447);
  })();
  var { URI, Utils } = LIB;
  function createRegex(glob, opts) {
    if (typeof glob !== "string") {
      throw new TypeError("Expected a string");
    }
    var str = String(glob);
    var reStr = "";
    var extended = opts ? !!opts.extended : false;
    var globstar = opts ? !!opts.globstar : false;
    var inGroup = false;
    var flags = opts && typeof opts.flags === "string" ? opts.flags : "";
    var c;
    for (var i = 0, len = str.length; i < len; i++) {
      c = str[i];
      switch (c) {
        case "/":
        case "$":
        case "^":
        case "+":
        case ".":
        case "(":
        case ")":
        case "=":
        case "!":
        case "|":
          reStr += "\\" + c;
          break;
        case "?":
          if (extended) {
            reStr += ".";
            break;
          }
        case "[":
        case "]":
          if (extended) {
            reStr += c;
            break;
          }
        case "{":
          if (extended) {
            inGroup = true;
            reStr += "(";
            break;
          }
        case "}":
          if (extended) {
            inGroup = false;
            reStr += ")";
            break;
          }
        case ",":
          if (inGroup) {
            reStr += "|";
            break;
          }
          reStr += "\\" + c;
          break;
        case "*":
          var prevChar = str[i - 1];
          var starCount = 1;
          while (str[i + 1] === "*") {
            starCount++;
            i++;
          }
          var nextChar = str[i + 1];
          if (!globstar) {
            reStr += ".*";
          } else {
            var isGlobstar = starCount > 1 && (prevChar === "/" || prevChar === void 0 || prevChar === "{" || prevChar === ",") && (nextChar === "/" || nextChar === void 0 || nextChar === "," || nextChar === "}");
            if (isGlobstar) {
              if (nextChar === "/") {
                i++;
              } else if (prevChar === "/" && reStr.endsWith("\\/")) {
                reStr = reStr.substr(0, reStr.length - 2);
              }
              reStr += "((?:[^/]*(?:/|$))*)";
            } else {
              reStr += "([^/]*)";
            }
          }
          break;
        default:
          reStr += c;
      }
    }
    if (!flags || !~flags.indexOf("g")) {
      reStr = "^" + reStr + "$";
    }
    return new RegExp(reStr, flags);
  }
  var localize6 = loadMessageBundle();
  var BANG = "!";
  var PATH_SEP = "/";
  var FilePatternAssociation = function() {
    function FilePatternAssociation2(pattern, uris) {
      this.globWrappers = [];
      try {
        for (var _i = 0, pattern_1 = pattern; _i < pattern_1.length; _i++) {
          var patternString = pattern_1[_i];
          var include = patternString[0] !== BANG;
          if (!include) {
            patternString = patternString.substring(1);
          }
          if (patternString.length > 0) {
            if (patternString[0] === PATH_SEP) {
              patternString = patternString.substring(1);
            }
            this.globWrappers.push({
              regexp: createRegex("**/" + patternString, { extended: true, globstar: true }),
              include
            });
          }
        }
        ;
        this.uris = uris;
      } catch (e) {
        this.globWrappers.length = 0;
        this.uris = [];
      }
    }
    FilePatternAssociation2.prototype.matchesPattern = function(fileName) {
      var match = false;
      for (var _i = 0, _a2 = this.globWrappers; _i < _a2.length; _i++) {
        var _b = _a2[_i], regexp = _b.regexp, include = _b.include;
        if (regexp.test(fileName)) {
          match = include;
        }
      }
      return match;
    };
    FilePatternAssociation2.prototype.getURIs = function() {
      return this.uris;
    };
    return FilePatternAssociation2;
  }();
  var SchemaHandle = function() {
    function SchemaHandle2(service, uri, unresolvedSchemaContent) {
      this.service = service;
      this.uri = uri;
      this.dependencies = /* @__PURE__ */ new Set();
      this.anchors = void 0;
      if (unresolvedSchemaContent) {
        this.unresolvedSchema = this.service.promise.resolve(new UnresolvedSchema(unresolvedSchemaContent));
      }
    }
    SchemaHandle2.prototype.getUnresolvedSchema = function() {
      if (!this.unresolvedSchema) {
        this.unresolvedSchema = this.service.loadSchema(this.uri);
      }
      return this.unresolvedSchema;
    };
    SchemaHandle2.prototype.getResolvedSchema = function() {
      var _this = this;
      if (!this.resolvedSchema) {
        this.resolvedSchema = this.getUnresolvedSchema().then(function(unresolved) {
          return _this.service.resolveSchemaContent(unresolved, _this);
        });
      }
      return this.resolvedSchema;
    };
    SchemaHandle2.prototype.clearSchema = function() {
      var hasChanges = !!this.unresolvedSchema;
      this.resolvedSchema = void 0;
      this.unresolvedSchema = void 0;
      this.dependencies.clear();
      this.anchors = void 0;
      return hasChanges;
    };
    return SchemaHandle2;
  }();
  var UnresolvedSchema = /* @__PURE__ */ function() {
    function UnresolvedSchema2(schema2, errors) {
      if (errors === void 0) {
        errors = [];
      }
      this.schema = schema2;
      this.errors = errors;
    }
    return UnresolvedSchema2;
  }();
  var ResolvedSchema = function() {
    function ResolvedSchema2(schema2, errors) {
      if (errors === void 0) {
        errors = [];
      }
      this.schema = schema2;
      this.errors = errors;
    }
    ResolvedSchema2.prototype.getSection = function(path) {
      var schemaRef = this.getSectionRecursive(path, this.schema);
      if (schemaRef) {
        return asSchema(schemaRef);
      }
      return void 0;
    };
    ResolvedSchema2.prototype.getSectionRecursive = function(path, schema2) {
      if (!schema2 || typeof schema2 === "boolean" || path.length === 0) {
        return schema2;
      }
      var next = path.shift();
      if (schema2.properties && typeof schema2.properties[next]) {
        return this.getSectionRecursive(path, schema2.properties[next]);
      } else if (schema2.patternProperties) {
        for (var _i = 0, _a2 = Object.keys(schema2.patternProperties); _i < _a2.length; _i++) {
          var pattern = _a2[_i];
          var regex = extendedRegExp(pattern);
          if (regex === null || regex === void 0 ? void 0 : regex.test(next)) {
            return this.getSectionRecursive(path, schema2.patternProperties[pattern]);
          }
        }
      } else if (typeof schema2.additionalProperties === "object") {
        return this.getSectionRecursive(path, schema2.additionalProperties);
      } else if (next.match("[0-9]+")) {
        if (Array.isArray(schema2.items)) {
          var index = parseInt(next, 10);
          if (!isNaN(index) && schema2.items[index]) {
            return this.getSectionRecursive(path, schema2.items[index]);
          }
        } else if (schema2.items) {
          return this.getSectionRecursive(path, schema2.items);
        }
      }
      return void 0;
    };
    return ResolvedSchema2;
  }();
  var JSONSchemaService = function() {
    function JSONSchemaService2(requestService, contextService, promiseConstructor) {
      this.contextService = contextService;
      this.requestService = requestService;
      this.promiseConstructor = promiseConstructor || Promise;
      this.callOnDispose = [];
      this.contributionSchemas = {};
      this.contributionAssociations = [];
      this.schemasById = {};
      this.filePatternAssociations = [];
      this.registeredSchemasIds = {};
    }
    JSONSchemaService2.prototype.getRegisteredSchemaIds = function(filter) {
      return Object.keys(this.registeredSchemasIds).filter(function(id) {
        var scheme = URI.parse(id).scheme;
        return scheme !== "schemaservice" && (!filter || filter(scheme));
      });
    };
    Object.defineProperty(JSONSchemaService2.prototype, "promise", {
      get: function() {
        return this.promiseConstructor;
      },
      enumerable: false,
      configurable: true
    });
    JSONSchemaService2.prototype.dispose = function() {
      while (this.callOnDispose.length > 0) {
        this.callOnDispose.pop()();
      }
    };
    JSONSchemaService2.prototype.onResourceChange = function(uri) {
      var _this = this;
      this.cachedSchemaForResource = void 0;
      var hasChanges = false;
      uri = normalizeId(uri);
      var toWalk = [uri];
      var all = Object.keys(this.schemasById).map(function(key) {
        return _this.schemasById[key];
      });
      while (toWalk.length) {
        var curr = toWalk.pop();
        for (var i = 0; i < all.length; i++) {
          var handle = all[i];
          if (handle && (handle.uri === curr || handle.dependencies.has(curr))) {
            if (handle.uri !== curr) {
              toWalk.push(handle.uri);
            }
            if (handle.clearSchema()) {
              hasChanges = true;
            }
            all[i] = void 0;
          }
        }
      }
      return hasChanges;
    };
    JSONSchemaService2.prototype.setSchemaContributions = function(schemaContributions2) {
      if (schemaContributions2.schemas) {
        var schemas = schemaContributions2.schemas;
        for (var id in schemas) {
          var normalizedId = normalizeId(id);
          this.contributionSchemas[normalizedId] = this.addSchemaHandle(normalizedId, schemas[id]);
        }
      }
      if (Array.isArray(schemaContributions2.schemaAssociations)) {
        var schemaAssociations = schemaContributions2.schemaAssociations;
        for (var _i = 0, schemaAssociations_1 = schemaAssociations; _i < schemaAssociations_1.length; _i++) {
          var schemaAssociation = schemaAssociations_1[_i];
          var uris = schemaAssociation.uris.map(normalizeId);
          var association = this.addFilePatternAssociation(schemaAssociation.pattern, uris);
          this.contributionAssociations.push(association);
        }
      }
    };
    JSONSchemaService2.prototype.addSchemaHandle = function(id, unresolvedSchemaContent) {
      var schemaHandle = new SchemaHandle(this, id, unresolvedSchemaContent);
      this.schemasById[id] = schemaHandle;
      return schemaHandle;
    };
    JSONSchemaService2.prototype.getOrAddSchemaHandle = function(id, unresolvedSchemaContent) {
      return this.schemasById[id] || this.addSchemaHandle(id, unresolvedSchemaContent);
    };
    JSONSchemaService2.prototype.addFilePatternAssociation = function(pattern, uris) {
      var fpa = new FilePatternAssociation(pattern, uris);
      this.filePatternAssociations.push(fpa);
      return fpa;
    };
    JSONSchemaService2.prototype.registerExternalSchema = function(uri, filePatterns, unresolvedSchemaContent) {
      var id = normalizeId(uri);
      this.registeredSchemasIds[id] = true;
      this.cachedSchemaForResource = void 0;
      if (filePatterns) {
        this.addFilePatternAssociation(filePatterns, [id]);
      }
      return unresolvedSchemaContent ? this.addSchemaHandle(id, unresolvedSchemaContent) : this.getOrAddSchemaHandle(id);
    };
    JSONSchemaService2.prototype.clearExternalSchemas = function() {
      this.schemasById = {};
      this.filePatternAssociations = [];
      this.registeredSchemasIds = {};
      this.cachedSchemaForResource = void 0;
      for (var id in this.contributionSchemas) {
        this.schemasById[id] = this.contributionSchemas[id];
        this.registeredSchemasIds[id] = true;
      }
      for (var _i = 0, _a2 = this.contributionAssociations; _i < _a2.length; _i++) {
        var contributionAssociation = _a2[_i];
        this.filePatternAssociations.push(contributionAssociation);
      }
    };
    JSONSchemaService2.prototype.getResolvedSchema = function(schemaId) {
      var id = normalizeId(schemaId);
      var schemaHandle = this.schemasById[id];
      if (schemaHandle) {
        return schemaHandle.getResolvedSchema();
      }
      return this.promise.resolve(void 0);
    };
    JSONSchemaService2.prototype.loadSchema = function(url) {
      if (!this.requestService) {
        var errorMessage = localize6("json.schema.norequestservice", "Unable to load schema from '{0}'. No schema request service available", toDisplayString(url));
        return this.promise.resolve(new UnresolvedSchema({}, [errorMessage]));
      }
      return this.requestService(url).then(function(content) {
        if (!content) {
          var errorMessage2 = localize6("json.schema.nocontent", "Unable to load schema from '{0}': No content.", toDisplayString(url));
          return new UnresolvedSchema({}, [errorMessage2]);
        }
        var schemaContent = {};
        var jsonErrors = [];
        schemaContent = parse2(content, jsonErrors);
        var errors = jsonErrors.length ? [localize6("json.schema.invalidFormat", "Unable to parse content from '{0}': Parse error at offset {1}.", toDisplayString(url), jsonErrors[0].offset)] : [];
        return new UnresolvedSchema(schemaContent, errors);
      }, function(error) {
        var errorMessage2 = error.toString();
        var errorSplit = error.toString().split("Error: ");
        if (errorSplit.length > 1) {
          errorMessage2 = errorSplit[1];
        }
        if (endsWith(errorMessage2, ".")) {
          errorMessage2 = errorMessage2.substr(0, errorMessage2.length - 1);
        }
        return new UnresolvedSchema({}, [localize6("json.schema.nocontent", "Unable to load schema from '{0}': {1}.", toDisplayString(url), errorMessage2)]);
      });
    };
    JSONSchemaService2.prototype.resolveSchemaContent = function(schemaToResolve, handle) {
      var _this = this;
      var resolveErrors = schemaToResolve.errors.slice(0);
      var schema2 = schemaToResolve.schema;
      if (schema2.$schema) {
        var id = normalizeId(schema2.$schema);
        if (id === "http://json-schema.org/draft-03/schema") {
          return this.promise.resolve(new ResolvedSchema({}, [localize6("json.schema.draft03.notsupported", "Draft-03 schemas are not supported.")]));
        } else if (id === "https://json-schema.org/draft/2019-09/schema") {
          resolveErrors.push(localize6("json.schema.draft201909.notsupported", "Draft 2019-09 schemas are not yet fully supported."));
        } else if (id === "https://json-schema.org/draft/2020-12/schema") {
          resolveErrors.push(localize6("json.schema.draft202012.notsupported", "Draft 2020-12 schemas are not yet fully supported."));
        }
      }
      var contextService = this.contextService;
      var findSectionByJSONPointer = function(schema22, path) {
        path = decodeURIComponent(path);
        var current = schema22;
        if (path[0] === "/") {
          path = path.substring(1);
        }
        path.split("/").some(function(part) {
          part = part.replace(/~1/g, "/").replace(/~0/g, "~");
          current = current[part];
          return !current;
        });
        return current;
      };
      var findSchemaById = function(schema22, handle2, id2) {
        if (!handle2.anchors) {
          handle2.anchors = collectAnchors(schema22);
        }
        return handle2.anchors.get(id2);
      };
      var merge = function(target, section) {
        for (var key in section) {
          if (section.hasOwnProperty(key) && !target.hasOwnProperty(key) && key !== "id" && key !== "$id") {
            target[key] = section[key];
          }
        }
      };
      var mergeRef = function(target, sourceRoot, sourceHandle, refSegment) {
        var section;
        if (refSegment === void 0 || refSegment.length === 0) {
          section = sourceRoot;
        } else if (refSegment.charAt(0) === "/") {
          section = findSectionByJSONPointer(sourceRoot, refSegment);
        } else {
          section = findSchemaById(sourceRoot, sourceHandle, refSegment);
        }
        if (section) {
          merge(target, section);
        } else {
          resolveErrors.push(localize6("json.schema.invalidid", "$ref '{0}' in '{1}' can not be resolved.", refSegment, sourceHandle.uri));
        }
      };
      var resolveExternalLink = function(node, uri, refSegment, parentHandle) {
        if (contextService && !/^[A-Za-z][A-Za-z0-9+\-.+]*:\/\/.*/.test(uri)) {
          uri = contextService.resolveRelativePath(uri, parentHandle.uri);
        }
        uri = normalizeId(uri);
        var referencedHandle = _this.getOrAddSchemaHandle(uri);
        return referencedHandle.getUnresolvedSchema().then(function(unresolvedSchema) {
          parentHandle.dependencies.add(uri);
          if (unresolvedSchema.errors.length) {
            var loc = refSegment ? uri + "#" + refSegment : uri;
            resolveErrors.push(localize6("json.schema.problemloadingref", "Problems loading reference '{0}': {1}", loc, unresolvedSchema.errors[0]));
          }
          mergeRef(node, unresolvedSchema.schema, referencedHandle, refSegment);
          return resolveRefs(node, unresolvedSchema.schema, referencedHandle);
        });
      };
      var resolveRefs = function(node, parentSchema, parentHandle) {
        var openPromises = [];
        _this.traverseNodes(node, function(next) {
          var seenRefs = /* @__PURE__ */ new Set();
          while (next.$ref) {
            var ref = next.$ref;
            var segments = ref.split("#", 2);
            delete next.$ref;
            if (segments[0].length > 0) {
              openPromises.push(resolveExternalLink(next, segments[0], segments[1], parentHandle));
              return;
            } else {
              if (!seenRefs.has(ref)) {
                var id2 = segments[1];
                mergeRef(next, parentSchema, parentHandle, id2);
                seenRefs.add(ref);
              }
            }
          }
        });
        return _this.promise.all(openPromises);
      };
      var collectAnchors = function(root) {
        var result = /* @__PURE__ */ new Map();
        _this.traverseNodes(root, function(next) {
          var id2 = next.$id || next.id;
          if (typeof id2 === "string" && id2.charAt(0) === "#") {
            var anchor = id2.substring(1);
            if (result.has(anchor)) {
              resolveErrors.push(localize6("json.schema.duplicateid", "Duplicate id declaration: '{0}'", id2));
            } else {
              result.set(anchor, next);
            }
          }
        });
        return result;
      };
      return resolveRefs(schema2, schema2, handle).then(function(_) {
        return new ResolvedSchema(schema2, resolveErrors);
      });
    };
    JSONSchemaService2.prototype.traverseNodes = function(root, handle) {
      if (!root || typeof root !== "object") {
        return Promise.resolve(null);
      }
      var seen = /* @__PURE__ */ new Set();
      var collectEntries = function() {
        var entries = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          entries[_i] = arguments[_i];
        }
        for (var _a2 = 0, entries_1 = entries; _a2 < entries_1.length; _a2++) {
          var entry = entries_1[_a2];
          if (typeof entry === "object") {
            toWalk.push(entry);
          }
        }
      };
      var collectMapEntries = function() {
        var maps = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          maps[_i] = arguments[_i];
        }
        for (var _a2 = 0, maps_1 = maps; _a2 < maps_1.length; _a2++) {
          var map = maps_1[_a2];
          if (typeof map === "object") {
            for (var k in map) {
              var key = k;
              var entry = map[key];
              if (typeof entry === "object") {
                toWalk.push(entry);
              }
            }
          }
        }
      };
      var collectArrayEntries = function() {
        var arrays = [];
        for (var _i = 0; _i < arguments.length; _i++) {
          arrays[_i] = arguments[_i];
        }
        for (var _a2 = 0, arrays_1 = arrays; _a2 < arrays_1.length; _a2++) {
          var array = arrays_1[_a2];
          if (Array.isArray(array)) {
            for (var _b = 0, array_1 = array; _b < array_1.length; _b++) {
              var entry = array_1[_b];
              if (typeof entry === "object") {
                toWalk.push(entry);
              }
            }
          }
        }
      };
      var toWalk = [root];
      var next = toWalk.pop();
      while (next) {
        if (!seen.has(next)) {
          seen.add(next);
          handle(next);
          collectEntries(next.items, next.additionalItems, next.additionalProperties, next.not, next.contains, next.propertyNames, next.if, next.then, next.else);
          collectMapEntries(next.definitions, next.properties, next.patternProperties, next.dependencies);
          collectArrayEntries(next.anyOf, next.allOf, next.oneOf, next.items);
        }
        next = toWalk.pop();
      }
    };
    JSONSchemaService2.prototype.getSchemaFromProperty = function(resource, document2) {
      var _a2, _b;
      if (((_a2 = document2.root) === null || _a2 === void 0 ? void 0 : _a2.type) === "object") {
        for (var _i = 0, _c = document2.root.properties; _i < _c.length; _i++) {
          var p = _c[_i];
          if (p.keyNode.value === "$schema" && ((_b = p.valueNode) === null || _b === void 0 ? void 0 : _b.type) === "string") {
            var schemaId = p.valueNode.value;
            if (this.contextService && !/^\w[\w\d+.-]*:/.test(schemaId)) {
              schemaId = this.contextService.resolveRelativePath(schemaId, resource);
            }
            return schemaId;
          }
        }
      }
      return void 0;
    };
    JSONSchemaService2.prototype.getAssociatedSchemas = function(resource) {
      var seen = /* @__PURE__ */ Object.create(null);
      var schemas = [];
      var normalizedResource = normalizeResourceForMatching(resource);
      for (var _i = 0, _a2 = this.filePatternAssociations; _i < _a2.length; _i++) {
        var entry = _a2[_i];
        if (entry.matchesPattern(normalizedResource)) {
          for (var _b = 0, _c = entry.getURIs(); _b < _c.length; _b++) {
            var schemaId = _c[_b];
            if (!seen[schemaId]) {
              schemas.push(schemaId);
              seen[schemaId] = true;
            }
          }
        }
      }
      return schemas;
    };
    JSONSchemaService2.prototype.getSchemaURIsForResource = function(resource, document2) {
      var schemeId = document2 && this.getSchemaFromProperty(resource, document2);
      if (schemeId) {
        return [schemeId];
      }
      return this.getAssociatedSchemas(resource);
    };
    JSONSchemaService2.prototype.getSchemaForResource = function(resource, document2) {
      if (document2) {
        var schemeId = this.getSchemaFromProperty(resource, document2);
        if (schemeId) {
          var id = normalizeId(schemeId);
          return this.getOrAddSchemaHandle(id).getResolvedSchema();
        }
      }
      if (this.cachedSchemaForResource && this.cachedSchemaForResource.resource === resource) {
        return this.cachedSchemaForResource.resolvedSchema;
      }
      var schemas = this.getAssociatedSchemas(resource);
      var resolvedSchema = schemas.length > 0 ? this.createCombinedSchema(resource, schemas).getResolvedSchema() : this.promise.resolve(void 0);
      this.cachedSchemaForResource = { resource, resolvedSchema };
      return resolvedSchema;
    };
    JSONSchemaService2.prototype.createCombinedSchema = function(resource, schemaIds) {
      if (schemaIds.length === 1) {
        return this.getOrAddSchemaHandle(schemaIds[0]);
      } else {
        var combinedSchemaId = "schemaservice://combinedSchema/" + encodeURIComponent(resource);
        var combinedSchema = {
          allOf: schemaIds.map(function(schemaId) {
            return { $ref: schemaId };
          })
        };
        return this.addSchemaHandle(combinedSchemaId, combinedSchema);
      }
    };
    JSONSchemaService2.prototype.getMatchingSchemas = function(document2, jsonDocument, schema2) {
      if (schema2) {
        var id = schema2.id || "schemaservice://untitled/matchingSchemas/" + idCounter2++;
        var handle = this.addSchemaHandle(id, schema2);
        return handle.getResolvedSchema().then(function(resolvedSchema) {
          return jsonDocument.getMatchingSchemas(resolvedSchema.schema).filter(function(s) {
            return !s.inverted;
          });
        });
      }
      return this.getSchemaForResource(document2.uri, jsonDocument).then(function(schema22) {
        if (schema22) {
          return jsonDocument.getMatchingSchemas(schema22.schema).filter(function(s) {
            return !s.inverted;
          });
        }
        return [];
      });
    };
    return JSONSchemaService2;
  }();
  var idCounter2 = 0;
  function normalizeId(id) {
    try {
      return URI.parse(id).toString(true);
    } catch (e) {
      return id;
    }
  }
  function normalizeResourceForMatching(resource) {
    try {
      return URI.parse(resource).with({ fragment: null, query: null }).toString(true);
    } catch (e) {
      return resource;
    }
  }
  function toDisplayString(url) {
    try {
      var uri = URI.parse(url);
      if (uri.scheme === "file") {
        return uri.fsPath;
      }
    } catch (e) {
    }
    return url;
  }
  function getFoldingRanges(document2, context) {
    var ranges = [];
    var nestingLevels = [];
    var stack = [];
    var prevStart = -1;
    var scanner = createScanner2(document2.getText(), false);
    var token = scanner.scan();
    function addRange(range2) {
      ranges.push(range2);
      nestingLevels.push(stack.length);
    }
    while (token !== 17) {
      switch (token) {
        case 1:
        case 3: {
          var startLine = document2.positionAt(scanner.getTokenOffset()).line;
          var range = { startLine, endLine: startLine, kind: token === 1 ? "object" : "array" };
          stack.push(range);
          break;
        }
        case 2:
        case 4: {
          var kind = token === 2 ? "object" : "array";
          if (stack.length > 0 && stack[stack.length - 1].kind === kind) {
            var range = stack.pop();
            var line = document2.positionAt(scanner.getTokenOffset()).line;
            if (range && line > range.startLine + 1 && prevStart !== range.startLine) {
              range.endLine = line - 1;
              addRange(range);
              prevStart = range.startLine;
            }
          }
          break;
        }
        case 13: {
          var startLine = document2.positionAt(scanner.getTokenOffset()).line;
          var endLine = document2.positionAt(scanner.getTokenOffset() + scanner.getTokenLength()).line;
          if (scanner.getTokenError() === 1 && startLine + 1 < document2.lineCount) {
            scanner.setPosition(document2.offsetAt(Position.create(startLine + 1, 0)));
          } else {
            if (startLine < endLine) {
              addRange({ startLine, endLine, kind: FoldingRangeKind.Comment });
              prevStart = startLine;
            }
          }
          break;
        }
        case 12: {
          var text = document2.getText().substr(scanner.getTokenOffset(), scanner.getTokenLength());
          var m = text.match(/^\/\/\s*#(region\b)|(endregion\b)/);
          if (m) {
            var line = document2.positionAt(scanner.getTokenOffset()).line;
            if (m[1]) {
              var range = { startLine: line, endLine: line, kind: FoldingRangeKind.Region };
              stack.push(range);
            } else {
              var i = stack.length - 1;
              while (i >= 0 && stack[i].kind !== FoldingRangeKind.Region) {
                i--;
              }
              if (i >= 0) {
                var range = stack[i];
                stack.length = i;
                if (line > range.startLine && prevStart !== range.startLine) {
                  range.endLine = line;
                  addRange(range);
                  prevStart = range.startLine;
                }
              }
            }
          }
          break;
        }
      }
      token = scanner.scan();
    }
    var rangeLimit = context && context.rangeLimit;
    if (typeof rangeLimit !== "number" || ranges.length <= rangeLimit) {
      return ranges;
    }
    if (context && context.onRangeLimitExceeded) {
      context.onRangeLimitExceeded(document2.uri);
    }
    var counts = [];
    for (var _i = 0, nestingLevels_1 = nestingLevels; _i < nestingLevels_1.length; _i++) {
      var level = nestingLevels_1[_i];
      if (level < 30) {
        counts[level] = (counts[level] || 0) + 1;
      }
    }
    var entries = 0;
    var maxLevel = 0;
    for (var i = 0; i < counts.length; i++) {
      var n = counts[i];
      if (n) {
        if (n + entries > rangeLimit) {
          maxLevel = i;
          break;
        }
        entries += n;
      }
    }
    var result = [];
    for (var i = 0; i < ranges.length; i++) {
      var level = nestingLevels[i];
      if (typeof level === "number") {
        if (level < maxLevel || level === maxLevel && entries++ < rangeLimit) {
          result.push(ranges[i]);
        }
      }
    }
    return result;
  }
  function getSelectionRanges(document2, positions, doc) {
    function getSelectionRange(position) {
      var offset = document2.offsetAt(position);
      var node = doc.getNodeFromOffset(offset, true);
      var result = [];
      while (node) {
        switch (node.type) {
          case "string":
          case "object":
          case "array":
            var cStart = node.offset + 1, cEnd = node.offset + node.length - 1;
            if (cStart < cEnd && offset >= cStart && offset <= cEnd) {
              result.push(newRange(cStart, cEnd));
            }
            result.push(newRange(node.offset, node.offset + node.length));
            break;
          case "number":
          case "boolean":
          case "null":
          case "property":
            result.push(newRange(node.offset, node.offset + node.length));
            break;
        }
        if (node.type === "property" || node.parent && node.parent.type === "array") {
          var afterCommaOffset = getOffsetAfterNextToken(node.offset + node.length, 5);
          if (afterCommaOffset !== -1) {
            result.push(newRange(node.offset, afterCommaOffset));
          }
        }
        node = node.parent;
      }
      var current = void 0;
      for (var index = result.length - 1; index >= 0; index--) {
        current = SelectionRange.create(result[index], current);
      }
      if (!current) {
        current = SelectionRange.create(Range.create(position, position));
      }
      return current;
    }
    function newRange(start, end) {
      return Range.create(document2.positionAt(start), document2.positionAt(end));
    }
    var scanner = createScanner2(document2.getText(), true);
    function getOffsetAfterNextToken(offset, expectedToken) {
      scanner.setPosition(offset);
      var token = scanner.scan();
      if (token === expectedToken) {
        return scanner.getTokenOffset() + scanner.getTokenLength();
      }
      return -1;
    }
    return positions.map(getSelectionRange);
  }
  function findLinks(document2, doc) {
    var links = [];
    doc.visit(function(node) {
      var _a2;
      if (node.type === "property" && node.keyNode.value === "$ref" && ((_a2 = node.valueNode) === null || _a2 === void 0 ? void 0 : _a2.type) === "string") {
        var path = node.valueNode.value;
        var targetNode = findTargetNode(doc, path);
        if (targetNode) {
          var targetPos = document2.positionAt(targetNode.offset);
          links.push({
            target: "".concat(document2.uri, "#").concat(targetPos.line + 1, ",").concat(targetPos.character + 1),
            range: createRange(document2, node.valueNode)
          });
        }
      }
      return true;
    });
    return Promise.resolve(links);
  }
  function createRange(document2, node) {
    return Range.create(document2.positionAt(node.offset + 1), document2.positionAt(node.offset + node.length - 1));
  }
  function findTargetNode(doc, path) {
    var tokens = parseJSONPointer(path);
    if (!tokens) {
      return null;
    }
    return findNode(tokens, doc.root);
  }
  function findNode(pointer, node) {
    if (!node) {
      return null;
    }
    if (pointer.length === 0) {
      return node;
    }
    var token = pointer.shift();
    if (node && node.type === "object") {
      var propertyNode = node.properties.find(function(propertyNode2) {
        return propertyNode2.keyNode.value === token;
      });
      if (!propertyNode) {
        return null;
      }
      return findNode(pointer, propertyNode.valueNode);
    } else if (node && node.type === "array") {
      if (token.match(/^(0|[1-9][0-9]*)$/)) {
        var index = Number.parseInt(token);
        var arrayItem = node.items[index];
        if (!arrayItem) {
          return null;
        }
        return findNode(pointer, arrayItem);
      }
    }
    return null;
  }
  function parseJSONPointer(path) {
    if (path === "#") {
      return [];
    }
    if (path[0] !== "#" || path[1] !== "/") {
      return null;
    }
    return path.substring(2).split(/\//).map(unescape);
  }
  function unescape(str) {
    return str.replace(/~1/g, "/").replace(/~0/g, "~");
  }
  function getLanguageService(params) {
    var promise = params.promiseConstructor || Promise;
    var jsonSchemaService = new JSONSchemaService(params.schemaRequestService, params.workspaceContext, promise);
    jsonSchemaService.setSchemaContributions(schemaContributions);
    var jsonCompletion = new JSONCompletion(jsonSchemaService, params.contributions, promise, params.clientCapabilities);
    var jsonHover = new JSONHover(jsonSchemaService, params.contributions, promise);
    var jsonDocumentSymbols = new JSONDocumentSymbols(jsonSchemaService);
    var jsonValidation = new JSONValidation(jsonSchemaService, promise);
    return {
      configure: function(settings) {
        jsonSchemaService.clearExternalSchemas();
        if (settings.schemas) {
          settings.schemas.forEach(function(settings2) {
            jsonSchemaService.registerExternalSchema(settings2.uri, settings2.fileMatch, settings2.schema);
          });
        }
        jsonValidation.configure(settings);
      },
      resetSchema: function(uri) {
        return jsonSchemaService.onResourceChange(uri);
      },
      doValidation: jsonValidation.doValidation.bind(jsonValidation),
      getLanguageStatus: jsonValidation.getLanguageStatus.bind(jsonValidation),
      parseJSONDocument: function(document2) {
        return parse3(document2, { collectComments: true });
      },
      newJSONDocument: function(root, diagnostics) {
        return newJSONDocument(root, diagnostics);
      },
      getMatchingSchemas: jsonSchemaService.getMatchingSchemas.bind(jsonSchemaService),
      doResolve: jsonCompletion.doResolve.bind(jsonCompletion),
      doComplete: jsonCompletion.doComplete.bind(jsonCompletion),
      findDocumentSymbols: jsonDocumentSymbols.findDocumentSymbols.bind(jsonDocumentSymbols),
      findDocumentSymbols2: jsonDocumentSymbols.findDocumentSymbols2.bind(jsonDocumentSymbols),
      findDocumentColors: jsonDocumentSymbols.findDocumentColors.bind(jsonDocumentSymbols),
      getColorPresentations: jsonDocumentSymbols.getColorPresentations.bind(jsonDocumentSymbols),
      doHover: jsonHover.doHover.bind(jsonHover),
      getFoldingRanges,
      getSelectionRanges,
      findDefinition: function() {
        return Promise.resolve([]);
      },
      findLinks,
      format: function(d, r, o) {
        var range = void 0;
        if (r) {
          var offset = d.offsetAt(r.start);
          var length = d.offsetAt(r.end) - offset;
          range = { offset, length };
        }
        var options = { tabSize: o ? o.tabSize : 4, insertSpaces: (o === null || o === void 0 ? void 0 : o.insertSpaces) === true, insertFinalNewline: (o === null || o === void 0 ? void 0 : o.insertFinalNewline) === true, eol: "\n" };
        return format2(d.getText(), range, options).map(function(e) {
          return TextEdit.replace(Range.create(d.positionAt(e.offset), d.positionAt(e.offset + e.length)), e.content);
        });
      }
    };
  }
  var defaultSchemaRequestService;
  if (typeof fetch !== "undefined") {
    defaultSchemaRequestService = function(url) {
      return fetch(url).then((response) => response.text());
    };
  }
  var JSONWorker = class {
    constructor(ctx, createData) {
      __publicField(this, "_ctx");
      __publicField(this, "_languageService");
      __publicField(this, "_languageSettings");
      __publicField(this, "_languageId");
      this._ctx = ctx;
      this._languageSettings = createData.languageSettings;
      this._languageId = createData.languageId;
      this._languageService = getLanguageService({
        workspaceContext: {
          resolveRelativePath: (relativePath, resource) => {
            const base = resource.substr(0, resource.lastIndexOf("/") + 1);
            return resolvePath(base, relativePath);
          }
        },
        schemaRequestService: createData.enableSchemaRequest ? defaultSchemaRequestService : void 0
      });
      this._languageService.configure(this._languageSettings);
    }
    async doValidation(uri) {
      let document2 = this._getTextDocument(uri);
      if (document2) {
        let jsonDocument = this._languageService.parseJSONDocument(document2);
        return this._languageService.doValidation(document2, jsonDocument, this._languageSettings);
      }
      return Promise.resolve([]);
    }
    async doComplete(uri, position) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return null;
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      return this._languageService.doComplete(document2, position, jsonDocument);
    }
    async doResolve(item) {
      return this._languageService.doResolve(item);
    }
    async doHover(uri, position) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return null;
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      return this._languageService.doHover(document2, position, jsonDocument);
    }
    async format(uri, range, options) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let textEdits = this._languageService.format(document2, range, options);
      return Promise.resolve(textEdits);
    }
    async resetSchema(uri) {
      return Promise.resolve(this._languageService.resetSchema(uri));
    }
    async findDocumentSymbols(uri) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      let symbols = this._languageService.findDocumentSymbols(document2, jsonDocument);
      return Promise.resolve(symbols);
    }
    async findDocumentColors(uri) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      let colorSymbols = this._languageService.findDocumentColors(document2, jsonDocument);
      return Promise.resolve(colorSymbols);
    }
    async getColorPresentations(uri, color, range) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      let colorPresentations = this._languageService.getColorPresentations(document2, jsonDocument, color, range);
      return Promise.resolve(colorPresentations);
    }
    async getFoldingRanges(uri, context) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let ranges = this._languageService.getFoldingRanges(document2, context);
      return Promise.resolve(ranges);
    }
    async getSelectionRanges(uri, positions) {
      let document2 = this._getTextDocument(uri);
      if (!document2) {
        return [];
      }
      let jsonDocument = this._languageService.parseJSONDocument(document2);
      let ranges = this._languageService.getSelectionRanges(document2, positions, jsonDocument);
      return Promise.resolve(ranges);
    }
    _getTextDocument(uri) {
      let models = this._ctx.getMirrorModels();
      for (let model of models) {
        if (model.uri.toString() === uri) {
          return TextDocument2.create(uri, this._languageId, model.version, model.getValue());
        }
      }
      return null;
    }
  };
  var Slash = "/".charCodeAt(0);
  var Dot = ".".charCodeAt(0);
  function isAbsolutePath(path) {
    return path.charCodeAt(0) === Slash;
  }
  function resolvePath(uriString, path) {
    if (isAbsolutePath(path)) {
      const uri = URI.parse(uriString);
      const parts = path.split("/");
      return uri.with({ path: normalizePath(parts) }).toString();
    }
    return joinPath(uriString, path);
  }
  function normalizePath(parts) {
    const newParts = [];
    for (const part of parts) {
      if (part.length === 0 || part.length === 1 && part.charCodeAt(0) === Dot)
        ;
      else if (part.length === 2 && part.charCodeAt(0) === Dot && part.charCodeAt(1) === Dot) {
        newParts.pop();
      } else {
        newParts.push(part);
      }
    }
    if (parts.length > 1 && parts[parts.length - 1].length === 0) {
      newParts.push("");
    }
    let res = newParts.join("/");
    if (parts[0].length === 0) {
      res = "/" + res;
    }
    return res;
  }
  function joinPath(uriString, ...paths) {
    const uri = URI.parse(uriString);
    const parts = uri.path.split("/");
    for (let path of paths) {
      parts.push(...path.split("/"));
    }
    return uri.with({ path: normalizePath(parts) }).toString();
  }
  self.onmessage = () => {
    initialize((ctx, createData) => {
      return new JSONWorker(ctx, createData);
    });
  };
})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoianNvbi53b3JrZXItVWt4ekdMaEguanMiLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9lcnJvcnMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZnVuY3Rpb25hbC5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9pdGVyYXRvci5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9saWZlY3ljbGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vbGlua2VkTGlzdC5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9zdG9wd2F0Y2guanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZXZlbnQuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vdHlwZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vb2JqZWN0cy5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9ubHMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcGxhdGZvcm0uanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vY2FjaGUuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vbGF6eS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9zdHJpbmdzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3dvcmtlci9zaW1wbGVXb3JrZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZGlmZi9kaWZmQ2hhbmdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2hhc2guanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vZGlmZi9kaWZmLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL3Byb2Nlc3MuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vcGF0aC5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi91cmkuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL3Bvc2l0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9yYW5nZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9iYXNlL2NvbW1vbi9hcnJheXMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vdWludC5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsL3ByZWZpeFN1bUNvbXB1dGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvbWlycm9yVGV4dE1vZGVsLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS93b3JkSGVscGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9jaGFyYWN0ZXJDbGFzc2lmaWVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbGFuZ3VhZ2VzL2xpbmtDb21wdXRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vY2FuY2VsbGF0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2tleUNvZGVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vY29yZS9zZWxlY3Rpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vY29kaWNvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi90b2tlbml6YXRpb25SZWdpc3RyeS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2xhbmd1YWdlcy5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3N0YW5kYWxvbmUvc3RhbmRhbG9uZUVudW1zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vc2VydmljZXMvZWRpdG9yQmFzZUFwaS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL21vZGVsLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vbW9kZWwvdGV4dE1vZGVsU2VhcmNoLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2Fzc2VydC5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL3NlcnZpY2VzL3VuaWNvZGVUZXh0TW9kZWxIaWdobGlnaHRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvbGluZXNEaWZmQ29tcHV0ZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL29mZnNldFJhbmdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2Jhc2UvY29tbW9uL2FycmF5c0ZpbmQuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9jb3JlL2xpbmVSYW5nZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvcmFuZ2VNYXBwaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9sZWdhY3lMaW5lc0RpZmZDb21wdXRlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvZGVmYXVsdExpbmVzRGlmZkNvbXB1dGVyL2FsZ29yaXRobXMvZGlmZkFsZ29yaXRobS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvZGVmYXVsdExpbmVzRGlmZkNvbXB1dGVyL3V0aWxzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvYWxnb3JpdGhtcy9keW5hbWljUHJvZ3JhbW1pbmdEaWZmaW5nLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvYWxnb3JpdGhtcy9teWVyc0RpZmZBbGdvcml0aG0uanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vbWFwLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvbGluZXNTbGljZUNoYXJTZXF1ZW5jZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9tb25hY28tZWRpdG9yL2VzbS92cy9lZGl0b3IvY29tbW9uL2RpZmYvZGVmYXVsdExpbmVzRGlmZkNvbXB1dGVyL2NvbXB1dGVNb3ZlZExpbmVzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvaGV1cmlzdGljU2VxdWVuY2VPcHRpbWl6YXRpb25zLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvbGluZVNlcXVlbmNlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9kZWZhdWx0TGluZXNEaWZmQ29tcHV0ZXIvZGVmYXVsdExpbmVzRGlmZkNvbXB1dGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL21vbmFjby1lZGl0b3IvZXNtL3ZzL2VkaXRvci9jb21tb24vZGlmZi9saW5lc0RpZmZDb21wdXRlcnMuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvYmFzZS9jb21tb24vY29sb3IuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9sYW5ndWFnZXMvZGVmYXVsdERvY3VtZW50Q29sb3JzQ29tcHV0ZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2NvbW1vbi9zZXJ2aWNlcy9lZGl0b3JTaW1wbGVXb3JrZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvZWRpdG9yL2VkaXRvci53b3JrZXIuanMiLCIuLi9ub2RlX21vZHVsZXMvbW9uYWNvLWVkaXRvci9lc20vdnMvbGFuZ3VhZ2UvanNvbi9qc29uLndvcmtlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8vIEF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3kgb24gRXZlbnRFbWl0dGVyIGJ5IGltcGxlbWVudGluZyBhIHN1YnNldCBvZiB0aGUgaW50ZXJmYWNlLlxuZXhwb3J0IGNsYXNzIEVycm9ySGFuZGxlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzID0gW107XG4gICAgICAgIHRoaXMudW5leHBlY3RlZEVycm9ySGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZS5zdGFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoRXJyb3JOb1RlbGVtZXRyeS5pc0Vycm9yTm9UZWxlbWV0cnkoZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvck5vVGVsZW1ldHJ5KGUubWVzc2FnZSArICdcXG5cXG4nICsgZS5zdGFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUubWVzc2FnZSArICdcXG5cXG4nICsgZS5zdGFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZW1pdChlKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiB7XG4gICAgICAgICAgICBsaXN0ZW5lcihlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9uVW5leHBlY3RlZEVycm9yKGUpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpO1xuICAgICAgICB0aGlzLmVtaXQoZSk7XG4gICAgfVxuICAgIC8vIEZvciBleHRlcm5hbCBlcnJvcnMsIHdlIGRvbid0IHdhbnQgdGhlIGxpc3RlbmVycyB0byBiZSBjYWxsZWRcbiAgICBvblVuZXhwZWN0ZWRFeHRlcm5hbEVycm9yKGUpIHtcbiAgICAgICAgdGhpcy51bmV4cGVjdGVkRXJyb3JIYW5kbGVyKGUpO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBlcnJvckhhbmRsZXIgPSBuZXcgRXJyb3JIYW5kbGVyKCk7XG5leHBvcnQgZnVuY3Rpb24gb25VbmV4cGVjdGVkRXJyb3IoZSkge1xuICAgIC8vIGlnbm9yZSBlcnJvcnMgZnJvbSBjYW5jZWxsZWQgcHJvbWlzZXNcbiAgICBpZiAoIWlzQ2FuY2VsbGF0aW9uRXJyb3IoZSkpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyLm9uVW5leHBlY3RlZEVycm9yKGUpO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoZSkge1xuICAgIC8vIGlnbm9yZSBlcnJvcnMgZnJvbSBjYW5jZWxsZWQgcHJvbWlzZXNcbiAgICBpZiAoIWlzQ2FuY2VsbGF0aW9uRXJyb3IoZSkpIHtcbiAgICAgICAgZXJyb3JIYW5kbGVyLm9uVW5leHBlY3RlZEV4dGVybmFsRXJyb3IoZSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJhbnNmb3JtRXJyb3JGb3JTZXJpYWxpemF0aW9uKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBtZXNzYWdlIH0gPSBlcnJvcjtcbiAgICAgICAgY29uc3Qgc3RhY2sgPSBlcnJvci5zdGFja3RyYWNlIHx8IGVycm9yLnN0YWNrO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJGlzRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgIHN0YWNrLFxuICAgICAgICAgICAgbm9UZWxlbWV0cnk6IEVycm9yTm9UZWxlbWV0cnkuaXNFcnJvck5vVGVsZW1ldHJ5KGVycm9yKVxuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyByZXR1cm4gYXMgaXNcbiAgICByZXR1cm4gZXJyb3I7XG59XG5jb25zdCBjYW5jZWxlZE5hbWUgPSAnQ2FuY2VsZWQnO1xuLyoqXG4gKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGEgcHJvbWlzZSBpbiBjYW5jZWxlZCBzdGF0ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNDYW5jZWxsYXRpb25FcnJvcihlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIENhbmNlbGxhdGlvbkVycm9yKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSBjYW5jZWxlZE5hbWUgJiYgZXJyb3IubWVzc2FnZSA9PT0gY2FuY2VsZWROYW1lO1xufVxuLy8gISEhSU1QT1JUQU5UISEhXG4vLyBEbyBOT1QgY2hhbmdlIHRoaXMgY2xhc3MgYmVjYXVzZSBpdCBpcyBhbHNvIHVzZWQgYXMgYW4gQVBJLXR5cGUuXG5leHBvcnQgY2xhc3MgQ2FuY2VsbGF0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGNhbmNlbGVkTmFtZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMubWVzc2FnZTtcbiAgICB9XG59XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSB7QGxpbmsgQ2FuY2VsbGF0aW9uRXJyb3IgYG5ldyBDYW5jZWxsYXRpb25FcnJvcigpYH0gaW5zdGVhZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY2FuY2VsZWQoKSB7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IoY2FuY2VsZWROYW1lKTtcbiAgICBlcnJvci5uYW1lID0gZXJyb3IubWVzc2FnZTtcbiAgICByZXR1cm4gZXJyb3I7XG59XG5leHBvcnQgZnVuY3Rpb24gaWxsZWdhbEFyZ3VtZW50KG5hbWUpIHtcbiAgICBpZiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKGBJbGxlZ2FsIGFyZ3VtZW50OiAke25hbWV9YCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKCdJbGxlZ2FsIGFyZ3VtZW50Jyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGlsbGVnYWxTdGF0ZShuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcihgSWxsZWdhbCBzdGF0ZTogJHtuYW1lfWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignSWxsZWdhbCBzdGF0ZScpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBOb3RTdXBwb3J0ZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKCdOb3RTdXBwb3J0ZWQnKTtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEVycm9yIHRoYXQgd2hlbiB0aHJvd24gd29uJ3QgYmUgbG9nZ2VkIGluIHRlbGVtZXRyeSBhcyBhbiB1bmhhbmRsZWQgZXJyb3IuXG4gKi9cbmV4cG9ydCBjbGFzcyBFcnJvck5vVGVsZW1ldHJ5IGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1zZykge1xuICAgICAgICBzdXBlcihtc2cpO1xuICAgICAgICB0aGlzLm5hbWUgPSAnQ29kZUV4cGVjdGVkRXJyb3InO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUVycm9yKGVycikge1xuICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3JOb1RlbGVtZXRyeSkge1xuICAgICAgICAgICAgcmV0dXJuIGVycjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgRXJyb3JOb1RlbGVtZXRyeSgpO1xuICAgICAgICByZXN1bHQubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICByZXN1bHQuc3RhY2sgPSBlcnIuc3RhY2s7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHN0YXRpYyBpc0Vycm9yTm9UZWxlbWV0cnkoZXJyKSB7XG4gICAgICAgIHJldHVybiBlcnIubmFtZSA9PT0gJ0NvZGVFeHBlY3RlZEVycm9yJztcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgZXJyb3IgaW5kaWNhdGVzIGEgYnVnLlxuICogRG8gbm90IHRocm93IHRoaXMgZm9yIGludmFsaWQgdXNlciBpbnB1dC5cbiAqIE9ubHkgY2F0Y2ggdGhpcyBlcnJvciB0byByZWNvdmVyIGdyYWNlZnVsbHkgZnJvbSBidWdzLlxuICovXG5leHBvcnQgY2xhc3MgQnVnSW5kaWNhdGluZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSB8fCAnQW4gdW5leHBlY3RlZCBidWcgb2NjdXJyZWQuJyk7XG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBCdWdJbmRpY2F0aW5nRXJyb3IucHJvdG90eXBlKTtcbiAgICAgICAgLy8gQmVjYXVzZSB3ZSBrbm93IGZvciBzdXJlIG9ubHkgYnVnZ3kgY29kZSB0aHJvd3MgdGhpcyxcbiAgICAgICAgLy8gd2UgZGVmaW5pdGVseSB3YW50IHRvIGJyZWFrIGhlcmUgYW5kIGZpeCB0aGUgYnVnLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgLy8gZGVidWdnZXI7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIEdpdmVuIGEgZnVuY3Rpb24sIHJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIG9ubHkgY2FsbGluZyB0aGF0IGZ1bmN0aW9uIG9uY2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTaW5nbGVDYWxsRnVuY3Rpb24oZm4sIGZuRGlkUnVuQ2FsbGJhY2spIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGRpZENhbGwgPSBmYWxzZTtcbiAgICBsZXQgcmVzdWx0O1xuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChkaWRDYWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGRpZENhbGwgPSB0cnVlO1xuICAgICAgICBpZiAoZm5EaWRSdW5DYWxsYmFjaykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBmbi5hcHBseShfdGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIGZuRGlkUnVuQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGZuLmFwcGx5KF90aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IHZhciBJdGVyYWJsZTtcbihmdW5jdGlvbiAoSXRlcmFibGUpIHtcbiAgICBmdW5jdGlvbiBpcyh0aGluZykge1xuICAgICAgICByZXR1cm4gdGhpbmcgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdGhpbmdbU3ltYm9sLml0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG4gICAgSXRlcmFibGUuaXMgPSBpcztcbiAgICBjb25zdCBfZW1wdHkgPSBPYmplY3QuZnJlZXplKFtdKTtcbiAgICBmdW5jdGlvbiBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIF9lbXB0eTtcbiAgICB9XG4gICAgSXRlcmFibGUuZW1wdHkgPSBlbXB0eTtcbiAgICBmdW5jdGlvbiogc2luZ2xlKGVsZW1lbnQpIHtcbiAgICAgICAgeWllbGQgZWxlbWVudDtcbiAgICB9XG4gICAgSXRlcmFibGUuc2luZ2xlID0gc2luZ2xlO1xuICAgIGZ1bmN0aW9uIHdyYXAoaXRlcmFibGVPckVsZW1lbnQpIHtcbiAgICAgICAgaWYgKGlzKGl0ZXJhYmxlT3JFbGVtZW50KSkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlT3JFbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHNpbmdsZShpdGVyYWJsZU9yRWxlbWVudCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSXRlcmFibGUud3JhcCA9IHdyYXA7XG4gICAgZnVuY3Rpb24gZnJvbShpdGVyYWJsZSkge1xuICAgICAgICByZXR1cm4gaXRlcmFibGUgfHwgX2VtcHR5O1xuICAgIH1cbiAgICBJdGVyYWJsZS5mcm9tID0gZnJvbTtcbiAgICBmdW5jdGlvbiogcmV2ZXJzZShhcnJheSkge1xuICAgICAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIHlpZWxkIGFycmF5W2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIEl0ZXJhYmxlLnJldmVyc2UgPSByZXZlcnNlO1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkoaXRlcmFibGUpIHtcbiAgICAgICAgcmV0dXJuICFpdGVyYWJsZSB8fCBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCkubmV4dCgpLmRvbmUgPT09IHRydWU7XG4gICAgfVxuICAgIEl0ZXJhYmxlLmlzRW1wdHkgPSBpc0VtcHR5O1xuICAgIGZ1bmN0aW9uIGZpcnN0KGl0ZXJhYmxlKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCkubmV4dCgpLnZhbHVlO1xuICAgIH1cbiAgICBJdGVyYWJsZS5maXJzdCA9IGZpcnN0O1xuICAgIGZ1bmN0aW9uIHNvbWUoaXRlcmFibGUsIHByZWRpY2F0ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIEl0ZXJhYmxlLnNvbWUgPSBzb21lO1xuICAgIGZ1bmN0aW9uIGZpbmQoaXRlcmFibGUsIHByZWRpY2F0ZSkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBJdGVyYWJsZS5maW5kID0gZmluZDtcbiAgICBmdW5jdGlvbiogZmlsdGVyKGl0ZXJhYmxlLCBwcmVkaWNhdGUpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICBpZiAocHJlZGljYXRlKGVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgeWllbGQgZWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBJdGVyYWJsZS5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgZnVuY3Rpb24qIG1hcChpdGVyYWJsZSwgZm4pIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGl0ZXJhYmxlKSB7XG4gICAgICAgICAgICB5aWVsZCBmbihlbGVtZW50LCBpbmRleCsrKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJdGVyYWJsZS5tYXAgPSBtYXA7XG4gICAgZnVuY3Rpb24qIGNvbmNhdCguLi5pdGVyYWJsZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVyYWJsZSBvZiBpdGVyYWJsZXMpIHtcbiAgICAgICAgICAgIHlpZWxkKiBpdGVyYWJsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJdGVyYWJsZS5jb25jYXQgPSBjb25jYXQ7XG4gICAgZnVuY3Rpb24gcmVkdWNlKGl0ZXJhYmxlLCByZWR1Y2VyLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgaXRlcmFibGUpIHtcbiAgICAgICAgICAgIHZhbHVlID0gcmVkdWNlcih2YWx1ZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBJdGVyYWJsZS5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBpdGVyYWJsZSBzbGljZSBvZiB0aGUgYXJyYXksIHdpdGggdGhlIHNhbWUgc2VtYW50aWNzIGFzIGBhcnJheS5zbGljZSgpYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiogc2xpY2UoYXJyLCBmcm9tLCB0byA9IGFyci5sZW5ndGgpIHtcbiAgICAgICAgaWYgKGZyb20gPCAwKSB7XG4gICAgICAgICAgICBmcm9tICs9IGFyci5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvIDwgMCkge1xuICAgICAgICAgICAgdG8gKz0gYXJyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0byA+IGFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRvID0gYXJyLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDsgZnJvbSA8IHRvOyBmcm9tKyspIHtcbiAgICAgICAgICAgIHlpZWxkIGFycltmcm9tXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJdGVyYWJsZS5zbGljZSA9IHNsaWNlO1xuICAgIC8qKlxuICAgICAqIENvbnN1bWVzIGBhdE1vc3RgIGVsZW1lbnRzIGZyb20gaXRlcmFibGUgYW5kIHJldHVybnMgdGhlIGNvbnN1bWVkIGVsZW1lbnRzLFxuICAgICAqIGFuZCBhbiBpdGVyYWJsZSBmb3IgdGhlIHJlc3Qgb2YgdGhlIGVsZW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbnN1bWUoaXRlcmFibGUsIGF0TW9zdCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSkge1xuICAgICAgICBjb25zdCBjb25zdW1lZCA9IFtdO1xuICAgICAgICBpZiAoYXRNb3N0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW2NvbnN1bWVkLCBpdGVyYWJsZV07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXRNb3N0OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICBpZiAobmV4dC5kb25lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtjb25zdW1lZCwgSXRlcmFibGUuZW1wdHkoKV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZC5wdXNoKG5leHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbY29uc3VtZWQsIHsgW1N5bWJvbC5pdGVyYXRvcl0oKSB7IHJldHVybiBpdGVyYXRvcjsgfSB9XTtcbiAgICB9XG4gICAgSXRlcmFibGUuY29uc3VtZSA9IGNvbnN1bWU7XG59KShJdGVyYWJsZSB8fCAoSXRlcmFibGUgPSB7fSkpO1xuIiwiaW1wb3J0IHsgY3JlYXRlU2luZ2xlQ2FsbEZ1bmN0aW9uIH0gZnJvbSAnLi9mdW5jdGlvbmFsLmpzJztcbmltcG9ydCB7IEl0ZXJhYmxlIH0gZnJvbSAnLi9pdGVyYXRvci5qcyc7XG4vLyAjcmVnaW9uIERpc3Bvc2FibGUgVHJhY2tpbmdcbi8qKlxuICogRW5hYmxlcyBsb2dnaW5nIG9mIHBvdGVudGlhbGx5IGxlYWtlZCBkaXNwb3NhYmxlcy5cbiAqXG4gKiBBIGRpc3Bvc2FibGUgaXMgY29uc2lkZXJlZCBsZWFrZWQgaWYgaXQgaXMgbm90IGRpc3Bvc2VkIG9yIG5vdCByZWdpc3RlcmVkIGFzIHRoZSBjaGlsZCBvZlxuICogYW5vdGhlciBkaXNwb3NhYmxlLiBUaGlzIHRyYWNraW5nIGlzIHZlcnkgc2ltcGxlIGFuIG9ubHkgd29ya3MgZm9yIGNsYXNzZXMgdGhhdCBlaXRoZXJcbiAqIGV4dGVuZCBEaXNwb3NhYmxlIG9yIHVzZSBhIERpc3Bvc2FibGVTdG9yZS4gVGhpcyBtZWFucyB0aGVyZSBhcmUgYSBsb3Qgb2YgZmFsc2UgcG9zaXRpdmVzLlxuICovXG5jb25zdCBUUkFDS19ESVNQT1NBQkxFUyA9IGZhbHNlO1xubGV0IGRpc3Bvc2FibGVUcmFja2VyID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBzZXREaXNwb3NhYmxlVHJhY2tlcih0cmFja2VyKSB7XG4gICAgZGlzcG9zYWJsZVRyYWNrZXIgPSB0cmFja2VyO1xufVxuaWYgKFRSQUNLX0RJU1BPU0FCTEVTKSB7XG4gICAgY29uc3QgX19pc19kaXNwb3NhYmxlX3RyYWNrZWRfXyA9ICdfX2lzX2Rpc3Bvc2FibGVfdHJhY2tlZF9fJztcbiAgICBzZXREaXNwb3NhYmxlVHJhY2tlcihuZXcgY2xhc3Mge1xuICAgICAgICB0cmFja0Rpc3Bvc2FibGUoeCkge1xuICAgICAgICAgICAgY29uc3Qgc3RhY2sgPSBuZXcgRXJyb3IoJ1BvdGVudGlhbGx5IGxlYWtlZCBkaXNwb3NhYmxlJykuc3RhY2s7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXhbX19pc19kaXNwb3NhYmxlX3RyYWNrZWRfX10pIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIDMwMDApO1xuICAgICAgICB9XG4gICAgICAgIHNldFBhcmVudChjaGlsZCwgcGFyZW50KSB7XG4gICAgICAgICAgICBpZiAoY2hpbGQgJiYgY2hpbGQgIT09IERpc3Bvc2FibGUuTm9uZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkW19faXNfZGlzcG9zYWJsZV90cmFja2VkX19dID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5vb3BcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbWFya0FzRGlzcG9zZWQoZGlzcG9zYWJsZSkge1xuICAgICAgICAgICAgaWYgKGRpc3Bvc2FibGUgJiYgZGlzcG9zYWJsZSAhPT0gRGlzcG9zYWJsZS5Ob25lKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zYWJsZVtfX2lzX2Rpc3Bvc2FibGVfdHJhY2tlZF9fXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub29wXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1hcmtBc1NpbmdsZXRvbihkaXNwb3NhYmxlKSB7IH1cbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0cmFja0Rpc3Bvc2FibGUoeCkge1xuICAgIGRpc3Bvc2FibGVUcmFja2VyID09PSBudWxsIHx8IGRpc3Bvc2FibGVUcmFja2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXNwb3NhYmxlVHJhY2tlci50cmFja0Rpc3Bvc2FibGUoeCk7XG4gICAgcmV0dXJuIHg7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFya0FzRGlzcG9zZWQoZGlzcG9zYWJsZSkge1xuICAgIGRpc3Bvc2FibGVUcmFja2VyID09PSBudWxsIHx8IGRpc3Bvc2FibGVUcmFja2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXNwb3NhYmxlVHJhY2tlci5tYXJrQXNEaXNwb3NlZChkaXNwb3NhYmxlKTtcbn1cbmZ1bmN0aW9uIHNldFBhcmVudE9mRGlzcG9zYWJsZShjaGlsZCwgcGFyZW50KSB7XG4gICAgZGlzcG9zYWJsZVRyYWNrZXIgPT09IG51bGwgfHwgZGlzcG9zYWJsZVRyYWNrZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc3Bvc2FibGVUcmFja2VyLnNldFBhcmVudChjaGlsZCwgcGFyZW50KTtcbn1cbmZ1bmN0aW9uIHNldFBhcmVudE9mRGlzcG9zYWJsZXMoY2hpbGRyZW4sIHBhcmVudCkge1xuICAgIGlmICghZGlzcG9zYWJsZVRyYWNrZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkcmVuKSB7XG4gICAgICAgIGRpc3Bvc2FibGVUcmFja2VyLnNldFBhcmVudChjaGlsZCwgcGFyZW50KTtcbiAgICB9XG59XG4vKipcbiAqIEluZGljYXRlcyB0aGF0IHRoZSBnaXZlbiBvYmplY3QgaXMgYSBzaW5nbGV0b24gd2hpY2ggZG9lcyBub3QgbmVlZCB0byBiZSBkaXNwb3NlZC5cbiovXG5leHBvcnQgZnVuY3Rpb24gbWFya0FzU2luZ2xldG9uKHNpbmdsZXRvbikge1xuICAgIGRpc3Bvc2FibGVUcmFja2VyID09PSBudWxsIHx8IGRpc3Bvc2FibGVUcmFja2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXNwb3NhYmxlVHJhY2tlci5tYXJrQXNTaW5nbGV0b24oc2luZ2xldG9uKTtcbiAgICByZXR1cm4gc2luZ2xldG9uO1xufVxuLyoqXG4gKiBDaGVjayBpZiBgdGhpbmdgIGlzIHtAbGluayBJRGlzcG9zYWJsZSBkaXNwb3NhYmxlfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGlzcG9zYWJsZSh0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcuZGlzcG9zZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGluZy5kaXNwb3NlLmxlbmd0aCA9PT0gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkaXNwb3NlKGFyZykge1xuICAgIGlmIChJdGVyYWJsZS5pcyhhcmcpKSB7XG4gICAgICAgIGNvbnN0IGVycm9ycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGQgb2YgYXJnKSB7XG4gICAgICAgICAgICBpZiAoZCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGQuZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVycm9ycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlcnJvcnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFnZ3JlZ2F0ZUVycm9yKGVycm9ycywgJ0VuY291bnRlcmVkIGVycm9ycyB3aGlsZSBkaXNwb3Npbmcgb2Ygc3RvcmUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpID8gW10gOiBhcmc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZykge1xuICAgICAgICBhcmcuZGlzcG9zZSgpO1xuICAgICAgICByZXR1cm4gYXJnO1xuICAgIH1cbn1cbi8qKlxuICogQ29tYmluZSBtdWx0aXBsZSBkaXNwb3NhYmxlIHZhbHVlcyBpbnRvIGEgc2luZ2xlIHtAbGluayBJRGlzcG9zYWJsZX0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lZERpc3Bvc2FibGUoLi4uZGlzcG9zYWJsZXMpIHtcbiAgICBjb25zdCBwYXJlbnQgPSB0b0Rpc3Bvc2FibGUoKCkgPT4gZGlzcG9zZShkaXNwb3NhYmxlcykpO1xuICAgIHNldFBhcmVudE9mRGlzcG9zYWJsZXMoZGlzcG9zYWJsZXMsIHBhcmVudCk7XG4gICAgcmV0dXJuIHBhcmVudDtcbn1cbi8qKlxuICogVHVybiBhIGZ1bmN0aW9uIHRoYXQgaW1wbGVtZW50cyBkaXNwb3NlIGludG8gYW4ge0BsaW5rIElEaXNwb3NhYmxlfS5cbiAqXG4gKiBAcGFyYW0gZm4gQ2xlYW4gdXAgZnVuY3Rpb24sIGd1YXJhbnRlZWQgdG8gYmUgY2FsbGVkIG9ubHkgKipvbmNlKiouXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b0Rpc3Bvc2FibGUoZm4pIHtcbiAgICBjb25zdCBzZWxmID0gdHJhY2tEaXNwb3NhYmxlKHtcbiAgICAgICAgZGlzcG9zZTogY3JlYXRlU2luZ2xlQ2FsbEZ1bmN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgIG1hcmtBc0Rpc3Bvc2VkKHNlbGYpO1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSlcbiAgICB9KTtcbiAgICByZXR1cm4gc2VsZjtcbn1cbi8qKlxuICogTWFuYWdlcyBhIGNvbGxlY3Rpb24gb2YgZGlzcG9zYWJsZSB2YWx1ZXMuXG4gKlxuICogVGhpcyBpcyB0aGUgcHJlZmVycmVkIHdheSB0byBtYW5hZ2UgbXVsdGlwbGUgZGlzcG9zYWJsZXMuIEEgYERpc3Bvc2FibGVTdG9yZWAgaXMgc2FmZXIgdG8gd29yayB3aXRoIHRoYW4gYW5cbiAqIGBJRGlzcG9zYWJsZVtdYCBhcyBpdCBjb25zaWRlcnMgZWRnZSBjYXNlcywgc3VjaCBhcyByZWdpc3RlcmluZyB0aGUgc2FtZSB2YWx1ZSBtdWx0aXBsZSB0aW1lcyBvciBhZGRpbmcgYW4gaXRlbSB0byBhXG4gKiBzdG9yZSB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQgb2YuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaXNwb3NhYmxlU3RvcmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl90b0Rpc3Bvc2UgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSBmYWxzZTtcbiAgICAgICAgdHJhY2tEaXNwb3NhYmxlKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEaXNwb3NlIG9mIGFsbCByZWdpc3RlcmVkIGRpc3Bvc2FibGVzIGFuZCBtYXJrIHRoaXMgb2JqZWN0IGFzIGRpc3Bvc2VkLlxuICAgICAqXG4gICAgICogQW55IGZ1dHVyZSBkaXNwb3NhYmxlcyBhZGRlZCB0byB0aGlzIG9iamVjdCB3aWxsIGJlIGRpc3Bvc2VkIG9mIG9uIGBhZGRgLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pc0Rpc3Bvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbWFya0FzRGlzcG9zZWQodGhpcyk7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm4gYHRydWVgIGlmIHRoaXMgb2JqZWN0IGhhcyBiZWVuIGRpc3Bvc2VkIG9mLlxuICAgICAqL1xuICAgIGdldCBpc0Rpc3Bvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNEaXNwb3NlZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZSBvZiBhbGwgcmVnaXN0ZXJlZCBkaXNwb3NhYmxlcyBidXQgZG8gbm90IG1hcmsgdGhpcyBvYmplY3QgYXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIGlmICh0aGlzLl90b0Rpc3Bvc2Uuc2l6ZSA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkaXNwb3NlKHRoaXMuX3RvRGlzcG9zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0aGlzLl90b0Rpc3Bvc2UuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBuZXcge0BsaW5rIElEaXNwb3NhYmxlIGRpc3Bvc2FibGV9IHRvIHRoZSBjb2xsZWN0aW9uLlxuICAgICAqL1xuICAgIGFkZChvKSB7XG4gICAgICAgIGlmICghbykge1xuICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8gPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGEgZGlzcG9zYWJsZSBvbiBpdHNlbGYhJyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0UGFyZW50T2ZEaXNwb3NhYmxlKG8sIHRoaXMpO1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgaWYgKCFEaXNwb3NhYmxlU3RvcmUuRElTQUJMRV9ESVNQT1NFRF9XQVJOSU5HKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcignVHJ5aW5nIHRvIGFkZCBhIGRpc3Bvc2FibGUgdG8gYSBEaXNwb3NhYmxlU3RvcmUgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkIG9mLiBUaGUgYWRkZWQgb2JqZWN0IHdpbGwgYmUgbGVha2VkIScpLnN0YWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3RvRGlzcG9zZS5hZGQobyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIHZhbHVlIGZyb20gdGhlIHN0b3JlLCBidXQgZG9lcyBub3QgZGlzcG9zZSBpdC5cbiAgICAgKi9cbiAgICBkZWxldGVBbmRMZWFrKG8pIHtcbiAgICAgICAgaWYgKCFvKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3RvRGlzcG9zZS5oYXMobykpIHtcbiAgICAgICAgICAgIHRoaXMuX3RvRGlzcG9zZS5kZWxldGUobyk7XG4gICAgICAgICAgICBzZXRQYXJlbnRPZkRpc3Bvc2FibGUobywgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5EaXNwb3NhYmxlU3RvcmUuRElTQUJMRV9ESVNQT1NFRF9XQVJOSU5HID0gZmFsc2U7XG4vKipcbiAqIEFic3RyYWN0IGJhc2UgY2xhc3MgZm9yIGEge0BsaW5rIElEaXNwb3NhYmxlIGRpc3Bvc2FibGV9IG9iamVjdC5cbiAqXG4gKiBTdWJjbGFzc2VzIGNhbiB7QGxpbmtjb2RlIF9yZWdpc3Rlcn0gZGlzcG9zYWJsZXMgdGhhdCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCB1cCB3aGVuIHRoaXMgb2JqZWN0IGlzIGRpc3Bvc2VkIG9mLlxuICovXG5leHBvcnQgY2xhc3MgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlID0gbmV3IERpc3Bvc2FibGVTdG9yZSgpO1xuICAgICAgICB0cmFja0Rpc3Bvc2FibGUodGhpcyk7XG4gICAgICAgIHNldFBhcmVudE9mRGlzcG9zYWJsZSh0aGlzLl9zdG9yZSwgdGhpcyk7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIG1hcmtBc0Rpc3Bvc2VkKHRoaXMpO1xuICAgICAgICB0aGlzLl9zdG9yZS5kaXNwb3NlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYG9gIHRvIHRoZSBjb2xsZWN0aW9uIG9mIGRpc3Bvc2FibGVzIG1hbmFnZWQgYnkgdGhpcyBvYmplY3QuXG4gICAgICovXG4gICAgX3JlZ2lzdGVyKG8pIHtcbiAgICAgICAgaWYgKG8gPT09IHRoaXMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGEgZGlzcG9zYWJsZSBvbiBpdHNlbGYhJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0b3JlLmFkZChvKTtcbiAgICB9XG59XG4vKipcbiAqIEEgZGlzcG9zYWJsZSB0aGF0IGRvZXMgbm90aGluZyB3aGVuIGl0IGlzIGRpc3Bvc2VkIG9mLlxuICpcbiAqIFRPRE86IFRoaXMgc2hvdWxkIG5vdCBiZSBhIHN0YXRpYyBwcm9wZXJ0eS5cbiAqL1xuRGlzcG9zYWJsZS5Ob25lID0gT2JqZWN0LmZyZWV6ZSh7IGRpc3Bvc2UoKSB7IH0gfSk7XG4vKipcbiAqIE1hbmFnZXMgdGhlIGxpZmVjeWNsZSBvZiBhIGRpc3Bvc2FibGUgdmFsdWUgdGhhdCBtYXkgYmUgY2hhbmdlZC5cbiAqXG4gKiBUaGlzIGVuc3VyZXMgdGhhdCB3aGVuIHRoZSBkaXNwb3NhYmxlIHZhbHVlIGlzIGNoYW5nZWQsIHRoZSBwcmV2aW91c2x5IGhlbGQgZGlzcG9zYWJsZSBpcyBkaXNwb3NlZCBvZi4gWW91IGNhblxuICogYWxzbyByZWdpc3RlciBhIGBNdXRhYmxlRGlzcG9zYWJsZWAgb24gYSBgRGlzcG9zYWJsZWAgdG8gZW5zdXJlIGl0IGlzIGF1dG9tYXRpY2FsbHkgY2xlYW5lZCB1cC5cbiAqL1xuZXhwb3J0IGNsYXNzIE11dGFibGVEaXNwb3NhYmxlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5faXNEaXNwb3NlZCA9IGZhbHNlO1xuICAgICAgICB0cmFja0Rpc3Bvc2FibGUodGhpcyk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzRGlzcG9zZWQgPyB1bmRlZmluZWQgOiB0aGlzLl92YWx1ZTtcbiAgICB9XG4gICAgc2V0IHZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgaWYgKHRoaXMuX2lzRGlzcG9zZWQgfHwgdmFsdWUgPT09IHRoaXMuX3ZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgKF9hID0gdGhpcy5fdmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNwb3NlKCk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgc2V0UGFyZW50T2ZEaXNwb3NhYmxlKHZhbHVlLCB0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIHN0b3JlZCB2YWx1ZSBhbmQgZGlzcG9zZWQgb2YgdGhlIHByZXZpb3VzbHkgc3RvcmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuX2lzRGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICBtYXJrQXNEaXNwb3NlZCh0aGlzKTtcbiAgICAgICAgKF9hID0gdGhpcy5fdmFsdWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuX3ZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBSZWZDb3VudGVkRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3IoX2Rpc3Bvc2FibGUpIHtcbiAgICAgICAgdGhpcy5fZGlzcG9zYWJsZSA9IF9kaXNwb3NhYmxlO1xuICAgICAgICB0aGlzLl9jb3VudGVyID0gMTtcbiAgICB9XG4gICAgYWNxdWlyZSgpIHtcbiAgICAgICAgdGhpcy5fY291bnRlcisrO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmVsZWFzZSgpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fY291bnRlciA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zYWJsZS5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEltbW9ydGFsUmVmZXJlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihvYmplY3QpIHtcbiAgICAgICAgdGhpcy5vYmplY3QgPSBvYmplY3Q7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7IH1cbn1cbi8qKlxuICogQSBtYXAgdGhlIG1hbmFnZXMgdGhlIGxpZmVjeWNsZSBvZiB0aGUgdmFsdWVzIHRoYXQgaXQgc3RvcmVzLlxuICovXG5leHBvcnQgY2xhc3MgRGlzcG9zYWJsZU1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3N0b3JlID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRyYWNrRGlzcG9zYWJsZSh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgb2YgYWxsIHN0b3JlZCB2YWx1ZXMgYW5kIG1hcmsgdGhpcyBvYmplY3QgYXMgZGlzcG9zZWQuXG4gICAgICpcbiAgICAgKiBUcnlpbmcgdG8gdXNlIHRoaXMgb2JqZWN0IGFmdGVyIGl0IGhhcyBiZWVuIGRpc3Bvc2VkIG9mIGlzIGFuIGVycm9yLlxuICAgICAqL1xuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIG1hcmtBc0Rpc3Bvc2VkKHRoaXMpO1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jbGVhckFuZERpc3Bvc2VBbGwoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGlzcG9zZXMgb2YgYWxsIHN0b3JlZCB2YWx1ZXMgYW5kIGNsZWFyIHRoZSBtYXAsIGJ1dCBETyBOT1QgbWFyayB0aGlzIG9iamVjdCBhcyBkaXNwb3NlZC5cbiAgICAgKi9cbiAgICBjbGVhckFuZERpc3Bvc2VBbGwoKSB7XG4gICAgICAgIGlmICghdGhpcy5fc3RvcmUuc2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkaXNwb3NlKHRoaXMuX3N0b3JlLnZhbHVlcygpKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRoaXMuX3N0b3JlLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmUuZ2V0KGtleSk7XG4gICAgfVxuICAgIHNldChrZXksIHZhbHVlLCBza2lwRGlzcG9zZU9uT3ZlcndyaXRlID0gZmFsc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAodGhpcy5faXNEaXNwb3NlZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKG5ldyBFcnJvcignVHJ5aW5nIHRvIGFkZCBhIGRpc3Bvc2FibGUgdG8gYSBEaXNwb3NhYmxlTWFwIHRoYXQgaGFzIGFscmVhZHkgYmVlbiBkaXNwb3NlZCBvZi4gVGhlIGFkZGVkIG9iamVjdCB3aWxsIGJlIGxlYWtlZCEnKS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFza2lwRGlzcG9zZU9uT3ZlcndyaXRlKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl9zdG9yZS5nZXQoa2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdG9yZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB0aGUgdmFsdWUgc3RvcmVkIGZvciBga2V5YCBmcm9tIHRoaXMgbWFwIGFuZCBhbHNvIGRpc3Bvc2Ugb2YgaXQuXG4gICAgICovXG4gICAgZGVsZXRlQW5kRGlzcG9zZShrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAoX2EgPSB0aGlzLl9zdG9yZS5nZXQoa2V5KSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgdGhpcy5fc3RvcmUuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RvcmVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY2xhc3MgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoZWxlbWVudCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLm5leHQgPSBOb2RlLlVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5wcmV2ID0gTm9kZS5VbmRlZmluZWQ7XG4gICAgfVxufVxuTm9kZS5VbmRlZmluZWQgPSBuZXcgTm9kZSh1bmRlZmluZWQpO1xuZXhwb3J0IGNsYXNzIExpbmtlZExpc3Qge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9maXJzdCA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9sYXN0ID0gTm9kZS5VbmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9maXJzdCA9PT0gTm9kZS5VbmRlZmluZWQ7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX2ZpcnN0O1xuICAgICAgICB3aGlsZSAobm9kZSAhPT0gTm9kZS5VbmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHQgPSBub2RlLm5leHQ7XG4gICAgICAgICAgICBub2RlLnByZXYgPSBOb2RlLlVuZGVmaW5lZDtcbiAgICAgICAgICAgIG5vZGUubmV4dCA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZmlyc3QgPSBOb2RlLlVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fbGFzdCA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICB9XG4gICAgdW5zaGlmdChlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnNlcnQoZWxlbWVudCwgZmFsc2UpO1xuICAgIH1cbiAgICBwdXNoKGVsZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc2VydChlbGVtZW50LCB0cnVlKTtcbiAgICB9XG4gICAgX2luc2VydChlbGVtZW50LCBhdFRoZUVuZCkge1xuICAgICAgICBjb25zdCBuZXdOb2RlID0gbmV3IE5vZGUoZWxlbWVudCk7XG4gICAgICAgIGlmICh0aGlzLl9maXJzdCA9PT0gTm9kZS5VbmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpcnN0ID0gbmV3Tm9kZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSBuZXdOb2RlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF0VGhlRW5kKSB7XG4gICAgICAgICAgICAvLyBwdXNoXG4gICAgICAgICAgICBjb25zdCBvbGRMYXN0ID0gdGhpcy5fbGFzdDtcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSBuZXdOb2RlO1xuICAgICAgICAgICAgbmV3Tm9kZS5wcmV2ID0gb2xkTGFzdDtcbiAgICAgICAgICAgIG9sZExhc3QubmV4dCA9IG5ld05vZGU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB1bnNoaWZ0XG4gICAgICAgICAgICBjb25zdCBvbGRGaXJzdCA9IHRoaXMuX2ZpcnN0O1xuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSBuZXdOb2RlO1xuICAgICAgICAgICAgbmV3Tm9kZS5uZXh0ID0gb2xkRmlyc3Q7XG4gICAgICAgICAgICBvbGRGaXJzdC5wcmV2ID0gbmV3Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaXplICs9IDE7XG4gICAgICAgIGxldCBkaWRSZW1vdmUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlmICghZGlkUmVtb3ZlKSB7XG4gICAgICAgICAgICAgICAgZGlkUmVtb3ZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmUobmV3Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHNoaWZ0KCkge1xuICAgICAgICBpZiAodGhpcy5fZmlyc3QgPT09IE5vZGUuVW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fZmlyc3QuZWxlbWVudDtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZSh0aGlzLl9maXJzdCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvcCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xhc3QgPT09IE5vZGUuVW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5fbGFzdC5lbGVtZW50O1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlKHRoaXMuX2xhc3QpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcmVtb3ZlKG5vZGUpIHtcbiAgICAgICAgaWYgKG5vZGUucHJldiAhPT0gTm9kZS5VbmRlZmluZWQgJiYgbm9kZS5uZXh0ICE9PSBOb2RlLlVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gbWlkZGxlXG4gICAgICAgICAgICBjb25zdCBhbmNob3IgPSBub2RlLnByZXY7XG4gICAgICAgICAgICBhbmNob3IubmV4dCA9IG5vZGUubmV4dDtcbiAgICAgICAgICAgIG5vZGUubmV4dC5wcmV2ID0gYW5jaG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUucHJldiA9PT0gTm9kZS5VbmRlZmluZWQgJiYgbm9kZS5uZXh0ID09PSBOb2RlLlVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gb25seSBub2RlXG4gICAgICAgICAgICB0aGlzLl9maXJzdCA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fbGFzdCA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubmV4dCA9PT0gTm9kZS5VbmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIGxhc3RcbiAgICAgICAgICAgIHRoaXMuX2xhc3QgPSB0aGlzLl9sYXN0LnByZXY7XG4gICAgICAgICAgICB0aGlzLl9sYXN0Lm5leHQgPSBOb2RlLlVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChub2RlLnByZXYgPT09IE5vZGUuVW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBmaXJzdFxuICAgICAgICAgICAgdGhpcy5fZmlyc3QgPSB0aGlzLl9maXJzdC5uZXh0O1xuICAgICAgICAgICAgdGhpcy5fZmlyc3QucHJldiA9IE5vZGUuVW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRvbmVcbiAgICAgICAgdGhpcy5fc2l6ZSAtPSAxO1xuICAgIH1cbiAgICAqW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGxldCBub2RlID0gdGhpcy5fZmlyc3Q7XG4gICAgICAgIHdoaWxlIChub2RlICE9PSBOb2RlLlVuZGVmaW5lZCkge1xuICAgICAgICAgICAgeWllbGQgbm9kZS5lbGVtZW50O1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY29uc3QgaGFzUGVyZm9ybWFuY2VOb3cgPSAoZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSAmJiB0eXBlb2YgZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZS5ub3cgPT09ICdmdW5jdGlvbicpO1xuZXhwb3J0IGNsYXNzIFN0b3BXYXRjaCB7XG4gICAgc3RhdGljIGNyZWF0ZShoaWdoUmVzb2x1dGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IFN0b3BXYXRjaChoaWdoUmVzb2x1dGlvbik7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGhpZ2hSZXNvbHV0aW9uKSB7XG4gICAgICAgIHRoaXMuX25vdyA9IGhhc1BlcmZvcm1hbmNlTm93ICYmIGhpZ2hSZXNvbHV0aW9uID09PSBmYWxzZSA/IERhdGUubm93IDogZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZS5ub3cuYmluZChnbG9iYWxUaGlzLnBlcmZvcm1hbmNlKTtcbiAgICAgICAgdGhpcy5fc3RhcnRUaW1lID0gdGhpcy5fbm93KCk7XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lID0gLTE7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuX3N0b3BUaW1lID0gdGhpcy5fbm93KCk7XG4gICAgfVxuICAgIGVsYXBzZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9zdG9wVGltZSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdG9wVGltZSAtIHRoaXMuX3N0YXJ0VGltZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fbm93KCkgLSB0aGlzLl9zdGFydFRpbWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgb25VbmV4cGVjdGVkRXJyb3IgfSBmcm9tICcuL2Vycm9ycy5qcyc7XG5pbXBvcnQgeyBjcmVhdGVTaW5nbGVDYWxsRnVuY3Rpb24gfSBmcm9tICcuL2Z1bmN0aW9uYWwuanMnO1xuaW1wb3J0IHsgY29tYmluZWREaXNwb3NhYmxlLCBEaXNwb3NhYmxlLCBEaXNwb3NhYmxlU3RvcmUsIHRvRGlzcG9zYWJsZSB9IGZyb20gJy4vbGlmZWN5Y2xlLmpzJztcbmltcG9ydCB7IExpbmtlZExpc3QgfSBmcm9tICcuL2xpbmtlZExpc3QuanMnO1xuaW1wb3J0IHsgU3RvcFdhdGNoIH0gZnJvbSAnLi9zdG9wd2F0Y2guanMnO1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVuY29tbWVudCB0aGUgbmV4dCBsaW5lIHRvIHByaW50IHdhcm5pbmdzIHdoZW5ldmVyIGFuIGVtaXR0ZXIgd2l0aCBsaXN0ZW5lcnMgaXMgZGlzcG9zZWQuIFRoYXQgaXMgYSBzaWduIG9mIGNvZGUgc21lbGwuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgX2VuYWJsZURpc3Bvc2VXaXRoTGlzdGVuZXJXYXJuaW5nID0gZmFsc2U7XG4vLyBfZW5hYmxlRGlzcG9zZVdpdGhMaXN0ZW5lcldhcm5pbmcgPSBCb29sZWFuKFwiVFJVRVwiKTsgLy8gY2F1c2VzIGEgbGludGVyIHdhcm5pbmcgc28gdGhhdCBpdCBjYW5ub3QgYmUgcHVzaGVkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gVW5jb21tZW50IHRoZSBuZXh0IGxpbmUgdG8gcHJpbnQgd2FybmluZ3Mgd2hlbmV2ZXIgYSBzbmFwc2hvdHRlZCBldmVudCBpcyB1c2VkIHJlcGVhdGVkbHkgd2l0aG91dCBjbGVhbnVwLlxuLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvdnNjb2RlL2lzc3Vlcy8xNDI4NTFcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5jb25zdCBfZW5hYmxlU25hcHNob3RQb3RlbnRpYWxMZWFrV2FybmluZyA9IGZhbHNlO1xuZXhwb3J0IHZhciBFdmVudDtcbihmdW5jdGlvbiAoRXZlbnQpIHtcbiAgICBFdmVudC5Ob25lID0gKCkgPT4gRGlzcG9zYWJsZS5Ob25lO1xuICAgIGZ1bmN0aW9uIF9hZGRMZWFrYWdlVHJhY2VMb2dpYyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChfZW5hYmxlU25hcHNob3RQb3RlbnRpYWxMZWFrV2FybmluZykge1xuICAgICAgICAgICAgY29uc3QgeyBvbkRpZEFkZExpc3RlbmVyOiBvcmlnTGlzdGVuZXJEaWRBZGQgfSA9IG9wdGlvbnM7XG4gICAgICAgICAgICBjb25zdCBzdGFjayA9IFN0YWNrdHJhY2UuY3JlYXRlKCk7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgb3B0aW9ucy5vbkRpZEFkZExpc3RlbmVyID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgrK2NvdW50ID09PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2Fybignc25hcHNob3R0ZWQgZW1pdHRlciBMSUtFTFkgdXNlZCBwdWJsaWMgYW5kIFNIT1VMRCBIQVZFIEJFRU4gY3JlYXRlZCB3aXRoIERpc3Bvc2FibGVTdG9yZS4gc25hcHNob3R0ZWQgaGVyZScpO1xuICAgICAgICAgICAgICAgICAgICBzdGFjay5wcmludCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcmlnTGlzdGVuZXJEaWRBZGQgPT09IG51bGwgfHwgb3JpZ0xpc3RlbmVyRGlkQWRkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcmlnTGlzdGVuZXJEaWRBZGQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gYW4gZXZlbnQsIHJldHVybnMgYW5vdGhlciBldmVudCB3aGljaCBkZWJvdW5jZXMgY2FsbHMgYW5kIGRlZmVycyB0aGUgbGlzdGVuZXJzIHRvIGEgbGF0ZXIgdGFzayB2aWEgYSBzaGFyZWRcbiAgICAgKiBgc2V0VGltZW91dGAuIFRoZSBldmVudCBpcyBjb252ZXJ0ZWQgaW50byBhIHNpZ25hbCAoYEV2ZW50PHZvaWQ+YCkgdG8gYXZvaWQgYWRkaXRpb25hbCBvYmplY3QgY3JlYXRpb24gYXMgYVxuICAgICAqIHJlc3VsdCBvZiBtZXJnaW5nIGV2ZW50cyBhbmQgdG8gdHJ5IHByZXZlbnQgcmFjZSBjb25kaXRpb25zIHRoYXQgY291bGQgYXJpc2Ugd2hlbiB1c2luZyByZWxhdGVkIGRlZmVycmVkIGFuZFxuICAgICAqIG5vbi1kZWZlcnJlZCBldmVudHMuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgZGVmZXJyaW5nIG5vbi1jcml0aWNhbCB3b3JrIChlZy4gZ2VuZXJhbCBVSSB1cGRhdGVzKSB0byBlbnN1cmUgaXQgZG9lcyBub3QgYmxvY2sgY3JpdGljYWwgd29ya1xuICAgICAqIChlZy4gbGF0ZW5jeSBvZiBrZXlwcmVzcyB0byB0ZXh0IHJlbmRlcmVkKS5cbiAgICAgKlxuICAgICAqICpOT1RFKiB0aGF0IHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBgRXZlbnRgIGFuZCBpdCBNVVNUIGJlIGNhbGxlZCB3aXRoIGEgYERpc3Bvc2FibGVTdG9yZWAgd2hlbmV2ZXIgdGhlIHJldHVybmVkXG4gICAgICogZXZlbnQgaXMgYWNjZXNzaWJsZSB0byBcInRoaXJkIHBhcnRpZXNcIiwgZS5nIHRoZSBldmVudCBpcyBhIHB1YmxpYyBwcm9wZXJ0eS4gT3RoZXJ3aXNlIGEgbGVha2VkIGxpc3RlbmVyIG9uIHRoZVxuICAgICAqIHJldHVybmVkIGV2ZW50IGNhdXNlcyB0aGlzIHV0aWxpdHkgdG8gbGVhayBhIGxpc3RlbmVyIG9uIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgc291cmNlIGZvciB0aGUgbmV3IGV2ZW50LlxuICAgICAqIEBwYXJhbSBkaXNwb3NhYmxlIEEgZGlzcG9zYWJsZSBzdG9yZSB0byBhZGQgdGhlIG5ldyBFdmVudEVtaXR0ZXIgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVmZXIoZXZlbnQsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgcmV0dXJuIGRlYm91bmNlKGV2ZW50LCAoKSA9PiB2b2lkIDAsIDAsIHVuZGVmaW5lZCwgdHJ1ZSwgdW5kZWZpbmVkLCBkaXNwb3NhYmxlKTtcbiAgICB9XG4gICAgRXZlbnQuZGVmZXIgPSBkZWZlcjtcbiAgICAvKipcbiAgICAgKiBHaXZlbiBhbiBldmVudCwgcmV0dXJucyBhbm90aGVyIGV2ZW50IHdoaWNoIG9ubHkgZmlyZXMgb25jZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgc291cmNlIGZvciB0aGUgbmV3IGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9uY2UoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIChsaXN0ZW5lciwgdGhpc0FyZ3MgPSBudWxsLCBkaXNwb3NhYmxlcykgPT4ge1xuICAgICAgICAgICAgLy8gd2UgbmVlZCB0aGlzLCBpbiBjYXNlIHRoZSBldmVudCBmaXJlcyBkdXJpbmcgdGhlIGxpc3RlbmVyIGNhbGxcbiAgICAgICAgICAgIGxldCBkaWRGaXJlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmVzdWx0ID0gZXZlbnQoZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGRpZEZpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZEZpcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzQXJncywgZSk7XG4gICAgICAgICAgICB9LCBudWxsLCBkaXNwb3NhYmxlcyk7XG4gICAgICAgICAgICBpZiAoZGlkRmlyZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH1cbiAgICBFdmVudC5vbmNlID0gb25jZTtcbiAgICAvKipcbiAgICAgKiBNYXBzIGFuIGV2ZW50IG9mIG9uZSB0eXBlIGludG8gYW4gZXZlbnQgb2YgYW5vdGhlciB0eXBlIHVzaW5nIGEgbWFwcGluZyBmdW5jdGlvbiwgc2ltaWxhciB0byBob3dcbiAgICAgKiBgQXJyYXkucHJvdG90eXBlLm1hcGAgd29ya3MuXG4gICAgICpcbiAgICAgKiAqTk9URSogdGhhdCB0aGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gYEV2ZW50YCBhbmQgaXQgTVVTVCBiZSBjYWxsZWQgd2l0aCBhIGBEaXNwb3NhYmxlU3RvcmVgIHdoZW5ldmVyIHRoZSByZXR1cm5lZFxuICAgICAqIGV2ZW50IGlzIGFjY2Vzc2libGUgdG8gXCJ0aGlyZCBwYXJ0aWVzXCIsIGUuZyB0aGUgZXZlbnQgaXMgYSBwdWJsaWMgcHJvcGVydHkuIE90aGVyd2lzZSBhIGxlYWtlZCBsaXN0ZW5lciBvbiB0aGVcbiAgICAgKiByZXR1cm5lZCBldmVudCBjYXVzZXMgdGhpcyB1dGlsaXR5IHRvIGxlYWsgYSBsaXN0ZW5lciBvbiB0aGUgb3JpZ2luYWwgZXZlbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHNvdXJjZSBmb3IgdGhlIG5ldyBldmVudC5cbiAgICAgKiBAcGFyYW0gbWFwIFRoZSBtYXBwaW5nIGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSBkaXNwb3NhYmxlIEEgZGlzcG9zYWJsZSBzdG9yZSB0byBhZGQgdGhlIG5ldyBFdmVudEVtaXR0ZXIgdG8uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGV2ZW50LCBtYXAsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90KChsaXN0ZW5lciwgdGhpc0FyZ3MgPSBudWxsLCBkaXNwb3NhYmxlcykgPT4gZXZlbnQoaSA9PiBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBtYXAoaSkpLCBudWxsLCBkaXNwb3NhYmxlcyksIGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBFdmVudC5tYXAgPSBtYXA7XG4gICAgLyoqXG4gICAgICogV3JhcHMgYW4gZXZlbnQgaW4gYW5vdGhlciBldmVudCB0aGF0IHBlcmZvcm1zIHNvbWUgZnVuY3Rpb24gb24gdGhlIGV2ZW50IG9iamVjdCBiZWZvcmUgZmlyaW5nLlxuICAgICAqXG4gICAgICogKk5PVEUqIHRoYXQgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGBFdmVudGAgYW5kIGl0IE1VU1QgYmUgY2FsbGVkIHdpdGggYSBgRGlzcG9zYWJsZVN0b3JlYCB3aGVuZXZlciB0aGUgcmV0dXJuZWRcbiAgICAgKiBldmVudCBpcyBhY2Nlc3NpYmxlIHRvIFwidGhpcmQgcGFydGllc1wiLCBlLmcgdGhlIGV2ZW50IGlzIGEgcHVibGljIHByb3BlcnR5LiBPdGhlcndpc2UgYSBsZWFrZWQgbGlzdGVuZXIgb24gdGhlXG4gICAgICogcmV0dXJuZWQgZXZlbnQgY2F1c2VzIHRoaXMgdXRpbGl0eSB0byBsZWFrIGEgbGlzdGVuZXIgb24gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCBzb3VyY2UgZm9yIHRoZSBuZXcgZXZlbnQuXG4gICAgICogQHBhcmFtIGVhY2ggVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gb24gdGhlIGV2ZW50IG9iamVjdC5cbiAgICAgKiBAcGFyYW0gZGlzcG9zYWJsZSBBIGRpc3Bvc2FibGUgc3RvcmUgdG8gYWRkIHRoZSBuZXcgRXZlbnRFbWl0dGVyIHRvLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2goZXZlbnQsIGVhY2gsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90KChsaXN0ZW5lciwgdGhpc0FyZ3MgPSBudWxsLCBkaXNwb3NhYmxlcykgPT4gZXZlbnQoaSA9PiB7IGVhY2goaSk7IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpOyB9LCBudWxsLCBkaXNwb3NhYmxlcyksIGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBFdmVudC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBmdW5jdGlvbiBmaWx0ZXIoZXZlbnQsIGZpbHRlciwgZGlzcG9zYWJsZSkge1xuICAgICAgICByZXR1cm4gc25hcHNob3QoKGxpc3RlbmVyLCB0aGlzQXJncyA9IG51bGwsIGRpc3Bvc2FibGVzKSA9PiBldmVudChlID0+IGZpbHRlcihlKSAmJiBsaXN0ZW5lci5jYWxsKHRoaXNBcmdzLCBlKSwgbnVsbCwgZGlzcG9zYWJsZXMpLCBkaXNwb3NhYmxlKTtcbiAgICB9XG4gICAgRXZlbnQuZmlsdGVyID0gZmlsdGVyO1xuICAgIC8qKlxuICAgICAqIEdpdmVuIGFuIGV2ZW50LCByZXR1cm5zIHRoZSBzYW1lIGV2ZW50IGJ1dCB0eXBlZCBhcyBgRXZlbnQ8dm9pZD5gLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpZ25hbChldmVudCkge1xuICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgfVxuICAgIEV2ZW50LnNpZ25hbCA9IHNpZ25hbDtcbiAgICBmdW5jdGlvbiBhbnkoLi4uZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiAobGlzdGVuZXIsIHRoaXNBcmdzID0gbnVsbCwgZGlzcG9zYWJsZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3Bvc2FibGUgPSBjb21iaW5lZERpc3Bvc2FibGUoLi4uZXZlbnRzLm1hcChldmVudCA9PiBldmVudChlID0+IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGUpKSkpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZEFuZFJldHVybkRpc3Bvc2FibGUoZGlzcG9zYWJsZSwgZGlzcG9zYWJsZXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBFdmVudC5hbnkgPSBhbnk7XG4gICAgLyoqXG4gICAgICogKk5PVEUqIHRoYXQgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGBFdmVudGAgYW5kIGl0IE1VU1QgYmUgY2FsbGVkIHdpdGggYSBgRGlzcG9zYWJsZVN0b3JlYCB3aGVuZXZlciB0aGUgcmV0dXJuZWRcbiAgICAgKiBldmVudCBpcyBhY2Nlc3NpYmxlIHRvIFwidGhpcmQgcGFydGllc1wiLCBlLmcgdGhlIGV2ZW50IGlzIGEgcHVibGljIHByb3BlcnR5LiBPdGhlcndpc2UgYSBsZWFrZWQgbGlzdGVuZXIgb24gdGhlXG4gICAgICogcmV0dXJuZWQgZXZlbnQgY2F1c2VzIHRoaXMgdXRpbGl0eSB0byBsZWFrIGEgbGlzdGVuZXIgb24gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShldmVudCwgbWVyZ2UsIGluaXRpYWwsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9IGluaXRpYWw7XG4gICAgICAgIHJldHVybiBtYXAoZXZlbnQsIGUgPT4ge1xuICAgICAgICAgICAgb3V0cHV0ID0gbWVyZ2Uob3V0cHV0LCBlKTtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgICAgIH0sIGRpc3Bvc2FibGUpO1xuICAgIH1cbiAgICBFdmVudC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgZnVuY3Rpb24gc25hcHNob3QoZXZlbnQsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgbGV0IGxpc3RlbmVyO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgb25XaWxsQWRkRmlyc3RMaXN0ZW5lcigpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IGV2ZW50KGVtaXR0ZXIuZmlyZSwgZW1pdHRlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaWRSZW1vdmVMYXN0TGlzdGVuZXIoKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPT09IG51bGwgfHwgbGlzdGVuZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGxpc3RlbmVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFkaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICBfYWRkTGVha2FnZVRyYWNlTG9naWMob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZW1pdHRlciA9IG5ldyBFbWl0dGVyKG9wdGlvbnMpO1xuICAgICAgICBkaXNwb3NhYmxlID09PSBudWxsIHx8IGRpc3Bvc2FibGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRpc3Bvc2FibGUuYWRkKGVtaXR0ZXIpO1xuICAgICAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgSURpc3Bvc2FibGUgdG8gdGhlIHN0b3JlIGlmIGl0J3Mgc2V0LCBhbmQgcmV0dXJucyBpdC4gVXNlZnVsIHRvXG4gICAgICogRXZlbnQgZnVuY3Rpb24gaW1wbGVtZW50YXRpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQW5kUmV0dXJuRGlzcG9zYWJsZShkLCBzdG9yZSkge1xuICAgICAgICBpZiAoc3RvcmUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgc3RvcmUucHVzaChkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzdG9yZSkge1xuICAgICAgICAgICAgc3RvcmUuYWRkKGQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShldmVudCwgbWVyZ2UsIGRlbGF5ID0gMTAwLCBsZWFkaW5nID0gZmFsc2UsIGZsdXNoT25MaXN0ZW5lclJlbW92ZSA9IGZhbHNlLCBsZWFrV2FybmluZ1RocmVzaG9sZCwgZGlzcG9zYWJsZSkge1xuICAgICAgICBsZXQgc3Vic2NyaXB0aW9uO1xuICAgICAgICBsZXQgb3V0cHV0ID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgaGFuZGxlID0gdW5kZWZpbmVkO1xuICAgICAgICBsZXQgbnVtRGVib3VuY2VkQ2FsbHMgPSAwO1xuICAgICAgICBsZXQgZG9GaXJlO1xuICAgICAgICBjb25zdCBvcHRpb25zID0ge1xuICAgICAgICAgICAgbGVha1dhcm5pbmdUaHJlc2hvbGQsXG4gICAgICAgICAgICBvbldpbGxBZGRGaXJzdExpc3RlbmVyKCkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IGV2ZW50KGN1ciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG51bURlYm91bmNlZENhbGxzKys7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IG1lcmdlKG91dHB1dCwgY3VyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxlYWRpbmcgJiYgIWhhbmRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5maXJlKG91dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZG9GaXJlID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgX291dHB1dCA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbGVhZGluZyB8fCBudW1EZWJvdW5jZWRDYWxscyA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmZpcmUoX291dHB1dCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1EZWJvdW5jZWRDYWxscyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoaGFuZGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZSA9IHNldFRpbWVvdXQoZG9GaXJlLCBkZWxheSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGUgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKGRvRmlyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbldpbGxSZW1vdmVMaXN0ZW5lcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoZmx1c2hPbkxpc3RlbmVyUmVtb3ZlICYmIG51bURlYm91bmNlZENhbGxzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBkb0ZpcmUgPT09IG51bGwgfHwgZG9GaXJlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkb0ZpcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaWRSZW1vdmVMYXN0TGlzdGVuZXIoKSB7XG4gICAgICAgICAgICAgICAgZG9GaXJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmICghZGlzcG9zYWJsZSkge1xuICAgICAgICAgICAgX2FkZExlYWthZ2VUcmFjZUxvZ2ljKG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVtaXR0ZXIgPSBuZXcgRW1pdHRlcihvcHRpb25zKTtcbiAgICAgICAgZGlzcG9zYWJsZSA9PT0gbnVsbCB8fCBkaXNwb3NhYmxlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkaXNwb3NhYmxlLmFkZChlbWl0dGVyKTtcbiAgICAgICAgcmV0dXJuIGVtaXR0ZXIuZXZlbnQ7XG4gICAgfVxuICAgIEV2ZW50LmRlYm91bmNlID0gZGVib3VuY2U7XG4gICAgLyoqXG4gICAgICogRGVib3VuY2VzIGFuIGV2ZW50LCBmaXJpbmcgYWZ0ZXIgc29tZSBkZWxheSAoZGVmYXVsdD0wKSB3aXRoIGFuIGFycmF5IG9mIGFsbCBldmVudCBvcmlnaW5hbCBvYmplY3RzLlxuICAgICAqXG4gICAgICogKk5PVEUqIHRoYXQgdGhpcyBmdW5jdGlvbiByZXR1cm5zIGFuIGBFdmVudGAgYW5kIGl0IE1VU1QgYmUgY2FsbGVkIHdpdGggYSBgRGlzcG9zYWJsZVN0b3JlYCB3aGVuZXZlciB0aGUgcmV0dXJuZWRcbiAgICAgKiBldmVudCBpcyBhY2Nlc3NpYmxlIHRvIFwidGhpcmQgcGFydGllc1wiLCBlLmcgdGhlIGV2ZW50IGlzIGEgcHVibGljIHByb3BlcnR5LiBPdGhlcndpc2UgYSBsZWFrZWQgbGlzdGVuZXIgb24gdGhlXG4gICAgICogcmV0dXJuZWQgZXZlbnQgY2F1c2VzIHRoaXMgdXRpbGl0eSB0byBsZWFrIGEgbGlzdGVuZXIgb24gdGhlIG9yaWdpbmFsIGV2ZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFjY3VtdWxhdGUoZXZlbnQsIGRlbGF5ID0gMCwgZGlzcG9zYWJsZSkge1xuICAgICAgICByZXR1cm4gRXZlbnQuZGVib3VuY2UoZXZlbnQsIChsYXN0LCBlKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWxhc3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGFzdC5wdXNoKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGxhc3Q7XG4gICAgICAgIH0sIGRlbGF5LCB1bmRlZmluZWQsIHRydWUsIHVuZGVmaW5lZCwgZGlzcG9zYWJsZSk7XG4gICAgfVxuICAgIEV2ZW50LmFjY3VtdWxhdGUgPSBhY2N1bXVsYXRlO1xuICAgIC8qKlxuICAgICAqIEZpbHRlcnMgYW4gZXZlbnQgc3VjaCB0aGF0IHNvbWUgY29uZGl0aW9uIGlzIF9ub3RfIG1ldCBtb3JlIHRoYW4gb25jZSBpbiBhIHJvdywgZWZmZWN0aXZlbHkgZW5zdXJpbmcgZHVwbGljYXRlXG4gICAgICogZXZlbnQgb2JqZWN0cyBmcm9tIGRpZmZlcmVudCBzb3VyY2VzIGRvIG5vdCBmaXJlIHRoZSBzYW1lIGV2ZW50IG9iamVjdC5cbiAgICAgKlxuICAgICAqICpOT1RFKiB0aGF0IHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBgRXZlbnRgIGFuZCBpdCBNVVNUIGJlIGNhbGxlZCB3aXRoIGEgYERpc3Bvc2FibGVTdG9yZWAgd2hlbmV2ZXIgdGhlIHJldHVybmVkXG4gICAgICogZXZlbnQgaXMgYWNjZXNzaWJsZSB0byBcInRoaXJkIHBhcnRpZXNcIiwgZS5nIHRoZSBldmVudCBpcyBhIHB1YmxpYyBwcm9wZXJ0eS4gT3RoZXJ3aXNlIGEgbGVha2VkIGxpc3RlbmVyIG9uIHRoZVxuICAgICAqIHJldHVybmVkIGV2ZW50IGNhdXNlcyB0aGlzIHV0aWxpdHkgdG8gbGVhayBhIGxpc3RlbmVyIG9uIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgc291cmNlIGZvciB0aGUgbmV3IGV2ZW50LlxuICAgICAqIEBwYXJhbSBlcXVhbHMgVGhlIGVxdWFsaXR5IGNvbmRpdGlvbi5cbiAgICAgKiBAcGFyYW0gZGlzcG9zYWJsZSBBIGRpc3Bvc2FibGUgc3RvcmUgdG8gYWRkIHRoZSBuZXcgRXZlbnRFbWl0dGVyIHRvLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGBcbiAgICAgKiAvLyBGaXJlIG9ubHkgb25lIHRpbWUgd2hlbiBhIHNpbmdsZSB3aW5kb3cgaXMgb3BlbmVkIG9yIGZvY3VzZWRcbiAgICAgKiBFdmVudC5sYXRjaChFdmVudC5hbnkob25EaWRPcGVuV2luZG93LCBvbkRpZEZvY3VzV2luZG93KSlcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXRjaChldmVudCwgZXF1YWxzID0gKGEsIGIpID0+IGEgPT09IGIsIGRpc3Bvc2FibGUpIHtcbiAgICAgICAgbGV0IGZpcnN0Q2FsbCA9IHRydWU7XG4gICAgICAgIGxldCBjYWNoZTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcihldmVudCwgdmFsdWUgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2hvdWxkRW1pdCA9IGZpcnN0Q2FsbCB8fCAhZXF1YWxzKHZhbHVlLCBjYWNoZSk7XG4gICAgICAgICAgICBmaXJzdENhbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIGNhY2hlID0gdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gc2hvdWxkRW1pdDtcbiAgICAgICAgfSwgZGlzcG9zYWJsZSk7XG4gICAgfVxuICAgIEV2ZW50LmxhdGNoID0gbGF0Y2g7XG4gICAgLyoqXG4gICAgICogU3BsaXRzIGFuIGV2ZW50IHdob3NlIHBhcmFtZXRlciBpcyBhIHVuaW9uIHR5cGUgaW50byAyIHNlcGFyYXRlIGV2ZW50cyBmb3IgZWFjaCB0eXBlIGluIHRoZSB1bmlvbi5cbiAgICAgKlxuICAgICAqICpOT1RFKiB0aGF0IHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBgRXZlbnRgIGFuZCBpdCBNVVNUIGJlIGNhbGxlZCB3aXRoIGEgYERpc3Bvc2FibGVTdG9yZWAgd2hlbmV2ZXIgdGhlIHJldHVybmVkXG4gICAgICogZXZlbnQgaXMgYWNjZXNzaWJsZSB0byBcInRoaXJkIHBhcnRpZXNcIiwgZS5nIHRoZSBldmVudCBpcyBhIHB1YmxpYyBwcm9wZXJ0eS4gT3RoZXJ3aXNlIGEgbGVha2VkIGxpc3RlbmVyIG9uIHRoZVxuICAgICAqIHJldHVybmVkIGV2ZW50IGNhdXNlcyB0aGlzIHV0aWxpdHkgdG8gbGVhayBhIGxpc3RlbmVyIG9uIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgXG4gICAgICogY29uc3QgZXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyPG51bWJlciB8IHVuZGVmaW5lZD4oKS5ldmVudDtcbiAgICAgKiBjb25zdCBbbnVtYmVyRXZlbnQsIHVuZGVmaW5lZEV2ZW50XSA9IEV2ZW50LnNwbGl0KGV2ZW50LCBpc1VuZGVmaW5lZCk7XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGV2ZW50IHNvdXJjZSBmb3IgdGhlIG5ldyBldmVudC5cbiAgICAgKiBAcGFyYW0gaXNUIEEgZnVuY3Rpb24gdGhhdCBkZXRlcm1pbmVzIHdoYXQgZXZlbnQgaXMgb2YgdGhlIGZpcnN0IHR5cGUuXG4gICAgICogQHBhcmFtIGRpc3Bvc2FibGUgQSBkaXNwb3NhYmxlIHN0b3JlIHRvIGFkZCB0aGUgbmV3IEV2ZW50RW1pdHRlciB0by5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzcGxpdChldmVudCwgaXNULCBkaXNwb3NhYmxlKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBFdmVudC5maWx0ZXIoZXZlbnQsIGlzVCwgZGlzcG9zYWJsZSksXG4gICAgICAgICAgICBFdmVudC5maWx0ZXIoZXZlbnQsIGUgPT4gIWlzVChlKSwgZGlzcG9zYWJsZSksXG4gICAgICAgIF07XG4gICAgfVxuICAgIEV2ZW50LnNwbGl0ID0gc3BsaXQ7XG4gICAgLyoqXG4gICAgICogQnVmZmVycyBhbiBldmVudCB1bnRpbCBpdCBoYXMgYSBsaXN0ZW5lciBhdHRhY2hlZC5cbiAgICAgKlxuICAgICAqICpOT1RFKiB0aGF0IHRoaXMgZnVuY3Rpb24gcmV0dXJucyBhbiBgRXZlbnRgIGFuZCBpdCBNVVNUIGJlIGNhbGxlZCB3aXRoIGEgYERpc3Bvc2FibGVTdG9yZWAgd2hlbmV2ZXIgdGhlIHJldHVybmVkXG4gICAgICogZXZlbnQgaXMgYWNjZXNzaWJsZSB0byBcInRoaXJkIHBhcnRpZXNcIiwgZS5nIHRoZSBldmVudCBpcyBhIHB1YmxpYyBwcm9wZXJ0eS4gT3RoZXJ3aXNlIGEgbGVha2VkIGxpc3RlbmVyIG9uIHRoZVxuICAgICAqIHJldHVybmVkIGV2ZW50IGNhdXNlcyB0aGlzIHV0aWxpdHkgdG8gbGVhayBhIGxpc3RlbmVyIG9uIHRoZSBvcmlnaW5hbCBldmVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgc291cmNlIGZvciB0aGUgbmV3IGV2ZW50LlxuICAgICAqIEBwYXJhbSBmbHVzaEFmdGVyVGltZW91dCBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gZmx1c2ggdGhlIGJ1ZmZlciBhZnRlciBhIHRpbWVvdXQgaW1tZWRpYXRlbHkgb3IgYWZ0ZXIgYVxuICAgICAqIGBzZXRUaW1lb3V0YCB3aGVuIHRoZSBmaXJzdCBldmVudCBsaXN0ZW5lciBpcyBhZGRlZC5cbiAgICAgKiBAcGFyYW0gX2J1ZmZlciBJbnRlcm5hbDogQSBzb3VyY2UgZXZlbnQgYXJyYXkgdXNlZCBmb3IgdGVzdHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIC8vIFN0YXJ0IGFjY3VtdWxhdGluZyBldmVudHMsIHdoZW4gdGhlIGZpcnN0IGxpc3RlbmVyIGlzIGF0dGFjaGVkLCBmbHVzaFxuICAgICAqIC8vIHRoZSBldmVudCBhZnRlciBhIHRpbWVvdXQgc3VjaCB0aGF0IG11bHRpcGxlIGxpc3RlbmVycyBhdHRhY2hlZCBiZWZvcmVcbiAgICAgKiAvLyB0aGUgdGltZW91dCB3b3VsZCByZWNlaXZlIHRoZSBldmVudFxuICAgICAqIHRoaXMub25JbnN0YWxsRXh0ZW5zaW9uID0gRXZlbnQuYnVmZmVyKHNlcnZpY2Uub25JbnN0YWxsRXh0ZW5zaW9uLCB0cnVlKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBidWZmZXIoZXZlbnQsIGZsdXNoQWZ0ZXJUaW1lb3V0ID0gZmFsc2UsIF9idWZmZXIgPSBbXSwgZGlzcG9zYWJsZSkge1xuICAgICAgICBsZXQgYnVmZmVyID0gX2J1ZmZlci5zbGljZSgpO1xuICAgICAgICBsZXQgbGlzdGVuZXIgPSBldmVudChlID0+IHtcbiAgICAgICAgICAgIGlmIChidWZmZXIpIHtcbiAgICAgICAgICAgICAgICBidWZmZXIucHVzaChlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGVtaXR0ZXIuZmlyZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlLmFkZChsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmx1c2ggPSAoKSA9PiB7XG4gICAgICAgICAgICBidWZmZXIgPT09IG51bGwgfHwgYnVmZmVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBidWZmZXIuZm9yRWFjaChlID0+IGVtaXR0ZXIuZmlyZShlKSk7XG4gICAgICAgICAgICBidWZmZXIgPSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICAgICAgb25XaWxsQWRkRmlyc3RMaXN0ZW5lcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gZXZlbnQoZSA9PiBlbWl0dGVyLmZpcmUoZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlzcG9zYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcG9zYWJsZS5hZGQobGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlkQWRkRmlyc3RMaXN0ZW5lcigpIHtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbHVzaEFmdGVyVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmbHVzaCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlkUmVtb3ZlTGFzdExpc3RlbmVyKCkge1xuICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkaXNwb3NhYmxlKSB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlLmFkZChlbWl0dGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbiAgICB9XG4gICAgRXZlbnQuYnVmZmVyID0gYnVmZmVyO1xuICAgIC8qKlxuICAgICAqIFdyYXBzIHRoZSBldmVudCBpbiBhbiB7QGxpbmsgSUNoYWluYWJsZUV2ZW50fSwgYWxsb3dpbmcgYSBtb3JlIGZ1bmN0aW9uYWwgcHJvZ3JhbW1pbmcgc3R5bGUuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYFxuICAgICAqIC8vIE5vcm1hbFxuICAgICAqIGNvbnN0IG9uRW50ZXJQcmVzc05vcm1hbCA9IEV2ZW50LmZpbHRlcihcbiAgICAgKiAgIEV2ZW50Lm1hcChvbktleVByZXNzLmV2ZW50LCBlID0+IG5ldyBTdGFuZGFyZEtleWJvYXJkRXZlbnQoZSkpLFxuICAgICAqICAgZS5rZXlDb2RlID09PSBLZXlDb2RlLkVudGVyXG4gICAgICogKS5ldmVudDtcbiAgICAgKlxuICAgICAqIC8vIFVzaW5nIGNoYWluXG4gICAgICogY29uc3Qgb25FbnRlclByZXNzQ2hhaW4gPSBFdmVudC5jaGFpbihvbktleVByZXNzLmV2ZW50LCAkID0+ICRcbiAgICAgKiAgIC5tYXAoZSA9PiBuZXcgU3RhbmRhcmRLZXlib2FyZEV2ZW50KGUpKVxuICAgICAqICAgLmZpbHRlcihlID0+IGUua2V5Q29kZSA9PT0gS2V5Q29kZS5FbnRlcilcbiAgICAgKiApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKGV2ZW50LCBzeXRoZW5zaXplKSB7XG4gICAgICAgIGNvbnN0IGZuID0gKGxpc3RlbmVyLCB0aGlzQXJncywgZGlzcG9zYWJsZXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNzID0gc3l0aGVuc2l6ZShuZXcgQ2hhaW5hYmxlU3ludGhlc2lzKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50KGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNzLmV2YWx1YXRlKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSBIYWx0Q2hhaW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdW5kZWZpbmVkLCBkaXNwb3NhYmxlcyk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmbjtcbiAgICB9XG4gICAgRXZlbnQuY2hhaW4gPSBjaGFpbjtcbiAgICBjb25zdCBIYWx0Q2hhaW5hYmxlID0gU3ltYm9sKCdIYWx0Q2hhaW5hYmxlJyk7XG4gICAgY2xhc3MgQ2hhaW5hYmxlU3ludGhlc2lzIHtcbiAgICAgICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXBzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgbWFwKGZuKSB7XG4gICAgICAgICAgICB0aGlzLnN0ZXBzLnB1c2goZm4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZm9yRWFjaChmbikge1xuICAgICAgICAgICAgdGhpcy5zdGVwcy5wdXNoKHYgPT4ge1xuICAgICAgICAgICAgICAgIGZuKHYpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBmaWx0ZXIoZm4pIHtcbiAgICAgICAgICAgIHRoaXMuc3RlcHMucHVzaCh2ID0+IGZuKHYpID8gdiA6IEhhbHRDaGFpbmFibGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmVkdWNlKG1lcmdlLCBpbml0aWFsKSB7XG4gICAgICAgICAgICBsZXQgbGFzdCA9IGluaXRpYWw7XG4gICAgICAgICAgICB0aGlzLnN0ZXBzLnB1c2godiA9PiB7XG4gICAgICAgICAgICAgICAgbGFzdCA9IG1lcmdlKGxhc3QsIHYpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsYXN0O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBsYXRjaChlcXVhbHMgPSAoYSwgYikgPT4gYSA9PT0gYikge1xuICAgICAgICAgICAgbGV0IGZpcnN0Q2FsbCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgY2FjaGU7XG4gICAgICAgICAgICB0aGlzLnN0ZXBzLnB1c2godmFsdWUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZEVtaXQgPSBmaXJzdENhbGwgfHwgIWVxdWFscyh2YWx1ZSwgY2FjaGUpO1xuICAgICAgICAgICAgICAgIGZpcnN0Q2FsbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNhY2hlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNob3VsZEVtaXQgPyB2YWx1ZSA6IEhhbHRDaGFpbmFibGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGV2YWx1YXRlKHZhbHVlKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHN0ZXAgb2YgdGhpcy5zdGVwcykge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gc3RlcCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBIYWx0Q2hhaW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIHtAbGluayBFdmVudH0gZnJvbSBhIG5vZGUgZXZlbnQgZW1pdHRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tTm9kZUV2ZW50RW1pdHRlcihlbWl0dGVyLCBldmVudE5hbWUsIG1hcCA9IGlkID0+IGlkKSB7XG4gICAgICAgIGNvbnN0IGZuID0gKC4uLmFyZ3MpID0+IHJlc3VsdC5maXJlKG1hcCguLi5hcmdzKSk7XG4gICAgICAgIGNvbnN0IG9uRmlyc3RMaXN0ZW5lckFkZCA9ICgpID0+IGVtaXR0ZXIub24oZXZlbnROYW1lLCBmbik7XG4gICAgICAgIGNvbnN0IG9uTGFzdExpc3RlbmVyUmVtb3ZlID0gKCkgPT4gZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihldmVudE5hbWUsIGZuKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEVtaXR0ZXIoeyBvbldpbGxBZGRGaXJzdExpc3RlbmVyOiBvbkZpcnN0TGlzdGVuZXJBZGQsIG9uRGlkUmVtb3ZlTGFzdExpc3RlbmVyOiBvbkxhc3RMaXN0ZW5lclJlbW92ZSB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5ldmVudDtcbiAgICB9XG4gICAgRXZlbnQuZnJvbU5vZGVFdmVudEVtaXR0ZXIgPSBmcm9tTm9kZUV2ZW50RW1pdHRlcjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIHtAbGluayBFdmVudH0gZnJvbSBhIERPTSBldmVudCBlbWl0dGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZyb21ET01FdmVudEVtaXR0ZXIoZW1pdHRlciwgZXZlbnROYW1lLCBtYXAgPSBpZCA9PiBpZCkge1xuICAgICAgICBjb25zdCBmbiA9ICguLi5hcmdzKSA9PiByZXN1bHQuZmlyZShtYXAoLi4uYXJncykpO1xuICAgICAgICBjb25zdCBvbkZpcnN0TGlzdGVuZXJBZGQgPSAoKSA9PiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBmbik7XG4gICAgICAgIGNvbnN0IG9uTGFzdExpc3RlbmVyUmVtb3ZlID0gKCkgPT4gZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgZm4pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgRW1pdHRlcih7IG9uV2lsbEFkZEZpcnN0TGlzdGVuZXI6IG9uRmlyc3RMaXN0ZW5lckFkZCwgb25EaWRSZW1vdmVMYXN0TGlzdGVuZXI6IG9uTGFzdExpc3RlbmVyUmVtb3ZlIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0LmV2ZW50O1xuICAgIH1cbiAgICBFdmVudC5mcm9tRE9NRXZlbnRFbWl0dGVyID0gZnJvbURPTUV2ZW50RW1pdHRlcjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgcHJvbWlzZSBvdXQgb2YgYW4gZXZlbnQsIHVzaW5nIHRoZSB7QGxpbmsgRXZlbnQub25jZX0gaGVscGVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUHJvbWlzZShldmVudCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBvbmNlKGV2ZW50KShyZXNvbHZlKSk7XG4gICAgfVxuICAgIEV2ZW50LnRvUHJvbWlzZSA9IHRvUHJvbWlzZTtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGV2ZW50IG91dCBvZiBhIHByb21pc2UgdGhhdCBmaXJlcyBvbmNlIHdoZW4gdGhlIHByb21pc2UgaXNcbiAgICAgKiByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHQgb2YgdGhlIHByb21pc2Ugb3IgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgRW1pdHRlcigpO1xuICAgICAgICBwcm9taXNlLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgIHJlc3VsdC5maXJlKHJlcyk7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdC5maXJlKHVuZGVmaW5lZCk7XG4gICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgcmVzdWx0LmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuZXZlbnQ7XG4gICAgfVxuICAgIEV2ZW50LmZyb21Qcm9taXNlID0gZnJvbVByb21pc2U7XG4gICAgZnVuY3Rpb24gcnVuQW5kU3Vic2NyaWJlKGV2ZW50LCBoYW5kbGVyLCBpbml0aWFsKSB7XG4gICAgICAgIGhhbmRsZXIoaW5pdGlhbCk7XG4gICAgICAgIHJldHVybiBldmVudChlID0+IGhhbmRsZXIoZSkpO1xuICAgIH1cbiAgICBFdmVudC5ydW5BbmRTdWJzY3JpYmUgPSBydW5BbmRTdWJzY3JpYmU7XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGxpc3RlbmVyIHRvIGFuIGV2ZW50IGFuZCBjYWxscyB0aGUgbGlzdGVuZXIgaW1tZWRpYXRlbHkgd2l0aCB1bmRlZmluZWQgYXMgdGhlIGV2ZW50IG9iamVjdC4gQSBuZXdcbiAgICAgKiB7QGxpbmsgRGlzcG9zYWJsZVN0b3JlfSBpcyBwYXNzZWQgdG8gdGhlIGxpc3RlbmVyIHdoaWNoIGlzIGRpc3Bvc2VkIHdoZW4gdGhlIHJldHVybmVkIGRpc3Bvc2FibGUgaXMgZGlzcG9zZWQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gcnVuQW5kU3Vic2NyaWJlV2l0aFN0b3JlKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgIGxldCBzdG9yZSA9IG51bGw7XG4gICAgICAgIGZ1bmN0aW9uIHJ1bihlKSB7XG4gICAgICAgICAgICBzdG9yZSA9PT0gbnVsbCB8fCBzdG9yZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RvcmUuZGlzcG9zZSgpO1xuICAgICAgICAgICAgc3RvcmUgPSBuZXcgRGlzcG9zYWJsZVN0b3JlKCk7XG4gICAgICAgICAgICBoYW5kbGVyKGUsIHN0b3JlKTtcbiAgICAgICAgfVxuICAgICAgICBydW4odW5kZWZpbmVkKTtcbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IGV2ZW50KGUgPT4gcnVuKGUpKTtcbiAgICAgICAgcmV0dXJuIHRvRGlzcG9zYWJsZSgoKSA9PiB7XG4gICAgICAgICAgICBkaXNwb3NhYmxlLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHN0b3JlID09PSBudWxsIHx8IHN0b3JlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzdG9yZS5kaXNwb3NlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBFdmVudC5ydW5BbmRTdWJzY3JpYmVXaXRoU3RvcmUgPSBydW5BbmRTdWJzY3JpYmVXaXRoU3RvcmU7XG4gICAgY2xhc3MgRW1pdHRlck9ic2VydmVyIHtcbiAgICAgICAgY29uc3RydWN0b3IoX29ic2VydmFibGUsIHN0b3JlKSB7XG4gICAgICAgICAgICB0aGlzLl9vYnNlcnZhYmxlID0gX29ic2VydmFibGU7XG4gICAgICAgICAgICB0aGlzLl9jb3VudGVyID0gMDtcbiAgICAgICAgICAgIHRoaXMuX2hhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgb25XaWxsQWRkRmlyc3RMaXN0ZW5lcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfb2JzZXJ2YWJsZS5hZGRPYnNlcnZlcih0aGlzKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uRGlkUmVtb3ZlTGFzdExpc3RlbmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF9vYnNlcnZhYmxlLnJlbW92ZU9ic2VydmVyKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXN0b3JlKSB7XG4gICAgICAgICAgICAgICAgX2FkZExlYWthZ2VUcmFjZUxvZ2ljKG9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIob3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICAgICAgICBzdG9yZS5hZGQodGhpcy5lbWl0dGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBiZWdpblVwZGF0ZShfb2JzZXJ2YWJsZSkge1xuICAgICAgICAgICAgLy8gYXNzZXJ0KF9vYnNlcnZhYmxlID09PSB0aGlzLm9icyk7XG4gICAgICAgICAgICB0aGlzLl9jb3VudGVyKys7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlUG9zc2libGVDaGFuZ2UoX29ic2VydmFibGUpIHtcbiAgICAgICAgICAgIC8vIGFzc2VydChfb2JzZXJ2YWJsZSA9PT0gdGhpcy5vYnMpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZUNoYW5nZShfb2JzZXJ2YWJsZSwgX2NoYW5nZSkge1xuICAgICAgICAgICAgLy8gYXNzZXJ0KF9vYnNlcnZhYmxlID09PSB0aGlzLm9icyk7XG4gICAgICAgICAgICB0aGlzLl9oYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbmRVcGRhdGUoX29ic2VydmFibGUpIHtcbiAgICAgICAgICAgIC8vIGFzc2VydChfb2JzZXJ2YWJsZSA9PT0gdGhpcy5vYnMpO1xuICAgICAgICAgICAgdGhpcy5fY291bnRlci0tO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvdW50ZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vYnNlcnZhYmxlLnJlcG9ydENoYW5nZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZW1pdHRlci5maXJlKHRoaXMuX29ic2VydmFibGUuZ2V0KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGV2ZW50IGVtaXR0ZXIgdGhhdCBpcyBmaXJlZCB3aGVuIHRoZSBvYnNlcnZhYmxlIGNoYW5nZXMuXG4gICAgICogRWFjaCBsaXN0ZW5lcnMgc3Vic2NyaWJlcyB0byB0aGUgZW1pdHRlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tT2JzZXJ2YWJsZShvYnMsIHN0b3JlKSB7XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IEVtaXR0ZXJPYnNlcnZlcihvYnMsIHN0b3JlKTtcbiAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVtaXR0ZXIuZXZlbnQ7XG4gICAgfVxuICAgIEV2ZW50LmZyb21PYnNlcnZhYmxlID0gZnJvbU9ic2VydmFibGU7XG4gICAgLyoqXG4gICAgICogRWFjaCBsaXN0ZW5lciBpcyBhdHRhY2hlZCB0byB0aGUgb2JzZXJ2YWJsZSBkaXJlY3RseS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmcm9tT2JzZXJ2YWJsZUxpZ2h0KG9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSA9PiB7XG4gICAgICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGRpZENoYW5nZSA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICAgICAgYmVnaW5VcGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlbmRVcGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvdW50LS07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5yZXBvcnRDaGFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlkQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlkQ2hhbmdlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIuY2FsbCh0aGlzQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGhhbmRsZVBvc3NpYmxlQ2hhbmdlKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBub29wXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoYW5kbGVDaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpZENoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG9ic2VydmFibGUuYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgb2JzZXJ2YWJsZS5yZXBvcnRDaGFuZ2VzKCk7XG4gICAgICAgICAgICBjb25zdCBkaXNwb3NhYmxlID0ge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmFibGUucmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoZGlzcG9zYWJsZXMgaW5zdGFuY2VvZiBEaXNwb3NhYmxlU3RvcmUpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5hZGQoZGlzcG9zYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KGRpc3Bvc2FibGVzKSkge1xuICAgICAgICAgICAgICAgIGRpc3Bvc2FibGVzLnB1c2goZGlzcG9zYWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGlzcG9zYWJsZTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgRXZlbnQuZnJvbU9ic2VydmFibGVMaWdodCA9IGZyb21PYnNlcnZhYmxlTGlnaHQ7XG59KShFdmVudCB8fCAoRXZlbnQgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIEV2ZW50UHJvZmlsaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHRoaXMubGlzdGVuZXJDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuaW52b2NhdGlvbkNvdW50ID0gMDtcbiAgICAgICAgdGhpcy5lbGFwc2VkT3ZlcmFsbCA9IDA7XG4gICAgICAgIHRoaXMuZHVyYXRpb25zID0gW107XG4gICAgICAgIHRoaXMubmFtZSA9IGAke25hbWV9XyR7RXZlbnRQcm9maWxpbmcuX2lkUG9vbCsrfWA7XG4gICAgICAgIEV2ZW50UHJvZmlsaW5nLmFsbC5hZGQodGhpcyk7XG4gICAgfVxuICAgIHN0YXJ0KGxpc3RlbmVyQ291bnQpIHtcbiAgICAgICAgdGhpcy5fc3RvcFdhdGNoID0gbmV3IFN0b3BXYXRjaCgpO1xuICAgICAgICB0aGlzLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5fc3RvcFdhdGNoKSB7XG4gICAgICAgICAgICBjb25zdCBlbGFwc2VkID0gdGhpcy5fc3RvcFdhdGNoLmVsYXBzZWQoKTtcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb25zLnB1c2goZWxhcHNlZCk7XG4gICAgICAgICAgICB0aGlzLmVsYXBzZWRPdmVyYWxsICs9IGVsYXBzZWQ7XG4gICAgICAgICAgICB0aGlzLmludm9jYXRpb25Db3VudCArPSAxO1xuICAgICAgICAgICAgdGhpcy5fc3RvcFdhdGNoID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxufVxuRXZlbnRQcm9maWxpbmcuYWxsID0gbmV3IFNldCgpO1xuRXZlbnRQcm9maWxpbmcuX2lkUG9vbCA9IDA7XG5sZXQgX2dsb2JhbExlYWtXYXJuaW5nVGhyZXNob2xkID0gLTE7XG5jbGFzcyBMZWFrYWdlTW9uaXRvciB7XG4gICAgY29uc3RydWN0b3IodGhyZXNob2xkLCBuYW1lID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygxOCkuc2xpY2UoMiwgNSkpIHtcbiAgICAgICAgdGhpcy50aHJlc2hvbGQgPSB0aHJlc2hvbGQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuX3dhcm5Db3VudGRvd24gPSAwO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IHRoaXMuX3N0YWNrcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNsZWFyKCk7XG4gICAgfVxuICAgIGNoZWNrKHN0YWNrLCBsaXN0ZW5lckNvdW50KSB7XG4gICAgICAgIGNvbnN0IHRocmVzaG9sZCA9IHRoaXMudGhyZXNob2xkO1xuICAgICAgICBpZiAodGhyZXNob2xkIDw9IDAgfHwgbGlzdGVuZXJDb3VudCA8IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3N0YWNrcykge1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tzID0gbmV3IE1hcCgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvdW50ID0gKHRoaXMuX3N0YWNrcy5nZXQoc3RhY2sudmFsdWUpIHx8IDApO1xuICAgICAgICB0aGlzLl9zdGFja3Muc2V0KHN0YWNrLnZhbHVlLCBjb3VudCArIDEpO1xuICAgICAgICB0aGlzLl93YXJuQ291bnRkb3duIC09IDE7XG4gICAgICAgIGlmICh0aGlzLl93YXJuQ291bnRkb3duIDw9IDApIHtcbiAgICAgICAgICAgIC8vIG9ubHkgd2FybiBvbiBmaXJzdCBleGNlZWQgYW5kIHRoZW4gZXZlcnkgdGltZSB0aGUgbGltaXRcbiAgICAgICAgICAgIC8vIGlzIGV4Y2VlZGVkIGJ5IDUwJSBhZ2FpblxuICAgICAgICAgICAgdGhpcy5fd2FybkNvdW50ZG93biA9IHRocmVzaG9sZCAqIDAuNTtcbiAgICAgICAgICAgIC8vIGZpbmQgbW9zdCBmcmVxdWVudCBsaXN0ZW5lciBhbmQgcHJpbnQgd2FybmluZ1xuICAgICAgICAgICAgbGV0IHRvcFN0YWNrO1xuICAgICAgICAgICAgbGV0IHRvcENvdW50ID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3N0YWNrLCBjb3VudF0gb2YgdGhpcy5fc3RhY2tzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0b3BTdGFjayB8fCB0b3BDb3VudCA8IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcFN0YWNrID0gc3RhY2s7XG4gICAgICAgICAgICAgICAgICAgIHRvcENvdW50ID0gY291bnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBbJHt0aGlzLm5hbWV9XSBwb3RlbnRpYWwgbGlzdGVuZXIgTEVBSyBkZXRlY3RlZCwgaGF2aW5nICR7bGlzdGVuZXJDb3VudH0gbGlzdGVuZXJzIGFscmVhZHkuIE1PU1QgZnJlcXVlbnQgbGlzdGVuZXIgKCR7dG9wQ291bnR9KTpgKTtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybih0b3BTdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gKHRoaXMuX3N0YWNrcy5nZXQoc3RhY2sudmFsdWUpIHx8IDApO1xuICAgICAgICAgICAgdGhpcy5fc3RhY2tzLnNldChzdGFjay52YWx1ZSwgY291bnQgLSAxKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5jbGFzcyBTdGFja3RyYWNlIHtcbiAgICBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBuZXcgU3RhY2t0cmFjZSgoX2EgPSBuZXcgRXJyb3IoKS5zdGFjaykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycpO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHByaW50KCkge1xuICAgICAgICBjb25zb2xlLndhcm4odGhpcy52YWx1ZS5zcGxpdCgnXFxuJykuc2xpY2UoMikuam9pbignXFxuJykpO1xuICAgIH1cbn1cbmNsYXNzIFVuaXF1ZUNvbnRhaW5lciB7XG4gICAgY29uc3RydWN0b3IodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbmNvbnN0IGNvbXBhY3Rpb25UaHJlc2hvbGQgPSAyO1xuY29uc3QgZm9yRWFjaExpc3RlbmVyID0gKGxpc3RlbmVycywgZm4pID0+IHtcbiAgICBpZiAobGlzdGVuZXJzIGluc3RhbmNlb2YgVW5pcXVlQ29udGFpbmVyKSB7XG4gICAgICAgIGZuKGxpc3RlbmVycyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbCA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgIGlmIChsKSB7XG4gICAgICAgICAgICAgICAgZm4obCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuLyoqXG4gKiBUaGUgRW1pdHRlciBjYW4gYmUgdXNlZCB0byBleHBvc2UgYW4gRXZlbnQgdG8gdGhlIHB1YmxpY1xuICogdG8gZmlyZSBpdCBmcm9tIHRoZSBpbnNpZGVzLlxuICogU2FtcGxlOlxuICAgIGNsYXNzIERvY3VtZW50IHtcblxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IF9vbkRpZENoYW5nZSA9IG5ldyBFbWl0dGVyPCh2YWx1ZTpzdHJpbmcpPT5hbnk+KCk7XG5cbiAgICAgICAgcHVibGljIG9uRGlkQ2hhbmdlID0gdGhpcy5fb25EaWRDaGFuZ2UuZXZlbnQ7XG5cbiAgICAgICAgLy8gZ2V0dGVyLXN0eWxlXG4gICAgICAgIC8vIGdldCBvbkRpZENoYW5nZSgpOiBFdmVudDwodmFsdWU6c3RyaW5nKT0+YW55PiB7XG4gICAgICAgIC8vIFx0cmV0dXJuIHRoaXMuX29uRGlkQ2hhbmdlLmV2ZW50O1xuICAgICAgICAvLyB9XG5cbiAgICAgICAgcHJpdmF0ZSBfZG9JdCgpIHtcbiAgICAgICAgICAgIC8vLi4uXG4gICAgICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAqL1xuZXhwb3J0IGNsYXNzIEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IDA7XG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLl9sZWFrYWdlTW9uID0gX2dsb2JhbExlYWtXYXJuaW5nVGhyZXNob2xkID4gMCB8fCAoKF9hID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxlYWtXYXJuaW5nVGhyZXNob2xkKSA/IG5ldyBMZWFrYWdlTW9uaXRvcigoX2MgPSAoX2IgPSB0aGlzLl9vcHRpb25zKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IubGVha1dhcm5pbmdUaHJlc2hvbGQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IF9nbG9iYWxMZWFrV2FybmluZ1RocmVzaG9sZCkgOiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3BlcmZNb24gPSAoKF9kID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLl9wcm9mTmFtZSkgPyBuZXcgRXZlbnRQcm9maWxpbmcodGhpcy5fb3B0aW9ucy5fcHJvZk5hbWUpIDogdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kZWxpdmVyeVF1ZXVlID0gKF9lID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmRlbGl2ZXJ5UXVldWU7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgaWYgKCF0aGlzLl9kaXNwb3NlZCkge1xuICAgICAgICAgICAgdGhpcy5fZGlzcG9zZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gSXQgaXMgYmFkIHRvIGhhdmUgbGlzdGVuZXJzIGF0IHRoZSB0aW1lIG9mIGRpc3Bvc2luZyBhbiBlbWl0dGVyLCBpdCBpcyB3b3JzdCB0byBoYXZlIGxpc3RlbmVycyBrZWVwIHRoZSBlbWl0dGVyXG4gICAgICAgICAgICAvLyBhbGl2ZSB2aWEgdGhlIHJlZmVyZW5jZSB0aGF0J3MgZW1iZWRkZWQgaW4gdGhlaXIgZGlzcG9zYWJsZXMuIFRoZXJlZm9yZSB3ZSBsb29wIG92ZXIgYWxsIHJlbWFpbmluZyBsaXN0ZW5lcnMgYW5kXG4gICAgICAgICAgICAvLyB1bnNldCB0aGVpciBzdWJzY3JpcHRpb25zL2Rpc3Bvc2FibGVzLiBMb29waW5nIGFuZCBibGFtaW5nIHJlbWFpbmluZyBsaXN0ZW5lcnMgaXMgZG9uZSBvbiBuZXh0IHRpY2sgYmVjYXVzZSB0aGVcbiAgICAgICAgICAgIC8vIHRoZSBmb2xsb3dpbmcgcHJvZ3JhbW1pbmcgcGF0dGVybiBpcyB2ZXJ5IHBvcHVsYXI6XG4gICAgICAgICAgICAvL1xuICAgICAgICAgICAgLy8gY29uc3Qgc29tZU1vZGVsID0gdGhpcy5fZGlzcG9zYWJsZXMuYWRkKG5ldyBNb2RlbE9iamVjdCgpKTsgLy8gKDEpIGNyZWF0ZSBhbmQgcmVnaXN0ZXIgbW9kZWxcbiAgICAgICAgICAgIC8vIHRoaXMuX2Rpc3Bvc2FibGVzLmFkZChzb21lTW9kZWwub25EaWRDaGFuZ2UoKCkgPT4geyAuLi4gfSk7IC8vICgyKSBzdWJzY3JpYmUgYW5kIHJlZ2lzdGVyIG1vZGVsLWV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICAvLyAuLi5sYXRlci4uLlxuICAgICAgICAgICAgLy8gdGhpcy5fZGlzcG9zYWJsZXMuZGlzcG9zZSgpOyBkaXNwb3NlcyAoMSkgdGhlbiAoMik6IGRvbid0IHdhcm4gYWZ0ZXIgKDEpIGJ1dCBhZnRlciB0aGUgXCJvdmVyYWxsIGRpc3Bvc2VcIiBpcyBkb25lXG4gICAgICAgICAgICBpZiAoKChfYSA9IHRoaXMuX2RlbGl2ZXJ5UXVldWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jdXJyZW50KSA9PT0gdGhpcykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJ5UXVldWUucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoX2VuYWJsZURpc3Bvc2VXaXRoTGlzdGVuZXJXYXJuaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuX2xpc3RlbmVycztcbiAgICAgICAgICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yRWFjaExpc3RlbmVyKGxpc3RlbmVycywgbCA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGwuc3RhY2spID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcmludCgpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChfYyA9IChfYiA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5vbkRpZFJlbW92ZUxhc3RMaXN0ZW5lcikgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgICAgICAgICAgKF9kID0gdGhpcy5fbGVha2FnZU1vbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgdGhlIHB1YmxpYyB0byBhbGxvdyB0byBzdWJzY3JpYmVcbiAgICAgKiB0byBldmVudHMgZnJvbSB0aGlzIEVtaXR0ZXJcbiAgICAgKi9cbiAgICBnZXQgZXZlbnQoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fZXZlbnQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLl9ldmVudCA9IChjYWxsYmFjaywgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xlYWthZ2VNb24gJiYgdGhpcy5fc2l6ZSA+IHRoaXMuX2xlYWthZ2VNb24udGhyZXNob2xkICogMykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgWyR7dGhpcy5fbGVha2FnZU1vbi5uYW1lfV0gUkVGVVNFUyB0byBhY2NlcHQgbmV3IGxpc3RlbmVycyBiZWNhdXNlIGl0IGV4Y2VlZGVkIGl0cyB0aHJlc2hvbGQgYnkgZmFyYCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpc3Bvc2FibGUuTm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLl9kaXNwb3NlZCkge1xuICAgICAgICAgICAgICAgIC8vIHRvZG86IHNob3VsZCB3ZSB3YXJuIGlmIGEgbGlzdGVuZXIgaXMgYWRkZWQgdG8gYSBkaXNwb3NlZCBlbWl0dGVyPyBUaGlzIGhhcHBlbnMgb2Z0ZW5cbiAgICAgICAgICAgICAgICByZXR1cm4gRGlzcG9zYWJsZS5Ob25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXNBcmdzKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjay5iaW5kKHRoaXNBcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lZCA9IG5ldyBVbmlxdWVDb250YWluZXIoY2FsbGJhY2spO1xuICAgICAgICAgICAgbGV0IHJlbW92ZU1vbml0b3I7XG4gICAgICAgICAgICBsZXQgc3RhY2s7XG4gICAgICAgICAgICBpZiAodGhpcy5fbGVha2FnZU1vbiAmJiB0aGlzLl9zaXplID49IE1hdGguY2VpbCh0aGlzLl9sZWFrYWdlTW9uLnRocmVzaG9sZCAqIDAuMikpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBhbmQgcmVjb3JkIHRoaXMgZW1pdHRlciBmb3IgcG90ZW50aWFsIGxlYWthZ2VcbiAgICAgICAgICAgICAgICBjb250YWluZWQuc3RhY2sgPSBTdGFja3RyYWNlLmNyZWF0ZSgpO1xuICAgICAgICAgICAgICAgIHJlbW92ZU1vbml0b3IgPSB0aGlzLl9sZWFrYWdlTW9uLmNoZWNrKGNvbnRhaW5lZC5zdGFjaywgdGhpcy5fc2l6ZSArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9lbmFibGVEaXNwb3NlV2l0aExpc3RlbmVyV2FybmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lZC5zdGFjayA9IHN0YWNrICE9PSBudWxsICYmIHN0YWNrICE9PSB2b2lkIDAgPyBzdGFjayA6IFN0YWNrdHJhY2UuY3JlYXRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuX2xpc3RlbmVycykge1xuICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbldpbGxBZGRGaXJzdExpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gY29udGFpbmVkO1xuICAgICAgICAgICAgICAgIChfZCA9IChfYyA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5vbkRpZEFkZEZpcnN0TGlzdGVuZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX2xpc3RlbmVycyBpbnN0YW5jZW9mIFVuaXF1ZUNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIChfZSA9IHRoaXMuX2RlbGl2ZXJ5UXVldWUpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICh0aGlzLl9kZWxpdmVyeVF1ZXVlID0gbmV3IEV2ZW50RGVsaXZlcnlRdWV1ZVByaXZhdGUoKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdGVuZXJzID0gW3RoaXMuX2xpc3RlbmVycywgY29udGFpbmVkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xpc3RlbmVycy5wdXNoKGNvbnRhaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zaXplKys7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0b0Rpc3Bvc2FibGUoKCkgPT4geyByZW1vdmVNb25pdG9yID09PSBudWxsIHx8IHJlbW92ZU1vbml0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlbW92ZU1vbml0b3IoKTsgdGhpcy5fcmVtb3ZlTGlzdGVuZXIoY29udGFpbmVkKTsgfSk7XG4gICAgICAgICAgICBpZiAoZGlzcG9zYWJsZXMgaW5zdGFuY2VvZiBEaXNwb3NhYmxlU3RvcmUpIHtcbiAgICAgICAgICAgICAgICBkaXNwb3NhYmxlcy5hZGQocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoZGlzcG9zYWJsZXMpKSB7XG4gICAgICAgICAgICAgICAgZGlzcG9zYWJsZXMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9ldmVudDtcbiAgICB9XG4gICAgX3JlbW92ZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgKF9iID0gKF9hID0gdGhpcy5fb3B0aW9ucykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9uV2lsbFJlbW92ZUxpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgdGhpcyk7XG4gICAgICAgIGlmICghdGhpcy5fbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47IC8vIGV4cGVjdGVkIGlmIGEgbGlzdGVuZXIgZ2V0cyBkaXNwb3NlZFxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9zaXplID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLl9saXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAoX2QgPSAoX2MgPSB0aGlzLl9vcHRpb25zKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Mub25EaWRSZW1vdmVMYXN0TGlzdGVuZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNpemUgPiAxIHdoaWNoIHJlcXVpcmVzIHRoYXQgbGlzdGVuZXJzIGJlIGEgbGlzdDpcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gdGhpcy5fbGlzdGVuZXJzO1xuICAgICAgICBjb25zdCBpbmRleCA9IGxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Rpc3Bvc2VkPycsIHRoaXMuX2Rpc3Bvc2VkKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaXplPycsIHRoaXMuX3NpemUpO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2Fycj8nLCBKU09OLnN0cmluZ2lmeSh0aGlzLl9saXN0ZW5lcnMpKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0ZW1wdGVkIHRvIGRpc3Bvc2UgdW5rbm93biBsaXN0ZW5lcicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3NpemUtLTtcbiAgICAgICAgbGlzdGVuZXJzW2luZGV4XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgYWRqdXN0RGVsaXZlcnlRdWV1ZSA9IHRoaXMuX2RlbGl2ZXJ5UXVldWUuY3VycmVudCA9PT0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuX3NpemUgKiBjb21wYWN0aW9uVGhyZXNob2xkIDw9IGxpc3RlbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lcnNbbisrXSA9IGxpc3RlbmVyc1tpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWRqdXN0RGVsaXZlcnlRdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kZWxpdmVyeVF1ZXVlLmVuZC0tO1xuICAgICAgICAgICAgICAgICAgICBpZiAobiA8IHRoaXMuX2RlbGl2ZXJ5UXVldWUuaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGVsaXZlcnlRdWV1ZS5pLS07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsaXN0ZW5lcnMubGVuZ3RoID0gbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGVsaXZlcihsaXN0ZW5lciwgdmFsdWUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyb3JIYW5kbGVyID0gKChfYSA9IHRoaXMuX29wdGlvbnMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vbkxpc3RlbmVyRXJyb3IpIHx8IG9uVW5leHBlY3RlZEVycm9yO1xuICAgICAgICBpZiAoIWVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgbGlzdGVuZXIudmFsdWUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBsaXN0ZW5lci52YWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGVycm9ySGFuZGxlcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogRGVsaXZlcnMgaXRlbXMgaW4gdGhlIHF1ZXVlLiBBc3N1bWVzIHRoZSBxdWV1ZSBpcyByZWFkeSB0byBnby4gKi9cbiAgICBfZGVsaXZlclF1ZXVlKGRxKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IGRxLmN1cnJlbnQuX2xpc3RlbmVycztcbiAgICAgICAgd2hpbGUgKGRxLmkgPCBkcS5lbmQpIHtcbiAgICAgICAgICAgIC8vIGltcG9ydGFudDogZHEuaSBpcyBpbmNyZW1lbnRlZCBiZWZvcmUgY2FsbGluZyBkZWxpdmVyKCkgYmVjYXVzZSBpdCBtaWdodCByZWVudGVyIGRlbGl2ZXJRdWV1ZSgpXG4gICAgICAgICAgICB0aGlzLl9kZWxpdmVyKGxpc3RlbmVyc1tkcS5pKytdLCBkcS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZHEucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVG8gYmUga2VwdCBwcml2YXRlIHRvIGZpcmUgYW4gZXZlbnQgdG9cbiAgICAgKiBzdWJzY3JpYmVyc1xuICAgICAqL1xuICAgIGZpcmUoZXZlbnQpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBpZiAoKF9hID0gdGhpcy5fZGVsaXZlcnlRdWV1ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlbGl2ZXJRdWV1ZSh0aGlzLl9kZWxpdmVyeVF1ZXVlKTtcbiAgICAgICAgICAgIChfYiA9IHRoaXMuX3BlcmZNb24pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zdG9wKCk7IC8vIGxhc3QgZmlyZSgpIHdpbGwgaGF2ZSBzdGFydGluZyBwZXJmbW9uLCBzdG9wIGl0IGJlZm9yZSBzdGFydGluZyB0aGUgbmV4dCBkaXNwYXRjaFxuICAgICAgICB9XG4gICAgICAgIChfYyA9IHRoaXMuX3BlcmZNb24pID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zdGFydCh0aGlzLl9zaXplKTtcbiAgICAgICAgaWYgKCF0aGlzLl9saXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIC8vIG5vLW9wXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fbGlzdGVuZXJzIGluc3RhbmNlb2YgVW5pcXVlQ29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWxpdmVyKHRoaXMuX2xpc3RlbmVycywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZHEgPSB0aGlzLl9kZWxpdmVyeVF1ZXVlO1xuICAgICAgICAgICAgZHEuZW5xdWV1ZSh0aGlzLCBldmVudCwgdGhpcy5fbGlzdGVuZXJzLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLl9kZWxpdmVyUXVldWUoZHEpO1xuICAgICAgICB9XG4gICAgICAgIChfZCA9IHRoaXMuX3BlcmZNb24pID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5zdG9wKCk7XG4gICAgfVxuICAgIGhhc0xpc3RlbmVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpemUgPiAwO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBjcmVhdGVFdmVudERlbGl2ZXJ5UXVldWUgPSAoKSA9PiBuZXcgRXZlbnREZWxpdmVyeVF1ZXVlUHJpdmF0ZSgpO1xuY2xhc3MgRXZlbnREZWxpdmVyeVF1ZXVlUHJpdmF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRleCBpbiBjdXJyZW50J3MgbGlzdGVuZXIgbGlzdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaSA9IC0xO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGxhc3QgaW5kZXggaW4gdGhlIGxpc3RlbmVyJ3MgbGlzdCB0byBkZWxpdmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5lbmQgPSAwO1xuICAgIH1cbiAgICBlbnF1ZXVlKGVtaXR0ZXIsIHZhbHVlLCBlbmQpIHtcbiAgICAgICAgdGhpcy5pID0gMDtcbiAgICAgICAgdGhpcy5lbmQgPSBlbmQ7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGVtaXR0ZXI7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuaSA9IHRoaXMuZW5kOyAvLyBmb3JjZSBhbnkgY3VycmVudCBlbWlzc2lvbiBsb29wIHRvIHN0b3AsIG1haW5seSBmb3IgZHVyaW5nIGRpc3Bvc2VcbiAgICAgICAgdGhpcy5jdXJyZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBQYXVzZWFibGVFbWl0dGVyIGV4dGVuZHMgRW1pdHRlciB7XG4gICAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5faXNQYXVzZWQgPSAwO1xuICAgICAgICB0aGlzLl9ldmVudFF1ZXVlID0gbmV3IExpbmtlZExpc3QoKTtcbiAgICAgICAgdGhpcy5fbWVyZ2VGbiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXJnZTtcbiAgICB9XG4gICAgcGF1c2UoKSB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkKys7XG4gICAgfVxuICAgIHJlc3VtZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkICE9PSAwICYmIC0tdGhpcy5faXNQYXVzZWQgPT09IDApIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9tZXJnZUZuKSB7XG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBtZXJnZSBmdW5jdGlvbiB0byBjcmVhdGUgYSBzaW5nbGUgY29tcG9zaXRlXG4gICAgICAgICAgICAgICAgLy8gZXZlbnQuIG1ha2UgYSBjb3B5IGluIGNhc2UgZmlyaW5nIHBhdXNlcyB0aGlzIGVtaXR0ZXJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fZXZlbnRRdWV1ZS5zaXplID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudHMgPSBBcnJheS5mcm9tKHRoaXMuX2V2ZW50UXVldWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ldmVudFF1ZXVlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmZpcmUodGhpcy5fbWVyZ2VGbihldmVudHMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBubyBtZXJnaW5nLCBmaXJlIGVhY2ggZXZlbnQgaW5kaXZpZHVhbGx5IGFuZCB0ZXN0XG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGVtaXR0ZXIgaXNuJ3QgcGF1c2VkIGhhbGZ3YXkgdGhyb3VnaFxuICAgICAgICAgICAgICAgIHdoaWxlICghdGhpcy5faXNQYXVzZWQgJiYgdGhpcy5fZXZlbnRRdWV1ZS5zaXplICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1cGVyLmZpcmUodGhpcy5fZXZlbnRRdWV1ZS5zaGlmdCgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmlyZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy5fc2l6ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzUGF1c2VkICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXZlbnRRdWV1ZS5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN1cGVyLmZpcmUoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIERlYm91bmNlRW1pdHRlciBleHRlbmRzIFBhdXNlYWJsZUVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBzdXBlcihvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fZGVsYXkgPSAoX2EgPSBvcHRpb25zLmRlbGF5KSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxMDA7XG4gICAgfVxuICAgIGZpcmUoZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oYW5kbGUpIHtcbiAgICAgICAgICAgIHRoaXMucGF1c2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2hhbmRsZSA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc3VtZSgpO1xuICAgICAgICAgICAgfSwgdGhpcy5fZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyLmZpcmUoZXZlbnQpO1xuICAgIH1cbn1cbi8qKlxuICogQW4gZW1pdHRlciB3aGljaCBxdWV1ZSBhbGwgZXZlbnRzIGFuZCB0aGVuIHByb2Nlc3MgdGhlbSBhdCB0aGVcbiAqIGVuZCBvZiB0aGUgZXZlbnQgbG9vcC5cbiAqL1xuZXhwb3J0IGNsYXNzIE1pY3JvdGFza0VtaXR0ZXIgZXh0ZW5kcyBFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9xdWV1ZWRFdmVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5fbWVyZ2VGbiA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5tZXJnZTtcbiAgICB9XG4gICAgZmlyZShldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzTGlzdGVuZXJzKCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9xdWV1ZWRFdmVudHMucHVzaChldmVudCk7XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZWRFdmVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX21lcmdlRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIuZmlyZSh0aGlzLl9tZXJnZUZuKHRoaXMuX3F1ZXVlZEV2ZW50cykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVldWVkRXZlbnRzLmZvckVhY2goZSA9PiBzdXBlci5maXJlKGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWVkRXZlbnRzID0gW107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQW4gZXZlbnQgZW1pdHRlciB0aGF0IG11bHRpcGxleGVzIG1hbnkgZXZlbnRzIGludG8gYSBzaW5nbGUgZXZlbnQuXG4gKlxuICogQGV4YW1wbGUgTGlzdGVuIHRvIHRoZSBgb25EYXRhYCBldmVudCBvZiBhbGwgYFRoaW5nYHMsIGR5bmFtaWNhbGx5IGFkZGluZyBhbmQgcmVtb3ZpbmcgYFRoaW5nYHNcbiAqIHRvIHRoZSBtdWx0aXBsZXhlciBhcyBuZWVkZWQuXG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgYW55dGhpbmdEYXRhTXVsdGlwbGV4ZXIgPSBuZXcgRXZlbnRNdWx0aXBsZXhlcjx7IGRhdGE6IHN0cmluZyB9PigpO1xuICpcbiAqIGNvbnN0IHRoaW5nTGlzdGVuZXJzID0gRGlzcG9zYWJsZU1hcDxUaGluZywgSURpc3Bvc2FibGU+KCk7XG4gKlxuICogdGhpbmdTZXJ2aWNlLm9uRGlkQWRkVGhpbmcodGhpbmcgPT4ge1xuICogICB0aGluZ0xpc3RlbmVycy5zZXQodGhpbmcsIGFueXRoaW5nRGF0YU11bHRpcGxleGVyLmFkZCh0aGluZy5vbkRhdGEpO1xuICogfSk7XG4gKiB0aGluZ1NlcnZpY2Uub25EaWRSZW1vdmVUaGluZyh0aGluZyA9PiB7XG4gKiAgIHRoaW5nTGlzdGVuZXJzLmRlbGV0ZUFuZERpc3Bvc2UodGhpbmcpO1xuICogfSk7XG4gKlxuICogYW55dGhpbmdEYXRhTXVsdGlwbGV4ZXIuZXZlbnQoZSA9PiB7XG4gKiAgIGNvbnNvbGUubG9nKCdTb21ldGhpbmcgZmlyZWQgZGF0YSAnICsgZS5kYXRhKVxuICogfSk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50TXVsdGlwbGV4ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmhhc0xpc3RlbmVycyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgRW1pdHRlcih7XG4gICAgICAgICAgICBvbldpbGxBZGRGaXJzdExpc3RlbmVyOiAoKSA9PiB0aGlzLm9uRmlyc3RMaXN0ZW5lckFkZCgpLFxuICAgICAgICAgICAgb25EaWRSZW1vdmVMYXN0TGlzdGVuZXI6ICgpID0+IHRoaXMub25MYXN0TGlzdGVuZXJSZW1vdmUoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IGV2ZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbWl0dGVyLmV2ZW50O1xuICAgIH1cbiAgICBhZGQoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZSA9IHsgZXZlbnQ6IGV2ZW50LCBsaXN0ZW5lcjogbnVsbCB9O1xuICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKGUpO1xuICAgICAgICBpZiAodGhpcy5oYXNMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIHRoaXMuaG9vayhlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXNwb3NlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzTGlzdGVuZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmhvb2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpZHggPSB0aGlzLmV2ZW50cy5pbmRleE9mKGUpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoY3JlYXRlU2luZ2xlQ2FsbEZ1bmN0aW9uKGRpc3Bvc2UpKTtcbiAgICB9XG4gICAgb25GaXJzdExpc3RlbmVyQWRkKCkge1xuICAgICAgICB0aGlzLmhhc0xpc3RlbmVycyA9IHRydWU7XG4gICAgICAgIHRoaXMuZXZlbnRzLmZvckVhY2goZSA9PiB0aGlzLmhvb2soZSkpO1xuICAgIH1cbiAgICBvbkxhc3RMaXN0ZW5lclJlbW92ZSgpIHtcbiAgICAgICAgdGhpcy5oYXNMaXN0ZW5lcnMgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5ldmVudHMuZm9yRWFjaChlID0+IHRoaXMudW5ob29rKGUpKTtcbiAgICB9XG4gICAgaG9vayhlKSB7XG4gICAgICAgIGUubGlzdGVuZXIgPSBlLmV2ZW50KHIgPT4gdGhpcy5lbWl0dGVyLmZpcmUocikpO1xuICAgIH1cbiAgICB1bmhvb2soZSkge1xuICAgICAgICBpZiAoZS5saXN0ZW5lcikge1xuICAgICAgICAgICAgZS5saXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZS5saXN0ZW5lciA9IG51bGw7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIHRoaXMuZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgRXZlbnRCdWZmZXJlciBpcyB1c2VmdWwgaW4gc2l0dWF0aW9ucyBpbiB3aGljaCB5b3Ugd2FudFxuICogdG8gZGVsYXkgZmlyaW5nIHlvdXIgZXZlbnRzIGR1cmluZyBzb21lIGNvZGUuXG4gKiBZb3UgY2FuIHdyYXAgdGhhdCBjb2RlIGFuZCBiZSBzdXJlIHRoYXQgdGhlIGV2ZW50IHdpbGwgbm90XG4gKiBiZSBmaXJlZCBkdXJpbmcgdGhhdCB3cmFwLlxuICpcbiAqIGBgYFxuICogY29uc3QgZW1pdHRlcjogRW1pdHRlcjtcbiAqIGNvbnN0IGRlbGF5ZXIgPSBuZXcgRXZlbnREZWxheWVyKCk7XG4gKiBjb25zdCBkZWxheWVkRXZlbnQgPSBkZWxheWVyLndyYXBFdmVudChlbWl0dGVyLmV2ZW50KTtcbiAqXG4gKiBkZWxheWVkRXZlbnQoY29uc29sZS5sb2cpO1xuICpcbiAqIGRlbGF5ZXIuYnVmZmVyRXZlbnRzKCgpID0+IHtcbiAqICAgZW1pdHRlci5maXJlKCk7IC8vIGV2ZW50IHdpbGwgbm90IGJlIGZpcmVkIHlldFxuICogfSk7XG4gKlxuICogLy8gZXZlbnQgd2lsbCBvbmx5IGJlIGZpcmVkIGF0IHRoaXMgcG9pbnRcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgRXZlbnRCdWZmZXJlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYnVmZmVycyA9IFtdO1xuICAgIH1cbiAgICB3cmFwRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIChsaXN0ZW5lciwgdGhpc0FyZ3MsIGRpc3Bvc2FibGVzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZXZlbnQoaSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVmZmVyID0gdGhpcy5idWZmZXJzW3RoaXMuYnVmZmVycy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBpZiAoYnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlci5wdXNoKCgpID0+IGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmNhbGwodGhpc0FyZ3MsIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHVuZGVmaW5lZCwgZGlzcG9zYWJsZXMpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBidWZmZXJFdmVudHMoZm4pIHtcbiAgICAgICAgY29uc3QgYnVmZmVyID0gW107XG4gICAgICAgIHRoaXMuYnVmZmVycy5wdXNoKGJ1ZmZlcik7XG4gICAgICAgIGNvbnN0IHIgPSBmbigpO1xuICAgICAgICB0aGlzLmJ1ZmZlcnMucG9wKCk7XG4gICAgICAgIGJ1ZmZlci5mb3JFYWNoKGZsdXNoID0+IGZsdXNoKCkpO1xuICAgICAgICByZXR1cm4gcjtcbiAgICB9XG59XG4vKipcbiAqIEEgUmVsYXkgaXMgYW4gZXZlbnQgZm9yd2FyZGVyIHdoaWNoIGZ1bmN0aW9ucyBhcyBhIHJlcGx1Z2FiYmxlIGV2ZW50IHBpcGUuXG4gKiBPbmNlIGNyZWF0ZWQsIHlvdSBjYW4gY29ubmVjdCBhbiBpbnB1dCBldmVudCB0byBpdCBhbmQgaXQgd2lsbCBzaW1wbHkgZm9yd2FyZFxuICogZXZlbnRzIGZyb20gdGhhdCBpbnB1dCBldmVudCB0aHJvdWdoIGl0cyBvd24gYGV2ZW50YCBwcm9wZXJ0eS4gVGhlIGBpbnB1dGBcbiAqIGNhbiBiZSBjaGFuZ2VkIGF0IGFueSBwb2ludCBpbiB0aW1lLlxuICovXG5leHBvcnQgY2xhc3MgUmVsYXkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmxpc3RlbmluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlucHV0RXZlbnQgPSBFdmVudC5Ob25lO1xuICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lciA9IERpc3Bvc2FibGUuTm9uZTtcbiAgICAgICAgdGhpcy5lbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICAgICAgb25EaWRBZGRGaXJzdExpc3RlbmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRFdmVudExpc3RlbmVyID0gdGhpcy5pbnB1dEV2ZW50KHRoaXMuZW1pdHRlci5maXJlLCB0aGlzLmVtaXR0ZXIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRGlkUmVtb3ZlTGFzdExpc3RlbmVyOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV2ZW50ID0gdGhpcy5lbWl0dGVyLmV2ZW50O1xuICAgIH1cbiAgICBzZXQgaW5wdXQoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5pbnB1dEV2ZW50ID0gZXZlbnQ7XG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmluZykge1xuICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50TGlzdGVuZXIuZGlzcG9zZSgpO1xuICAgICAgICAgICAgdGhpcy5pbnB1dEV2ZW50TGlzdGVuZXIgPSBldmVudCh0aGlzLmVtaXR0ZXIuZmlyZSwgdGhpcy5lbWl0dGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLmlucHV0RXZlbnRMaXN0ZW5lci5kaXNwb3NlKCk7XG4gICAgICAgIHRoaXMuZW1pdHRlci5kaXNwb3NlKCk7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBhIEphdmFTY3JpcHQgU3RyaW5nIG9yIG5vdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICAgIHJldHVybiAodHlwZW9mIHN0ciA9PT0gJ3N0cmluZycpO1xufVxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSBgb2JqZWN0YCBidXQgKipub3QqKlxuICpcdGBudWxsYCwgYW4gYGFycmF5YCwgYSBgcmVnZXhwYCwgbm9yIGEgYGRhdGVgLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgLy8gVGhlIG1ldGhvZCBjYW4ndCBkbyBhIHR5cGUgY2FzdCBzaW5jZSB0aGVyZSBhcmUgdHlwZSAobGlrZSBzdHJpbmdzKSB3aGljaFxuICAgIC8vIGFyZSBzdWJjbGFzc2VzIG9mIGFueSBwdXQgbm90IHBvc2l0dmVseSBtYXRjaGVkIGJ5IHRoZSBmdW5jdGlvbi4gSGVuY2UgdHlwZVxuICAgIC8vIG5hcnJvd2luZyByZXN1bHRzIGluIHdyb25nIHJlc3VsdHMuXG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09ICdvYmplY3QnXG4gICAgICAgICYmIG9iaiAhPT0gbnVsbFxuICAgICAgICAmJiAhQXJyYXkuaXNBcnJheShvYmopXG4gICAgICAgICYmICEob2JqIGluc3RhbmNlb2YgUmVnRXhwKVxuICAgICAgICAmJiAhKG9iaiBpbnN0YW5jZW9mIERhdGUpO1xufVxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgb2YgdHlwZSBgQnVmZmVyYCBvciBVaW50OEFycmF5IGRlcnZpdmVkIHR5cGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVHlwZWRBcnJheShvYmopIHtcbiAgICBjb25zdCBUeXBlZEFycmF5ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKFVpbnQ4QXJyYXkpO1xuICAgIHJldHVybiB0eXBlb2Ygb2JqID09PSAnb2JqZWN0J1xuICAgICAgICAmJiBvYmogaW5zdGFuY2VvZiBUeXBlZEFycmF5O1xufVxuLyoqXG4gKiBJbiAqKmNvbnRyYXN0KiogdG8ganVzdCBjaGVja2luZyBgdHlwZW9mYCB0aGlzIHdpbGwgcmV0dXJuIGBmYWxzZWAgZm9yIGBOYU5gLlxuICogQHJldHVybnMgd2hldGhlciB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyIGlzIGEgSmF2YVNjcmlwdCBOdW1iZXIgb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIob2JqKSB7XG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAnbnVtYmVyJyAmJiAhaXNOYU4ob2JqKSk7XG59XG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBhbiBJdGVyYWJsZSwgY2FzdGluZyB0byB0aGUgZ2l2ZW4gZ2VuZXJpY1xuICovXG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShvYmopIHtcbiAgICByZXR1cm4gISFvYmogJiYgdHlwZW9mIG9ialtTeW1ib2wuaXRlcmF0b3JdID09PSAnZnVuY3Rpb24nO1xufVxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgYSBKYXZhU2NyaXB0IEJvb2xlYW4gb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNCb29sZWFuKG9iaikge1xuICAgIHJldHVybiAob2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UpO1xufVxuLyoqXG4gKiBAcmV0dXJucyB3aGV0aGVyIHRoZSBwcm92aWRlZCBwYXJhbWV0ZXIgaXMgdW5kZWZpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqKSB7XG4gICAgcmV0dXJuICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyk7XG59XG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBkZWZpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZpbmVkKGFyZykge1xuICAgIHJldHVybiAhaXNVbmRlZmluZWRPck51bGwoYXJnKTtcbn1cbi8qKlxuICogQHJldHVybnMgd2hldGhlciB0aGUgcHJvdmlkZWQgcGFyYW1ldGVyIGlzIHVuZGVmaW5lZCBvciBudWxsLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNVbmRlZmluZWRPck51bGwob2JqKSB7XG4gICAgcmV0dXJuIChpc1VuZGVmaW5lZChvYmopIHx8IG9iaiA9PT0gbnVsbCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0VHlwZShjb25kaXRpb24sIHR5cGUpIHtcbiAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodHlwZSA/IGBVbmV4cGVjdGVkIHR5cGUsIGV4cGVjdGVkICcke3R5cGV9J2AgOiAnVW5leHBlY3RlZCB0eXBlJyk7XG4gICAgfVxufVxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIGFyZ3VtZW50IHBhc3NlZCBpbiBpcyBuZWl0aGVyIHVuZGVmaW5lZCBub3IgbnVsbC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElzRGVmaW5lZChhcmcpIHtcbiAgICBpZiAoaXNVbmRlZmluZWRPck51bGwoYXJnKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Fzc2VydGlvbiBGYWlsZWQ6IGFyZ3VtZW50IGlzIHVuZGVmaW5lZCBvciBudWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBhcmc7XG59XG4vKipcbiAqIEByZXR1cm5zIHdoZXRoZXIgdGhlIHByb3ZpZGVkIHBhcmFtZXRlciBpcyBhIEphdmFTY3JpcHQgRnVuY3Rpb24gb3Igbm90LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ29uc3RyYWludHMoYXJncywgY29uc3RyYWludHMpIHtcbiAgICBjb25zdCBsZW4gPSBNYXRoLm1pbihhcmdzLmxlbmd0aCwgY29uc3RyYWludHMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhbGlkYXRlQ29uc3RyYWludChhcmdzW2ldLCBjb25zdHJhaW50c1tpXSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlQ29uc3RyYWludChhcmcsIGNvbnN0cmFpbnQpIHtcbiAgICBpZiAoaXNTdHJpbmcoY29uc3RyYWludCkpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmcgIT09IGNvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYXJndW1lbnQgZG9lcyBub3QgbWF0Y2ggY29uc3RyYWludDogdHlwZW9mICR7Y29uc3RyYWludH1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChpc0Z1bmN0aW9uKGNvbnN0cmFpbnQpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYXJnIGluc3RhbmNlb2YgY29uc3RyYWludCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgICAgIC8vIGlnbm9yZVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNVbmRlZmluZWRPck51bGwoYXJnKSAmJiBhcmcuY29uc3RydWN0b3IgPT09IGNvbnN0cmFpbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uc3RyYWludC5sZW5ndGggPT09IDEgJiYgY29uc3RyYWludC5jYWxsKHVuZGVmaW5lZCwgYXJnKSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgYXJndW1lbnQgZG9lcyBub3QgbWF0Y2ggb25lIG9mIHRoZXNlIGNvbnN0cmFpbnRzOiBhcmcgaW5zdGFuY2VvZiBjb25zdHJhaW50LCBhcmcuY29uc3RydWN0b3IgPT09IGNvbnN0cmFpbnQsIG5vciBjb25zdHJhaW50KGFyZykgPT09IHRydWVgKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGlzVHlwZWRBcnJheSwgaXNPYmplY3QsIGlzVW5kZWZpbmVkT3JOdWxsIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5leHBvcnQgZnVuY3Rpb24gZGVlcENsb25lKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGlmIChvYmogaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gQXJyYXkuaXNBcnJheShvYmopID8gW10gOiB7fTtcbiAgICBPYmplY3QuZW50cmllcyhvYmopLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICByZXN1bHRba2V5XSA9IHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgPyBkZWVwQ2xvbmUodmFsdWUpIDogdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWVwRnJlZXplKG9iaikge1xuICAgIGlmICghb2JqIHx8IHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGNvbnN0IHN0YWNrID0gW29ial07XG4gICAgd2hpbGUgKHN0YWNrLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3Qgb2JqID0gc3RhY2suc2hpZnQoKTtcbiAgICAgICAgT2JqZWN0LmZyZWV6ZShvYmopO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcbiAgICAgICAgICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wID0gb2JqW2tleV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wID09PSAnb2JqZWN0JyAmJiAhT2JqZWN0LmlzRnJvemVuKHByb3ApICYmICFpc1R5cGVkQXJyYXkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChwcm9wKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmNvbnN0IF9oYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5leHBvcnQgZnVuY3Rpb24gY2xvbmVBbmRDaGFuZ2Uob2JqLCBjaGFuZ2VyKSB7XG4gICAgcmV0dXJuIF9jbG9uZUFuZENoYW5nZShvYmosIGNoYW5nZXIsIG5ldyBTZXQoKSk7XG59XG5mdW5jdGlvbiBfY2xvbmVBbmRDaGFuZ2Uob2JqLCBjaGFuZ2VyLCBzZWVuKSB7XG4gICAgaWYgKGlzVW5kZWZpbmVkT3JOdWxsKG9iaikpIHtcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9XG4gICAgY29uc3QgY2hhbmdlZCA9IGNoYW5nZXIob2JqKTtcbiAgICBpZiAodHlwZW9mIGNoYW5nZWQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgIGNvbnN0IHIxID0gW107XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBvYmopIHtcbiAgICAgICAgICAgIHIxLnB1c2goX2Nsb25lQW5kQ2hhbmdlKGUsIGNoYW5nZXIsIHNlZW4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcjE7XG4gICAgfVxuICAgIGlmIChpc09iamVjdChvYmopKSB7XG4gICAgICAgIGlmIChzZWVuLmhhcyhvYmopKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjbG9uZSByZWN1cnNpdmUgZGF0YS1zdHJ1Y3R1cmUnKTtcbiAgICAgICAgfVxuICAgICAgICBzZWVuLmFkZChvYmopO1xuICAgICAgICBjb25zdCByMiA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGkyIGluIG9iaikge1xuICAgICAgICAgICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaTIpKSB7XG4gICAgICAgICAgICAgICAgcjJbaTJdID0gX2Nsb25lQW5kQ2hhbmdlKG9ialtpMl0sIGNoYW5nZXIsIHNlZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNlZW4uZGVsZXRlKG9iaik7XG4gICAgICAgIHJldHVybiByMjtcbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbi8qKlxuICogQ29waWVzIGFsbCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBpbnRvIGRlc3RpbmF0aW9uLiBUaGUgb3B0aW9uYWwgcGFyYW1ldGVyIFwib3ZlcndyaXRlXCIgYWxsb3dzIHRvIGNvbnRyb2xcbiAqIGlmIGV4aXN0aW5nIHByb3BlcnRpZXMgb24gdGhlIGRlc3RpbmF0aW9uIHNob3VsZCBiZSBvdmVyd3JpdHRlbiBvciBub3QuIERlZmF1bHRzIHRvIHRydWUgKG92ZXJ3cml0ZSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtaXhpbihkZXN0aW5hdGlvbiwgc291cmNlLCBvdmVyd3JpdGUgPSB0cnVlKSB7XG4gICAgaWYgKCFpc09iamVjdChkZXN0aW5hdGlvbikpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICB9XG4gICAgaWYgKGlzT2JqZWN0KHNvdXJjZSkpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoc291cmNlKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAoa2V5IGluIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKG92ZXJ3cml0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNPYmplY3QoZGVzdGluYXRpb25ba2V5XSkgJiYgaXNPYmplY3Qoc291cmNlW2tleV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaXhpbihkZXN0aW5hdGlvbltrZXldLCBzb3VyY2Vba2V5XSwgb3ZlcndyaXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBkZXN0aW5hdGlvbjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlcXVhbHMob25lLCBvdGhlcikge1xuICAgIGlmIChvbmUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAob25lID09PSBudWxsIHx8IG9uZSA9PT0gdW5kZWZpbmVkIHx8IG90aGVyID09PSBudWxsIHx8IG90aGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9uZSAhPT0gdHlwZW9mIG90aGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvbmUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKChBcnJheS5pc0FycmF5KG9uZSkpICE9PSAoQXJyYXkuaXNBcnJheShvdGhlcikpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGk7XG4gICAgbGV0IGtleTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvbmUpKSB7XG4gICAgICAgIGlmIChvbmUubGVuZ3RoICE9PSBvdGhlci5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb25lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyhvbmVbaV0sIG90aGVyW2ldKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgb25lS2V5cyA9IFtdO1xuICAgICAgICBmb3IgKGtleSBpbiBvbmUpIHtcbiAgICAgICAgICAgIG9uZUtleXMucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIG9uZUtleXMuc29ydCgpO1xuICAgICAgICBjb25zdCBvdGhlcktleXMgPSBbXTtcbiAgICAgICAgZm9yIChrZXkgaW4gb3RoZXIpIHtcbiAgICAgICAgICAgIG90aGVyS2V5cy5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJLZXlzLnNvcnQoKTtcbiAgICAgICAgaWYgKCFlcXVhbHMob25lS2V5cywgb3RoZXJLZXlzKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBvbmVLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWVxdWFscyhvbmVbb25lS2V5c1tpXV0sIG90aGVyW29uZUtleXNbaV1dKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRBbGxQcm9wZXJ0eU5hbWVzKG9iaikge1xuICAgIGxldCByZXMgPSBbXTtcbiAgICB3aGlsZSAoT2JqZWN0LnByb3RvdHlwZSAhPT0gb2JqKSB7XG4gICAgICAgIHJlcyA9IHJlcy5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKSk7XG4gICAgICAgIG9iaiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopO1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFsbE1ldGhvZE5hbWVzKG9iaikge1xuICAgIGNvbnN0IG1ldGhvZHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHByb3Agb2YgZ2V0QWxsUHJvcGVydHlOYW1lcyhvYmopKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb2JqW3Byb3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBtZXRob2RzLnB1c2gocHJvcCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZHM7XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJveHlPYmplY3QobWV0aG9kTmFtZXMsIGludm9rZSkge1xuICAgIGNvbnN0IGNyZWF0ZVByb3h5TWV0aG9kID0gKG1ldGhvZCkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2YgbWV0aG9kTmFtZXMpIHtcbiAgICAgICAgcmVzdWx0W21ldGhvZE5hbWVdID0gY3JlYXRlUHJveHlNZXRob2QobWV0aG9kTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmxldCBpc1BzZXVkbyA9ICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmxvY2F0aW9uICYmIGRvY3VtZW50LmxvY2F0aW9uLmhhc2guaW5kZXhPZigncHNldWRvPXRydWUnKSA+PSAwKTtcbmNvbnN0IERFRkFVTFRfVEFHID0gJ2ktZGVmYXVsdCc7XG5mdW5jdGlvbiBfZm9ybWF0KG1lc3NhZ2UsIGFyZ3MpIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXN1bHQgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gbWVzc2FnZS5yZXBsYWNlKC9cXHsoXFxkKylcXH0vZywgKG1hdGNoLCByZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlc3RbMF07XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBhcmdzW2luZGV4XTtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSBtYXRjaDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGFyZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcmcgPT09ICdib29sZWFuJyB8fCBhcmcgPT09IHZvaWQgMCB8fCBhcmcgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBTdHJpbmcoYXJnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNQc2V1ZG8pIHtcbiAgICAgICAgLy8gRkYzQiBhbmQgRkYzRCBpcyB0aGUgVW5pY29kZSB6ZW5rYWt1IHJlcHJlc2VudGF0aW9uIGZvciBbIGFuZCBdXG4gICAgICAgIHJlc3VsdCA9ICdcXHVGRjNCJyArIHJlc3VsdC5yZXBsYWNlKC9bYW91ZWldL2csICckJiQmJykgKyAnXFx1RkYzRCc7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBmaW5kTGFuZ3VhZ2VGb3JNb2R1bGUoY29uZmlnLCBuYW1lKSB7XG4gICAgbGV0IHJlc3VsdCA9IGNvbmZpZ1tuYW1lXTtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJlc3VsdCA9IGNvbmZpZ1snKiddO1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBlbmRXaXRoU2xhc2gocGF0aCkge1xuICAgIGlmIChwYXRoLmNoYXJBdChwYXRoLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfVxuICAgIHJldHVybiBwYXRoICsgJy8nO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0TWVzc2FnZXNGcm9tVHJhbnNsYXRpb25zU2VydmljZSh0cmFuc2xhdGlvblNlcnZpY2VVcmwsIGxhbmd1YWdlLCBuYW1lKSB7XG4gICAgY29uc3QgdXJsID0gZW5kV2l0aFNsYXNoKHRyYW5zbGF0aW9uU2VydmljZVVybCkgKyBlbmRXaXRoU2xhc2gobGFuZ3VhZ2UpICsgJ3ZzY29kZS8nICsgZW5kV2l0aFNsYXNoKG5hbWUpO1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgaWYgKHJlcy5vaykge1xuICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHJldHVybiBtZXNzYWdlcztcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3Jlcy5zdGF0dXN9IC0gJHtyZXMuc3RhdHVzVGV4dH1gKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVNjb3BlZExvY2FsaXplKHNjb3BlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpZHgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjb25zdCByZXN0QXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgICAgIHJldHVybiBfZm9ybWF0KHNjb3BlW2lkeF0sIHJlc3RBcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlU2NvcGVkTG9jYWxpemUyKHNjb3BlKSB7XG4gICAgcmV0dXJuIChpZHgsIGRlZmF1bHRWYWx1ZSwgLi4uYXJncykgPT4gKHtcbiAgICAgICAgdmFsdWU6IF9mb3JtYXQoc2NvcGVbaWR4XSwgYXJncyksXG4gICAgICAgIG9yaWdpbmFsOiBfZm9ybWF0KGRlZmF1bHRWYWx1ZSwgYXJncylcbiAgICB9KTtcbn1cbi8qKlxuICogQHNraXBNYW5nbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2FsaXplKGRhdGEsIG1lc3NhZ2UsIC4uLmFyZ3MpIHtcbiAgICByZXR1cm4gX2Zvcm1hdChtZXNzYWdlLCBhcmdzKTtcbn1cbi8qKlxuICogQHNraXBNYW5nbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvY2FsaXplMihkYXRhLCBtZXNzYWdlLCAuLi5hcmdzKSB7XG4gICAgY29uc3Qgb3JpZ2luYWwgPSBfZm9ybWF0KG1lc3NhZ2UsIGFyZ3MpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiBvcmlnaW5hbCxcbiAgICAgICAgb3JpZ2luYWxcbiAgICB9O1xufVxuLyoqXG4gKiBAc2tpcE1hbmdsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29uZmlndXJlZERlZmF1bHRMb2NhbGUoXykge1xuICAgIC8vIFRoaXMgcmV0dXJucyB1bmRlZmluZWQgYmVjYXVzZSB0aGlzIGltcGxlbWVudGF0aW9uIGlzbid0IHVzZWQgYW5kIGlzIG92ZXJ3cml0dGVuIGJ5IHRoZSBsb2FkZXJcbiAgICAvLyB3aGVuIGxvYWRlZC5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLyoqXG4gKiBAc2tpcE1hbmdsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0UHNldWRvVHJhbnNsYXRpb24odmFsdWUpIHtcbiAgICBpc1BzZXVkbyA9IHZhbHVlO1xufVxuLyoqXG4gKiBJbnZva2VkIGluIGEgYnVpbHQgcHJvZHVjdCBhdCBydW4tdGltZVxuICogQHNraXBNYW5nbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShrZXksIGRhdGEpIHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9jYWxpemU6IGNyZWF0ZVNjb3BlZExvY2FsaXplKGRhdGFba2V5XSksXG4gICAgICAgIGxvY2FsaXplMjogY3JlYXRlU2NvcGVkTG9jYWxpemUyKGRhdGFba2V5XSksXG4gICAgICAgIGdldENvbmZpZ3VyZWREZWZhdWx0TG9jYWxlOiAoX2EgPSBkYXRhLmdldENvbmZpZ3VyZWREZWZhdWx0TG9jYWxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAoKF8pID0+IHVuZGVmaW5lZClcbiAgICB9O1xufVxuLyoqXG4gKiBJbnZva2VkIGJ5IHRoZSBsb2FkZXIgYXQgcnVuLXRpbWVcbiAqIEBza2lwTWFuZ2xlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2FkKG5hbWUsIHJlcSwgbG9hZCwgY29uZmlnKSB7XG4gICAgdmFyIF9hO1xuICAgIGNvbnN0IHBsdWdpbkNvbmZpZyA9IChfYSA9IGNvbmZpZ1sndnMvbmxzJ10pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHt9O1xuICAgIGlmICghbmFtZSB8fCBuYW1lLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBUT0RPOiBXZSBuZWVkIHRvIGdpdmUgYmFjayB0aGUgbWFuZ2xlZCBuYW1lcyBoZXJlXG4gICAgICAgIHJldHVybiBsb2FkKHtcbiAgICAgICAgICAgIGxvY2FsaXplOiBsb2NhbGl6ZSxcbiAgICAgICAgICAgIGxvY2FsaXplMjogbG9jYWxpemUyLFxuICAgICAgICAgICAgZ2V0Q29uZmlndXJlZERlZmF1bHRMb2NhbGU6ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gcGx1Z2luQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWycqJ107IH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IGxhbmd1YWdlID0gcGx1Z2luQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlcyA/IGZpbmRMYW5ndWFnZUZvck1vZHVsZShwbHVnaW5Db25maWcuYXZhaWxhYmxlTGFuZ3VhZ2VzLCBuYW1lKSA6IG51bGw7XG4gICAgY29uc3QgdXNlRGVmYXVsdExhbmd1YWdlID0gbGFuZ3VhZ2UgPT09IG51bGwgfHwgbGFuZ3VhZ2UgPT09IERFRkFVTFRfVEFHO1xuICAgIGxldCBzdWZmaXggPSAnLm5scyc7XG4gICAgaWYgKCF1c2VEZWZhdWx0TGFuZ3VhZ2UpIHtcbiAgICAgICAgc3VmZml4ID0gc3VmZml4ICsgJy4nICsgbGFuZ3VhZ2U7XG4gICAgfVxuICAgIGNvbnN0IG1lc3NhZ2VzTG9hZGVkID0gKG1lc3NhZ2VzKSA9PiB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG1lc3NhZ2VzKSkge1xuICAgICAgICAgICAgbWVzc2FnZXMubG9jYWxpemUgPSBjcmVhdGVTY29wZWRMb2NhbGl6ZShtZXNzYWdlcyk7XG4gICAgICAgICAgICBtZXNzYWdlcy5sb2NhbGl6ZTIgPSBjcmVhdGVTY29wZWRMb2NhbGl6ZTIobWVzc2FnZXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVzc2FnZXMubG9jYWxpemUgPSBjcmVhdGVTY29wZWRMb2NhbGl6ZShtZXNzYWdlc1tuYW1lXSk7XG4gICAgICAgICAgICBtZXNzYWdlcy5sb2NhbGl6ZTIgPSBjcmVhdGVTY29wZWRMb2NhbGl6ZTIobWVzc2FnZXNbbmFtZV0pO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2VzLmdldENvbmZpZ3VyZWREZWZhdWx0TG9jYWxlID0gKCkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBwbHVnaW5Db25maWcuYXZhaWxhYmxlTGFuZ3VhZ2VzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbJyonXTsgfTtcbiAgICAgICAgbG9hZChtZXNzYWdlcyk7XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHBsdWdpbkNvbmZpZy5sb2FkQnVuZGxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBsdWdpbkNvbmZpZy5sb2FkQnVuZGxlKG5hbWUsIGxhbmd1YWdlLCAoZXJyLCBtZXNzYWdlcykgPT4ge1xuICAgICAgICAgICAgLy8gV2UgaGF2ZSBhbiBlcnJvci4gTG9hZCB0aGUgRW5nbGlzaCBkZWZhdWx0IHN0cmluZ3MgdG8gbm90IGZhaWxcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXEoW25hbWUgKyAnLm5scyddLCBtZXNzYWdlc0xvYWRlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlc0xvYWRlZChtZXNzYWdlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwbHVnaW5Db25maWcudHJhbnNsYXRpb25TZXJ2aWNlVXJsICYmICF1c2VEZWZhdWx0TGFuZ3VhZ2UpIHtcbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBhd2FpdCBnZXRNZXNzYWdlc0Zyb21UcmFuc2xhdGlvbnNTZXJ2aWNlKHBsdWdpbkNvbmZpZy50cmFuc2xhdGlvblNlcnZpY2VVcmwsIGxhbmd1YWdlLCBuYW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZXNMb2FkZWQobWVzc2FnZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIExhbmd1YWdlIGlzIGFscmVhZHkgYXMgZ2VuZXJpYyBhcyBpdCBnZXRzLCBzbyByZXF1aXJlIGRlZmF1bHQgbWVzc2FnZXNcbiAgICAgICAgICAgICAgICBpZiAoIWxhbmd1YWdlLmluY2x1ZGVzKCctJykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVxKFtuYW1lICsgJy5ubHMnXSwgbWVzc2FnZXNMb2FkZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaW5jZSB0aGVyZSBpcyBhIGRhc2gsIHRoZSBsYW5ndWFnZSBjb25maWd1cmVkIGlzIGEgc3BlY2lmaWMgc3ViLWxhbmd1YWdlIG9mIHRoZSBzYW1lIGdlbmVyaWMgbGFuZ3VhZ2UuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpbmNlIHdlIHdlcmUgdW5hYmxlIHRvIGxvYWQgdGhlIHNwZWNpZmljIGxhbmd1YWdlLCB0cnkgdG8gbG9hZCB0aGUgZ2VuZXJpYyBsYW5ndWFnZS4gRXguIHdlIGZhaWxlZCB0byBmaW5kIGFcbiAgICAgICAgICAgICAgICAgICAgLy8gU3dpc3MgR2VybWFuIChkZS1DSCksIHNvIHRyeSB0byBsb2FkIHRoZSBnZW5lcmljIEdlcm1hbiAoZGUpIG1lc3NhZ2VzIGluc3RlYWQuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyaWNMYW5ndWFnZSA9IGxhbmd1YWdlLnNwbGl0KCctJylbMF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgZ2V0TWVzc2FnZXNGcm9tVHJhbnNsYXRpb25zU2VydmljZShwbHVnaW5Db25maWcudHJhbnNsYXRpb25TZXJ2aWNlVXJsLCBnZW5lcmljTGFuZ3VhZ2UsIG5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnb3Qgc29tZSBtZXNzYWdlcywgc28gd2UgY29uZmlndXJlIHRoZSBjb25maWd1cmF0aW9uIHRvIHVzZSB0aGUgZ2VuZXJpYyBsYW5ndWFnZSBmb3IgdGhpcyBzZXNzaW9uLlxuICAgICAgICAgICAgICAgICAgICAoX2EgPSBwbHVnaW5Db25maWcuYXZhaWxhYmxlTGFuZ3VhZ2VzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAocGx1Z2luQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlcyA9IHt9KTtcbiAgICAgICAgICAgICAgICAgICAgcGx1Z2luQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlc1snKiddID0gZ2VuZXJpY0xhbmd1YWdlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZXNMb2FkZWQobWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcShbbmFtZSArICcubmxzJ10sIG1lc3NhZ2VzTG9hZGVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXEoW25hbWUgKyBzdWZmaXhdLCBtZXNzYWdlc0xvYWRlZCwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKHN1ZmZpeCA9PT0gJy5ubHMnKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRyeWluZyB0byBsb2FkIGRlZmF1bHQgbGFuZ3VhZ2Ugc3RyaW5ncycsIGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGxvYWQgbWVzc2FnZSBidW5kbGUgZm9yIGxhbmd1YWdlICR7bGFuZ3VhZ2V9LiBGYWxsaW5nIGJhY2sgdG8gdGhlIGRlZmF1bHQgbGFuZ3VhZ2U6YCwgZXJyKTtcbiAgICAgICAgICAgIHJlcShbbmFtZSArICcubmxzJ10sIG1lc3NhZ2VzTG9hZGVkKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwidmFyIF9hO1xuLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgKiBhcyBubHMgZnJvbSAnLi4vLi4vbmxzLmpzJztcbmV4cG9ydCBjb25zdCBMQU5HVUFHRV9ERUZBVUxUID0gJ2VuJztcbmxldCBfaXNXaW5kb3dzID0gZmFsc2U7XG5sZXQgX2lzTWFjaW50b3NoID0gZmFsc2U7XG5sZXQgX2lzTGludXggPSBmYWxzZTtcbmxldCBfaXNMaW51eFNuYXAgPSBmYWxzZTtcbmxldCBfaXNOYXRpdmUgPSBmYWxzZTtcbmxldCBfaXNXZWIgPSBmYWxzZTtcbmxldCBfaXNFbGVjdHJvbiA9IGZhbHNlO1xubGV0IF9pc0lPUyA9IGZhbHNlO1xubGV0IF9pc0NJID0gZmFsc2U7XG5sZXQgX2lzTW9iaWxlID0gZmFsc2U7XG5sZXQgX2xvY2FsZSA9IHVuZGVmaW5lZDtcbmxldCBfbGFuZ3VhZ2UgPSBMQU5HVUFHRV9ERUZBVUxUO1xubGV0IF9wbGF0Zm9ybUxvY2FsZSA9IExBTkdVQUdFX0RFRkFVTFQ7XG5sZXQgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSB1bmRlZmluZWQ7XG5sZXQgX3VzZXJBZ2VudCA9IHVuZGVmaW5lZDtcbmNvbnN0ICRnbG9iYWxUaGlzID0gZ2xvYmFsVGhpcztcbmxldCBub2RlUHJvY2VzcyA9IHVuZGVmaW5lZDtcbmlmICh0eXBlb2YgJGdsb2JhbFRoaXMudnNjb2RlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgJGdsb2JhbFRoaXMudnNjb2RlLnByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gTmF0aXZlIGVudmlyb25tZW50IChzYW5kYm94ZWQpXG4gICAgbm9kZVByb2Nlc3MgPSAkZ2xvYmFsVGhpcy52c2NvZGUucHJvY2Vzcztcbn1cbmVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIC8vIE5hdGl2ZSBlbnZpcm9ubWVudCAobm9uLXNhbmRib3hlZClcbiAgICBub2RlUHJvY2VzcyA9IHByb2Nlc3M7XG59XG5jb25zdCBpc0VsZWN0cm9uUHJvY2VzcyA9IHR5cGVvZiAoKF9hID0gbm9kZVByb2Nlc3MgPT09IG51bGwgfHwgbm9kZVByb2Nlc3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5vZGVQcm9jZXNzLnZlcnNpb25zKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZWxlY3Ryb24pID09PSAnc3RyaW5nJztcbmNvbnN0IGlzRWxlY3Ryb25SZW5kZXJlciA9IGlzRWxlY3Ryb25Qcm9jZXNzICYmIChub2RlUHJvY2VzcyA9PT0gbnVsbCB8fCBub2RlUHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogbm9kZVByb2Nlc3MudHlwZSkgPT09ICdyZW5kZXJlcic7XG4vLyBXZWIgZW52aXJvbm1lbnRcbmlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiAhaXNFbGVjdHJvblJlbmRlcmVyKSB7XG4gICAgX3VzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gICAgX2lzV2luZG93cyA9IF91c2VyQWdlbnQuaW5kZXhPZignV2luZG93cycpID49IDA7XG4gICAgX2lzTWFjaW50b3NoID0gX3VzZXJBZ2VudC5pbmRleE9mKCdNYWNpbnRvc2gnKSA+PSAwO1xuICAgIF9pc0lPUyA9IChfdXNlckFnZW50LmluZGV4T2YoJ01hY2ludG9zaCcpID49IDAgfHwgX3VzZXJBZ2VudC5pbmRleE9mKCdpUGFkJykgPj0gMCB8fCBfdXNlckFnZW50LmluZGV4T2YoJ2lQaG9uZScpID49IDApICYmICEhbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDA7XG4gICAgX2lzTGludXggPSBfdXNlckFnZW50LmluZGV4T2YoJ0xpbnV4JykgPj0gMDtcbiAgICBfaXNNb2JpbGUgPSAoX3VzZXJBZ2VudCA9PT0gbnVsbCB8fCBfdXNlckFnZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdXNlckFnZW50LmluZGV4T2YoJ01vYmknKSkgPj0gMDtcbiAgICBfaXNXZWIgPSB0cnVlO1xuICAgIGNvbnN0IGNvbmZpZ3VyZWRMb2NhbGUgPSBubHMuZ2V0Q29uZmlndXJlZERlZmF1bHRMb2NhbGUoXG4gICAgLy8gVGhpcyBjYWxsIF9tdXN0XyBiZSBkb25lIGluIHRoZSBmaWxlIHRoYXQgY2FsbHMgYG5scy5nZXRDb25maWd1cmVkRGVmYXVsdExvY2FsZWBcbiAgICAvLyB0byBlbnN1cmUgdGhhdCB0aGUgTkxTIEFNRCBMb2FkZXIgcGx1Z2luIGhhcyBiZWVuIGxvYWRlZCBhbmQgY29uZmlndXJlZC5cbiAgICAvLyBUaGlzIGlzIGJlY2F1c2UgdGhlIGxvYWRlciBwbHVnaW4gZGVjaWRlcyB3aGF0IHRoZSBkZWZhdWx0IGxvY2FsZSBpcyBiYXNlZCBvblxuICAgIC8vIGhvdyBpdCdzIGFibGUgdG8gcmVzb2x2ZSB0aGUgc3RyaW5ncy5cbiAgICBubHMubG9jYWxpemUoeyBrZXk6ICdlbnN1cmVMb2FkZXJQbHVnaW5Jc0xvYWRlZCcsIGNvbW1lbnQ6IFsne0xvY2tlZH0nXSB9LCAnXycpKTtcbiAgICBfbG9jYWxlID0gY29uZmlndXJlZExvY2FsZSB8fCBMQU5HVUFHRV9ERUZBVUxUO1xuICAgIF9sYW5ndWFnZSA9IF9sb2NhbGU7XG4gICAgX3BsYXRmb3JtTG9jYWxlID0gbmF2aWdhdG9yLmxhbmd1YWdlO1xufVxuLy8gTmF0aXZlIGVudmlyb25tZW50XG5lbHNlIGlmICh0eXBlb2Ygbm9kZVByb2Nlc3MgPT09ICdvYmplY3QnKSB7XG4gICAgX2lzV2luZG93cyA9IChub2RlUHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyk7XG4gICAgX2lzTWFjaW50b3NoID0gKG5vZGVQcm9jZXNzLnBsYXRmb3JtID09PSAnZGFyd2luJyk7XG4gICAgX2lzTGludXggPSAobm9kZVByb2Nlc3MucGxhdGZvcm0gPT09ICdsaW51eCcpO1xuICAgIF9pc0xpbnV4U25hcCA9IF9pc0xpbnV4ICYmICEhbm9kZVByb2Nlc3MuZW52WydTTkFQJ10gJiYgISFub2RlUHJvY2Vzcy5lbnZbJ1NOQVBfUkVWSVNJT04nXTtcbiAgICBfaXNFbGVjdHJvbiA9IGlzRWxlY3Ryb25Qcm9jZXNzO1xuICAgIF9pc0NJID0gISFub2RlUHJvY2Vzcy5lbnZbJ0NJJ10gfHwgISFub2RlUHJvY2Vzcy5lbnZbJ0JVSUxEX0FSVElGQUNUU1RBR0lOR0RJUkVDVE9SWSddO1xuICAgIF9sb2NhbGUgPSBMQU5HVUFHRV9ERUZBVUxUO1xuICAgIF9sYW5ndWFnZSA9IExBTkdVQUdFX0RFRkFVTFQ7XG4gICAgY29uc3QgcmF3TmxzQ29uZmlnID0gbm9kZVByb2Nlc3MuZW52WydWU0NPREVfTkxTX0NPTkZJRyddO1xuICAgIGlmIChyYXdObHNDb25maWcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IG5sc0NvbmZpZyA9IEpTT04ucGFyc2UocmF3TmxzQ29uZmlnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmVkID0gbmxzQ29uZmlnLmF2YWlsYWJsZUxhbmd1YWdlc1snKiddO1xuICAgICAgICAgICAgX2xvY2FsZSA9IG5sc0NvbmZpZy5sb2NhbGU7XG4gICAgICAgICAgICBfcGxhdGZvcm1Mb2NhbGUgPSBubHNDb25maWcub3NMb2NhbGU7XG4gICAgICAgICAgICAvLyBWU0NvZGUncyBkZWZhdWx0IGxhbmd1YWdlIGlzICdlbidcbiAgICAgICAgICAgIF9sYW5ndWFnZSA9IHJlc29sdmVkID8gcmVzb2x2ZWQgOiBMQU5HVUFHRV9ERUZBVUxUO1xuICAgICAgICAgICAgX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGUgPSBubHNDb25maWcuX3RyYW5zbGF0aW9uc0NvbmZpZ0ZpbGU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaXNOYXRpdmUgPSB0cnVlO1xufVxuLy8gVW5rbm93biBlbnZpcm9ubWVudFxuZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignVW5hYmxlIHRvIHJlc29sdmUgcGxhdGZvcm0uJyk7XG59XG5sZXQgX3BsYXRmb3JtID0gMCAvKiBQbGF0Zm9ybS5XZWIgKi87XG5pZiAoX2lzTWFjaW50b3NoKSB7XG4gICAgX3BsYXRmb3JtID0gMSAvKiBQbGF0Zm9ybS5NYWMgKi87XG59XG5lbHNlIGlmIChfaXNXaW5kb3dzKSB7XG4gICAgX3BsYXRmb3JtID0gMyAvKiBQbGF0Zm9ybS5XaW5kb3dzICovO1xufVxuZWxzZSBpZiAoX2lzTGludXgpIHtcbiAgICBfcGxhdGZvcm0gPSAyIC8qIFBsYXRmb3JtLkxpbnV4ICovO1xufVxuZXhwb3J0IGNvbnN0IGlzV2luZG93cyA9IF9pc1dpbmRvd3M7XG5leHBvcnQgY29uc3QgaXNNYWNpbnRvc2ggPSBfaXNNYWNpbnRvc2g7XG5leHBvcnQgY29uc3QgaXNMaW51eCA9IF9pc0xpbnV4O1xuZXhwb3J0IGNvbnN0IGlzTmF0aXZlID0gX2lzTmF0aXZlO1xuZXhwb3J0IGNvbnN0IGlzV2ViID0gX2lzV2ViO1xuZXhwb3J0IGNvbnN0IGlzV2ViV29ya2VyID0gKF9pc1dlYiAmJiB0eXBlb2YgJGdsb2JhbFRoaXMuaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJyk7XG5leHBvcnQgY29uc3Qgd2ViV29ya2VyT3JpZ2luID0gaXNXZWJXb3JrZXIgPyAkZ2xvYmFsVGhpcy5vcmlnaW4gOiB1bmRlZmluZWQ7XG5leHBvcnQgY29uc3QgaXNJT1MgPSBfaXNJT1M7XG5leHBvcnQgY29uc3QgaXNNb2JpbGUgPSBfaXNNb2JpbGU7XG5leHBvcnQgY29uc3QgdXNlckFnZW50ID0gX3VzZXJBZ2VudDtcbi8qKlxuICogVGhlIGxhbmd1YWdlIHVzZWQgZm9yIHRoZSB1c2VyIGludGVyZmFjZS4gVGhlIGZvcm1hdCBvZlxuICogdGhlIHN0cmluZyBpcyBhbGwgbG93ZXIgY2FzZSAoZS5nLiB6aC10dyBmb3IgVHJhZGl0aW9uYWxcbiAqIENoaW5lc2UpXG4gKi9cbmV4cG9ydCBjb25zdCBsYW5ndWFnZSA9IF9sYW5ndWFnZTtcbmV4cG9ydCBjb25zdCBzZXRUaW1lb3V0MElzRmFzdGVyID0gKHR5cGVvZiAkZ2xvYmFsVGhpcy5wb3N0TWVzc2FnZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhJGdsb2JhbFRoaXMuaW1wb3J0U2NyaXB0cyk7XG4vKipcbiAqIFNlZSBodHRwczovL2h0bWwuc3BlYy53aGF0d2cub3JnL211bHRpcGFnZS90aW1lcnMtYW5kLXVzZXItcHJvbXB0cy5odG1sIzp+OnRleHQ9dGhhbiUyMDQlMkMlMjB0aGVuLSxzZXQlMjB0aW1lb3V0JTIwdG8lMjA0LC0uXG4gKlxuICogV29ya3Mgc2ltaWxhcmx5IHRvIGBzZXRUaW1lb3V0KDApYCBidXQgZG9lc24ndCBzdWZmZXIgZnJvbSB0aGUgNG1zIGFydGlmaWNpYWwgZGVsYXlcbiAqIHRoYXQgYnJvd3NlcnMgc2V0IHdoZW4gdGhlIG5lc3RpbmcgbGV2ZWwgaXMgPiA1LlxuICovXG5leHBvcnQgY29uc3Qgc2V0VGltZW91dDAgPSAoKCkgPT4ge1xuICAgIGlmIChzZXRUaW1lb3V0MElzRmFzdGVyKSB7XG4gICAgICAgIGNvbnN0IHBlbmRpbmcgPSBbXTtcbiAgICAgICAgJGdsb2JhbFRoaXMuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5kYXRhICYmIGUuZGF0YS52c2NvZGVTY2hlZHVsZUFzeW5jV29yaykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZSA9IHBlbmRpbmdbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjYW5kaWRhdGUuaWQgPT09IGUuZGF0YS52c2NvZGVTY2hlZHVsZUFzeW5jV29yaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5kaWRhdGUuY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBsYXN0SWQgPSAwO1xuICAgICAgICByZXR1cm4gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBteUlkID0gKytsYXN0SWQ7XG4gICAgICAgICAgICBwZW5kaW5nLnB1c2goe1xuICAgICAgICAgICAgICAgIGlkOiBteUlkLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkZ2xvYmFsVGhpcy5wb3N0TWVzc2FnZSh7IHZzY29kZVNjaGVkdWxlQXN5bmNXb3JrOiBteUlkIH0sICcqJyk7XG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiAoY2FsbGJhY2spID0+IHNldFRpbWVvdXQoY2FsbGJhY2spO1xufSkoKTtcbmV4cG9ydCBjb25zdCBPUyA9IChfaXNNYWNpbnRvc2ggfHwgX2lzSU9TID8gMiAvKiBPcGVyYXRpbmdTeXN0ZW0uTWFjaW50b3NoICovIDogKF9pc1dpbmRvd3MgPyAxIC8qIE9wZXJhdGluZ1N5c3RlbS5XaW5kb3dzICovIDogMyAvKiBPcGVyYXRpbmdTeXN0ZW0uTGludXggKi8pKTtcbmxldCBfaXNMaXR0bGVFbmRpYW4gPSB0cnVlO1xubGV0IF9pc0xpdHRsZUVuZGlhbkNvbXB1dGVkID0gZmFsc2U7XG5leHBvcnQgZnVuY3Rpb24gaXNMaXR0bGVFbmRpYW4oKSB7XG4gICAgaWYgKCFfaXNMaXR0bGVFbmRpYW5Db21wdXRlZCkge1xuICAgICAgICBfaXNMaXR0bGVFbmRpYW5Db21wdXRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IHRlc3QgPSBuZXcgVWludDhBcnJheSgyKTtcbiAgICAgICAgdGVzdFswXSA9IDE7XG4gICAgICAgIHRlc3RbMV0gPSAyO1xuICAgICAgICBjb25zdCB2aWV3ID0gbmV3IFVpbnQxNkFycmF5KHRlc3QuYnVmZmVyKTtcbiAgICAgICAgX2lzTGl0dGxlRW5kaWFuID0gKHZpZXdbMF0gPT09ICgyIDw8IDgpICsgMSk7XG4gICAgfVxuICAgIHJldHVybiBfaXNMaXR0bGVFbmRpYW47XG59XG5leHBvcnQgY29uc3QgaXNDaHJvbWUgPSAhISh1c2VyQWdlbnQgJiYgdXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID49IDApO1xuZXhwb3J0IGNvbnN0IGlzRmlyZWZveCA9ICEhKHVzZXJBZ2VudCAmJiB1c2VyQWdlbnQuaW5kZXhPZignRmlyZWZveCcpID49IDApO1xuZXhwb3J0IGNvbnN0IGlzU2FmYXJpID0gISEoIWlzQ2hyb21lICYmICh1c2VyQWdlbnQgJiYgdXNlckFnZW50LmluZGV4T2YoJ1NhZmFyaScpID49IDApKTtcbmV4cG9ydCBjb25zdCBpc0VkZ2UgPSAhISh1c2VyQWdlbnQgJiYgdXNlckFnZW50LmluZGV4T2YoJ0VkZy8nKSA+PSAwKTtcbmV4cG9ydCBjb25zdCBpc0FuZHJvaWQgPSAhISh1c2VyQWdlbnQgJiYgdXNlckFnZW50LmluZGV4T2YoJ0FuZHJvaWQnKSA+PSAwKTtcbiIsIi8qKlxuICogVXNlcyBhIExSVSBjYWNoZSB0byBtYWtlIGEgZ2l2ZW4gcGFyYW1ldHJpemVkIGZ1bmN0aW9uIGNhY2hlZC5cbiAqIENhY2hlcyBqdXN0IHRoZSBsYXN0IHZhbHVlLlxuICogVGhlIGtleSBtdXN0IGJlIEpTT04gc2VyaWFsaXphYmxlLlxuKi9cbmV4cG9ydCBjbGFzcyBMUlVDYWNoZWRGdW5jdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZm4pIHtcbiAgICAgICAgdGhpcy5mbiA9IGZuO1xuICAgICAgICB0aGlzLmxhc3RDYWNoZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5sYXN0QXJnS2V5ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBnZXQoYXJnKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KGFyZyk7XG4gICAgICAgIGlmICh0aGlzLmxhc3RBcmdLZXkgIT09IGtleSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0QXJnS2V5ID0ga2V5O1xuICAgICAgICAgICAgdGhpcy5sYXN0Q2FjaGUgPSB0aGlzLmZuKGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubGFzdENhY2hlO1xuICAgIH1cbn1cbi8qKlxuICogVXNlcyBhbiB1bmJvdW5kZWQgY2FjaGUgKHJlZmVyZW50aWFsIGVxdWFsaXR5KSB0byBtZW1vaXplIHRoZSByZXN1bHRzIG9mIHRoZSBnaXZlbiBmdW5jdGlvbi5cbiovXG5leHBvcnQgY2xhc3MgQ2FjaGVkRnVuY3Rpb24ge1xuICAgIGdldCBjYWNoZWRWYWx1ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXA7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGZuKSB7XG4gICAgICAgIHRoaXMuZm4gPSBmbjtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBnZXQoYXJnKSB7XG4gICAgICAgIGlmICh0aGlzLl9tYXAuaGFzKGFyZykpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KGFyZyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmZuKGFyZyk7XG4gICAgICAgIHRoaXMuX21hcC5zZXQoYXJnLCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBjbGFzcyBMYXp5IHtcbiAgICBjb25zdHJ1Y3RvcihleGVjdXRvcikge1xuICAgICAgICB0aGlzLmV4ZWN1dG9yID0gZXhlY3V0b3I7XG4gICAgICAgIHRoaXMuX2RpZFJ1biA9IGZhbHNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHdyYXBwZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBUaGlzIHdpbGwgZm9yY2UgZXZhbHVhdGlvbiBvZiB0aGUgbGF6eSB2YWx1ZSBpZiBpdCBoYXMgbm90IGJlZW4gcmVzb2x2ZWQgeWV0LiBMYXp5IHZhbHVlcyBhcmUgb25seVxuICAgICAqIHJlc29sdmVkIG9uY2UuIGBnZXRWYWx1ZWAgd2lsbCByZS10aHJvdyBleGNlcHRpb25zIHRoYXQgYXJlIGhpdCB3aGlsZSByZXNvbHZpbmcgdGhlIHZhbHVlXG4gICAgICovXG4gICAgZ2V0IHZhbHVlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2RpZFJ1bikge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl92YWx1ZSA9IHRoaXMuZXhlY3V0b3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2RpZFJ1biA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2Vycm9yKSB7XG4gICAgICAgICAgICB0aHJvdyB0aGlzLl9lcnJvcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgd3JhcHBlZCB2YWx1ZSB3aXRob3V0IGZvcmNpbmcgZXZhbHVhdGlvbi5cbiAgICAgKi9cbiAgICBnZXQgcmF3VmFsdWUoKSB7IHJldHVybiB0aGlzLl92YWx1ZTsgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgX2E7XG5pbXBvcnQgeyBMUlVDYWNoZWRGdW5jdGlvbiB9IGZyb20gJy4vY2FjaGUuanMnO1xuaW1wb3J0IHsgTGF6eSB9IGZyb20gJy4vbGF6eS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gaXNGYWxzeU9yV2hpdGVzcGFjZShzdHIpIHtcbiAgICBpZiAoIXN0ciB8fCB0eXBlb2Ygc3RyICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci50cmltKCkubGVuZ3RoID09PSAwO1xufVxuY29uc3QgX2Zvcm1hdFJlZ2V4cCA9IC97KFxcZCspfS9nO1xuLyoqXG4gKiBIZWxwZXIgdG8gcHJvZHVjZSBhIHN0cmluZyB3aXRoIGEgdmFyaWFibGUgbnVtYmVyIG9mIGFyZ3VtZW50cy4gSW5zZXJ0IHZhcmlhYmxlIHNlZ21lbnRzXG4gKiBpbnRvIHRoZSBzdHJpbmcgdXNpbmcgdGhlIHtufSBub3RhdGlvbiB3aGVyZSBOIGlzIHRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgZm9sbG93aW5nIHRoZSBzdHJpbmcuXG4gKiBAcGFyYW0gdmFsdWUgc3RyaW5nIHRvIHdoaWNoIGZvcm1hdHRpbmcgaXMgYXBwbGllZFxuICogQHBhcmFtIGFyZ3MgcmVwbGFjZW1lbnRzIGZvciB7bn0tZW50cmllc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0KHZhbHVlLCAuLi5hcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoX2Zvcm1hdFJlZ2V4cCwgZnVuY3Rpb24gKG1hdGNoLCBncm91cCkge1xuICAgICAgICBjb25zdCBpZHggPSBwYXJzZUludChncm91cCwgMTApO1xuICAgICAgICByZXR1cm4gaXNOYU4oaWR4KSB8fCBpZHggPCAwIHx8IGlkeCA+PSBhcmdzLmxlbmd0aCA/XG4gICAgICAgICAgICBtYXRjaCA6XG4gICAgICAgICAgICBhcmdzW2lkeF07XG4gICAgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIEhUTUwgY2hhcmFjdGVycyBpbnNpZGUgdGhlIHN0cmluZyB0byB1c2UgZW50aXRpZXMgaW5zdGVhZC4gTWFrZXMgdGhlIHN0cmluZyBzYWZlIGZyb21cbiAqIGJlaW5nIHVzZWQgZS5nLiBpbiBIVE1MRWxlbWVudC5pbm5lckhUTUwuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlc2NhcGUoaHRtbCkge1xuICAgIHJldHVybiBodG1sLnJlcGxhY2UoL1s8PiZdL2csIGZ1bmN0aW9uIChtYXRjaCkge1xuICAgICAgICBzd2l0Y2ggKG1hdGNoKSB7XG4gICAgICAgICAgICBjYXNlICc8JzogcmV0dXJuICcmbHQ7JztcbiAgICAgICAgICAgIGNhc2UgJz4nOiByZXR1cm4gJyZndDsnO1xuICAgICAgICAgICAgY2FzZSAnJic6IHJldHVybiAnJmFtcDsnO1xuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIEVzY2FwZXMgcmVndWxhciBleHByZXNzaW9uIGNoYXJhY3RlcnMgaW4gYSBnaXZlbiBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cENoYXJhY3RlcnModmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUucmVwbGFjZSgvW1xcXFxcXHtcXH1cXCpcXCtcXD9cXHxcXF5cXCRcXC5cXFtcXF1cXChcXCldL2csICdcXFxcJCYnKTtcbn1cbi8qKlxuICogUmVtb3ZlcyBhbGwgb2NjdXJyZW5jZXMgb2YgbmVlZGxlIGZyb20gdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGhheXN0YWNrLlxuICogQHBhcmFtIGhheXN0YWNrIHN0cmluZyB0byB0cmltXG4gKiBAcGFyYW0gbmVlZGxlIHRoZSB0aGluZyB0byB0cmltIChkZWZhdWx0IGlzIGEgYmxhbmspXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmltKGhheXN0YWNrLCBuZWVkbGUgPSAnICcpIHtcbiAgICBjb25zdCB0cmltbWVkID0gbHRyaW0oaGF5c3RhY2ssIG5lZWRsZSk7XG4gICAgcmV0dXJuIHJ0cmltKHRyaW1tZWQsIG5lZWRsZSk7XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgaGF5c3RhY2suXG4gKiBAcGFyYW0gaGF5c3RhY2sgc3RyaW5nIHRvIHRyaW1cbiAqIEBwYXJhbSBuZWVkbGUgdGhlIHRoaW5nIHRvIHRyaW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGx0cmltKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoIWhheXN0YWNrIHx8ICFuZWVkbGUpIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xuICAgIH1cbiAgICBjb25zdCBuZWVkbGVMZW4gPSBuZWVkbGUubGVuZ3RoO1xuICAgIGlmIChuZWVkbGVMZW4gPT09IDAgfHwgaGF5c3RhY2subGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcbiAgICB9XG4gICAgbGV0IG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKGhheXN0YWNrLmluZGV4T2YobmVlZGxlLCBvZmZzZXQpID09PSBvZmZzZXQpIHtcbiAgICAgICAgb2Zmc2V0ID0gb2Zmc2V0ICsgbmVlZGxlTGVuO1xuICAgIH1cbiAgICByZXR1cm4gaGF5c3RhY2suc3Vic3RyaW5nKG9mZnNldCk7XG59XG4vKipcbiAqIFJlbW92ZXMgYWxsIG9jY3VycmVuY2VzIG9mIG5lZWRsZSBmcm9tIHRoZSBlbmQgb2YgaGF5c3RhY2suXG4gKiBAcGFyYW0gaGF5c3RhY2sgc3RyaW5nIHRvIHRyaW1cbiAqIEBwYXJhbSBuZWVkbGUgdGhlIHRoaW5nIHRvIHRyaW1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJ0cmltKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICBpZiAoIWhheXN0YWNrIHx8ICFuZWVkbGUpIHtcbiAgICAgICAgcmV0dXJuIGhheXN0YWNrO1xuICAgIH1cbiAgICBjb25zdCBuZWVkbGVMZW4gPSBuZWVkbGUubGVuZ3RoLCBoYXlzdGFja0xlbiA9IGhheXN0YWNrLmxlbmd0aDtcbiAgICBpZiAobmVlZGxlTGVuID09PSAwIHx8IGhheXN0YWNrTGVuID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXlzdGFjaztcbiAgICB9XG4gICAgbGV0IG9mZnNldCA9IGhheXN0YWNrTGVuLCBpZHggPSAtMTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICBpZHggPSBoYXlzdGFjay5sYXN0SW5kZXhPZihuZWVkbGUsIG9mZnNldCAtIDEpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSB8fCBpZHggKyBuZWVkbGVMZW4gIT09IG9mZnNldCkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIG9mZnNldCA9IGlkeDtcbiAgICB9XG4gICAgcmV0dXJuIGhheXN0YWNrLnN1YnN0cmluZygwLCBvZmZzZXQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTaW1wbGUyUmVnRXhwUGF0dGVybihwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvW1xcLVxcXFxcXHtcXH1cXCtcXD9cXHxcXF5cXCRcXC5cXCxcXFtcXF1cXChcXClcXCNcXHNdL2csICdcXFxcJCYnKS5yZXBsYWNlKC9bXFwqXS9nLCAnLionKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpcFdpbGRjYXJkcyhwYXR0ZXJuKSB7XG4gICAgcmV0dXJuIHBhdHRlcm4ucmVwbGFjZSgvXFwqL2csICcnKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVSZWdFeHAoc2VhcmNoU3RyaW5nLCBpc1JlZ2V4LCBvcHRpb25zID0ge30pIHtcbiAgICBpZiAoIXNlYXJjaFN0cmluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjcmVhdGUgcmVnZXggZnJvbSBlbXB0eSBzdHJpbmcnKTtcbiAgICB9XG4gICAgaWYgKCFpc1JlZ2V4KSB7XG4gICAgICAgIHNlYXJjaFN0cmluZyA9IGVzY2FwZVJlZ0V4cENoYXJhY3RlcnMoc2VhcmNoU3RyaW5nKTtcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMud2hvbGVXb3JkKSB7XG4gICAgICAgIGlmICghL1xcQi8udGVzdChzZWFyY2hTdHJpbmcuY2hhckF0KDApKSkge1xuICAgICAgICAgICAgc2VhcmNoU3RyaW5nID0gJ1xcXFxiJyArIHNlYXJjaFN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIS9cXEIvLnRlc3Qoc2VhcmNoU3RyaW5nLmNoYXJBdChzZWFyY2hTdHJpbmcubGVuZ3RoIC0gMSkpKSB7XG4gICAgICAgICAgICBzZWFyY2hTdHJpbmcgPSBzZWFyY2hTdHJpbmcgKyAnXFxcXGInO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBtb2RpZmllcnMgPSAnJztcbiAgICBpZiAob3B0aW9ucy5nbG9iYWwpIHtcbiAgICAgICAgbW9kaWZpZXJzICs9ICdnJztcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLm1hdGNoQ2FzZSkge1xuICAgICAgICBtb2RpZmllcnMgKz0gJ2knO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5tdWx0aWxpbmUpIHtcbiAgICAgICAgbW9kaWZpZXJzICs9ICdtJztcbiAgICB9XG4gICAgaWYgKG9wdGlvbnMudW5pY29kZSkge1xuICAgICAgICBtb2RpZmllcnMgKz0gJ3UnO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzZWFyY2hTdHJpbmcsIG1vZGlmaWVycyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVnRXhwTGVhZHNUb0VuZGxlc3NMb29wKHJlZ2V4cCkge1xuICAgIC8vIEV4aXQgZWFybHkgaWYgaXQncyBvbmUgb2YgdGhlc2Ugc3BlY2lhbCBjYXNlcyB3aGljaCBhcmUgbWVhbnQgdG8gbWF0Y2hcbiAgICAvLyBhZ2FpbnN0IGFuIGVtcHR5IHN0cmluZ1xuICAgIGlmIChyZWdleHAuc291cmNlID09PSAnXicgfHwgcmVnZXhwLnNvdXJjZSA9PT0gJ14kJyB8fCByZWdleHAuc291cmNlID09PSAnJCcgfHwgcmVnZXhwLnNvdXJjZSA9PT0gJ15cXFxccyokJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFdlIGNoZWNrIGFnYWluc3QgYW4gZW1wdHkgc3RyaW5nLiBJZiB0aGUgcmVndWxhciBleHByZXNzaW9uIGRvZXNuJ3QgYWR2YW5jZVxuICAgIC8vIChlLmcuIGVuZHMgaW4gYW4gZW5kbGVzcyBsb29wKSBpdCB3aWxsIG1hdGNoIGFuIGVtcHR5IHN0cmluZy5cbiAgICBjb25zdCBtYXRjaCA9IHJlZ2V4cC5leGVjKCcnKTtcbiAgICByZXR1cm4gISEobWF0Y2ggJiYgcmVnZXhwLmxhc3RJbmRleCA9PT0gMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gc3BsaXRMaW5lcyhzdHIpIHtcbiAgICByZXR1cm4gc3RyLnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pO1xufVxuLyoqXG4gKiBSZXR1cm5zIGZpcnN0IGluZGV4IG9mIHRoZSBzdHJpbmcgdGhhdCBpcyBub3Qgd2hpdGVzcGFjZS5cbiAqIElmIHN0cmluZyBpcyBlbXB0eSBvciBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIC0xXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaXJzdE5vbldoaXRlc3BhY2VJbmRleChzdHIpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc3RyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogQ2hhckNvZGUuVGFiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGxlYWRpbmcgd2hpdGVzcGFjZSBvZiB0aGUgc3RyaW5nLlxuICogSWYgdGhlIHN0cmluZyBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIGVudGlyZSBzdHJpbmdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExlYWRpbmdXaGl0ZXNwYWNlKHN0ciwgc3RhcnQgPSAwLCBlbmQgPSBzdHIubGVuZ3RoKSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgZW5kOyBpKyspIHtcbiAgICAgICAgY29uc3QgY2hDb2RlID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGlmIChjaENvZGUgIT09IDMyIC8qIENoYXJDb2RlLlNwYWNlICovICYmIGNoQ29kZSAhPT0gOSAvKiBDaGFyQ29kZS5UYWIgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBzdHIuc3Vic3RyaW5nKHN0YXJ0LCBpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3RyLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbn1cbi8qKlxuICogUmV0dXJucyBsYXN0IGluZGV4IG9mIHRoZSBzdHJpbmcgdGhhdCBpcyBub3Qgd2hpdGVzcGFjZS5cbiAqIElmIHN0cmluZyBpcyBlbXB0eSBvciBjb250YWlucyBvbmx5IHdoaXRlc3BhY2VzLCByZXR1cm5zIC0xXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXN0Tm9uV2hpdGVzcGFjZUluZGV4KHN0ciwgc3RhcnRJbmRleCA9IHN0ci5sZW5ndGggLSAxKSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoQ29kZSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlICE9PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLyAmJiBjaENvZGUgIT09IDkgLyogQ2hhckNvZGUuVGFiICovKSB7XG4gICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZShhLCBiKSB7XG4gICAgaWYgKGEgPCBiKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYSA+IGIpIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVN1YnN0cmluZyhhLCBiLCBhU3RhcnQgPSAwLCBhRW5kID0gYS5sZW5ndGgsIGJTdGFydCA9IDAsIGJFbmQgPSBiLmxlbmd0aCkge1xuICAgIGZvciAoOyBhU3RhcnQgPCBhRW5kICYmIGJTdGFydCA8IGJFbmQ7IGFTdGFydCsrLCBiU3RhcnQrKykge1xuICAgICAgICBjb25zdCBjb2RlQSA9IGEuY2hhckNvZGVBdChhU3RhcnQpO1xuICAgICAgICBjb25zdCBjb2RlQiA9IGIuY2hhckNvZGVBdChiU3RhcnQpO1xuICAgICAgICBpZiAoY29kZUEgPCBjb2RlQikge1xuICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvZGVBID4gY29kZUIpIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFMZW4gPSBhRW5kIC0gYVN0YXJ0O1xuICAgIGNvbnN0IGJMZW4gPSBiRW5kIC0gYlN0YXJ0O1xuICAgIGlmIChhTGVuIDwgYkxlbikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFMZW4gPiBiTGVuKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21wYXJlSWdub3JlQ2FzZShhLCBiKSB7XG4gICAgcmV0dXJuIGNvbXBhcmVTdWJzdHJpbmdJZ25vcmVDYXNlKGEsIGIsIDAsIGEubGVuZ3RoLCAwLCBiLmxlbmd0aCk7XG59XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZVN1YnN0cmluZ0lnbm9yZUNhc2UoYSwgYiwgYVN0YXJ0ID0gMCwgYUVuZCA9IGEubGVuZ3RoLCBiU3RhcnQgPSAwLCBiRW5kID0gYi5sZW5ndGgpIHtcbiAgICBmb3IgKDsgYVN0YXJ0IDwgYUVuZCAmJiBiU3RhcnQgPCBiRW5kOyBhU3RhcnQrKywgYlN0YXJ0KyspIHtcbiAgICAgICAgbGV0IGNvZGVBID0gYS5jaGFyQ29kZUF0KGFTdGFydCk7XG4gICAgICAgIGxldCBjb2RlQiA9IGIuY2hhckNvZGVBdChiU3RhcnQpO1xuICAgICAgICBpZiAoY29kZUEgPT09IGNvZGVCKSB7XG4gICAgICAgICAgICAvLyBlcXVhbFxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGVBID49IDEyOCB8fCBjb2RlQiA+PSAxMjgpIHtcbiAgICAgICAgICAgIC8vIG5vdCBBU0NJSSBsZXR0ZXJzIC0+IGZhbGxiYWNrIHRvIGxvd2VyLWNhc2luZyBzdHJpbmdzXG4gICAgICAgICAgICByZXR1cm4gY29tcGFyZVN1YnN0cmluZyhhLnRvTG93ZXJDYXNlKCksIGIudG9Mb3dlckNhc2UoKSwgYVN0YXJ0LCBhRW5kLCBiU3RhcnQsIGJFbmQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIG1hcHBlciBsb3dlci1jYXNlIGFzY2lpIGxldHRlciBvbnRvIHVwcGVyLWNhc2UgdmFyaW5hdHNcbiAgICAgICAgLy8gWzk3LTEyMl0gKGxvd2VyIGFzY2lpKSAtLT4gWzY1LTkwXSAodXBwZXIgYXNjaWkpXG4gICAgICAgIGlmIChpc0xvd2VyQXNjaWlMZXR0ZXIoY29kZUEpKSB7XG4gICAgICAgICAgICBjb2RlQSAtPSAzMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNMb3dlckFzY2lpTGV0dGVyKGNvZGVCKSkge1xuICAgICAgICAgICAgY29kZUIgLT0gMzI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29tcGFyZSBib3RoIGNvZGUgcG9pbnRzXG4gICAgICAgIGNvbnN0IGRpZmYgPSBjb2RlQSAtIGNvZGVCO1xuICAgICAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIGNvbnN0IGFMZW4gPSBhRW5kIC0gYVN0YXJ0O1xuICAgIGNvbnN0IGJMZW4gPSBiRW5kIC0gYlN0YXJ0O1xuICAgIGlmIChhTGVuIDwgYkxlbikge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFMZW4gPiBiTGVuKSB7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0FzY2lpRGlnaXQoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDQ4IC8qIENoYXJDb2RlLkRpZ2l0MCAqLyAmJiBjb2RlIDw9IDU3IC8qIENoYXJDb2RlLkRpZ2l0OSAqLztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0xvd2VyQXNjaWlMZXR0ZXIoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDk3IC8qIENoYXJDb2RlLmEgKi8gJiYgY29kZSA8PSAxMjIgLyogQ2hhckNvZGUueiAqLztcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1VwcGVyQXNjaWlMZXR0ZXIoY29kZSkge1xuICAgIHJldHVybiBjb2RlID49IDY1IC8qIENoYXJDb2RlLkEgKi8gJiYgY29kZSA8PSA5MCAvKiBDaGFyQ29kZS5aICovO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGVxdWFsc0lnbm9yZUNhc2UoYSwgYikge1xuICAgIHJldHVybiBhLmxlbmd0aCA9PT0gYi5sZW5ndGggJiYgY29tcGFyZVN1YnN0cmluZ0lnbm9yZUNhc2UoYSwgYikgPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhcnRzV2l0aElnbm9yZUNhc2Uoc3RyLCBjYW5kaWRhdGUpIHtcbiAgICBjb25zdCBjYW5kaWRhdGVMZW5ndGggPSBjYW5kaWRhdGUubGVuZ3RoO1xuICAgIGlmIChjYW5kaWRhdGUubGVuZ3RoID4gc3RyLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBjb21wYXJlU3Vic3RyaW5nSWdub3JlQ2FzZShzdHIsIGNhbmRpZGF0ZSwgMCwgY2FuZGlkYXRlTGVuZ3RoKSA9PT0gMDtcbn1cbi8qKlxuICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgY29tbW9uIHByZWZpeCBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tb25QcmVmaXhMZW5ndGgoYSwgYikge1xuICAgIGNvbnN0IGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgZm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChhLmNoYXJDb2RlQXQoaSkgIT09IGIuY2hhckNvZGVBdChpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbjtcbn1cbi8qKlxuICogQHJldHVybnMgdGhlIGxlbmd0aCBvZiB0aGUgY29tbW9uIHN1ZmZpeCBvZiB0aGUgdHdvIHN0cmluZ3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21tb25TdWZmaXhMZW5ndGgoYSwgYikge1xuICAgIGNvbnN0IGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgYUxhc3RJbmRleCA9IGEubGVuZ3RoIC0gMTtcbiAgICBjb25zdCBiTGFzdEluZGV4ID0gYi5sZW5ndGggLSAxO1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoYS5jaGFyQ29kZUF0KGFMYXN0SW5kZXggLSBpKSAhPT0gYi5jaGFyQ29kZUF0KGJMYXN0SW5kZXggLSBpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxlbjtcbn1cbi8qKlxuICogU2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU3Vycm9nYXRlX3BhaXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZSkge1xuICAgIHJldHVybiAoMHhEODAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REJGRik7XG59XG4vKipcbiAqIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1cnJvZ2F0ZV9wYWlyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkge1xuICAgIHJldHVybiAoMHhEQzAwIDw9IGNoYXJDb2RlICYmIGNoYXJDb2RlIDw9IDB4REZGRik7XG59XG4vKipcbiAqIFNlZSBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1N1cnJvZ2F0ZV9wYWlyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ29kZVBvaW50KGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSkge1xuICAgIHJldHVybiAoKGhpZ2hTdXJyb2dhdGUgLSAweEQ4MDApIDw8IDEwKSArIChsb3dTdXJyb2dhdGUgLSAweERDMDApICsgMHgxMDAwMDtcbn1cbi8qKlxuICogZ2V0IHRoZSBjb2RlIHBvaW50IHRoYXQgYmVnaW5zIGF0IG9mZnNldCBgb2Zmc2V0YFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TmV4dENvZGVQb2ludChzdHIsIGxlbiwgb2Zmc2V0KSB7XG4gICAgY29uc3QgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgIGlmIChpc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGUpICYmIG9mZnNldCArIDEgPCBsZW4pIHtcbiAgICAgICAgY29uc3QgbmV4dENoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSk7XG4gICAgICAgIGlmIChpc0xvd1N1cnJvZ2F0ZShuZXh0Q2hhckNvZGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcHV0ZUNvZGVQb2ludChjaGFyQ29kZSwgbmV4dENoYXJDb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2hhckNvZGU7XG59XG4vKipcbiAqIGdldCB0aGUgY29kZSBwb2ludCB0aGF0IGVuZHMgcmlnaHQgYmVmb3JlIG9mZnNldCBgb2Zmc2V0YFxuICovXG5mdW5jdGlvbiBnZXRQcmV2Q29kZVBvaW50KHN0ciwgb2Zmc2V0KSB7XG4gICAgY29uc3QgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChvZmZzZXQgLSAxKTtcbiAgICBpZiAoaXNMb3dTdXJyb2dhdGUoY2hhckNvZGUpICYmIG9mZnNldCA+IDEpIHtcbiAgICAgICAgY29uc3QgcHJldkNoYXJDb2RlID0gc3RyLmNoYXJDb2RlQXQob2Zmc2V0IC0gMik7XG4gICAgICAgIGlmIChpc0hpZ2hTdXJyb2dhdGUocHJldkNoYXJDb2RlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGVDb2RlUG9pbnQocHJldkNoYXJDb2RlLCBjaGFyQ29kZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNoYXJDb2RlO1xufVxuZXhwb3J0IGNsYXNzIENvZGVQb2ludEl0ZXJhdG9yIHtcbiAgICBnZXQgb2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb2Zmc2V0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzdHIsIG9mZnNldCA9IDApIHtcbiAgICAgICAgdGhpcy5fc3RyID0gc3RyO1xuICAgICAgICB0aGlzLl9sZW4gPSBzdHIubGVuZ3RoO1xuICAgICAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQ7XG4gICAgfVxuICAgIHNldE9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ID0gb2Zmc2V0O1xuICAgIH1cbiAgICBwcmV2Q29kZVBvaW50KCkge1xuICAgICAgICBjb25zdCBjb2RlUG9pbnQgPSBnZXRQcmV2Q29kZVBvaW50KHRoaXMuX3N0ciwgdGhpcy5fb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0IC09IChjb2RlUG9pbnQgPj0gNjU1MzYgLyogQ29uc3RhbnRzLlVOSUNPREVfU1VQUExFTUVOVEFSWV9QTEFORV9CRUdJTiAqLyA/IDIgOiAxKTtcbiAgICAgICAgcmV0dXJuIGNvZGVQb2ludDtcbiAgICB9XG4gICAgbmV4dENvZGVQb2ludCgpIHtcbiAgICAgICAgY29uc3QgY29kZVBvaW50ID0gZ2V0TmV4dENvZGVQb2ludCh0aGlzLl9zdHIsIHRoaXMuX2xlbiwgdGhpcy5fb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fb2Zmc2V0ICs9IChjb2RlUG9pbnQgPj0gNjU1MzYgLyogQ29uc3RhbnRzLlVOSUNPREVfU1VQUExFTUVOVEFSWV9QTEFORV9CRUdJTiAqLyA/IDIgOiAxKTtcbiAgICAgICAgcmV0dXJuIGNvZGVQb2ludDtcbiAgICB9XG4gICAgZW9sKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMuX29mZnNldCA+PSB0aGlzLl9sZW4pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBHcmFwaGVtZUl0ZXJhdG9yIHtcbiAgICBnZXQgb2Zmc2V0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXRlcmF0b3Iub2Zmc2V0O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihzdHIsIG9mZnNldCA9IDApIHtcbiAgICAgICAgdGhpcy5faXRlcmF0b3IgPSBuZXcgQ29kZVBvaW50SXRlcmF0b3Ioc3RyLCBvZmZzZXQpO1xuICAgIH1cbiAgICBuZXh0R3JhcGhlbWVMZW5ndGgoKSB7XG4gICAgICAgIGNvbnN0IGdyYXBoZW1lQnJlYWtUcmVlID0gR3JhcGhlbWVCcmVha1RyZWUuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3QgaXRlcmF0b3IgPSB0aGlzLl9pdGVyYXRvcjtcbiAgICAgICAgY29uc3QgaW5pdGlhbE9mZnNldCA9IGl0ZXJhdG9yLm9mZnNldDtcbiAgICAgICAgbGV0IGdyYXBoZW1lQnJlYWtUeXBlID0gZ3JhcGhlbWVCcmVha1RyZWUuZ2V0R3JhcGhlbWVCcmVha1R5cGUoaXRlcmF0b3IubmV4dENvZGVQb2ludCgpKTtcbiAgICAgICAgd2hpbGUgKCFpdGVyYXRvci5lb2woKSkge1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gaXRlcmF0b3Iub2Zmc2V0O1xuICAgICAgICAgICAgY29uc3QgbmV4dEdyYXBoZW1lQnJlYWtUeXBlID0gZ3JhcGhlbWVCcmVha1RyZWUuZ2V0R3JhcGhlbWVCcmVha1R5cGUoaXRlcmF0b3IubmV4dENvZGVQb2ludCgpKTtcbiAgICAgICAgICAgIGlmIChicmVha0JldHdlZW5HcmFwaGVtZUJyZWFrVHlwZShncmFwaGVtZUJyZWFrVHlwZSwgbmV4dEdyYXBoZW1lQnJlYWtUeXBlKSkge1xuICAgICAgICAgICAgICAgIC8vIG1vdmUgaXRlcmF0b3IgYmFja1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnNldE9mZnNldChvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZ3JhcGhlbWVCcmVha1R5cGUgPSBuZXh0R3JhcGhlbWVCcmVha1R5cGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChpdGVyYXRvci5vZmZzZXQgLSBpbml0aWFsT2Zmc2V0KTtcbiAgICB9XG4gICAgcHJldkdyYXBoZW1lTGVuZ3RoKCkge1xuICAgICAgICBjb25zdCBncmFwaGVtZUJyZWFrVHJlZSA9IEdyYXBoZW1lQnJlYWtUcmVlLmdldEluc3RhbmNlKCk7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5faXRlcmF0b3I7XG4gICAgICAgIGNvbnN0IGluaXRpYWxPZmZzZXQgPSBpdGVyYXRvci5vZmZzZXQ7XG4gICAgICAgIGxldCBncmFwaGVtZUJyZWFrVHlwZSA9IGdyYXBoZW1lQnJlYWtUcmVlLmdldEdyYXBoZW1lQnJlYWtUeXBlKGl0ZXJhdG9yLnByZXZDb2RlUG9pbnQoKSk7XG4gICAgICAgIHdoaWxlIChpdGVyYXRvci5vZmZzZXQgPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBvZmZzZXQgPSBpdGVyYXRvci5vZmZzZXQ7XG4gICAgICAgICAgICBjb25zdCBwcmV2R3JhcGhlbWVCcmVha1R5cGUgPSBncmFwaGVtZUJyZWFrVHJlZS5nZXRHcmFwaGVtZUJyZWFrVHlwZShpdGVyYXRvci5wcmV2Q29kZVBvaW50KCkpO1xuICAgICAgICAgICAgaWYgKGJyZWFrQmV0d2VlbkdyYXBoZW1lQnJlYWtUeXBlKHByZXZHcmFwaGVtZUJyZWFrVHlwZSwgZ3JhcGhlbWVCcmVha1R5cGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gbW92ZSBpdGVyYXRvciBiYWNrXG4gICAgICAgICAgICAgICAgaXRlcmF0b3Iuc2V0T2Zmc2V0KG9mZnNldCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBncmFwaGVtZUJyZWFrVHlwZSA9IHByZXZHcmFwaGVtZUJyZWFrVHlwZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGluaXRpYWxPZmZzZXQgLSBpdGVyYXRvci5vZmZzZXQpO1xuICAgIH1cbiAgICBlb2woKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pdGVyYXRvci5lb2woKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbmV4dENoYXJMZW5ndGgoc3RyLCBpbml0aWFsT2Zmc2V0KSB7XG4gICAgY29uc3QgaXRlcmF0b3IgPSBuZXcgR3JhcGhlbWVJdGVyYXRvcihzdHIsIGluaXRpYWxPZmZzZXQpO1xuICAgIHJldHVybiBpdGVyYXRvci5uZXh0R3JhcGhlbWVMZW5ndGgoKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmV2Q2hhckxlbmd0aChzdHIsIGluaXRpYWxPZmZzZXQpIHtcbiAgICBjb25zdCBpdGVyYXRvciA9IG5ldyBHcmFwaGVtZUl0ZXJhdG9yKHN0ciwgaW5pdGlhbE9mZnNldCk7XG4gICAgcmV0dXJuIGl0ZXJhdG9yLnByZXZHcmFwaGVtZUxlbmd0aCgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldENoYXJDb250YWluaW5nT2Zmc2V0KHN0ciwgb2Zmc2V0KSB7XG4gICAgaWYgKG9mZnNldCA+IDAgJiYgaXNMb3dTdXJyb2dhdGUoc3RyLmNoYXJDb2RlQXQob2Zmc2V0KSkpIHtcbiAgICAgICAgb2Zmc2V0LS07XG4gICAgfVxuICAgIGNvbnN0IGVuZE9mZnNldCA9IG9mZnNldCArIG5leHRDaGFyTGVuZ3RoKHN0ciwgb2Zmc2V0KTtcbiAgICBjb25zdCBzdGFydE9mZnNldCA9IGVuZE9mZnNldCAtIHByZXZDaGFyTGVuZ3RoKHN0ciwgZW5kT2Zmc2V0KTtcbiAgICByZXR1cm4gW3N0YXJ0T2Zmc2V0LCBlbmRPZmZzZXRdO1xufVxubGV0IENPTlRBSU5TX1JUTCA9IHVuZGVmaW5lZDtcbmZ1bmN0aW9uIG1ha2VDb250YWluc1J0bCgpIHtcbiAgICAvLyBHZW5lcmF0ZWQgdXNpbmcgaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkaW1hL3VuaWNvZGUtdXRpbHMvYmxvYi9tYWluL3J0bC10ZXN0LmpzXG4gICAgcmV0dXJuIC8oPzpbXFx1MDVCRVxcdTA1QzBcXHUwNUMzXFx1MDVDNlxcdTA1RDAtXFx1MDVGNFxcdTA2MDhcXHUwNjBCXFx1MDYwRFxcdTA2MUItXFx1MDY0QVxcdTA2NkQtXFx1MDY2RlxcdTA2NzEtXFx1MDZENVxcdTA2RTVcXHUwNkU2XFx1MDZFRVxcdTA2RUZcXHUwNkZBLVxcdTA3MTBcXHUwNzEyLVxcdTA3MkZcXHUwNzRELVxcdTA3QTVcXHUwN0IxLVxcdTA3RUFcXHUwN0Y0XFx1MDdGNVxcdTA3RkFcXHUwN0ZFLVxcdTA4MTVcXHUwODFBXFx1MDgyNFxcdTA4MjhcXHUwODMwLVxcdTA4NThcXHUwODVFLVxcdTA4OEVcXHUwOEEwLVxcdTA4QzlcXHUyMDBGXFx1RkIxRFxcdUZCMUYtXFx1RkIyOFxcdUZCMkEtXFx1RkQzRFxcdUZENTAtXFx1RkRDN1xcdUZERjAtXFx1RkRGQ1xcdUZFNzAtXFx1RkVGQ118XFx1RDgwMltcXHVEQzAwLVxcdUREMUJcXHVERDIwLVxcdURFMDBcXHVERTEwLVxcdURFMzVcXHVERTQwLVxcdURFRTRcXHVERUVCLVxcdURGMzVcXHVERjQwLVxcdURGRkZdfFxcdUQ4MDNbXFx1REMwMC1cXHVERDIzXFx1REU4MC1cXHVERUE5XFx1REVBRC1cXHVERjQ1XFx1REY1MS1cXHVERjgxXFx1REY4Ni1cXHVERkY2XXxcXHVEODNBW1xcdURDMDAtXFx1RENDRlxcdUREMDAtXFx1REQ0M1xcdURENEItXFx1REZGRl18XFx1RDgzQltcXHVEQzAwLVxcdURFQkJdKS87XG59XG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgc3RyYCBjb250YWlucyBhbnkgVW5pY29kZSBjaGFyYWN0ZXIgdGhhdCBpcyBjbGFzc2lmaWVkIGFzIFwiUlwiIG9yIFwiQUxcIi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRhaW5zUlRMKHN0cikge1xuICAgIGlmICghQ09OVEFJTlNfUlRMKSB7XG4gICAgICAgIENPTlRBSU5TX1JUTCA9IG1ha2VDb250YWluc1J0bCgpO1xuICAgIH1cbiAgICByZXR1cm4gQ09OVEFJTlNfUlRMLnRlc3Qoc3RyKTtcbn1cbmNvbnN0IElTX0JBU0lDX0FTQ0lJID0gL15bXFx0XFxuXFxyXFx4MjAtXFx4N0VdKiQvO1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYHN0cmAgY29udGFpbnMgb25seSBiYXNpYyBBU0NJSSBjaGFyYWN0ZXJzIGluIHRoZSByYW5nZSAzMiAtIDEyNiAoaW5jbHVkaW5nIDMyIGFuZCAxMjYpIG9yIFxcbiwgXFxyLCBcXHRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQmFzaWNBU0NJSShzdHIpIHtcbiAgICByZXR1cm4gSVNfQkFTSUNfQVNDSUkudGVzdChzdHIpO1xufVxuZXhwb3J0IGNvbnN0IFVOVVNVQUxfTElORV9URVJNSU5BVE9SUyA9IC9bXFx1MjAyOFxcdTIwMjldLzsgLy8gTElORSBTRVBBUkFUT1IgKExTKSBvciBQQVJBR1JBUEggU0VQQVJBVE9SIChQUylcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIGNvbnRhaW5zIHVudXN1YWwgbGluZSB0ZXJtaW5hdG9ycywgbGlrZSBMUyBvciBQU1xuICovXG5leHBvcnQgZnVuY3Rpb24gY29udGFpbnNVbnVzdWFsTGluZVRlcm1pbmF0b3JzKHN0cikge1xuICAgIHJldHVybiBVTlVTVUFMX0xJTkVfVEVSTUlOQVRPUlMudGVzdChzdHIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzRnVsbFdpZHRoQ2hhcmFjdGVyKGNoYXJDb2RlKSB7XG4gICAgLy8gRG8gYSBjaGVhcCB0cmljayB0byBiZXR0ZXIgc3VwcG9ydCB3cmFwcGluZyBvZiB3aWRlIGNoYXJhY3RlcnMsIHRyZWF0IHRoZW0gYXMgMiBjb2x1bW5zXG4gICAgLy8gaHR0cDovL2pyZ3JhcGhpeC5uZXQvcmVzZWFyY2gvdW5pY29kZV9ibG9ja3MucGhwXG4gICAgLy8gICAgICAgICAgMkU4MCAtIDJFRkYgICBDSksgUmFkaWNhbHMgU3VwcGxlbWVudFxuICAgIC8vICAgICAgICAgIDJGMDAgLSAyRkRGICAgS2FuZ3hpIFJhZGljYWxzXG4gICAgLy8gICAgICAgICAgMkZGMCAtIDJGRkYgICBJZGVvZ3JhcGhpYyBEZXNjcmlwdGlvbiBDaGFyYWN0ZXJzXG4gICAgLy8gICAgICAgICAgMzAwMCAtIDMwM0YgICBDSksgU3ltYm9scyBhbmQgUHVuY3R1YXRpb25cbiAgICAvLyAgICAgICAgICAzMDQwIC0gMzA5RiAgIEhpcmFnYW5hXG4gICAgLy8gICAgICAgICAgMzBBMCAtIDMwRkYgICBLYXRha2FuYVxuICAgIC8vICAgICAgICAgIDMxMDAgLSAzMTJGICAgQm9wb21vZm9cbiAgICAvLyAgICAgICAgICAzMTMwIC0gMzE4RiAgIEhhbmd1bCBDb21wYXRpYmlsaXR5IEphbW9cbiAgICAvLyAgICAgICAgICAzMTkwIC0gMzE5RiAgIEthbmJ1blxuICAgIC8vICAgICAgICAgIDMxQTAgLSAzMUJGICAgQm9wb21vZm8gRXh0ZW5kZWRcbiAgICAvLyAgICAgICAgICAzMUYwIC0gMzFGRiAgIEthdGFrYW5hIFBob25ldGljIEV4dGVuc2lvbnNcbiAgICAvLyAgICAgICAgICAzMjAwIC0gMzJGRiAgIEVuY2xvc2VkIENKSyBMZXR0ZXJzIGFuZCBNb250aHNcbiAgICAvLyAgICAgICAgICAzMzAwIC0gMzNGRiAgIENKSyBDb21wYXRpYmlsaXR5XG4gICAgLy8gICAgICAgICAgMzQwMCAtIDREQkYgICBDSksgVW5pZmllZCBJZGVvZ3JhcGhzIEV4dGVuc2lvbiBBXG4gICAgLy8gICAgICAgICAgNERDMCAtIDRERkYgICBZaWppbmcgSGV4YWdyYW0gU3ltYm9sc1xuICAgIC8vICAgICAgICAgIDRFMDAgLSA5RkZGICAgQ0pLIFVuaWZpZWQgSWRlb2dyYXBoc1xuICAgIC8vICAgICAgICAgIEEwMDAgLSBBNDhGICAgWWkgU3lsbGFibGVzXG4gICAgLy8gICAgICAgICAgQTQ5MCAtIEE0Q0YgICBZaSBSYWRpY2Fsc1xuICAgIC8vICAgICAgICAgIEFDMDAgLSBEN0FGICAgSGFuZ3VsIFN5bGxhYmxlc1xuICAgIC8vIFtJR05PUkVdIEQ4MDAgLSBEQjdGICAgSGlnaCBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gREI4MCAtIERCRkYgICBIaWdoIFByaXZhdGUgVXNlIFN1cnJvZ2F0ZXNcbiAgICAvLyBbSUdOT1JFXSBEQzAwIC0gREZGRiAgIExvdyBTdXJyb2dhdGVzXG4gICAgLy8gW0lHTk9SRV0gRTAwMCAtIEY4RkYgICBQcml2YXRlIFVzZSBBcmVhXG4gICAgLy8gICAgICAgICAgRjkwMCAtIEZBRkYgICBDSksgQ29tcGF0aWJpbGl0eSBJZGVvZ3JhcGhzXG4gICAgLy8gW0lHTk9SRV0gRkIwMCAtIEZCNEYgICBBbHBoYWJldGljIFByZXNlbnRhdGlvbiBGb3Jtc1xuICAgIC8vIFtJR05PUkVdIEZCNTAgLSBGREZGICAgQXJhYmljIFByZXNlbnRhdGlvbiBGb3Jtcy1BXG4gICAgLy8gW0lHTk9SRV0gRkUwMCAtIEZFMEYgICBWYXJpYXRpb24gU2VsZWN0b3JzXG4gICAgLy8gW0lHTk9SRV0gRkUyMCAtIEZFMkYgICBDb21iaW5pbmcgSGFsZiBNYXJrc1xuICAgIC8vIFtJR05PUkVdIEZFMzAgLSBGRTRGICAgQ0pLIENvbXBhdGliaWxpdHkgRm9ybXNcbiAgICAvLyBbSUdOT1JFXSBGRTUwIC0gRkU2RiAgIFNtYWxsIEZvcm0gVmFyaWFudHNcbiAgICAvLyBbSUdOT1JFXSBGRTcwIC0gRkVGRiAgIEFyYWJpYyBQcmVzZW50YXRpb24gRm9ybXMtQlxuICAgIC8vICAgICAgICAgIEZGMDAgLSBGRkVGICAgSGFsZndpZHRoIGFuZCBGdWxsd2lkdGggRm9ybXNcbiAgICAvLyAgICAgICAgICAgICAgIFtodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9IYWxmd2lkdGhfYW5kX2Z1bGx3aWR0aF9mb3Jtc11cbiAgICAvLyAgICAgICAgICAgICAgIG9mIHdoaWNoIEZGMDEgLSBGRjVFIGZ1bGx3aWR0aCBBU0NJSSBvZiAyMSB0byA3RVxuICAgIC8vIFtJR05PUkVdICAgIGFuZCBGRjY1IC0gRkZEQyBoYWxmd2lkdGggb2YgS2F0YWthbmEgYW5kIEhhbmd1bFxuICAgIC8vIFtJR05PUkVdIEZGRjAgLSBGRkZGICAgU3BlY2lhbHNcbiAgICByZXR1cm4gKChjaGFyQ29kZSA+PSAweDJFODAgJiYgY2hhckNvZGUgPD0gMHhEN0FGKVxuICAgICAgICB8fCAoY2hhckNvZGUgPj0gMHhGOTAwICYmIGNoYXJDb2RlIDw9IDB4RkFGRilcbiAgICAgICAgfHwgKGNoYXJDb2RlID49IDB4RkYwMSAmJiBjaGFyQ29kZSA8PSAweEZGNUUpKTtcbn1cbi8qKlxuICogQSBmYXN0IGZ1bmN0aW9uICh0aGVyZWZvcmUgaW1wcmVjaXNlKSB0byBjaGVjayBpZiBjb2RlIHBvaW50cyBhcmUgZW1vamlzLlxuICogR2VuZXJhdGVkIHVzaW5nIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZGltYS91bmljb2RlLXV0aWxzL2Jsb2IvbWFpbi9lbW9qaS10ZXN0LmpzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vtb2ppSW1wcmVjaXNlKHgpIHtcbiAgICByZXR1cm4gKCh4ID49IDB4MUYxRTYgJiYgeCA8PSAweDFGMUZGKSB8fCAoeCA9PT0gODk4NikgfHwgKHggPT09IDg5ODcpIHx8ICh4ID09PSA5MjAwKVxuICAgICAgICB8fCAoeCA9PT0gOTIwMykgfHwgKHggPj0gOTcyOCAmJiB4IDw9IDEwMTc1KSB8fCAoeCA9PT0gMTEwODgpIHx8ICh4ID09PSAxMTA5MylcbiAgICAgICAgfHwgKHggPj0gMTI3NzQ0ICYmIHggPD0gMTI4NTkxKSB8fCAoeCA+PSAxMjg2NDAgJiYgeCA8PSAxMjg3NjQpXG4gICAgICAgIHx8ICh4ID49IDEyODk5MiAmJiB4IDw9IDEyOTAwOCkgfHwgKHggPj0gMTI5MjgwICYmIHggPD0gMTI5NTM1KVxuICAgICAgICB8fCAoeCA+PSAxMjk2NDggJiYgeCA8PSAxMjk3ODIpKTtcbn1cbi8vIC0tIFVURi04IEJPTVxuZXhwb3J0IGNvbnN0IFVURjhfQk9NX0NIQVJBQ1RFUiA9IFN0cmluZy5mcm9tQ2hhckNvZGUoNjUyNzkgLyogQ2hhckNvZGUuVVRGOF9CT00gKi8pO1xuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGhVVEY4Qk9NKHN0cikge1xuICAgIHJldHVybiAhIShzdHIgJiYgc3RyLmxlbmd0aCA+IDAgJiYgc3RyLmNoYXJDb2RlQXQoMCkgPT09IDY1Mjc5IC8qIENoYXJDb2RlLlVURjhfQk9NICovKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb250YWluc1VwcGVyY2FzZUNoYXJhY3Rlcih0YXJnZXQsIGlnbm9yZUVzY2FwZWRDaGFycyA9IGZhbHNlKSB7XG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoaWdub3JlRXNjYXBlZENoYXJzKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC5yZXBsYWNlKC9cXFxcLi9nLCAnJyk7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQudG9Mb3dlckNhc2UoKSAhPT0gdGFyZ2V0O1xufVxuLyoqXG4gKiBQcm9kdWNlcyAnYSctJ3onLCBmb2xsb3dlZCBieSAnQSctJ1onLi4uIGZvbGxvd2VkIGJ5ICdhJy0neicsIGV0Yy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpbmdsZUxldHRlckhhc2gobikge1xuICAgIGNvbnN0IExFVFRFUlNfQ05UID0gKDkwIC8qIENoYXJDb2RlLlogKi8gLSA2NSAvKiBDaGFyQ29kZS5BICovICsgMSk7XG4gICAgbiA9IG4gJSAoMiAqIExFVFRFUlNfQ05UKTtcbiAgICBpZiAobiA8IExFVFRFUlNfQ05UKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKDk3IC8qIENoYXJDb2RlLmEgKi8gKyBuKTtcbiAgICB9XG4gICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoNjUgLyogQ2hhckNvZGUuQSAqLyArIG4gLSBMRVRURVJTX0NOVCk7XG59XG5mdW5jdGlvbiBicmVha0JldHdlZW5HcmFwaGVtZUJyZWFrVHlwZShicmVha1R5cGVBLCBicmVha1R5cGVCKSB7XG4gICAgLy8gaHR0cDovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMjkvI0dyYXBoZW1lX0NsdXN0ZXJfQm91bmRhcnlfUnVsZXNcbiAgICAvLyAhISEgTGV0J3MgbWFrZSB0aGUgY29tbW9uIGNhc2UgYSBiaXQgZmFzdGVyXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDAgLyogR3JhcGhlbWVCcmVha1R5cGUuT3RoZXIgKi8pIHtcbiAgICAgICAgLy8gc2VlIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy8xMy4wLjAvdWNkL2F1eGlsaWFyeS9HcmFwaGVtZUJyZWFrVGVzdC0xMy4wLjBkMTAuaHRtbCN0YWJsZVxuICAgICAgICByZXR1cm4gKGJyZWFrVHlwZUIgIT09IDUgLyogR3JhcGhlbWVCcmVha1R5cGUuRXh0ZW5kICovICYmIGJyZWFrVHlwZUIgIT09IDcgLyogR3JhcGhlbWVCcmVha1R5cGUuU3BhY2luZ01hcmsgKi8pO1xuICAgIH1cbiAgICAvLyBEbyBub3QgYnJlYWsgYmV0d2VlbiBhIENSIGFuZCBMRi4gT3RoZXJ3aXNlLCBicmVhayBiZWZvcmUgYW5kIGFmdGVyIGNvbnRyb2xzLlxuICAgIC8vIEdCMyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDUiDDlyBMRlxuICAgIC8vIEdCNCAgICAgICAgICAgICAgICAgICAgICAgKENvbnRyb2wgfCBDUiB8IExGKSDDt1xuICAgIC8vIEdCNSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDDtyAoQ29udHJvbCB8IENSIHwgTEYpXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDIgLyogR3JhcGhlbWVCcmVha1R5cGUuQ1IgKi8pIHtcbiAgICAgICAgaWYgKGJyZWFrVHlwZUIgPT09IDMgLyogR3JhcGhlbWVCcmVha1R5cGUuTEYgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0IzXG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDQgLyogR3JhcGhlbWVCcmVha1R5cGUuQ29udHJvbCAqLyB8fCBicmVha1R5cGVBID09PSAyIC8qIEdyYXBoZW1lQnJlYWtUeXBlLkNSICovIHx8IGJyZWFrVHlwZUEgPT09IDMgLyogR3JhcGhlbWVCcmVha1R5cGUuTEYgKi8pIHtcbiAgICAgICAgcmV0dXJuIHRydWU7IC8vIEdCNFxuICAgIH1cbiAgICBpZiAoYnJlYWtUeXBlQiA9PT0gNCAvKiBHcmFwaGVtZUJyZWFrVHlwZS5Db250cm9sICovIHx8IGJyZWFrVHlwZUIgPT09IDIgLyogR3JhcGhlbWVCcmVha1R5cGUuQ1IgKi8gfHwgYnJlYWtUeXBlQiA9PT0gMyAvKiBHcmFwaGVtZUJyZWFrVHlwZS5MRiAqLykge1xuICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gR0I1XG4gICAgfVxuICAgIC8vIERvIG5vdCBicmVhayBIYW5ndWwgc3lsbGFibGUgc2VxdWVuY2VzLlxuICAgIC8vIEdCNiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTCDDlyAoTCB8IFYgfCBMViB8IExWVClcbiAgICAvLyBHQjcgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKExWIHwgVikgw5cgKFYgfCBUKVxuICAgIC8vIEdCOCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChMVlQgfCBUKSDDlyBUXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDggLyogR3JhcGhlbWVCcmVha1R5cGUuTCAqLykge1xuICAgICAgICBpZiAoYnJlYWtUeXBlQiA9PT0gOCAvKiBHcmFwaGVtZUJyZWFrVHlwZS5MICovIHx8IGJyZWFrVHlwZUIgPT09IDkgLyogR3JhcGhlbWVCcmVha1R5cGUuViAqLyB8fCBicmVha1R5cGVCID09PSAxMSAvKiBHcmFwaGVtZUJyZWFrVHlwZS5MViAqLyB8fCBicmVha1R5cGVCID09PSAxMiAvKiBHcmFwaGVtZUJyZWFrVHlwZS5MVlQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I2XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDExIC8qIEdyYXBoZW1lQnJlYWtUeXBlLkxWICovIHx8IGJyZWFrVHlwZUEgPT09IDkgLyogR3JhcGhlbWVCcmVha1R5cGUuViAqLykge1xuICAgICAgICBpZiAoYnJlYWtUeXBlQiA9PT0gOSAvKiBHcmFwaGVtZUJyZWFrVHlwZS5WICovIHx8IGJyZWFrVHlwZUIgPT09IDEwIC8qIEdyYXBoZW1lQnJlYWtUeXBlLlQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I3XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDEyIC8qIEdyYXBoZW1lQnJlYWtUeXBlLkxWVCAqLyB8fCBicmVha1R5cGVBID09PSAxMCAvKiBHcmFwaGVtZUJyZWFrVHlwZS5UICovKSB7XG4gICAgICAgIGlmIChicmVha1R5cGVCID09PSAxMCAvKiBHcmFwaGVtZUJyZWFrVHlwZS5UICovKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEdCOFxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIERvIG5vdCBicmVhayBiZWZvcmUgZXh0ZW5kaW5nIGNoYXJhY3RlcnMgb3IgWldKLlxuICAgIC8vIEdCOSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDDlyAoRXh0ZW5kIHwgWldKKVxuICAgIGlmIChicmVha1R5cGVCID09PSA1IC8qIEdyYXBoZW1lQnJlYWtUeXBlLkV4dGVuZCAqLyB8fCBicmVha1R5cGVCID09PSAxMyAvKiBHcmFwaGVtZUJyZWFrVHlwZS5aV0ogKi8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBHQjlcbiAgICB9XG4gICAgLy8gVGhlIEdCOWEgYW5kIEdCOWIgcnVsZXMgb25seSBhcHBseSB0byBleHRlbmRlZCBncmFwaGVtZSBjbHVzdGVyczpcbiAgICAvLyBEbyBub3QgYnJlYWsgYmVmb3JlIFNwYWNpbmdNYXJrcywgb3IgYWZ0ZXIgUHJlcGVuZCBjaGFyYWN0ZXJzLlxuICAgIC8vIEdCOWEgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICDDlyBTcGFjaW5nTWFya1xuICAgIC8vIEdCOWIgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJlcGVuZCDDl1xuICAgIGlmIChicmVha1R5cGVCID09PSA3IC8qIEdyYXBoZW1lQnJlYWtUeXBlLlNwYWNpbmdNYXJrICovKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I5YVxuICAgIH1cbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gMSAvKiBHcmFwaGVtZUJyZWFrVHlwZS5QcmVwZW5kICovKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0I5YlxuICAgIH1cbiAgICAvLyBEbyBub3QgYnJlYWsgd2l0aGluIGVtb2ppIG1vZGlmaWVyIHNlcXVlbmNlcyBvciBlbW9qaSB6d2ogc2VxdWVuY2VzLlxuICAgIC8vIEdCMTEgICAgXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY30gRXh0ZW5kKiBaV0ogw5cgXFxwe0V4dGVuZGVkX1BpY3RvZ3JhcGhpY31cbiAgICBpZiAoYnJlYWtUeXBlQSA9PT0gMTMgLyogR3JhcGhlbWVCcmVha1R5cGUuWldKICovICYmIGJyZWFrVHlwZUIgPT09IDE0IC8qIEdyYXBoZW1lQnJlYWtUeXBlLkV4dGVuZGVkX1BpY3RvZ3JhcGhpYyAqLykge1xuICAgICAgICAvLyBOb3RlOiB3ZSBhcmUgbm90IGltcGxlbWVudGluZyB0aGUgcnVsZSBlbnRpcmVseSBoZXJlIHRvIGF2b2lkIGludHJvZHVjaW5nIHN0YXRlc1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIEdCMTFcbiAgICB9XG4gICAgLy8gR0IxMiAgICAgICAgICAgICAgICAgICAgICAgICAgc290IChSSSBSSSkqIFJJIMOXIFJJXG4gICAgLy8gR0IxMyAgICAgICAgICAgICAgICAgICAgICAgIFteUkldIChSSSBSSSkqIFJJIMOXIFJJXG4gICAgaWYgKGJyZWFrVHlwZUEgPT09IDYgLyogR3JhcGhlbWVCcmVha1R5cGUuUmVnaW9uYWxfSW5kaWNhdG9yICovICYmIGJyZWFrVHlwZUIgPT09IDYgLyogR3JhcGhlbWVCcmVha1R5cGUuUmVnaW9uYWxfSW5kaWNhdG9yICovKSB7XG4gICAgICAgIC8vIE5vdGU6IHdlIGFyZSBub3QgaW1wbGVtZW50aW5nIHRoZSBydWxlIGVudGlyZWx5IGhlcmUgdG8gYXZvaWQgaW50cm9kdWNpbmcgc3RhdGVzXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gR0IxMiAmIEdCMTNcbiAgICB9XG4gICAgLy8gR0I5OTkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQW55IMO3IEFueVxuICAgIHJldHVybiB0cnVlO1xufVxuY2xhc3MgR3JhcGhlbWVCcmVha1RyZWUge1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZSgpIHtcbiAgICAgICAgaWYgKCFHcmFwaGVtZUJyZWFrVHJlZS5fSU5TVEFOQ0UpIHtcbiAgICAgICAgICAgIEdyYXBoZW1lQnJlYWtUcmVlLl9JTlNUQU5DRSA9IG5ldyBHcmFwaGVtZUJyZWFrVHJlZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBHcmFwaGVtZUJyZWFrVHJlZS5fSU5TVEFOQ0U7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9kYXRhID0gZ2V0R3JhcGhlbWVCcmVha1Jhd0RhdGEoKTtcbiAgICB9XG4gICAgZ2V0R3JhcGhlbWVCcmVha1R5cGUoY29kZVBvaW50KSB7XG4gICAgICAgIC8vICEhISBMZXQncyBtYWtlIDdiaXQgQVNDSUkgYSBiaXQgZmFzdGVyOiAwLi4zMVxuICAgICAgICBpZiAoY29kZVBvaW50IDwgMzIpIHtcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDMgLyogR3JhcGhlbWVCcmVha1R5cGUuTEYgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZVBvaW50ID09PSAxMyAvKiBDaGFyQ29kZS5DYXJyaWFnZVJldHVybiAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiAyIC8qIEdyYXBoZW1lQnJlYWtUeXBlLkNSICovO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIDQgLyogR3JhcGhlbWVCcmVha1R5cGUuQ29udHJvbCAqLztcbiAgICAgICAgfVxuICAgICAgICAvLyAhISEgTGV0J3MgbWFrZSA3Yml0IEFTQ0lJIGEgYml0IGZhc3RlcjogMzIuLjEyNlxuICAgICAgICBpZiAoY29kZVBvaW50IDwgMTI3KSB7XG4gICAgICAgICAgICByZXR1cm4gMCAvKiBHcmFwaGVtZUJyZWFrVHlwZS5PdGhlciAqLztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fZGF0YTtcbiAgICAgICAgY29uc3Qgbm9kZUNvdW50ID0gZGF0YS5sZW5ndGggLyAzO1xuICAgICAgICBsZXQgbm9kZUluZGV4ID0gMTtcbiAgICAgICAgd2hpbGUgKG5vZGVJbmRleCA8PSBub2RlQ291bnQpIHtcbiAgICAgICAgICAgIGlmIChjb2RlUG9pbnQgPCBkYXRhWzMgKiBub2RlSW5kZXhdKSB7XG4gICAgICAgICAgICAgICAgLy8gZ28gbGVmdFxuICAgICAgICAgICAgICAgIG5vZGVJbmRleCA9IDIgKiBub2RlSW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPiBkYXRhWzMgKiBub2RlSW5kZXggKyAxXSkge1xuICAgICAgICAgICAgICAgIC8vIGdvIHJpZ2h0XG4gICAgICAgICAgICAgICAgbm9kZUluZGV4ID0gMiAqIG5vZGVJbmRleCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBoaXRcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YVszICogbm9kZUluZGV4ICsgMl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAgLyogR3JhcGhlbWVCcmVha1R5cGUuT3RoZXIgKi87XG4gICAgfVxufVxuR3JhcGhlbWVCcmVha1RyZWUuX0lOU1RBTkNFID0gbnVsbDtcbmZ1bmN0aW9uIGdldEdyYXBoZW1lQnJlYWtSYXdEYXRhKCkge1xuICAgIC8vIGdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vYWxleGRpbWEvdW5pY29kZS11dGlscy9ibG9iL21haW4vZ3JhcGhlbWUtYnJlYWsuanNcbiAgICByZXR1cm4gSlNPTi5wYXJzZSgnWzAsMCwwLDUxMjI5LDUxMjU1LDEyLDQ0MDYxLDQ0MDg3LDEyLDEyNzQ2MiwxMjc0ODcsNiw3MDgzLDcwODUsNSw0NzY0NSw0NzY3MSwxMiw1NDgxMyw1NDgzOSwxMiwxMjg2NzgsMTI4Njc4LDE0LDMyNzAsMzI3MCw1LDk5MTksOTkyMywxNCw0NTg1Myw0NTg3OSwxMiw0OTQzNyw0OTQ2MywxMiw1MzAyMSw1MzA0NywxMiw3MTIxNiw3MTIxOCw3LDEyODM5OCwxMjgzOTksMTQsMTI5MzYwLDEyOTM3NCwxNCwyNTE5LDI1MTksNSw0NDQ4LDQ1MTksOSw5NzQyLDk3NDIsMTQsMTIzMzYsMTIzMzYsMTQsNDQ5NTcsNDQ5ODMsMTIsNDY3NDksNDY3NzUsMTIsNDg1NDEsNDg1NjcsMTIsNTAzMzMsNTAzNTksMTIsNTIxMjUsNTIxNTEsMTIsNTM5MTcsNTM5NDMsMTIsNjk4ODgsNjk4OTAsNSw3MzAxOCw3MzAxOCw1LDEyNzk5MCwxMjc5OTAsMTQsMTI4NTU4LDEyODU1OSwxNCwxMjg3NTksMTI4NzYwLDE0LDEyOTY1MywxMjk2NTUsMTQsMjAyNywyMDM1LDUsMjg5MSwyODkyLDcsMzc2MSwzNzYxLDUsNjY4Myw2NjgzLDUsODI5Myw4MjkzLDQsOTgyNSw5ODI2LDE0LDk5OTksOTk5OSwxNCw0MzQ1Miw0MzQ1Myw1LDQ0NTA5LDQ0NTM1LDEyLDQ1NDA1LDQ1NDMxLDEyLDQ2MzAxLDQ2MzI3LDEyLDQ3MTk3LDQ3MjIzLDEyLDQ4MDkzLDQ4MTE5LDEyLDQ4OTg5LDQ5MDE1LDEyLDQ5ODg1LDQ5OTExLDEyLDUwNzgxLDUwODA3LDEyLDUxNjc3LDUxNzAzLDEyLDUyNTczLDUyNTk5LDEyLDUzNDY5LDUzNDk1LDEyLDU0MzY1LDU0MzkxLDEyLDY1Mjc5LDY1Mjc5LDQsNzA0NzEsNzA0NzIsNyw3MjE0NSw3MjE0Nyw3LDExOTE3MywxMTkxNzksNSwxMjc3OTksMTI3ODE4LDE0LDEyODI0MCwxMjgyNDQsMTQsMTI4NTEyLDEyODUxMiwxNCwxMjg2NTIsMTI4NjUyLDE0LDEyODcyMSwxMjg3MjIsMTQsMTI5MjkyLDEyOTI5MiwxNCwxMjk0NDUsMTI5NDUwLDE0LDEyOTczNCwxMjk3NDMsMTQsMTQ3NiwxNDc3LDUsMjM2NiwyMzY4LDcsMjc1MCwyNzUyLDcsMzA3NiwzMDc2LDUsMzQxNSwzNDE1LDUsNDE0MSw0MTQ0LDUsNjEwOSw2MTA5LDUsNjk2NCw2OTY0LDUsNzM5NCw3NDAwLDUsOTE5Nyw5MTk4LDE0LDk3NzAsOTc3MCwxNCw5ODc3LDk4NzcsMTQsOTk2OCw5OTY5LDE0LDEwMDg0LDEwMDg0LDE0LDQzMDUyLDQzMDUyLDUsNDM3MTMsNDM3MTMsNSw0NDI4NSw0NDMxMSwxMiw0NDczMyw0NDc1OSwxMiw0NTE4MSw0NTIwNywxMiw0NTYyOSw0NTY1NSwxMiw0NjA3Nyw0NjEwMywxMiw0NjUyNSw0NjU1MSwxMiw0Njk3Myw0Njk5OSwxMiw0NzQyMSw0NzQ0NywxMiw0Nzg2OSw0Nzg5NSwxMiw0ODMxNyw0ODM0MywxMiw0ODc2NSw0ODc5MSwxMiw0OTIxMyw0OTIzOSwxMiw0OTY2MSw0OTY4NywxMiw1MDEwOSw1MDEzNSwxMiw1MDU1Nyw1MDU4MywxMiw1MTAwNSw1MTAzMSwxMiw1MTQ1Myw1MTQ3OSwxMiw1MTkwMSw1MTkyNywxMiw1MjM0OSw1MjM3NSwxMiw1Mjc5Nyw1MjgyMywxMiw1MzI0NSw1MzI3MSwxMiw1MzY5Myw1MzcxOSwxMiw1NDE0MSw1NDE2NywxMiw1NDU4OSw1NDYxNSwxMiw1NTAzNyw1NTA2MywxMiw2OTUwNiw2OTUwOSw1LDcwMTkxLDcwMTkzLDUsNzA4NDEsNzA4NDEsNyw3MTQ2Myw3MTQ2Nyw1LDcyMzMwLDcyMzQyLDUsOTQwMzEsOTQwMzEsNSwxMjM2MjgsMTIzNjMxLDUsMTI3NzYzLDEyNzc2NSwxNCwxMjc5NDEsMTI3OTQxLDE0LDEyODA0MywxMjgwNjIsMTQsMTI4MzAyLDEyODMxNywxNCwxMjg0NjUsMTI4NDY3LDE0LDEyODUzOSwxMjg1MzksMTQsMTI4NjQwLDEyODY0MCwxNCwxMjg2NjIsMTI4NjYyLDE0LDEyODcwMywxMjg3MDMsMTQsMTI4NzQ1LDEyODc0NSwxNCwxMjkwMDQsMTI5MDA3LDE0LDEyOTMyOSwxMjkzMzAsMTQsMTI5NDAyLDEyOTQwMiwxNCwxMjk0ODMsMTI5NDgzLDE0LDEyOTY4NiwxMjk3MDQsMTQsMTMwMDQ4LDEzMTA2OSwxNCwxNzMsMTczLDQsMTc1NywxNzU3LDEsMjIwMCwyMjA3LDUsMjQzNCwyNDM1LDcsMjYzMSwyNjMyLDUsMjgxNywyODE3LDUsMzAwOCwzMDA4LDUsMzIwMSwzMjAxLDUsMzM4NywzMzg4LDUsMzU0MiwzNTQyLDUsMzkwMiwzOTAzLDcsNDE5MCw0MTkyLDUsNjAwMiw2MDAzLDUsNjQzOSw2NDQwLDUsNjc2NSw2NzcwLDcsNzAxOSw3MDI3LDUsNzE1NCw3MTU1LDcsODIwNSw4MjA1LDEzLDg1MDUsODUwNSwxNCw5NjU0LDk2NTQsMTQsOTc1Nyw5NzU3LDE0LDk3OTIsOTc5MiwxNCw5ODUyLDk4NTMsMTQsOTg5MCw5ODk0LDE0LDk5MzcsOTkzNywxNCw5OTgxLDk5ODEsMTQsMTAwMzUsMTAwMzYsMTQsMTEwMzUsMTEwMzYsMTQsNDI2NTQsNDI2NTUsNSw0MzM0Niw0MzM0Nyw3LDQzNTg3LDQzNTg3LDUsNDQwMDYsNDQwMDcsNyw0NDE3Myw0NDE5OSwxMiw0NDM5Nyw0NDQyMywxMiw0NDYyMSw0NDY0NywxMiw0NDg0NSw0NDg3MSwxMiw0NTA2OSw0NTA5NSwxMiw0NTI5Myw0NTMxOSwxMiw0NTUxNyw0NTU0MywxMiw0NTc0MSw0NTc2NywxMiw0NTk2NSw0NTk5MSwxMiw0NjE4OSw0NjIxNSwxMiw0NjQxMyw0NjQzOSwxMiw0NjYzNyw0NjY2MywxMiw0Njg2MSw0Njg4NywxMiw0NzA4NSw0NzExMSwxMiw0NzMwOSw0NzMzNSwxMiw0NzUzMyw0NzU1OSwxMiw0Nzc1Nyw0Nzc4MywxMiw0Nzk4MSw0ODAwNywxMiw0ODIwNSw0ODIzMSwxMiw0ODQyOSw0ODQ1NSwxMiw0ODY1Myw0ODY3OSwxMiw0ODg3Nyw0ODkwMywxMiw0OTEwMSw0OTEyNywxMiw0OTMyNSw0OTM1MSwxMiw0OTU0OSw0OTU3NSwxMiw0OTc3Myw0OTc5OSwxMiw0OTk5Nyw1MDAyMywxMiw1MDIyMSw1MDI0NywxMiw1MDQ0NSw1MDQ3MSwxMiw1MDY2OSw1MDY5NSwxMiw1MDg5Myw1MDkxOSwxMiw1MTExNyw1MTE0MywxMiw1MTM0MSw1MTM2NywxMiw1MTU2NSw1MTU5MSwxMiw1MTc4OSw1MTgxNSwxMiw1MjAxMyw1MjAzOSwxMiw1MjIzNyw1MjI2MywxMiw1MjQ2MSw1MjQ4NywxMiw1MjY4NSw1MjcxMSwxMiw1MjkwOSw1MjkzNSwxMiw1MzEzMyw1MzE1OSwxMiw1MzM1Nyw1MzM4MywxMiw1MzU4MSw1MzYwNywxMiw1MzgwNSw1MzgzMSwxMiw1NDAyOSw1NDA1NSwxMiw1NDI1Myw1NDI3OSwxMiw1NDQ3Nyw1NDUwMywxMiw1NDcwMSw1NDcyNywxMiw1NDkyNSw1NDk1MSwxMiw1NTE0OSw1NTE3NSwxMiw2ODEwMSw2ODEwMiw1LDY5NzYyLDY5NzYyLDcsNzAwNjcsNzAwNjksNyw3MDM3MSw3MDM3OCw1LDcwNzIwLDcwNzIxLDcsNzEwODcsNzEwODcsNSw3MTM0MSw3MTM0MSw1LDcxOTk1LDcxOTk2LDUsNzIyNDksNzIyNDksNyw3Mjg1MCw3Mjg3MSw1LDczMTA5LDczMTA5LDUsMTE4NTc2LDExODU5OCw1LDEyMTUwNSwxMjE1MTksNSwxMjcyNDUsMTI3MjQ3LDE0LDEyNzU2OCwxMjc1NjksMTQsMTI3Nzc3LDEyNzc3NywxNCwxMjc4NzIsMTI3ODkxLDE0LDEyNzk1NiwxMjc5NjcsMTQsMTI4MDE1LDEyODAxNiwxNCwxMjgxMTAsMTI4MTcyLDE0LDEyODI1OSwxMjgyNTksMTQsMTI4MzY3LDEyODM2OCwxNCwxMjg0MjQsMTI4NDI0LDE0LDEyODQ4OCwxMjg0ODgsMTQsMTI4NTMwLDEyODUzMiwxNCwxMjg1NTAsMTI4NTUxLDE0LDEyODU2NiwxMjg1NjYsMTQsMTI4NjQ3LDEyODY0NywxNCwxMjg2NTYsMTI4NjU2LDE0LDEyODY2NywxMjg2NzMsMTQsMTI4NjkxLDEyODY5MywxNCwxMjg3MTUsMTI4NzE1LDE0LDEyODcyOCwxMjg3MzIsMTQsMTI4NzUyLDEyODc1MiwxNCwxMjg3NjUsMTI4NzY3LDE0LDEyOTA5NiwxMjkxMDMsMTQsMTI5MzExLDEyOTMxMSwxNCwxMjkzNDQsMTI5MzQ5LDE0LDEyOTM5NCwxMjkzOTQsMTQsMTI5NDEzLDEyOTQyNSwxNCwxMjk0NjYsMTI5NDcxLDE0LDEyOTUxMSwxMjk1MzUsMTQsMTI5NjY0LDEyOTY2NiwxNCwxMjk3MTksMTI5NzIyLDE0LDEyOTc2MCwxMjk3NjcsMTQsOTE3NTM2LDkxNzYzMSw1LDEzLDEzLDIsMTE2MCwxMTYxLDUsMTU2NCwxNTY0LDQsMTgwNywxODA3LDEsMjA4NSwyMDg3LDUsMjMwNywyMzA3LDcsMjM4MiwyMzgzLDcsMjQ5NywyNTAwLDUsMjU2MywyNTYzLDcsMjY3NywyNjc3LDUsMjc2MywyNzY0LDcsMjg3OSwyODc5LDUsMjkxNCwyOTE1LDUsMzAyMSwzMDIxLDUsMzE0MiwzMTQ0LDUsMzI2MywzMjYzLDUsMzI4NSwzMjg2LDUsMzM5OCwzNDAwLDcsMzUzMCwzNTMwLDUsMzYzMywzNjMzLDUsMzg2NCwzODY1LDUsMzk3NCwzOTc1LDUsNDE1NSw0MTU2LDcsNDIyOSw0MjMwLDUsNTkwOSw1OTA5LDcsNjA3OCw2MDg1LDcsNjI3Nyw2Mjc4LDUsNjQ1MSw2NDU2LDcsNjc0NCw2NzUwLDUsNjg0Niw2ODQ2LDUsNjk3Miw2OTcyLDUsNzA3NCw3MDc3LDUsNzE0Niw3MTQ4LDcsNzIyMiw3MjIzLDUsNzQxNiw3NDE3LDUsODIzNCw4MjM4LDQsODQxNyw4NDE3LDUsOTAwMCw5MDAwLDE0LDkyMDMsOTIwMywxNCw5NzMwLDk3MzEsMTQsOTc0OCw5NzQ5LDE0LDk3NjIsOTc2MywxNCw5Nzc2LDk3ODMsMTQsOTgwMCw5ODExLDE0LDk4MzEsOTgzMSwxNCw5ODcyLDk4NzMsMTQsOTg4Miw5ODgyLDE0LDk5MDAsOTkwMywxNCw5OTI5LDk5MzMsMTQsOTk0MSw5OTYwLDE0LDk5NzQsOTk3NCwxNCw5OTg5LDk5ODksMTQsMTAwMDYsMTAwMDYsMTQsMTAwNjIsMTAwNjIsMTQsMTAxNjAsMTAxNjAsMTQsMTE2NDcsMTE2NDcsNSwxMjk1MywxMjk1MywxNCw0MzAxOSw0MzAxOSw1LDQzMjMyLDQzMjQ5LDUsNDM0NDMsNDM0NDMsNSw0MzU2Nyw0MzU2OCw3LDQzNjk2LDQzNjk2LDUsNDM3NjUsNDM3NjUsNyw0NDAxMyw0NDAxMyw1LDQ0MTE3LDQ0MTQzLDEyLDQ0MjI5LDQ0MjU1LDEyLDQ0MzQxLDQ0MzY3LDEyLDQ0NDUzLDQ0NDc5LDEyLDQ0NTY1LDQ0NTkxLDEyLDQ0Njc3LDQ0NzAzLDEyLDQ0Nzg5LDQ0ODE1LDEyLDQ0OTAxLDQ0OTI3LDEyLDQ1MDEzLDQ1MDM5LDEyLDQ1MTI1LDQ1MTUxLDEyLDQ1MjM3LDQ1MjYzLDEyLDQ1MzQ5LDQ1Mzc1LDEyLDQ1NDYxLDQ1NDg3LDEyLDQ1NTczLDQ1NTk5LDEyLDQ1Njg1LDQ1NzExLDEyLDQ1Nzk3LDQ1ODIzLDEyLDQ1OTA5LDQ1OTM1LDEyLDQ2MDIxLDQ2MDQ3LDEyLDQ2MTMzLDQ2MTU5LDEyLDQ2MjQ1LDQ2MjcxLDEyLDQ2MzU3LDQ2MzgzLDEyLDQ2NDY5LDQ2NDk1LDEyLDQ2NTgxLDQ2NjA3LDEyLDQ2NjkzLDQ2NzE5LDEyLDQ2ODA1LDQ2ODMxLDEyLDQ2OTE3LDQ2OTQzLDEyLDQ3MDI5LDQ3MDU1LDEyLDQ3MTQxLDQ3MTY3LDEyLDQ3MjUzLDQ3Mjc5LDEyLDQ3MzY1LDQ3MzkxLDEyLDQ3NDc3LDQ3NTAzLDEyLDQ3NTg5LDQ3NjE1LDEyLDQ3NzAxLDQ3NzI3LDEyLDQ3ODEzLDQ3ODM5LDEyLDQ3OTI1LDQ3OTUxLDEyLDQ4MDM3LDQ4MDYzLDEyLDQ4MTQ5LDQ4MTc1LDEyLDQ4MjYxLDQ4Mjg3LDEyLDQ4MzczLDQ4Mzk5LDEyLDQ4NDg1LDQ4NTExLDEyLDQ4NTk3LDQ4NjIzLDEyLDQ4NzA5LDQ4NzM1LDEyLDQ4ODIxLDQ4ODQ3LDEyLDQ4OTMzLDQ4OTU5LDEyLDQ5MDQ1LDQ5MDcxLDEyLDQ5MTU3LDQ5MTgzLDEyLDQ5MjY5LDQ5Mjk1LDEyLDQ5MzgxLDQ5NDA3LDEyLDQ5NDkzLDQ5NTE5LDEyLDQ5NjA1LDQ5NjMxLDEyLDQ5NzE3LDQ5NzQzLDEyLDQ5ODI5LDQ5ODU1LDEyLDQ5OTQxLDQ5OTY3LDEyLDUwMDUzLDUwMDc5LDEyLDUwMTY1LDUwMTkxLDEyLDUwMjc3LDUwMzAzLDEyLDUwMzg5LDUwNDE1LDEyLDUwNTAxLDUwNTI3LDEyLDUwNjEzLDUwNjM5LDEyLDUwNzI1LDUwNzUxLDEyLDUwODM3LDUwODYzLDEyLDUwOTQ5LDUwOTc1LDEyLDUxMDYxLDUxMDg3LDEyLDUxMTczLDUxMTk5LDEyLDUxMjg1LDUxMzExLDEyLDUxMzk3LDUxNDIzLDEyLDUxNTA5LDUxNTM1LDEyLDUxNjIxLDUxNjQ3LDEyLDUxNzMzLDUxNzU5LDEyLDUxODQ1LDUxODcxLDEyLDUxOTU3LDUxOTgzLDEyLDUyMDY5LDUyMDk1LDEyLDUyMTgxLDUyMjA3LDEyLDUyMjkzLDUyMzE5LDEyLDUyNDA1LDUyNDMxLDEyLDUyNTE3LDUyNTQzLDEyLDUyNjI5LDUyNjU1LDEyLDUyNzQxLDUyNzY3LDEyLDUyODUzLDUyODc5LDEyLDUyOTY1LDUyOTkxLDEyLDUzMDc3LDUzMTAzLDEyLDUzMTg5LDUzMjE1LDEyLDUzMzAxLDUzMzI3LDEyLDUzNDEzLDUzNDM5LDEyLDUzNTI1LDUzNTUxLDEyLDUzNjM3LDUzNjYzLDEyLDUzNzQ5LDUzNzc1LDEyLDUzODYxLDUzODg3LDEyLDUzOTczLDUzOTk5LDEyLDU0MDg1LDU0MTExLDEyLDU0MTk3LDU0MjIzLDEyLDU0MzA5LDU0MzM1LDEyLDU0NDIxLDU0NDQ3LDEyLDU0NTMzLDU0NTU5LDEyLDU0NjQ1LDU0NjcxLDEyLDU0NzU3LDU0NzgzLDEyLDU0ODY5LDU0ODk1LDEyLDU0OTgxLDU1MDA3LDEyLDU1MDkzLDU1MTE5LDEyLDU1MjQzLDU1MjkxLDEwLDY2MDQ1LDY2MDQ1LDUsNjgzMjUsNjgzMjYsNSw2OTY4OCw2OTcwMiw1LDY5ODE3LDY5ODE4LDUsNjk5NTcsNjk5NTgsNyw3MDA4OSw3MDA5Miw1LDcwMTk4LDcwMTk5LDUsNzA0NjIsNzA0NjIsNSw3MDUwMiw3MDUwOCw1LDcwNzUwLDcwNzUwLDUsNzA4NDYsNzA4NDYsNyw3MTEwMCw3MTEwMSw1LDcxMjMwLDcxMjMwLDcsNzEzNTEsNzEzNTEsNSw3MTczNyw3MTczOCw1LDcyMDAwLDcyMDAwLDcsNzIxNjAsNzIxNjAsNSw3MjI3Myw3MjI3OCw1LDcyNzUyLDcyNzU4LDUsNzI4ODIsNzI4ODMsNSw3MzAzMSw3MzAzMSw1LDczNDYxLDczNDYyLDcsOTQxOTIsOTQxOTMsNywxMTkxNDksMTE5MTQ5LDcsMTIxNDAzLDEyMTQ1Miw1LDEyMjkxNSwxMjI5MTYsNSwxMjY5ODAsMTI2OTgwLDE0LDEyNzM1OCwxMjczNTksMTQsMTI3NTM1LDEyNzUzNSwxNCwxMjc3NTksMTI3NzU5LDE0LDEyNzc3MSwxMjc3NzEsMTQsMTI3NzkyLDEyNzc5MywxNCwxMjc4MjUsMTI3ODY3LDE0LDEyNzg5NywxMjc4OTksMTQsMTI3OTQ1LDEyNzk0NSwxNCwxMjc5ODUsMTI3OTg2LDE0LDEyODAwMCwxMjgwMDcsMTQsMTI4MDIxLDEyODAyMSwxNCwxMjgwNjYsMTI4MTAwLDE0LDEyODE4NCwxMjgyMzUsMTQsMTI4MjQ5LDEyODI1MiwxNCwxMjgyNjYsMTI4Mjc2LDE0LDEyODMzNSwxMjgzMzUsMTQsMTI4Mzc5LDEyODM5MCwxNCwxMjg0MDcsMTI4NDE5LDE0LDEyODQ0NCwxMjg0NDQsMTQsMTI4NDgxLDEyODQ4MSwxNCwxMjg0OTksMTI4NDk5LDE0LDEyODUyNiwxMjg1MjYsMTQsMTI4NTM2LDEyODUzNiwxNCwxMjg1NDMsMTI4NTQzLDE0LDEyODU1NiwxMjg1NTYsMTQsMTI4NTY0LDEyODU2NCwxNCwxMjg1NzcsMTI4NTgwLDE0LDEyODY0MywxMjg2NDUsMTQsMTI4NjQ5LDEyODY0OSwxNCwxMjg2NTQsMTI4NjU0LDE0LDEyODY2MCwxMjg2NjAsMTQsMTI4NjY0LDEyODY2NCwxNCwxMjg2NzUsMTI4Njc1LDE0LDEyODY4NiwxMjg2ODksMTQsMTI4Njk1LDEyODY5NiwxNCwxMjg3MDUsMTI4NzA5LDE0LDEyODcxNywxMjg3MTksMTQsMTI4NzI1LDEyODcyNSwxNCwxMjg3MzYsMTI4NzQxLDE0LDEyODc0NywxMjg3NDgsMTQsMTI4NzU1LDEyODc1NSwxNCwxMjg3NjIsMTI4NzYyLDE0LDEyODk4MSwxMjg5OTEsMTQsMTI5MDA5LDEyOTAyMywxNCwxMjkxNjAsMTI5MTY3LDE0LDEyOTI5NiwxMjkzMDQsMTQsMTI5MzIwLDEyOTMyNywxNCwxMjkzNDAsMTI5MzQyLDE0LDEyOTM1NiwxMjkzNTYsMTQsMTI5Mzg4LDEyOTM5MiwxNCwxMjkzOTksMTI5NDAwLDE0LDEyOTQwNCwxMjk0MDcsMTQsMTI5NDMyLDEyOTQ0MiwxNCwxMjk0NTQsMTI5NDU1LDE0LDEyOTQ3MywxMjk0NzQsMTQsMTI5NDg1LDEyOTQ4NywxNCwxMjk2NDgsMTI5NjUxLDE0LDEyOTY1OSwxMjk2NjAsMTQsMTI5NjcxLDEyOTY3OSwxNCwxMjk3MDksMTI5NzExLDE0LDEyOTcyOCwxMjk3MzAsMTQsMTI5NzUxLDEyOTc1MywxNCwxMjk3NzYsMTI5NzgyLDE0LDkxNzUwNSw5MTc1MDUsNCw5MTc3NjAsOTE3OTk5LDUsMTAsMTAsMywxMjcsMTU5LDQsNzY4LDg3OSw1LDE0NzEsMTQ3MSw1LDE1MzYsMTU0MSwxLDE2NDgsMTY0OCw1LDE3NjcsMTc2OCw1LDE4NDAsMTg2Niw1LDIwNzAsMjA3Myw1LDIxMzcsMjEzOSw1LDIyNzQsMjI3NCwxLDIzNjMsMjM2Myw3LDIzNzcsMjM4MCw3LDI0MDIsMjQwMyw1LDI0OTQsMjQ5NCw1LDI1MDcsMjUwOCw3LDI1NTgsMjU1OCw1LDI2MjIsMjYyNCw3LDI2NDEsMjY0MSw1LDI2OTEsMjY5MSw3LDI3NTksMjc2MCw1LDI3ODYsMjc4Nyw1LDI4NzYsMjg3Niw1LDI4ODEsMjg4NCw1LDI5MDEsMjkwMiw1LDMwMDYsMzAwNiw1LDMwMTQsMzAxNiw3LDMwNzIsMzA3Miw1LDMxMzQsMzEzNiw1LDMxNTcsMzE1OCw1LDMyNjAsMzI2MCw1LDMyNjYsMzI2Niw1LDMyNzQsMzI3NSw3LDMzMjgsMzMyOSw1LDMzOTEsMzM5Miw3LDM0MDUsMzQwNSw1LDM0NTcsMzQ1Nyw1LDM1MzYsMzUzNyw3LDM1NTEsMzU1MSw1LDM2MzYsMzY0Miw1LDM3NjQsMzc3Miw1LDM4OTUsMzg5NSw1LDM5NjcsMzk2Nyw3LDM5OTMsNDAyOCw1LDQxNDYsNDE1MSw1LDQxODIsNDE4Myw3LDQyMjYsNDIyNiw1LDQyNTMsNDI1Myw1LDQ5NTcsNDk1OSw1LDU5NDAsNTk0MCw3LDYwNzAsNjA3MCw3LDYwODcsNjA4OCw3LDYxNTgsNjE1OCw0LDY0MzIsNjQzNCw1LDY0NDgsNjQ0OSw3LDY2NzksNjY4MCw1LDY3NDIsNjc0Miw1LDY3NTQsNjc1NCw1LDY3ODMsNjc4Myw1LDY5MTIsNjkxNSw1LDY5NjYsNjk3MCw1LDY5NzgsNjk3OCw1LDcwNDIsNzA0Miw3LDcwODAsNzA4MSw1LDcxNDMsNzE0Myw3LDcxNTAsNzE1MCw3LDcyMTIsNzIxOSw1LDczODAsNzM5Miw1LDc0MTIsNzQxMiw1LDgyMDMsODIwMyw0LDgyMzIsODIzMiw0LDgyNjUsODI2NSwxNCw4NDAwLDg0MTIsNSw4NDIxLDg0MzIsNSw4NjE3LDg2MTgsMTQsOTE2Nyw5MTY3LDE0LDkyMDAsOTIwMCwxNCw5NDEwLDk0MTAsMTQsOTcyMyw5NzI2LDE0LDk3MzMsOTczMywxNCw5NzQ1LDk3NDUsMTQsOTc1Miw5NzUyLDE0LDk3NjAsOTc2MCwxNCw5NzY2LDk3NjYsMTQsOTc3NCw5Nzc0LDE0LDk3ODYsOTc4NiwxNCw5Nzk0LDk3OTQsMTQsOTgyMyw5ODIzLDE0LDk4MjgsOTgyOCwxNCw5ODMzLDk4NTAsMTQsOTg1NSw5ODU1LDE0LDk4NzUsOTg3NSwxNCw5ODgwLDk4ODAsMTQsOTg4NSw5ODg3LDE0LDk4OTYsOTg5NywxNCw5OTA2LDk5MTYsMTQsOTkyNiw5OTI3LDE0LDk5MzUsOTkzNSwxNCw5OTM5LDk5MzksMTQsOTk2Miw5OTYyLDE0LDk5NzIsOTk3MiwxNCw5OTc4LDk5NzgsMTQsOTk4Niw5OTg2LDE0LDk5OTcsOTk5NywxNCwxMDAwMiwxMDAwMiwxNCwxMDAxNywxMDAxNywxNCwxMDA1NSwxMDA1NSwxNCwxMDA3MSwxMDA3MSwxNCwxMDEzMywxMDEzNSwxNCwxMDU0OCwxMDU0OSwxNCwxMTA5MywxMTA5MywxNCwxMjMzMCwxMjMzMyw1LDEyNDQxLDEyNDQyLDUsNDI2MDgsNDI2MTAsNSw0MzAxMCw0MzAxMCw1LDQzMDQ1LDQzMDQ2LDUsNDMxODgsNDMyMDMsNyw0MzMwMiw0MzMwOSw1LDQzMzkyLDQzMzk0LDUsNDM0NDYsNDM0NDksNSw0MzQ5Myw0MzQ5Myw1LDQzNTcxLDQzNTcyLDcsNDM1OTcsNDM1OTcsNyw0MzcwMyw0MzcwNCw1LDQzNzU2LDQzNzU3LDUsNDQwMDMsNDQwMDQsNyw0NDAwOSw0NDAxMCw3LDQ0MDMzLDQ0MDU5LDEyLDQ0MDg5LDQ0MTE1LDEyLDQ0MTQ1LDQ0MTcxLDEyLDQ0MjAxLDQ0MjI3LDEyLDQ0MjU3LDQ0MjgzLDEyLDQ0MzEzLDQ0MzM5LDEyLDQ0MzY5LDQ0Mzk1LDEyLDQ0NDI1LDQ0NDUxLDEyLDQ0NDgxLDQ0NTA3LDEyLDQ0NTM3LDQ0NTYzLDEyLDQ0NTkzLDQ0NjE5LDEyLDQ0NjQ5LDQ0Njc1LDEyLDQ0NzA1LDQ0NzMxLDEyLDQ0NzYxLDQ0Nzg3LDEyLDQ0ODE3LDQ0ODQzLDEyLDQ0ODczLDQ0ODk5LDEyLDQ0OTI5LDQ0OTU1LDEyLDQ0OTg1LDQ1MDExLDEyLDQ1MDQxLDQ1MDY3LDEyLDQ1MDk3LDQ1MTIzLDEyLDQ1MTUzLDQ1MTc5LDEyLDQ1MjA5LDQ1MjM1LDEyLDQ1MjY1LDQ1MjkxLDEyLDQ1MzIxLDQ1MzQ3LDEyLDQ1Mzc3LDQ1NDAzLDEyLDQ1NDMzLDQ1NDU5LDEyLDQ1NDg5LDQ1NTE1LDEyLDQ1NTQ1LDQ1NTcxLDEyLDQ1NjAxLDQ1NjI3LDEyLDQ1NjU3LDQ1NjgzLDEyLDQ1NzEzLDQ1NzM5LDEyLDQ1NzY5LDQ1Nzk1LDEyLDQ1ODI1LDQ1ODUxLDEyLDQ1ODgxLDQ1OTA3LDEyLDQ1OTM3LDQ1OTYzLDEyLDQ1OTkzLDQ2MDE5LDEyLDQ2MDQ5LDQ2MDc1LDEyLDQ2MTA1LDQ2MTMxLDEyLDQ2MTYxLDQ2MTg3LDEyLDQ2MjE3LDQ2MjQzLDEyLDQ2MjczLDQ2Mjk5LDEyLDQ2MzI5LDQ2MzU1LDEyLDQ2Mzg1LDQ2NDExLDEyLDQ2NDQxLDQ2NDY3LDEyLDQ2NDk3LDQ2NTIzLDEyLDQ2NTUzLDQ2NTc5LDEyLDQ2NjA5LDQ2NjM1LDEyLDQ2NjY1LDQ2NjkxLDEyLDQ2NzIxLDQ2NzQ3LDEyLDQ2Nzc3LDQ2ODAzLDEyLDQ2ODMzLDQ2ODU5LDEyLDQ2ODg5LDQ2OTE1LDEyLDQ2OTQ1LDQ2OTcxLDEyLDQ3MDAxLDQ3MDI3LDEyLDQ3MDU3LDQ3MDgzLDEyLDQ3MTEzLDQ3MTM5LDEyLDQ3MTY5LDQ3MTk1LDEyLDQ3MjI1LDQ3MjUxLDEyLDQ3MjgxLDQ3MzA3LDEyLDQ3MzM3LDQ3MzYzLDEyLDQ3MzkzLDQ3NDE5LDEyLDQ3NDQ5LDQ3NDc1LDEyLDQ3NTA1LDQ3NTMxLDEyLDQ3NTYxLDQ3NTg3LDEyLDQ3NjE3LDQ3NjQzLDEyLDQ3NjczLDQ3Njk5LDEyLDQ3NzI5LDQ3NzU1LDEyLDQ3Nzg1LDQ3ODExLDEyLDQ3ODQxLDQ3ODY3LDEyLDQ3ODk3LDQ3OTIzLDEyLDQ3OTUzLDQ3OTc5LDEyLDQ4MDA5LDQ4MDM1LDEyLDQ4MDY1LDQ4MDkxLDEyLDQ4MTIxLDQ4MTQ3LDEyLDQ4MTc3LDQ4MjAzLDEyLDQ4MjMzLDQ4MjU5LDEyLDQ4Mjg5LDQ4MzE1LDEyLDQ4MzQ1LDQ4MzcxLDEyLDQ4NDAxLDQ4NDI3LDEyLDQ4NDU3LDQ4NDgzLDEyLDQ4NTEzLDQ4NTM5LDEyLDQ4NTY5LDQ4NTk1LDEyLDQ4NjI1LDQ4NjUxLDEyLDQ4NjgxLDQ4NzA3LDEyLDQ4NzM3LDQ4NzYzLDEyLDQ4NzkzLDQ4ODE5LDEyLDQ4ODQ5LDQ4ODc1LDEyLDQ4OTA1LDQ4OTMxLDEyLDQ4OTYxLDQ4OTg3LDEyLDQ5MDE3LDQ5MDQzLDEyLDQ5MDczLDQ5MDk5LDEyLDQ5MTI5LDQ5MTU1LDEyLDQ5MTg1LDQ5MjExLDEyLDQ5MjQxLDQ5MjY3LDEyLDQ5Mjk3LDQ5MzIzLDEyLDQ5MzUzLDQ5Mzc5LDEyLDQ5NDA5LDQ5NDM1LDEyLDQ5NDY1LDQ5NDkxLDEyLDQ5NTIxLDQ5NTQ3LDEyLDQ5NTc3LDQ5NjAzLDEyLDQ5NjMzLDQ5NjU5LDEyLDQ5Njg5LDQ5NzE1LDEyLDQ5NzQ1LDQ5NzcxLDEyLDQ5ODAxLDQ5ODI3LDEyLDQ5ODU3LDQ5ODgzLDEyLDQ5OTEzLDQ5OTM5LDEyLDQ5OTY5LDQ5OTk1LDEyLDUwMDI1LDUwMDUxLDEyLDUwMDgxLDUwMTA3LDEyLDUwMTM3LDUwMTYzLDEyLDUwMTkzLDUwMjE5LDEyLDUwMjQ5LDUwMjc1LDEyLDUwMzA1LDUwMzMxLDEyLDUwMzYxLDUwMzg3LDEyLDUwNDE3LDUwNDQzLDEyLDUwNDczLDUwNDk5LDEyLDUwNTI5LDUwNTU1LDEyLDUwNTg1LDUwNjExLDEyLDUwNjQxLDUwNjY3LDEyLDUwNjk3LDUwNzIzLDEyLDUwNzUzLDUwNzc5LDEyLDUwODA5LDUwODM1LDEyLDUwODY1LDUwODkxLDEyLDUwOTIxLDUwOTQ3LDEyLDUwOTc3LDUxMDAzLDEyLDUxMDMzLDUxMDU5LDEyLDUxMDg5LDUxMTE1LDEyLDUxMTQ1LDUxMTcxLDEyLDUxMjAxLDUxMjI3LDEyLDUxMjU3LDUxMjgzLDEyLDUxMzEzLDUxMzM5LDEyLDUxMzY5LDUxMzk1LDEyLDUxNDI1LDUxNDUxLDEyLDUxNDgxLDUxNTA3LDEyLDUxNTM3LDUxNTYzLDEyLDUxNTkzLDUxNjE5LDEyLDUxNjQ5LDUxNjc1LDEyLDUxNzA1LDUxNzMxLDEyLDUxNzYxLDUxNzg3LDEyLDUxODE3LDUxODQzLDEyLDUxODczLDUxODk5LDEyLDUxOTI5LDUxOTU1LDEyLDUxOTg1LDUyMDExLDEyLDUyMDQxLDUyMDY3LDEyLDUyMDk3LDUyMTIzLDEyLDUyMTUzLDUyMTc5LDEyLDUyMjA5LDUyMjM1LDEyLDUyMjY1LDUyMjkxLDEyLDUyMzIxLDUyMzQ3LDEyLDUyMzc3LDUyNDAzLDEyLDUyNDMzLDUyNDU5LDEyLDUyNDg5LDUyNTE1LDEyLDUyNTQ1LDUyNTcxLDEyLDUyNjAxLDUyNjI3LDEyLDUyNjU3LDUyNjgzLDEyLDUyNzEzLDUyNzM5LDEyLDUyNzY5LDUyNzk1LDEyLDUyODI1LDUyODUxLDEyLDUyODgxLDUyOTA3LDEyLDUyOTM3LDUyOTYzLDEyLDUyOTkzLDUzMDE5LDEyLDUzMDQ5LDUzMDc1LDEyLDUzMTA1LDUzMTMxLDEyLDUzMTYxLDUzMTg3LDEyLDUzMjE3LDUzMjQzLDEyLDUzMjczLDUzMjk5LDEyLDUzMzI5LDUzMzU1LDEyLDUzMzg1LDUzNDExLDEyLDUzNDQxLDUzNDY3LDEyLDUzNDk3LDUzNTIzLDEyLDUzNTUzLDUzNTc5LDEyLDUzNjA5LDUzNjM1LDEyLDUzNjY1LDUzNjkxLDEyLDUzNzIxLDUzNzQ3LDEyLDUzNzc3LDUzODAzLDEyLDUzODMzLDUzODU5LDEyLDUzODg5LDUzOTE1LDEyLDUzOTQ1LDUzOTcxLDEyLDU0MDAxLDU0MDI3LDEyLDU0MDU3LDU0MDgzLDEyLDU0MTEzLDU0MTM5LDEyLDU0MTY5LDU0MTk1LDEyLDU0MjI1LDU0MjUxLDEyLDU0MjgxLDU0MzA3LDEyLDU0MzM3LDU0MzYzLDEyLDU0MzkzLDU0NDE5LDEyLDU0NDQ5LDU0NDc1LDEyLDU0NTA1LDU0NTMxLDEyLDU0NTYxLDU0NTg3LDEyLDU0NjE3LDU0NjQzLDEyLDU0NjczLDU0Njk5LDEyLDU0NzI5LDU0NzU1LDEyLDU0Nzg1LDU0ODExLDEyLDU0ODQxLDU0ODY3LDEyLDU0ODk3LDU0OTIzLDEyLDU0OTUzLDU0OTc5LDEyLDU1MDA5LDU1MDM1LDEyLDU1MDY1LDU1MDkxLDEyLDU1MTIxLDU1MTQ3LDEyLDU1MTc3LDU1MjAzLDEyLDY1MDI0LDY1MDM5LDUsNjU1MjAsNjU1MjgsNCw2NjQyMiw2NjQyNiw1LDY4MTUyLDY4MTU0LDUsNjkyOTEsNjkyOTIsNSw2OTYzMyw2OTYzMyw1LDY5NzQ3LDY5NzQ4LDUsNjk4MTEsNjk4MTQsNSw2OTgyNiw2OTgyNiw1LDY5OTMyLDY5OTMyLDcsNzAwMTYsNzAwMTcsNSw3MDA3OSw3MDA4MCw3LDcwMDk1LDcwMDk1LDUsNzAxOTYsNzAxOTYsNSw3MDM2Nyw3MDM2Nyw1LDcwNDAyLDcwNDAzLDcsNzA0NjQsNzA0NjQsNSw3MDQ4Nyw3MDQ4Nyw1LDcwNzA5LDcwNzExLDcsNzA3MjUsNzA3MjUsNyw3MDgzMyw3MDgzNCw3LDcwODQzLDcwODQ0LDcsNzA4NDksNzA4NDksNyw3MTA5MCw3MTA5Myw1LDcxMTAzLDcxMTA0LDUsNzEyMjcsNzEyMjgsNyw3MTMzOSw3MTMzOSw1LDcxMzQ0LDcxMzQ5LDUsNzE0NTgsNzE0NjEsNSw3MTcyNyw3MTczNSw1LDcxOTg1LDcxOTg5LDcsNzE5OTgsNzE5OTgsNSw3MjAwMiw3MjAwMiw3LDcyMTU0LDcyMTU1LDUsNzIxOTMsNzIyMDIsNSw3MjI1MSw3MjI1NCw1LDcyMjgxLDcyMjgzLDUsNzIzNDQsNzIzNDUsNSw3Mjc2Niw3Mjc2Niw3LDcyODc0LDcyODgwLDUsNzI4ODUsNzI4ODYsNSw3MzAyMyw3MzAyOSw1LDczMTA0LDczMTA1LDUsNzMxMTEsNzMxMTEsNSw5MjkxMiw5MjkxNiw1LDk0MDk1LDk0MDk4LDUsMTEzODI0LDExMzgyNyw0LDExOTE0MiwxMTkxNDIsNywxMTkxNTUsMTE5MTYyLDQsMTE5MzYyLDExOTM2NCw1LDEyMTQ3NiwxMjE0NzYsNSwxMjI4ODgsMTIyOTA0LDUsMTIzMTg0LDEyMzE5MCw1LDEyNTI1MiwxMjUyNTgsNSwxMjcxODMsMTI3MTgzLDE0LDEyNzM0MCwxMjczNDMsMTQsMTI3Mzc3LDEyNzM4NiwxNCwxMjc0OTEsMTI3NTAzLDE0LDEyNzU0OCwxMjc1NTEsMTQsMTI3NzQ0LDEyNzc1NiwxNCwxMjc3NjEsMTI3NzYxLDE0LDEyNzc2OSwxMjc3NjksMTQsMTI3NzczLDEyNzc3NCwxNCwxMjc3ODAsMTI3Nzg4LDE0LDEyNzc5NiwxMjc3OTcsMTQsMTI3ODIwLDEyNzgyMywxNCwxMjc4NjksMTI3ODY5LDE0LDEyNzg5NCwxMjc4OTUsMTQsMTI3OTAyLDEyNzkwMywxNCwxMjc5NDMsMTI3OTQzLDE0LDEyNzk0NywxMjc5NTAsMTQsMTI3OTcyLDEyNzk3MiwxNCwxMjc5ODgsMTI3OTg4LDE0LDEyNzk5MiwxMjc5OTQsMTQsMTI4MDA5LDEyODAxMSwxNCwxMjgwMTksMTI4MDE5LDE0LDEyODAyMywxMjgwNDEsMTQsMTI4MDY0LDEyODA2NCwxNCwxMjgxMDIsMTI4MTA3LDE0LDEyODE3NCwxMjgxODEsMTQsMTI4MjM4LDEyODIzOCwxNCwxMjgyNDYsMTI4MjQ3LDE0LDEyODI1NCwxMjgyNTQsMTQsMTI4MjY0LDEyODI2NCwxNCwxMjgyNzgsMTI4Mjk5LDE0LDEyODMyOSwxMjgzMzAsMTQsMTI4MzQ4LDEyODM1OSwxNCwxMjgzNzEsMTI4Mzc3LDE0LDEyODM5MiwxMjgzOTMsMTQsMTI4NDAxLDEyODQwNCwxNCwxMjg0MjEsMTI4NDIxLDE0LDEyODQzMywxMjg0MzQsMTQsMTI4NDUwLDEyODQ1MiwxNCwxMjg0NzYsMTI4NDc4LDE0LDEyODQ4MywxMjg0ODMsMTQsMTI4NDk1LDEyODQ5NSwxNCwxMjg1MDYsMTI4NTA2LDE0LDEyODUxOSwxMjg1MjAsMTQsMTI4NTI4LDEyODUyOCwxNCwxMjg1MzQsMTI4NTM0LDE0LDEyODUzOCwxMjg1MzgsMTQsMTI4NTQwLDEyODU0MiwxNCwxMjg1NDQsMTI4NTQ5LDE0LDEyODU1MiwxMjg1NTUsMTQsMTI4NTU3LDEyODU1NywxNCwxMjg1NjAsMTI4NTYzLDE0LDEyODU2NSwxMjg1NjUsMTQsMTI4NTY3LDEyODU3NiwxNCwxMjg1ODEsMTI4NTkxLDE0LDEyODY0MSwxMjg2NDIsMTQsMTI4NjQ2LDEyODY0NiwxNCwxMjg2NDgsMTI4NjQ4LDE0LDEyODY1MCwxMjg2NTEsMTQsMTI4NjUzLDEyODY1MywxNCwxMjg2NTUsMTI4NjU1LDE0LDEyODY1NywxMjg2NTksMTQsMTI4NjYxLDEyODY2MSwxNCwxMjg2NjMsMTI4NjYzLDE0LDEyODY2NSwxMjg2NjYsMTQsMTI4Njc0LDEyODY3NCwxNCwxMjg2NzYsMTI4Njc3LDE0LDEyODY3OSwxMjg2ODUsMTQsMTI4NjkwLDEyODY5MCwxNCwxMjg2OTQsMTI4Njk0LDE0LDEyODY5NywxMjg3MDIsMTQsMTI4NzA0LDEyODcwNCwxNCwxMjg3MTAsMTI4NzE0LDE0LDEyODcxNiwxMjg3MTYsMTQsMTI4NzIwLDEyODcyMCwxNCwxMjg3MjMsMTI4NzI0LDE0LDEyODcyNiwxMjg3MjcsMTQsMTI4NzMzLDEyODczNSwxNCwxMjg3NDIsMTI4NzQ0LDE0LDEyODc0NiwxMjg3NDYsMTQsMTI4NzQ5LDEyODc1MSwxNCwxMjg3NTMsMTI4NzU0LDE0LDEyODc1NiwxMjg3NTgsMTQsMTI4NzYxLDEyODc2MSwxNCwxMjg3NjMsMTI4NzY0LDE0LDEyODg4NCwxMjg4OTUsMTQsMTI4OTkyLDEyOTAwMywxNCwxMjkwMDgsMTI5MDA4LDE0LDEyOTAzNiwxMjkwMzksMTQsMTI5MTE0LDEyOTExOSwxNCwxMjkxOTgsMTI5Mjc5LDE0LDEyOTI5MywxMjkyOTUsMTQsMTI5MzA1LDEyOTMxMCwxNCwxMjkzMTIsMTI5MzE5LDE0LDEyOTMyOCwxMjkzMjgsMTQsMTI5MzMxLDEyOTMzOCwxNCwxMjkzNDMsMTI5MzQzLDE0LDEyOTM1MSwxMjkzNTUsMTQsMTI5MzU3LDEyOTM1OSwxNCwxMjkzNzUsMTI5Mzg3LDE0LDEyOTM5MywxMjkzOTMsMTQsMTI5Mzk1LDEyOTM5OCwxNCwxMjk0MDEsMTI5NDAxLDE0LDEyOTQwMywxMjk0MDMsMTQsMTI5NDA4LDEyOTQxMiwxNCwxMjk0MjYsMTI5NDMxLDE0LDEyOTQ0MywxMjk0NDQsMTQsMTI5NDUxLDEyOTQ1MywxNCwxMjk0NTYsMTI5NDY1LDE0LDEyOTQ3MiwxMjk0NzIsMTQsMTI5NDc1LDEyOTQ4MiwxNCwxMjk0ODQsMTI5NDg0LDE0LDEyOTQ4OCwxMjk1MTAsMTQsMTI5NTM2LDEyOTY0NywxNCwxMjk2NTIsMTI5NjUyLDE0LDEyOTY1NiwxMjk2NTgsMTQsMTI5NjYxLDEyOTY2MywxNCwxMjk2NjcsMTI5NjcwLDE0LDEyOTY4MCwxMjk2ODUsMTQsMTI5NzA1LDEyOTcwOCwxNCwxMjk3MTIsMTI5NzE4LDE0LDEyOTcyMywxMjk3MjcsMTQsMTI5NzMxLDEyOTczMywxNCwxMjk3NDQsMTI5NzUwLDE0LDEyOTc1NCwxMjk3NTksMTQsMTI5NzY4LDEyOTc3NSwxNCwxMjk3ODMsMTI5NzkxLDE0LDkxNzUwNCw5MTc1MDQsNCw5MTc1MDYsOTE3NTM1LDQsOTE3NjMyLDkxNzc1OSw0LDkxODAwMCw5MjE1OTksNCwwLDksNCwxMSwxMiw0LDE0LDMxLDQsMTY5LDE2OSwxNCwxNzQsMTc0LDE0LDExNTUsMTE1OSw1LDE0MjUsMTQ2OSw1LDE0NzMsMTQ3NCw1LDE0NzksMTQ3OSw1LDE1NTIsMTU2Miw1LDE2MTEsMTYzMSw1LDE3NTAsMTc1Niw1LDE3NTksMTc2NCw1LDE3NzAsMTc3Myw1LDE4MDksMTgwOSw1LDE5NTgsMTk2OCw1LDIwNDUsMjA0NSw1LDIwNzUsMjA4Myw1LDIwODksMjA5Myw1LDIxOTIsMjE5MywxLDIyNTAsMjI3Myw1LDIyNzUsMjMwNiw1LDIzNjIsMjM2Miw1LDIzNjQsMjM2NCw1LDIzNjksMjM3Niw1LDIzODEsMjM4MSw1LDIzODUsMjM5MSw1LDI0MzMsMjQzMyw1LDI0OTIsMjQ5Miw1LDI0OTUsMjQ5Niw3LDI1MDMsMjUwNCw3LDI1MDksMjUwOSw1LDI1MzAsMjUzMSw1LDI1NjEsMjU2Miw1LDI2MjAsMjYyMCw1LDI2MjUsMjYyNiw1LDI2MzUsMjYzNyw1LDI2NzIsMjY3Myw1LDI2ODksMjY5MCw1LDI3NDgsMjc0OCw1LDI3NTMsMjc1Nyw1LDI3NjEsMjc2MSw3LDI3NjUsMjc2NSw1LDI4MTAsMjgxNSw1LDI4MTgsMjgxOSw3LDI4NzgsMjg3OCw1LDI4ODAsMjg4MCw3LDI4ODcsMjg4OCw3LDI4OTMsMjg5Myw1LDI5MDMsMjkwMyw1LDI5NDYsMjk0Niw1LDMwMDcsMzAwNyw3LDMwMDksMzAxMCw3LDMwMTgsMzAyMCw3LDMwMzEsMzAzMSw1LDMwNzMsMzA3NSw3LDMxMzIsMzEzMiw1LDMxMzcsMzE0MCw3LDMxNDYsMzE0OSw1LDMxNzAsMzE3MSw1LDMyMDIsMzIwMyw3LDMyNjIsMzI2Miw3LDMyNjQsMzI2NSw3LDMyNjcsMzI2OCw3LDMyNzEsMzI3Miw3LDMyNzYsMzI3Nyw1LDMyOTgsMzI5OSw1LDMzMzAsMzMzMSw3LDMzOTAsMzM5MCw1LDMzOTMsMzM5Niw1LDM0MDIsMzQwNCw3LDM0MDYsMzQwNiwxLDM0MjYsMzQyNyw1LDM0NTgsMzQ1OSw3LDM1MzUsMzUzNSw1LDM1MzgsMzU0MCw1LDM1NDQsMzU1MCw3LDM1NzAsMzU3MSw3LDM2MzUsMzYzNSw3LDM2NTUsMzY2Miw1LDM3NjMsMzc2Myw3LDM3ODQsMzc4OSw1LDM4OTMsMzg5Myw1LDM4OTcsMzg5Nyw1LDM5NTMsMzk2Niw1LDM5NjgsMzk3Miw1LDM5ODEsMzk5MSw1LDQwMzgsNDAzOCw1LDQxNDUsNDE0NSw3LDQxNTMsNDE1NCw1LDQxNTcsNDE1OCw1LDQxODQsNDE4NSw1LDQyMDksNDIxMiw1LDQyMjgsNDIyOCw3LDQyMzcsNDIzNyw1LDQzNTIsNDQ0Nyw4LDQ1MjAsNDYwNywxMCw1OTA2LDU5MDgsNSw1OTM4LDU5MzksNSw1OTcwLDU5NzEsNSw2MDY4LDYwNjksNSw2MDcxLDYwNzcsNSw2MDg2LDYwODYsNSw2MDg5LDYwOTksNSw2MTU1LDYxNTcsNSw2MTU5LDYxNTksNSw2MzEzLDYzMTMsNSw2NDM1LDY0MzgsNyw2NDQxLDY0NDMsNyw2NDUwLDY0NTAsNSw2NDU3LDY0NTksNSw2NjgxLDY2ODIsNyw2NzQxLDY3NDEsNyw2NzQzLDY3NDMsNyw2NzUyLDY3NTIsNSw2NzU3LDY3NjQsNSw2NzcxLDY3ODAsNSw2ODMyLDY4NDUsNSw2ODQ3LDY4NjIsNSw2OTE2LDY5MTYsNyw2OTY1LDY5NjUsNSw2OTcxLDY5NzEsNyw2OTczLDY5NzcsNyw2OTc5LDY5ODAsNyw3MDQwLDcwNDEsNSw3MDczLDcwNzMsNyw3MDc4LDcwNzksNyw3MDgyLDcwODIsNyw3MTQyLDcxNDIsNSw3MTQ0LDcxNDUsNSw3MTQ5LDcxNDksNSw3MTUxLDcxNTMsNSw3MjA0LDcyMTEsNyw3MjIwLDcyMjEsNyw3Mzc2LDczNzgsNSw3MzkzLDczOTMsNyw3NDA1LDc0MDUsNSw3NDE1LDc0MTUsNyw3NjE2LDc2NzksNSw4MjA0LDgyMDQsNSw4MjA2LDgyMDcsNCw4MjMzLDgyMzMsNCw4MjUyLDgyNTIsMTQsODI4OCw4MjkyLDQsODI5NCw4MzAzLDQsODQxMyw4NDE2LDUsODQxOCw4NDIwLDUsODQ4Miw4NDgyLDE0LDg1OTYsODYwMSwxNCw4OTg2LDg5ODcsMTQsOTA5Niw5MDk2LDE0LDkxOTMsOTE5NiwxNCw5MTk5LDkxOTksMTQsOTIwMSw5MjAyLDE0LDkyMDgsOTIxMCwxNCw5NjQyLDk2NDMsMTQsOTY2NCw5NjY0LDE0LDk3MjgsOTcyOSwxNCw5NzMyLDk3MzIsMTQsOTczNSw5NzQxLDE0LDk3NDMsOTc0NCwxNCw5NzQ2LDk3NDYsMTQsOTc1MCw5NzUxLDE0LDk3NTMsOTc1NiwxNCw5NzU4LDk3NTksMTQsOTc2MSw5NzYxLDE0LDk3NjQsOTc2NSwxNCw5NzY3LDk3NjksMTQsOTc3MSw5NzczLDE0LDk3NzUsOTc3NSwxNCw5Nzg0LDk3ODUsMTQsOTc4Nyw5NzkxLDE0LDk3OTMsOTc5MywxNCw5Nzk1LDk3OTksMTQsOTgxMiw5ODIyLDE0LDk4MjQsOTgyNCwxNCw5ODI3LDk4MjcsMTQsOTgyOSw5ODMwLDE0LDk4MzIsOTgzMiwxNCw5ODUxLDk4NTEsMTQsOTg1NCw5ODU0LDE0LDk4NTYsOTg2MSwxNCw5ODc0LDk4NzQsMTQsOTg3Niw5ODc2LDE0LDk4NzgsOTg3OSwxNCw5ODgxLDk4ODEsMTQsOTg4Myw5ODg0LDE0LDk4ODgsOTg4OSwxNCw5ODk1LDk4OTUsMTQsOTg5OCw5ODk5LDE0LDk5MDQsOTkwNSwxNCw5OTE3LDk5MTgsMTQsOTkyNCw5OTI1LDE0LDk5MjgsOTkyOCwxNCw5OTM0LDk5MzQsMTQsOTkzNiw5OTM2LDE0LDk5MzgsOTkzOCwxNCw5OTQwLDk5NDAsMTQsOTk2MSw5OTYxLDE0LDk5NjMsOTk2NywxNCw5OTcwLDk5NzEsMTQsOTk3Myw5OTczLDE0LDk5NzUsOTk3NywxNCw5OTc5LDk5ODAsMTQsOTk4Miw5OTg1LDE0LDk5ODcsOTk4OCwxNCw5OTkyLDk5OTYsMTQsOTk5OCw5OTk4LDE0LDEwMDAwLDEwMDAxLDE0LDEwMDA0LDEwMDA0LDE0LDEwMDEzLDEwMDEzLDE0LDEwMDI0LDEwMDI0LDE0LDEwMDUyLDEwMDUyLDE0LDEwMDYwLDEwMDYwLDE0LDEwMDY3LDEwMDY5LDE0LDEwMDgzLDEwMDgzLDE0LDEwMDg1LDEwMDg3LDE0LDEwMTQ1LDEwMTQ1LDE0LDEwMTc1LDEwMTc1LDE0LDExMDEzLDExMDE1LDE0LDExMDg4LDExMDg4LDE0LDExNTAzLDExNTA1LDUsMTE3NDQsMTE3NzUsNSwxMjMzNCwxMjMzNSw1LDEyMzQ5LDEyMzQ5LDE0LDEyOTUxLDEyOTUxLDE0LDQyNjA3LDQyNjA3LDUsNDI2MTIsNDI2MjEsNSw0MjczNiw0MjczNyw1LDQzMDE0LDQzMDE0LDUsNDMwNDMsNDMwNDQsNyw0MzA0Nyw0MzA0Nyw3LDQzMTM2LDQzMTM3LDcsNDMyMDQsNDMyMDUsNSw0MzI2Myw0MzI2Myw1LDQzMzM1LDQzMzQ1LDUsNDMzNjAsNDMzODgsOCw0MzM5NSw0MzM5NSw3LDQzNDQ0LDQzNDQ1LDcsNDM0NTAsNDM0NTEsNyw0MzQ1NCw0MzQ1Niw3LDQzNTYxLDQzNTY2LDUsNDM1NjksNDM1NzAsNSw0MzU3Myw0MzU3NCw1LDQzNTk2LDQzNTk2LDUsNDM2NDQsNDM2NDQsNSw0MzY5OCw0MzcwMCw1LDQzNzEwLDQzNzExLDUsNDM3NTUsNDM3NTUsNyw0Mzc1OCw0Mzc1OSw3LDQzNzY2LDQzNzY2LDUsNDQwMDUsNDQwMDUsNSw0NDAwOCw0NDAwOCw1LDQ0MDEyLDQ0MDEyLDcsNDQwMzIsNDQwMzIsMTEsNDQwNjAsNDQwNjAsMTEsNDQwODgsNDQwODgsMTEsNDQxMTYsNDQxMTYsMTEsNDQxNDQsNDQxNDQsMTEsNDQxNzIsNDQxNzIsMTEsNDQyMDAsNDQyMDAsMTEsNDQyMjgsNDQyMjgsMTEsNDQyNTYsNDQyNTYsMTEsNDQyODQsNDQyODQsMTEsNDQzMTIsNDQzMTIsMTEsNDQzNDAsNDQzNDAsMTEsNDQzNjgsNDQzNjgsMTEsNDQzOTYsNDQzOTYsMTEsNDQ0MjQsNDQ0MjQsMTEsNDQ0NTIsNDQ0NTIsMTEsNDQ0ODAsNDQ0ODAsMTEsNDQ1MDgsNDQ1MDgsMTEsNDQ1MzYsNDQ1MzYsMTEsNDQ1NjQsNDQ1NjQsMTEsNDQ1OTIsNDQ1OTIsMTEsNDQ2MjAsNDQ2MjAsMTEsNDQ2NDgsNDQ2NDgsMTEsNDQ2NzYsNDQ2NzYsMTEsNDQ3MDQsNDQ3MDQsMTEsNDQ3MzIsNDQ3MzIsMTEsNDQ3NjAsNDQ3NjAsMTEsNDQ3ODgsNDQ3ODgsMTEsNDQ4MTYsNDQ4MTYsMTEsNDQ4NDQsNDQ4NDQsMTEsNDQ4NzIsNDQ4NzIsMTEsNDQ5MDAsNDQ5MDAsMTEsNDQ5MjgsNDQ5MjgsMTEsNDQ5NTYsNDQ5NTYsMTEsNDQ5ODQsNDQ5ODQsMTEsNDUwMTIsNDUwMTIsMTEsNDUwNDAsNDUwNDAsMTEsNDUwNjgsNDUwNjgsMTEsNDUwOTYsNDUwOTYsMTEsNDUxMjQsNDUxMjQsMTEsNDUxNTIsNDUxNTIsMTEsNDUxODAsNDUxODAsMTEsNDUyMDgsNDUyMDgsMTEsNDUyMzYsNDUyMzYsMTEsNDUyNjQsNDUyNjQsMTEsNDUyOTIsNDUyOTIsMTEsNDUzMjAsNDUzMjAsMTEsNDUzNDgsNDUzNDgsMTEsNDUzNzYsNDUzNzYsMTEsNDU0MDQsNDU0MDQsMTEsNDU0MzIsNDU0MzIsMTEsNDU0NjAsNDU0NjAsMTEsNDU0ODgsNDU0ODgsMTEsNDU1MTYsNDU1MTYsMTEsNDU1NDQsNDU1NDQsMTEsNDU1NzIsNDU1NzIsMTEsNDU2MDAsNDU2MDAsMTEsNDU2MjgsNDU2MjgsMTEsNDU2NTYsNDU2NTYsMTEsNDU2ODQsNDU2ODQsMTEsNDU3MTIsNDU3MTIsMTEsNDU3NDAsNDU3NDAsMTEsNDU3NjgsNDU3NjgsMTEsNDU3OTYsNDU3OTYsMTEsNDU4MjQsNDU4MjQsMTEsNDU4NTIsNDU4NTIsMTEsNDU4ODAsNDU4ODAsMTEsNDU5MDgsNDU5MDgsMTEsNDU5MzYsNDU5MzYsMTEsNDU5NjQsNDU5NjQsMTEsNDU5OTIsNDU5OTIsMTEsNDYwMjAsNDYwMjAsMTEsNDYwNDgsNDYwNDgsMTEsNDYwNzYsNDYwNzYsMTEsNDYxMDQsNDYxMDQsMTEsNDYxMzIsNDYxMzIsMTEsNDYxNjAsNDYxNjAsMTEsNDYxODgsNDYxODgsMTEsNDYyMTYsNDYyMTYsMTEsNDYyNDQsNDYyNDQsMTEsNDYyNzIsNDYyNzIsMTEsNDYzMDAsNDYzMDAsMTEsNDYzMjgsNDYzMjgsMTEsNDYzNTYsNDYzNTYsMTEsNDYzODQsNDYzODQsMTEsNDY0MTIsNDY0MTIsMTEsNDY0NDAsNDY0NDAsMTEsNDY0NjgsNDY0NjgsMTEsNDY0OTYsNDY0OTYsMTEsNDY1MjQsNDY1MjQsMTEsNDY1NTIsNDY1NTIsMTEsNDY1ODAsNDY1ODAsMTEsNDY2MDgsNDY2MDgsMTEsNDY2MzYsNDY2MzYsMTEsNDY2NjQsNDY2NjQsMTEsNDY2OTIsNDY2OTIsMTEsNDY3MjAsNDY3MjAsMTEsNDY3NDgsNDY3NDgsMTEsNDY3NzYsNDY3NzYsMTEsNDY4MDQsNDY4MDQsMTEsNDY4MzIsNDY4MzIsMTEsNDY4NjAsNDY4NjAsMTEsNDY4ODgsNDY4ODgsMTEsNDY5MTYsNDY5MTYsMTEsNDY5NDQsNDY5NDQsMTEsNDY5NzIsNDY5NzIsMTEsNDcwMDAsNDcwMDAsMTEsNDcwMjgsNDcwMjgsMTEsNDcwNTYsNDcwNTYsMTEsNDcwODQsNDcwODQsMTEsNDcxMTIsNDcxMTIsMTEsNDcxNDAsNDcxNDAsMTEsNDcxNjgsNDcxNjgsMTEsNDcxOTYsNDcxOTYsMTEsNDcyMjQsNDcyMjQsMTEsNDcyNTIsNDcyNTIsMTEsNDcyODAsNDcyODAsMTEsNDczMDgsNDczMDgsMTEsNDczMzYsNDczMzYsMTEsNDczNjQsNDczNjQsMTEsNDczOTIsNDczOTIsMTEsNDc0MjAsNDc0MjAsMTEsNDc0NDgsNDc0NDgsMTEsNDc0NzYsNDc0NzYsMTEsNDc1MDQsNDc1MDQsMTEsNDc1MzIsNDc1MzIsMTEsNDc1NjAsNDc1NjAsMTEsNDc1ODgsNDc1ODgsMTEsNDc2MTYsNDc2MTYsMTEsNDc2NDQsNDc2NDQsMTEsNDc2NzIsNDc2NzIsMTEsNDc3MDAsNDc3MDAsMTEsNDc3MjgsNDc3MjgsMTEsNDc3NTYsNDc3NTYsMTEsNDc3ODQsNDc3ODQsMTEsNDc4MTIsNDc4MTIsMTEsNDc4NDAsNDc4NDAsMTEsNDc4NjgsNDc4NjgsMTEsNDc4OTYsNDc4OTYsMTEsNDc5MjQsNDc5MjQsMTEsNDc5NTIsNDc5NTIsMTEsNDc5ODAsNDc5ODAsMTEsNDgwMDgsNDgwMDgsMTEsNDgwMzYsNDgwMzYsMTEsNDgwNjQsNDgwNjQsMTEsNDgwOTIsNDgwOTIsMTEsNDgxMjAsNDgxMjAsMTEsNDgxNDgsNDgxNDgsMTEsNDgxNzYsNDgxNzYsMTEsNDgyMDQsNDgyMDQsMTEsNDgyMzIsNDgyMzIsMTEsNDgyNjAsNDgyNjAsMTEsNDgyODgsNDgyODgsMTEsNDgzMTYsNDgzMTYsMTEsNDgzNDQsNDgzNDQsMTEsNDgzNzIsNDgzNzIsMTEsNDg0MDAsNDg0MDAsMTEsNDg0MjgsNDg0MjgsMTEsNDg0NTYsNDg0NTYsMTEsNDg0ODQsNDg0ODQsMTEsNDg1MTIsNDg1MTIsMTEsNDg1NDAsNDg1NDAsMTEsNDg1NjgsNDg1NjgsMTEsNDg1OTYsNDg1OTYsMTEsNDg2MjQsNDg2MjQsMTEsNDg2NTIsNDg2NTIsMTEsNDg2ODAsNDg2ODAsMTEsNDg3MDgsNDg3MDgsMTEsNDg3MzYsNDg3MzYsMTEsNDg3NjQsNDg3NjQsMTEsNDg3OTIsNDg3OTIsMTEsNDg4MjAsNDg4MjAsMTEsNDg4NDgsNDg4NDgsMTEsNDg4NzYsNDg4NzYsMTEsNDg5MDQsNDg5MDQsMTEsNDg5MzIsNDg5MzIsMTEsNDg5NjAsNDg5NjAsMTEsNDg5ODgsNDg5ODgsMTEsNDkwMTYsNDkwMTYsMTEsNDkwNDQsNDkwNDQsMTEsNDkwNzIsNDkwNzIsMTEsNDkxMDAsNDkxMDAsMTEsNDkxMjgsNDkxMjgsMTEsNDkxNTYsNDkxNTYsMTEsNDkxODQsNDkxODQsMTEsNDkyMTIsNDkyMTIsMTEsNDkyNDAsNDkyNDAsMTEsNDkyNjgsNDkyNjgsMTEsNDkyOTYsNDkyOTYsMTEsNDkzMjQsNDkzMjQsMTEsNDkzNTIsNDkzNTIsMTEsNDkzODAsNDkzODAsMTEsNDk0MDgsNDk0MDgsMTEsNDk0MzYsNDk0MzYsMTEsNDk0NjQsNDk0NjQsMTEsNDk0OTIsNDk0OTIsMTEsNDk1MjAsNDk1MjAsMTEsNDk1NDgsNDk1NDgsMTEsNDk1NzYsNDk1NzYsMTEsNDk2MDQsNDk2MDQsMTEsNDk2MzIsNDk2MzIsMTEsNDk2NjAsNDk2NjAsMTEsNDk2ODgsNDk2ODgsMTEsNDk3MTYsNDk3MTYsMTEsNDk3NDQsNDk3NDQsMTEsNDk3NzIsNDk3NzIsMTEsNDk4MDAsNDk4MDAsMTEsNDk4MjgsNDk4MjgsMTEsNDk4NTYsNDk4NTYsMTEsNDk4ODQsNDk4ODQsMTEsNDk5MTIsNDk5MTIsMTEsNDk5NDAsNDk5NDAsMTEsNDk5NjgsNDk5NjgsMTEsNDk5OTYsNDk5OTYsMTEsNTAwMjQsNTAwMjQsMTEsNTAwNTIsNTAwNTIsMTEsNTAwODAsNTAwODAsMTEsNTAxMDgsNTAxMDgsMTEsNTAxMzYsNTAxMzYsMTEsNTAxNjQsNTAxNjQsMTEsNTAxOTIsNTAxOTIsMTEsNTAyMjAsNTAyMjAsMTEsNTAyNDgsNTAyNDgsMTEsNTAyNzYsNTAyNzYsMTEsNTAzMDQsNTAzMDQsMTEsNTAzMzIsNTAzMzIsMTEsNTAzNjAsNTAzNjAsMTEsNTAzODgsNTAzODgsMTEsNTA0MTYsNTA0MTYsMTEsNTA0NDQsNTA0NDQsMTEsNTA0NzIsNTA0NzIsMTEsNTA1MDAsNTA1MDAsMTEsNTA1MjgsNTA1MjgsMTEsNTA1NTYsNTA1NTYsMTEsNTA1ODQsNTA1ODQsMTEsNTA2MTIsNTA2MTIsMTEsNTA2NDAsNTA2NDAsMTEsNTA2NjgsNTA2NjgsMTEsNTA2OTYsNTA2OTYsMTEsNTA3MjQsNTA3MjQsMTEsNTA3NTIsNTA3NTIsMTEsNTA3ODAsNTA3ODAsMTEsNTA4MDgsNTA4MDgsMTEsNTA4MzYsNTA4MzYsMTEsNTA4NjQsNTA4NjQsMTEsNTA4OTIsNTA4OTIsMTEsNTA5MjAsNTA5MjAsMTEsNTA5NDgsNTA5NDgsMTEsNTA5NzYsNTA5NzYsMTEsNTEwMDQsNTEwMDQsMTEsNTEwMzIsNTEwMzIsMTEsNTEwNjAsNTEwNjAsMTEsNTEwODgsNTEwODgsMTEsNTExMTYsNTExMTYsMTEsNTExNDQsNTExNDQsMTEsNTExNzIsNTExNzIsMTEsNTEyMDAsNTEyMDAsMTEsNTEyMjgsNTEyMjgsMTEsNTEyNTYsNTEyNTYsMTEsNTEyODQsNTEyODQsMTEsNTEzMTIsNTEzMTIsMTEsNTEzNDAsNTEzNDAsMTEsNTEzNjgsNTEzNjgsMTEsNTEzOTYsNTEzOTYsMTEsNTE0MjQsNTE0MjQsMTEsNTE0NTIsNTE0NTIsMTEsNTE0ODAsNTE0ODAsMTEsNTE1MDgsNTE1MDgsMTEsNTE1MzYsNTE1MzYsMTEsNTE1NjQsNTE1NjQsMTEsNTE1OTIsNTE1OTIsMTEsNTE2MjAsNTE2MjAsMTEsNTE2NDgsNTE2NDgsMTEsNTE2NzYsNTE2NzYsMTEsNTE3MDQsNTE3MDQsMTEsNTE3MzIsNTE3MzIsMTEsNTE3NjAsNTE3NjAsMTEsNTE3ODgsNTE3ODgsMTEsNTE4MTYsNTE4MTYsMTEsNTE4NDQsNTE4NDQsMTEsNTE4NzIsNTE4NzIsMTEsNTE5MDAsNTE5MDAsMTEsNTE5MjgsNTE5MjgsMTEsNTE5NTYsNTE5NTYsMTEsNTE5ODQsNTE5ODQsMTEsNTIwMTIsNTIwMTIsMTEsNTIwNDAsNTIwNDAsMTEsNTIwNjgsNTIwNjgsMTEsNTIwOTYsNTIwOTYsMTEsNTIxMjQsNTIxMjQsMTEsNTIxNTIsNTIxNTIsMTEsNTIxODAsNTIxODAsMTEsNTIyMDgsNTIyMDgsMTEsNTIyMzYsNTIyMzYsMTEsNTIyNjQsNTIyNjQsMTEsNTIyOTIsNTIyOTIsMTEsNTIzMjAsNTIzMjAsMTEsNTIzNDgsNTIzNDgsMTEsNTIzNzYsNTIzNzYsMTEsNTI0MDQsNTI0MDQsMTEsNTI0MzIsNTI0MzIsMTEsNTI0NjAsNTI0NjAsMTEsNTI0ODgsNTI0ODgsMTEsNTI1MTYsNTI1MTYsMTEsNTI1NDQsNTI1NDQsMTEsNTI1NzIsNTI1NzIsMTEsNTI2MDAsNTI2MDAsMTEsNTI2MjgsNTI2MjgsMTEsNTI2NTYsNTI2NTYsMTEsNTI2ODQsNTI2ODQsMTEsNTI3MTIsNTI3MTIsMTEsNTI3NDAsNTI3NDAsMTEsNTI3NjgsNTI3NjgsMTEsNTI3OTYsNTI3OTYsMTEsNTI4MjQsNTI4MjQsMTEsNTI4NTIsNTI4NTIsMTEsNTI4ODAsNTI4ODAsMTEsNTI5MDgsNTI5MDgsMTEsNTI5MzYsNTI5MzYsMTEsNTI5NjQsNTI5NjQsMTEsNTI5OTIsNTI5OTIsMTEsNTMwMjAsNTMwMjAsMTEsNTMwNDgsNTMwNDgsMTEsNTMwNzYsNTMwNzYsMTEsNTMxMDQsNTMxMDQsMTEsNTMxMzIsNTMxMzIsMTEsNTMxNjAsNTMxNjAsMTEsNTMxODgsNTMxODgsMTEsNTMyMTYsNTMyMTYsMTEsNTMyNDQsNTMyNDQsMTEsNTMyNzIsNTMyNzIsMTEsNTMzMDAsNTMzMDAsMTEsNTMzMjgsNTMzMjgsMTEsNTMzNTYsNTMzNTYsMTEsNTMzODQsNTMzODQsMTEsNTM0MTIsNTM0MTIsMTEsNTM0NDAsNTM0NDAsMTEsNTM0NjgsNTM0NjgsMTEsNTM0OTYsNTM0OTYsMTEsNTM1MjQsNTM1MjQsMTEsNTM1NTIsNTM1NTIsMTEsNTM1ODAsNTM1ODAsMTEsNTM2MDgsNTM2MDgsMTEsNTM2MzYsNTM2MzYsMTEsNTM2NjQsNTM2NjQsMTEsNTM2OTIsNTM2OTIsMTEsNTM3MjAsNTM3MjAsMTEsNTM3NDgsNTM3NDgsMTEsNTM3NzYsNTM3NzYsMTEsNTM4MDQsNTM4MDQsMTEsNTM4MzIsNTM4MzIsMTEsNTM4NjAsNTM4NjAsMTEsNTM4ODgsNTM4ODgsMTEsNTM5MTYsNTM5MTYsMTEsNTM5NDQsNTM5NDQsMTEsNTM5NzIsNTM5NzIsMTEsNTQwMDAsNTQwMDAsMTEsNTQwMjgsNTQwMjgsMTEsNTQwNTYsNTQwNTYsMTEsNTQwODQsNTQwODQsMTEsNTQxMTIsNTQxMTIsMTEsNTQxNDAsNTQxNDAsMTEsNTQxNjgsNTQxNjgsMTEsNTQxOTYsNTQxOTYsMTEsNTQyMjQsNTQyMjQsMTEsNTQyNTIsNTQyNTIsMTEsNTQyODAsNTQyODAsMTEsNTQzMDgsNTQzMDgsMTEsNTQzMzYsNTQzMzYsMTEsNTQzNjQsNTQzNjQsMTEsNTQzOTIsNTQzOTIsMTEsNTQ0MjAsNTQ0MjAsMTEsNTQ0NDgsNTQ0NDgsMTEsNTQ0NzYsNTQ0NzYsMTEsNTQ1MDQsNTQ1MDQsMTEsNTQ1MzIsNTQ1MzIsMTEsNTQ1NjAsNTQ1NjAsMTEsNTQ1ODgsNTQ1ODgsMTEsNTQ2MTYsNTQ2MTYsMTEsNTQ2NDQsNTQ2NDQsMTEsNTQ2NzIsNTQ2NzIsMTEsNTQ3MDAsNTQ3MDAsMTEsNTQ3MjgsNTQ3MjgsMTEsNTQ3NTYsNTQ3NTYsMTEsNTQ3ODQsNTQ3ODQsMTEsNTQ4MTIsNTQ4MTIsMTEsNTQ4NDAsNTQ4NDAsMTEsNTQ4NjgsNTQ4NjgsMTEsNTQ4OTYsNTQ4OTYsMTEsNTQ5MjQsNTQ5MjQsMTEsNTQ5NTIsNTQ5NTIsMTEsNTQ5ODAsNTQ5ODAsMTEsNTUwMDgsNTUwMDgsMTEsNTUwMzYsNTUwMzYsMTEsNTUwNjQsNTUwNjQsMTEsNTUwOTIsNTUwOTIsMTEsNTUxMjAsNTUxMjAsMTEsNTUxNDgsNTUxNDgsMTEsNTUxNzYsNTUxNzYsMTEsNTUyMTYsNTUyMzgsOSw2NDI4Niw2NDI4Niw1LDY1MDU2LDY1MDcxLDUsNjU0MzgsNjU0MzksNSw2NTUyOSw2NTUzMSw0LDY2MjcyLDY2MjcyLDUsNjgwOTcsNjgwOTksNSw2ODEwOCw2ODExMSw1LDY4MTU5LDY4MTU5LDUsNjg5MDAsNjg5MDMsNSw2OTQ0Niw2OTQ1Niw1LDY5NjMyLDY5NjMyLDcsNjk2MzQsNjk2MzQsNyw2OTc0NCw2OTc0NCw1LDY5NzU5LDY5NzYxLDUsNjk4MDgsNjk4MTAsNyw2OTgxNSw2OTgxNiw3LDY5ODIxLDY5ODIxLDEsNjk4MzcsNjk4MzcsMSw2OTkyNyw2OTkzMSw1LDY5OTMzLDY5OTQwLDUsNzAwMDMsNzAwMDMsNSw3MDAxOCw3MDAxOCw3LDcwMDcwLDcwMDc4LDUsNzAwODIsNzAwODMsMSw3MDA5NCw3MDA5NCw3LDcwMTg4LDcwMTkwLDcsNzAxOTQsNzAxOTUsNyw3MDE5Nyw3MDE5Nyw3LDcwMjA2LDcwMjA2LDUsNzAzNjgsNzAzNzAsNyw3MDQwMCw3MDQwMSw1LDcwNDU5LDcwNDYwLDUsNzA0NjMsNzA0NjMsNyw3MDQ2NSw3MDQ2OCw3LDcwNDc1LDcwNDc3LDcsNzA0OTgsNzA0OTksNyw3MDUxMiw3MDUxNiw1LDcwNzEyLDcwNzE5LDUsNzA3MjIsNzA3MjQsNSw3MDcyNiw3MDcyNiw1LDcwODMyLDcwODMyLDUsNzA4MzUsNzA4NDAsNSw3MDg0Miw3MDg0Miw1LDcwODQ1LDcwODQ1LDUsNzA4NDcsNzA4NDgsNSw3MDg1MCw3MDg1MSw1LDcxMDg4LDcxMDg5LDcsNzEwOTYsNzEwOTksNyw3MTEwMiw3MTEwMiw3LDcxMTMyLDcxMTMzLDUsNzEyMTksNzEyMjYsNSw3MTIyOSw3MTIyOSw1LDcxMjMxLDcxMjMyLDUsNzEzNDAsNzEzNDAsNyw3MTM0Miw3MTM0Myw3LDcxMzUwLDcxMzUwLDcsNzE0NTMsNzE0NTUsNSw3MTQ2Miw3MTQ2Miw3LDcxNzI0LDcxNzI2LDcsNzE3MzYsNzE3MzYsNyw3MTk4NCw3MTk4NCw1LDcxOTkxLDcxOTkyLDcsNzE5OTcsNzE5OTcsNyw3MTk5OSw3MTk5OSwxLDcyMDAxLDcyMDAxLDEsNzIwMDMsNzIwMDMsNSw3MjE0OCw3MjE1MSw1LDcyMTU2LDcyMTU5LDcsNzIxNjQsNzIxNjQsNyw3MjI0Myw3MjI0OCw1LDcyMjUwLDcyMjUwLDEsNzIyNjMsNzIyNjMsNSw3MjI3OSw3MjI4MCw3LDcyMzI0LDcyMzI5LDEsNzIzNDMsNzIzNDMsNyw3Mjc1MSw3Mjc1MSw3LDcyNzYwLDcyNzY1LDUsNzI3NjcsNzI3NjcsNSw3Mjg3Myw3Mjg3Myw3LDcyODgxLDcyODgxLDcsNzI4ODQsNzI4ODQsNyw3MzAwOSw3MzAxNCw1LDczMDIwLDczMDIxLDUsNzMwMzAsNzMwMzAsMSw3MzA5OCw3MzEwMiw3LDczMTA3LDczMTA4LDcsNzMxMTAsNzMxMTAsNyw3MzQ1OSw3MzQ2MCw1LDc4ODk2LDc4OTA0LDQsOTI5NzYsOTI5ODIsNSw5NDAzMyw5NDA4Nyw3LDk0MTgwLDk0MTgwLDUsMTEzODIxLDExMzgyMiw1LDExODUyOCwxMTg1NzMsNSwxMTkxNDEsMTE5MTQxLDUsMTE5MTQzLDExOTE0NSw1LDExOTE1MCwxMTkxNTQsNSwxMTkxNjMsMTE5MTcwLDUsMTE5MjEwLDExOTIxMyw1LDEyMTM0NCwxMjEzOTgsNSwxMjE0NjEsMTIxNDYxLDUsMTIxNDk5LDEyMTUwMyw1LDEyMjg4MCwxMjI4ODYsNSwxMjI5MDcsMTIyOTEzLDUsMTIyOTE4LDEyMjkyMiw1LDEyMzU2NiwxMjM1NjYsNSwxMjUxMzYsMTI1MTQyLDUsMTI2OTc2LDEyNjk3OSwxNCwxMjY5ODEsMTI3MTgyLDE0LDEyNzE4NCwxMjcyMzEsMTQsMTI3Mjc5LDEyNzI3OSwxNCwxMjczNDQsMTI3MzQ1LDE0LDEyNzM3NCwxMjczNzQsMTQsMTI3NDA1LDEyNzQ2MSwxNCwxMjc0ODksMTI3NDkwLDE0LDEyNzUxNCwxMjc1MTQsMTQsMTI3NTM4LDEyNzU0NiwxNCwxMjc1NjEsMTI3NTY3LDE0LDEyNzU3MCwxMjc3NDMsMTQsMTI3NzU3LDEyNzc1OCwxNCwxMjc3NjAsMTI3NzYwLDE0LDEyNzc2MiwxMjc3NjIsMTQsMTI3NzY2LDEyNzc2OCwxNCwxMjc3NzAsMTI3NzcwLDE0LDEyNzc3MiwxMjc3NzIsMTQsMTI3Nzc1LDEyNzc3NiwxNCwxMjc3NzgsMTI3Nzc5LDE0LDEyNzc4OSwxMjc3OTEsMTQsMTI3Nzk0LDEyNzc5NSwxNCwxMjc3OTgsMTI3Nzk4LDE0LDEyNzgxOSwxMjc4MTksMTQsMTI3ODI0LDEyNzgyNCwxNCwxMjc4NjgsMTI3ODY4LDE0LDEyNzg3MCwxMjc4NzEsMTQsMTI3ODkyLDEyNzg5MywxNCwxMjc4OTYsMTI3ODk2LDE0LDEyNzkwMCwxMjc5MDEsMTQsMTI3OTA0LDEyNzk0MCwxNCwxMjc5NDIsMTI3OTQyLDE0LDEyNzk0NCwxMjc5NDQsMTQsMTI3OTQ2LDEyNzk0NiwxNCwxMjc5NTEsMTI3OTU1LDE0LDEyNzk2OCwxMjc5NzEsMTQsMTI3OTczLDEyNzk4NCwxNCwxMjc5ODcsMTI3OTg3LDE0LDEyNzk4OSwxMjc5ODksMTQsMTI3OTkxLDEyNzk5MSwxNCwxMjc5OTUsMTI3OTk5LDUsMTI4MDA4LDEyODAwOCwxNCwxMjgwMTIsMTI4MDE0LDE0LDEyODAxNywxMjgwMTgsMTQsMTI4MDIwLDEyODAyMCwxNCwxMjgwMjIsMTI4MDIyLDE0LDEyODA0MiwxMjgwNDIsMTQsMTI4MDYzLDEyODA2MywxNCwxMjgwNjUsMTI4MDY1LDE0LDEyODEwMSwxMjgxMDEsMTQsMTI4MTA4LDEyODEwOSwxNCwxMjgxNzMsMTI4MTczLDE0LDEyODE4MiwxMjgxODMsMTQsMTI4MjM2LDEyODIzNywxNCwxMjgyMzksMTI4MjM5LDE0LDEyODI0NSwxMjgyNDUsMTQsMTI4MjQ4LDEyODI0OCwxNCwxMjgyNTMsMTI4MjUzLDE0LDEyODI1NSwxMjgyNTgsMTQsMTI4MjYwLDEyODI2MywxNCwxMjgyNjUsMTI4MjY1LDE0LDEyODI3NywxMjgyNzcsMTQsMTI4MzAwLDEyODMwMSwxNCwxMjgzMjYsMTI4MzI4LDE0LDEyODMzMSwxMjgzMzQsMTQsMTI4MzM2LDEyODM0NywxNCwxMjgzNjAsMTI4MzY2LDE0LDEyODM2OSwxMjgzNzAsMTQsMTI4Mzc4LDEyODM3OCwxNCwxMjgzOTEsMTI4MzkxLDE0LDEyODM5NCwxMjgzOTcsMTQsMTI4NDAwLDEyODQwMCwxNCwxMjg0MDUsMTI4NDA2LDE0LDEyODQyMCwxMjg0MjAsMTQsMTI4NDIyLDEyODQyMywxNCwxMjg0MjUsMTI4NDMyLDE0LDEyODQzNSwxMjg0NDMsMTQsMTI4NDQ1LDEyODQ0OSwxNCwxMjg0NTMsMTI4NDY0LDE0LDEyODQ2OCwxMjg0NzUsMTQsMTI4NDc5LDEyODQ4MCwxNCwxMjg0ODIsMTI4NDgyLDE0LDEyODQ4NCwxMjg0ODcsMTQsMTI4NDg5LDEyODQ5NCwxNCwxMjg0OTYsMTI4NDk4LDE0LDEyODUwMCwxMjg1MDUsMTQsMTI4NTA3LDEyODUxMSwxNCwxMjg1MTMsMTI4NTE4LDE0LDEyODUyMSwxMjg1MjUsMTQsMTI4NTI3LDEyODUyNywxNCwxMjg1MjksMTI4NTI5LDE0LDEyODUzMywxMjg1MzMsMTQsMTI4NTM1LDEyODUzNSwxNCwxMjg1MzcsMTI4NTM3LDE0XScpO1xufVxuLy8jZW5kcmVnaW9uXG4vKipcbiAqIENvbXB1dGVzIHRoZSBvZmZzZXQgYWZ0ZXIgcGVyZm9ybWluZyBhIGxlZnQgZGVsZXRlIG9uIHRoZSBnaXZlbiBzdHJpbmcsXG4gKiB3aGlsZSBjb25zaWRlcmluZyB1bmljb2RlIGdyYXBoZW1lL2Vtb2ppIHJ1bGVzLlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMZWZ0RGVsZXRlT2Zmc2V0KG9mZnNldCwgc3RyKSB7XG4gICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgLy8gVHJ5IHRvIGRlbGV0ZSBlbW9qaSBwYXJ0LlxuICAgIGNvbnN0IGVtb2ppT2Zmc2V0ID0gZ2V0T2Zmc2V0QmVmb3JlTGFzdEVtb2ppQ29tcG9uZW50KG9mZnNldCwgc3RyKTtcbiAgICBpZiAoZW1vamlPZmZzZXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW1vamlPZmZzZXQ7XG4gICAgfVxuICAgIC8vIE90aGVyd2lzZSwganVzdCBza2lwIGEgc2luZ2xlIGNvZGUgcG9pbnQuXG4gICAgY29uc3QgaXRlcmF0b3IgPSBuZXcgQ29kZVBvaW50SXRlcmF0b3Ioc3RyLCBvZmZzZXQpO1xuICAgIGl0ZXJhdG9yLnByZXZDb2RlUG9pbnQoKTtcbiAgICByZXR1cm4gaXRlcmF0b3Iub2Zmc2V0O1xufVxuZnVuY3Rpb24gZ2V0T2Zmc2V0QmVmb3JlTGFzdEVtb2ppQ29tcG9uZW50KGluaXRpYWxPZmZzZXQsIHN0cikge1xuICAgIC8vIFNlZSBodHRwczovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyNTEvdHI1MS0xNC5odG1sI0VCTkZfYW5kX1JlZ2V4IGZvciB0aGVcbiAgICAvLyBzdHJ1Y3R1cmUgb2YgZW1vamlzLlxuICAgIGNvbnN0IGl0ZXJhdG9yID0gbmV3IENvZGVQb2ludEl0ZXJhdG9yKHN0ciwgaW5pdGlhbE9mZnNldCk7XG4gICAgbGV0IGNvZGVQb2ludCA9IGl0ZXJhdG9yLnByZXZDb2RlUG9pbnQoKTtcbiAgICAvLyBTa2lwIG1vZGlmaWVyc1xuICAgIHdoaWxlICgoaXNFbW9qaU1vZGlmaWVyKGNvZGVQb2ludCkgfHwgY29kZVBvaW50ID09PSA2NTAzOSAvKiBDb2RlUG9pbnQuZW1vamlWYXJpYW50U2VsZWN0b3IgKi8gfHwgY29kZVBvaW50ID09PSA4NDE5IC8qIENvZGVQb2ludC5lbmNsb3NpbmdLZXlDYXAgKi8pKSB7XG4gICAgICAgIGlmIChpdGVyYXRvci5vZmZzZXQgPT09IDApIHtcbiAgICAgICAgICAgIC8vIENhbm5vdCBza2lwIG1vZGlmaWVyLCBubyBwcmVjZWRpbmcgZW1vamkgYmFzZS5cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29kZVBvaW50ID0gaXRlcmF0b3IucHJldkNvZGVQb2ludCgpO1xuICAgIH1cbiAgICAvLyBFeHBlY3QgYmFzZSBlbW9qaVxuICAgIGlmICghaXNFbW9qaUltcHJlY2lzZShjb2RlUG9pbnQpKSB7XG4gICAgICAgIC8vIFVuZXhwZWN0ZWQgY29kZSBwb2ludCwgbm90IGEgdmFsaWQgZW1vamkuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCByZXN1bHRPZmZzZXQgPSBpdGVyYXRvci5vZmZzZXQ7XG4gICAgaWYgKHJlc3VsdE9mZnNldCA+IDApIHtcbiAgICAgICAgLy8gU2tpcCBvcHRpb25hbCBaV0ogY29kZSBwb2ludHMgdGhhdCBjb21iaW5lIG11bHRpcGxlIGVtb2ppcy5cbiAgICAgICAgLy8gSW4gdGhlb3J5LCB3ZSBzaG91bGQgY2hlY2sgaWYgdGhhdCBaV0ogYWN0dWFsbHkgY29tYmluZXMgbXVsdGlwbGUgZW1vamlzXG4gICAgICAgIC8vIHRvIHByZXZlbnQgZGVsZXRpbmcgWldKcyBpbiBzaXR1YXRpb25zIHdlIGRpZG4ndCBhY2NvdW50IGZvci5cbiAgICAgICAgY29uc3Qgb3B0aW9uYWxad2pDb2RlUG9pbnQgPSBpdGVyYXRvci5wcmV2Q29kZVBvaW50KCk7XG4gICAgICAgIGlmIChvcHRpb25hbFp3akNvZGVQb2ludCA9PT0gODIwNSAvKiBDb2RlUG9pbnQuendqICovKSB7XG4gICAgICAgICAgICByZXN1bHRPZmZzZXQgPSBpdGVyYXRvci5vZmZzZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdE9mZnNldDtcbn1cbmZ1bmN0aW9uIGlzRW1vamlNb2RpZmllcihjb2RlUG9pbnQpIHtcbiAgICByZXR1cm4gMHgxRjNGQiA8PSBjb2RlUG9pbnQgJiYgY29kZVBvaW50IDw9IDB4MUYzRkY7XG59XG5leHBvcnQgY29uc3Qgbm9CcmVha1doaXRlc3BhY2UgPSAnXFx4YTAnO1xuZXhwb3J0IGNsYXNzIEFtYmlndW91c0NoYXJhY3RlcnMge1xuICAgIHN0YXRpYyBnZXRJbnN0YW5jZShsb2NhbGVzKSB7XG4gICAgICAgIHJldHVybiBfYS5jYWNoZS5nZXQoQXJyYXkuZnJvbShsb2NhbGVzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBnZXRMb2NhbGVzKCkge1xuICAgICAgICByZXR1cm4gX2EuX2xvY2FsZXMudmFsdWU7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGNvbmZ1c2FibGVEaWN0aW9uYXJ5KSB7XG4gICAgICAgIHRoaXMuY29uZnVzYWJsZURpY3Rpb25hcnkgPSBjb25mdXNhYmxlRGljdGlvbmFyeTtcbiAgICB9XG4gICAgaXNBbWJpZ3VvdXMoY29kZVBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZ1c2FibGVEaWN0aW9uYXJ5Lmhhcyhjb2RlUG9pbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBub24gYmFzaWMgQVNDSUkgY29kZSBwb2ludCB0aGF0IHRoZSBnaXZlbiBjb2RlIHBvaW50IGNhbiBiZSBjb25mdXNlZCxcbiAgICAgKiBvciB1bmRlZmluZWQgaWYgc3VjaCBjb2RlIHBvaW50IGRvZXMgbm90ZSBleGlzdC5cbiAgICAgKi9cbiAgICBnZXRQcmltYXJ5Q29uZnVzYWJsZShjb2RlUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZnVzYWJsZURpY3Rpb25hcnkuZ2V0KGNvZGVQb2ludCk7XG4gICAgfVxuICAgIGdldENvbmZ1c2FibGVDb2RlUG9pbnRzKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNldCh0aGlzLmNvbmZ1c2FibGVEaWN0aW9uYXJ5LmtleXMoKSk7XG4gICAgfVxufVxuX2EgPSBBbWJpZ3VvdXNDaGFyYWN0ZXJzO1xuQW1iaWd1b3VzQ2hhcmFjdGVycy5hbWJpZ3VvdXNDaGFyYWN0ZXJEYXRhID0gbmV3IExhenkoKCkgPT4ge1xuICAgIC8vIEdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vaGVkaWV0L3ZzY29kZS11bmljb2RlLWRhdGFcbiAgICAvLyBTdG9yZWQgYXMga2V5MSwgdmFsdWUxLCBrZXkyLCB2YWx1ZTIsIC4uLlxuICAgIHJldHVybiBKU09OLnBhcnNlKCd7XFxcIl9jb21tb25cXFwiOls4MjMyLDMyLDgyMzMsMzIsNTc2MCwzMiw4MTkyLDMyLDgxOTMsMzIsODE5NCwzMiw4MTk1LDMyLDgxOTYsMzIsODE5NywzMiw4MTk4LDMyLDgyMDAsMzIsODIwMSwzMiw4MjAyLDMyLDgyODcsMzIsODE5OSwzMiw4MjM5LDMyLDIwNDIsOTUsNjUxMDEsOTUsNjUxMDIsOTUsNjUxMDMsOTUsODIwOCw0NSw4MjA5LDQ1LDgyMTAsNDUsNjUxMTIsNDUsMTc0OCw0NSw4MjU5LDQ1LDcyNyw0NSw4NzIyLDQ1LDEwMTM0LDQ1LDExNDUwLDQ1LDE1NDksNDQsMTY0Myw0NCw4MjE4LDQ0LDE4NCw0NCw0MjIzMyw0NCw4OTQsNTksMjMwNyw1OCwyNjkxLDU4LDE0MTcsNTgsMTc5NSw1OCwxNzk2LDU4LDU4NjgsNTgsNjUwNzIsNTgsNjE0Nyw1OCw2MTUzLDU4LDgyODIsNTgsMTQ3NSw1OCw3NjAsNTgsNDI4ODksNTgsODc1OCw1OCw3MjAsNTgsNDIyMzcsNTgsNDUxLDMzLDExNjAxLDMzLDY2MCw2Myw1NzcsNjMsMjQyOSw2Myw1MDM4LDYzLDQyNzMxLDYzLDExOTE0OSw0Niw4MjI4LDQ2LDE3OTMsNDYsMTc5NCw0Niw0MjUxMCw0Niw2ODE3Niw0NiwxNjMyLDQ2LDE3NzYsNDYsNDIyMzIsNDYsMTM3Myw5Niw2NTI4Nyw5Niw4MjE5LDk2LDgyNDIsOTYsMTM3MCw5NiwxNTIzLDk2LDgxNzUsOTYsNjUzNDQsOTYsOTAwLDk2LDgxODksOTYsODEyNSw5Niw4MTI3LDk2LDgxOTAsOTYsNjk3LDk2LDg4NCw5Niw3MTIsOTYsNzE0LDk2LDcxNSw5Niw3NTYsOTYsNjk5LDk2LDcwMSw5Niw3MDAsOTYsNzAyLDk2LDQyODkyLDk2LDE0OTcsOTYsMjAzNiw5NiwyMDM3LDk2LDUxOTQsOTYsNTgzNiw5Niw5NDAzMyw5Niw5NDAzNCw5Niw2NTMzOSw5MSwxMDA4OCw0MCwxMDA5OCw0MCwxMjMwOCw0MCw2NDgzMCw0MCw2NTM0MSw5MywxMDA4OSw0MSwxMDA5OSw0MSwxMjMwOSw0MSw2NDgzMSw0MSwxMDEwMCwxMjMsMTE5MDYwLDEyMywxMDEwMSwxMjUsNjUzNDIsOTQsODI3MCw0MiwxNjQ1LDQyLDg3MjcsNDIsNjYzMzUsNDIsNTk0MSw0Nyw4MjU3LDQ3LDg3MjUsNDcsODI2MCw0Nyw5NTg1LDQ3LDEwMTg3LDQ3LDEwNzQ0LDQ3LDExOTM1NCw0NywxMjc1NSw0NywxMjMzOSw0NywxMTQ2Miw0NywyMDAzMSw0NywxMjAzNSw0Nyw2NTM0MCw5Miw2NTEyOCw5Miw4NzI2LDkyLDEwMTg5LDkyLDEwNzQxLDkyLDEwNzQ1LDkyLDExOTMxMSw5MiwxMTkzNTUsOTIsMTI3NTYsOTIsMjAwMjIsOTIsMTIwMzQsOTIsNDI4NzIsMzgsNzA4LDk0LDcxMCw5NCw1ODY5LDQzLDEwMTMzLDQzLDY2MjAzLDQzLDgyNDksNjAsMTAwOTQsNjAsNzA2LDYwLDExOTM1MCw2MCw1MTc2LDYwLDU4MTAsNjAsNTEyMCw2MSwxMTg0MCw2MSwxMjQ0OCw2MSw0MjIzOSw2MSw4MjUwLDYyLDEwMDk1LDYyLDcwNyw2MiwxMTkzNTEsNjIsNTE3MSw2Miw5NDAxNSw2Miw4Mjc1LDEyNiw3MzIsMTI2LDgxMjgsMTI2LDg3NjQsMTI2LDY1MzcyLDEyNCw2NTI5Myw0NSwxMjA3ODQsNTAsMTIwNzk0LDUwLDEyMDgwNCw1MCwxMjA4MTQsNTAsMTIwODI0LDUwLDEzMDAzNCw1MCw0Mjg0Miw1MCw0MjMsNTAsMTAwMCw1MCw0MjU2NCw1MCw1MzExLDUwLDQyNzM1LDUwLDExOTMwMiw1MSwxMjA3ODUsNTEsMTIwNzk1LDUxLDEyMDgwNSw1MSwxMjA4MTUsNTEsMTIwODI1LDUxLDEzMDAzNSw1MSw0MjkyMyw1MSw1NDAsNTEsNDM5LDUxLDQyODU4LDUxLDExNDY4LDUxLDEyNDgsNTEsOTQwMTEsNTEsNzE4ODIsNTEsMTIwNzg2LDUyLDEyMDc5Niw1MiwxMjA4MDYsNTIsMTIwODE2LDUyLDEyMDgyNiw1MiwxMzAwMzYsNTIsNTA3MCw1Miw3MTg1NSw1MiwxMjA3ODcsNTMsMTIwNzk3LDUzLDEyMDgwNyw1MywxMjA4MTcsNTMsMTIwODI3LDUzLDEzMDAzNyw1Myw0NDQsNTMsNzE4NjcsNTMsMTIwNzg4LDU0LDEyMDc5OCw1NCwxMjA4MDgsNTQsMTIwODE4LDU0LDEyMDgyOCw1NCwxMzAwMzgsNTQsMTE0NzQsNTQsNTEwMiw1NCw3MTg5Myw1NCwxMTkzMTQsNTUsMTIwNzg5LDU1LDEyMDc5OSw1NSwxMjA4MDksNTUsMTIwODE5LDU1LDEyMDgyOSw1NSwxMzAwMzksNTUsNjY3NzAsNTUsNzE4NzgsNTUsMjgxOSw1NiwyNTM4LDU2LDI2NjYsNTYsMTI1MTMxLDU2LDEyMDc5MCw1NiwxMjA4MDAsNTYsMTIwODEwLDU2LDEyMDgyMCw1NiwxMjA4MzAsNTYsMTMwMDQwLDU2LDU0Nyw1Niw1NDYsNTYsNjYzMzAsNTYsMjY2Myw1NywyOTIwLDU3LDI1NDEsNTcsMzQzNyw1NywxMjA3OTEsNTcsMTIwODAxLDU3LDEyMDgxMSw1NywxMjA4MjEsNTcsMTIwODMxLDU3LDEzMDA0MSw1Nyw0Mjg2Miw1NywxMTQ2Niw1Nyw3MTg4NCw1Nyw3MTg1Miw1Nyw3MTg5NCw1Nyw5MDgyLDk3LDY1MzQ1LDk3LDExOTgzNCw5NywxMTk4ODYsOTcsMTE5OTM4LDk3LDExOTk5MCw5NywxMjAwNDIsOTcsMTIwMDk0LDk3LDEyMDE0Niw5NywxMjAxOTgsOTcsMTIwMjUwLDk3LDEyMDMwMiw5NywxMjAzNTQsOTcsMTIwNDA2LDk3LDEyMDQ1OCw5Nyw1OTMsOTcsOTQ1LDk3LDEyMDUxNCw5NywxMjA1NzIsOTcsMTIwNjMwLDk3LDEyMDY4OCw5NywxMjA3NDYsOTcsNjUzMTMsNjUsMTE5ODA4LDY1LDExOTg2MCw2NSwxMTk5MTIsNjUsMTE5OTY0LDY1LDEyMDAxNiw2NSwxMjAwNjgsNjUsMTIwMTIwLDY1LDEyMDE3Miw2NSwxMjAyMjQsNjUsMTIwMjc2LDY1LDEyMDMyOCw2NSwxMjAzODAsNjUsMTIwNDMyLDY1LDkxMyw2NSwxMjA0ODgsNjUsMTIwNTQ2LDY1LDEyMDYwNCw2NSwxMjA2NjIsNjUsMTIwNzIwLDY1LDUwMzQsNjUsNTU3Myw2NSw0MjIyMiw2NSw5NDAxNiw2NSw2NjIwOCw2NSwxMTk4MzUsOTgsMTE5ODg3LDk4LDExOTkzOSw5OCwxMTk5OTEsOTgsMTIwMDQzLDk4LDEyMDA5NSw5OCwxMjAxNDcsOTgsMTIwMTk5LDk4LDEyMDI1MSw5OCwxMjAzMDMsOTgsMTIwMzU1LDk4LDEyMDQwNyw5OCwxMjA0NTksOTgsMzg4LDk4LDUwNzEsOTgsNTIzNCw5OCw1NTUxLDk4LDY1MzE0LDY2LDg0OTIsNjYsMTE5ODA5LDY2LDExOTg2MSw2NiwxMTk5MTMsNjYsMTIwMDE3LDY2LDEyMDA2OSw2NiwxMjAxMjEsNjYsMTIwMTczLDY2LDEyMDIyNSw2NiwxMjAyNzcsNjYsMTIwMzI5LDY2LDEyMDM4MSw2NiwxMjA0MzMsNjYsNDI5MzIsNjYsOTE0LDY2LDEyMDQ4OSw2NiwxMjA1NDcsNjYsMTIwNjA1LDY2LDEyMDY2Myw2NiwxMjA3MjEsNjYsNTEwOCw2Niw1NjIzLDY2LDQyMTkyLDY2LDY2MTc4LDY2LDY2MjA5LDY2LDY2MzA1LDY2LDY1MzQ3LDk5LDg1NzMsOTksMTE5ODM2LDk5LDExOTg4OCw5OSwxMTk5NDAsOTksMTE5OTkyLDk5LDEyMDA0NCw5OSwxMjAwOTYsOTksMTIwMTQ4LDk5LDEyMDIwMCw5OSwxMjAyNTIsOTksMTIwMzA0LDk5LDEyMDM1Niw5OSwxMjA0MDgsOTksMTIwNDYwLDk5LDc0MjgsOTksMTAxMCw5OSwxMTQyOSw5OSw0Mzk1MSw5OSw2NjYyMSw5OSwxMjg4NDQsNjcsNzE5MjIsNjcsNzE5MTMsNjcsNjUzMTUsNjcsODU1Nyw2Nyw4NDUwLDY3LDg0OTMsNjcsMTE5ODEwLDY3LDExOTg2Miw2NywxMTk5MTQsNjcsMTE5OTY2LDY3LDEyMDAxOCw2NywxMjAxNzQsNjcsMTIwMjI2LDY3LDEyMDI3OCw2NywxMjAzMzAsNjcsMTIwMzgyLDY3LDEyMDQzNCw2NywxMDE3LDY3LDExNDI4LDY3LDUwODcsNjcsNDIyMDIsNjcsNjYyMTAsNjcsNjYzMDYsNjcsNjY1ODEsNjcsNjY4NDQsNjcsODU3NCwxMDAsODUxOCwxMDAsMTE5ODM3LDEwMCwxMTk4ODksMTAwLDExOTk0MSwxMDAsMTE5OTkzLDEwMCwxMjAwNDUsMTAwLDEyMDA5NywxMDAsMTIwMTQ5LDEwMCwxMjAyMDEsMTAwLDEyMDI1MywxMDAsMTIwMzA1LDEwMCwxMjAzNTcsMTAwLDEyMDQwOSwxMDAsMTIwNDYxLDEwMCwxMjgxLDEwMCw1MDk1LDEwMCw1MjMxLDEwMCw0MjE5NCwxMDAsODU1OCw2OCw4NTE3LDY4LDExOTgxMSw2OCwxMTk4NjMsNjgsMTE5OTE1LDY4LDExOTk2Nyw2OCwxMjAwMTksNjgsMTIwMDcxLDY4LDEyMDEyMyw2OCwxMjAxNzUsNjgsMTIwMjI3LDY4LDEyMDI3OSw2OCwxMjAzMzEsNjgsMTIwMzgzLDY4LDEyMDQzNSw2OCw1MDI0LDY4LDU1OTgsNjgsNTYxMCw2OCw0MjE5NSw2OCw4NDk0LDEwMSw2NTM0OSwxMDEsODQ5NSwxMDEsODUxOSwxMDEsMTE5ODM4LDEwMSwxMTk4OTAsMTAxLDExOTk0MiwxMDEsMTIwMDQ2LDEwMSwxMjAwOTgsMTAxLDEyMDE1MCwxMDEsMTIwMjAyLDEwMSwxMjAyNTQsMTAxLDEyMDMwNiwxMDEsMTIwMzU4LDEwMSwxMjA0MTAsMTAxLDEyMDQ2MiwxMDEsNDM4MjYsMTAxLDEyMTMsMTAxLDg5NTksNjksNjUzMTcsNjksODQ5Niw2OSwxMTk4MTIsNjksMTE5ODY0LDY5LDExOTkxNiw2OSwxMjAwMjAsNjksMTIwMDcyLDY5LDEyMDEyNCw2OSwxMjAxNzYsNjksMTIwMjI4LDY5LDEyMDI4MCw2OSwxMjAzMzIsNjksMTIwMzg0LDY5LDEyMDQzNiw2OSw5MTcsNjksMTIwNDkyLDY5LDEyMDU1MCw2OSwxMjA2MDgsNjksMTIwNjY2LDY5LDEyMDcyNCw2OSwxMTU3Nyw2OSw1MDM2LDY5LDQyMjI0LDY5LDcxODQ2LDY5LDcxODU0LDY5LDY2MTgyLDY5LDExOTgzOSwxMDIsMTE5ODkxLDEwMiwxMTk5NDMsMTAyLDExOTk5NSwxMDIsMTIwMDQ3LDEwMiwxMjAwOTksMTAyLDEyMDE1MSwxMDIsMTIwMjAzLDEwMiwxMjAyNTUsMTAyLDEyMDMwNywxMDIsMTIwMzU5LDEwMiwxMjA0MTEsMTAyLDEyMDQ2MywxMDIsNDM4MjksMTAyLDQyOTA1LDEwMiwzODMsMTAyLDc4MzcsMTAyLDE0MTIsMTAyLDExOTMxNSw3MCw4NDk3LDcwLDExOTgxMyw3MCwxMTk4NjUsNzAsMTE5OTE3LDcwLDEyMDAyMSw3MCwxMjAwNzMsNzAsMTIwMTI1LDcwLDEyMDE3Nyw3MCwxMjAyMjksNzAsMTIwMjgxLDcwLDEyMDMzMyw3MCwxMjAzODUsNzAsMTIwNDM3LDcwLDQyOTA0LDcwLDk4OCw3MCwxMjA3NzgsNzAsNTU1Niw3MCw0MjIwNSw3MCw3MTg3NCw3MCw3MTg0Miw3MCw2NjE4Myw3MCw2NjIxMyw3MCw2Njg1Myw3MCw2NTM1MSwxMDMsODQ1OCwxMDMsMTE5ODQwLDEwMywxMTk4OTIsMTAzLDExOTk0NCwxMDMsMTIwMDQ4LDEwMywxMjAxMDAsMTAzLDEyMDE1MiwxMDMsMTIwMjA0LDEwMywxMjAyNTYsMTAzLDEyMDMwOCwxMDMsMTIwMzYwLDEwMywxMjA0MTIsMTAzLDEyMDQ2NCwxMDMsNjA5LDEwMyw3NTU1LDEwMywzOTcsMTAzLDE0MDksMTAzLDExOTgxNCw3MSwxMTk4NjYsNzEsMTE5OTE4LDcxLDExOTk3MCw3MSwxMjAwMjIsNzEsMTIwMDc0LDcxLDEyMDEyNiw3MSwxMjAxNzgsNzEsMTIwMjMwLDcxLDEyMDI4Miw3MSwxMjAzMzQsNzEsMTIwMzg2LDcxLDEyMDQzOCw3MSwxMjkyLDcxLDUwNTYsNzEsNTEwNyw3MSw0MjE5OCw3MSw2NTM1MiwxMDQsODQ2MiwxMDQsMTE5ODQxLDEwNCwxMTk5NDUsMTA0LDExOTk5NywxMDQsMTIwMDQ5LDEwNCwxMjAxMDEsMTA0LDEyMDE1MywxMDQsMTIwMjA1LDEwNCwxMjAyNTcsMTA0LDEyMDMwOSwxMDQsMTIwMzYxLDEwNCwxMjA0MTMsMTA0LDEyMDQ2NSwxMDQsMTIxMSwxMDQsMTM5MiwxMDQsNTA1OCwxMDQsNjUzMjAsNzIsODQ1OSw3Miw4NDYwLDcyLDg0NjEsNzIsMTE5ODE1LDcyLDExOTg2Nyw3MiwxMTk5MTksNzIsMTIwMDIzLDcyLDEyMDE3OSw3MiwxMjAyMzEsNzIsMTIwMjgzLDcyLDEyMDMzNSw3MiwxMjAzODcsNzIsMTIwNDM5LDcyLDkxOSw3MiwxMjA0OTQsNzIsMTIwNTUyLDcyLDEyMDYxMCw3MiwxMjA2NjgsNzIsMTIwNzI2LDcyLDExNDA2LDcyLDUwNTEsNzIsNTUwMCw3Miw0MjIxNSw3Miw2NjI1NSw3Miw3MzEsMTA1LDkwNzUsMTA1LDY1MzUzLDEwNSw4NTYwLDEwNSw4NTA1LDEwNSw4NTIwLDEwNSwxMTk4NDIsMTA1LDExOTg5NCwxMDUsMTE5OTQ2LDEwNSwxMTk5OTgsMTA1LDEyMDA1MCwxMDUsMTIwMTAyLDEwNSwxMjAxNTQsMTA1LDEyMDIwNiwxMDUsMTIwMjU4LDEwNSwxMjAzMTAsMTA1LDEyMDM2MiwxMDUsMTIwNDE0LDEwNSwxMjA0NjYsMTA1LDEyMDQ4NCwxMDUsNjE4LDEwNSw2MTcsMTA1LDk1MywxMDUsODEyNiwxMDUsODkwLDEwNSwxMjA1MjIsMTA1LDEyMDU4MCwxMDUsMTIwNjM4LDEwNSwxMjA2OTYsMTA1LDEyMDc1NCwxMDUsMTExMCwxMDUsNDI1NjcsMTA1LDEyMzEsMTA1LDQzODkzLDEwNSw1MDI5LDEwNSw3MTg3NSwxMDUsNjUzNTQsMTA2LDg1MjEsMTA2LDExOTg0MywxMDYsMTE5ODk1LDEwNiwxMTk5NDcsMTA2LDExOTk5OSwxMDYsMTIwMDUxLDEwNiwxMjAxMDMsMTA2LDEyMDE1NSwxMDYsMTIwMjA3LDEwNiwxMjAyNTksMTA2LDEyMDMxMSwxMDYsMTIwMzYzLDEwNiwxMjA0MTUsMTA2LDEyMDQ2NywxMDYsMTAxMSwxMDYsMTExMiwxMDYsNjUzMjIsNzQsMTE5ODE3LDc0LDExOTg2OSw3NCwxMTk5MjEsNzQsMTE5OTczLDc0LDEyMDAyNSw3NCwxMjAwNzcsNzQsMTIwMTI5LDc0LDEyMDE4MSw3NCwxMjAyMzMsNzQsMTIwMjg1LDc0LDEyMDMzNyw3NCwxMjAzODksNzQsMTIwNDQxLDc0LDQyOTMwLDc0LDg5NSw3NCwxMDMyLDc0LDUwMzUsNzQsNTI2MSw3NCw0MjIwMSw3NCwxMTk4NDQsMTA3LDExOTg5NiwxMDcsMTE5OTQ4LDEwNywxMjAwMDAsMTA3LDEyMDA1MiwxMDcsMTIwMTA0LDEwNywxMjAxNTYsMTA3LDEyMDIwOCwxMDcsMTIwMjYwLDEwNywxMjAzMTIsMTA3LDEyMDM2NCwxMDcsMTIwNDE2LDEwNywxMjA0NjgsMTA3LDg0OTAsNzUsNjUzMjMsNzUsMTE5ODE4LDc1LDExOTg3MCw3NSwxMTk5MjIsNzUsMTE5OTc0LDc1LDEyMDAyNiw3NSwxMjAwNzgsNzUsMTIwMTMwLDc1LDEyMDE4Miw3NSwxMjAyMzQsNzUsMTIwMjg2LDc1LDEyMDMzOCw3NSwxMjAzOTAsNzUsMTIwNDQyLDc1LDkyMiw3NSwxMjA0OTcsNzUsMTIwNTU1LDc1LDEyMDYxMyw3NSwxMjA2NzEsNzUsMTIwNzI5LDc1LDExNDEyLDc1LDUwOTQsNzUsNTg0NSw3NSw0MjE5OSw3NSw2Njg0MCw3NSwxNDcyLDEwOCw4NzM5LDczLDkyMTMsNzMsNjU1MTIsNzMsMTYzMywxMDgsMTc3Nyw3Myw2NjMzNiwxMDgsMTI1MTI3LDEwOCwxMjA3ODMsNzMsMTIwNzkzLDczLDEyMDgwMyw3MywxMjA4MTMsNzMsMTIwODIzLDczLDEzMDAzMyw3Myw2NTMyMSw3Myw4NTQ0LDczLDg0NjQsNzMsODQ2NSw3MywxMTk4MTYsNzMsMTE5ODY4LDczLDExOTkyMCw3MywxMjAwMjQsNzMsMTIwMTI4LDczLDEyMDE4MCw3MywxMjAyMzIsNzMsMTIwMjg0LDczLDEyMDMzNiw3MywxMjAzODgsNzMsMTIwNDQwLDczLDY1MzU2LDEwOCw4NTcyLDczLDg0NjcsMTA4LDExOTg0NSwxMDgsMTE5ODk3LDEwOCwxMTk5NDksMTA4LDEyMDAwMSwxMDgsMTIwMDUzLDEwOCwxMjAxMDUsNzMsMTIwMTU3LDczLDEyMDIwOSw3MywxMjAyNjEsNzMsMTIwMzEzLDczLDEyMDM2NSw3MywxMjA0MTcsNzMsMTIwNDY5LDczLDQ0OCw3MywxMjA0OTYsNzMsMTIwNTU0LDczLDEyMDYxMiw3MywxMjA2NzAsNzMsMTIwNzI4LDczLDExNDEwLDczLDEwMzAsNzMsMTIxNiw3MywxNDkzLDEwOCwxNTAzLDEwOCwxNTc1LDEwOCwxMjY0NjQsMTA4LDEyNjU5MiwxMDgsNjUxNjYsMTA4LDY1MTY1LDEwOCwxOTk0LDEwOCwxMTU5OSw3Myw1ODI1LDczLDQyMjI2LDczLDkzOTkyLDczLDY2MTg2LDEyNCw2NjMxMywxMjQsMTE5MzM4LDc2LDg1NTYsNzYsODQ2Niw3NiwxMTk4MTksNzYsMTE5ODcxLDc2LDExOTkyMyw3NiwxMjAwMjcsNzYsMTIwMDc5LDc2LDEyMDEzMSw3NiwxMjAxODMsNzYsMTIwMjM1LDc2LDEyMDI4Nyw3NiwxMjAzMzksNzYsMTIwMzkxLDc2LDEyMDQ0Myw3NiwxMTQ3Miw3Niw1MDg2LDc2LDUyOTAsNzYsNDIyMDksNzYsOTM5NzQsNzYsNzE4NDMsNzYsNzE4NTgsNzYsNjY1ODcsNzYsNjY4NTQsNzYsNjUzMjUsNzcsODU1OSw3Nyw4NDk5LDc3LDExOTgyMCw3NywxMTk4NzIsNzcsMTE5OTI0LDc3LDEyMDAyOCw3NywxMjAwODAsNzcsMTIwMTMyLDc3LDEyMDE4NCw3NywxMjAyMzYsNzcsMTIwMjg4LDc3LDEyMDM0MCw3NywxMjAzOTIsNzcsMTIwNDQ0LDc3LDkyNCw3NywxMjA0OTksNzcsMTIwNTU3LDc3LDEyMDYxNSw3NywxMjA2NzMsNzcsMTIwNzMxLDc3LDEwMTgsNzcsMTE0MTYsNzcsNTA0Nyw3Nyw1NjE2LDc3LDU4NDYsNzcsNDIyMDcsNzcsNjYyMjQsNzcsNjYzMjEsNzcsMTE5ODQ3LDExMCwxMTk4OTksMTEwLDExOTk1MSwxMTAsMTIwMDAzLDExMCwxMjAwNTUsMTEwLDEyMDEwNywxMTAsMTIwMTU5LDExMCwxMjAyMTEsMTEwLDEyMDI2MywxMTAsMTIwMzE1LDExMCwxMjAzNjcsMTEwLDEyMDQxOSwxMTAsMTIwNDcxLDExMCwxNDAwLDExMCwxNDA0LDExMCw2NTMyNiw3OCw4NDY5LDc4LDExOTgyMSw3OCwxMTk4NzMsNzgsMTE5OTI1LDc4LDExOTk3Nyw3OCwxMjAwMjksNzgsMTIwMDgxLDc4LDEyMDE4NSw3OCwxMjAyMzcsNzgsMTIwMjg5LDc4LDEyMDM0MSw3OCwxMjAzOTMsNzgsMTIwNDQ1LDc4LDkyNSw3OCwxMjA1MDAsNzgsMTIwNTU4LDc4LDEyMDYxNiw3OCwxMjA2NzQsNzgsMTIwNzMyLDc4LDExNDE4LDc4LDQyMjA4LDc4LDY2ODM1LDc4LDMwNzQsMTExLDMyMDIsMTExLDMzMzAsMTExLDM0NTgsMTExLDI0MDYsMTExLDI2NjIsMTExLDI3OTAsMTExLDMwNDYsMTExLDMxNzQsMTExLDMzMDIsMTExLDM0MzAsMTExLDM2NjQsMTExLDM3OTIsMTExLDQxNjAsMTExLDE2MzcsMTExLDE3ODEsMTExLDY1MzU5LDExMSw4NTAwLDExMSwxMTk4NDgsMTExLDExOTkwMCwxMTEsMTE5OTUyLDExMSwxMjAwNTYsMTExLDEyMDEwOCwxMTEsMTIwMTYwLDExMSwxMjAyMTIsMTExLDEyMDI2NCwxMTEsMTIwMzE2LDExMSwxMjAzNjgsMTExLDEyMDQyMCwxMTEsMTIwNDcyLDExMSw3NDM5LDExMSw3NDQxLDExMSw0MzgzNywxMTEsOTU5LDExMSwxMjA1MjgsMTExLDEyMDU4NiwxMTEsMTIwNjQ0LDExMSwxMjA3MDIsMTExLDEyMDc2MCwxMTEsOTYzLDExMSwxMjA1MzIsMTExLDEyMDU5MCwxMTEsMTIwNjQ4LDExMSwxMjA3MDYsMTExLDEyMDc2NCwxMTEsMTE0MjMsMTExLDQzNTEsMTExLDE0MTMsMTExLDE1MDUsMTExLDE2MDcsMTExLDEyNjUwMCwxMTEsMTI2NTY0LDExMSwxMjY1OTYsMTExLDY1MjU5LDExMSw2NTI2MCwxMTEsNjUyNTgsMTExLDY1MjU3LDExMSwxNzI2LDExMSw2NDQyOCwxMTEsNjQ0MjksMTExLDY0NDI3LDExMSw2NDQyNiwxMTEsMTcyOSwxMTEsNjQ0MjQsMTExLDY0NDI1LDExMSw2NDQyMywxMTEsNjQ0MjIsMTExLDE3NDksMTExLDMzNjAsMTExLDQxMjUsMTExLDY2Nzk0LDExMSw3MTg4MCwxMTEsNzE4OTUsMTExLDY2NjA0LDExMSwxOTg0LDc5LDI1MzQsNzksMjkxOCw3OSwxMjI5NSw3OSw3MDg2NCw3OSw3MTkwNCw3OSwxMjA3ODIsNzksMTIwNzkyLDc5LDEyMDgwMiw3OSwxMjA4MTIsNzksMTIwODIyLDc5LDEzMDAzMiw3OSw2NTMyNyw3OSwxMTk4MjIsNzksMTE5ODc0LDc5LDExOTkyNiw3OSwxMTk5NzgsNzksMTIwMDMwLDc5LDEyMDA4Miw3OSwxMjAxMzQsNzksMTIwMTg2LDc5LDEyMDIzOCw3OSwxMjAyOTAsNzksMTIwMzQyLDc5LDEyMDM5NCw3OSwxMjA0NDYsNzksOTI3LDc5LDEyMDUwMiw3OSwxMjA1NjAsNzksMTIwNjE4LDc5LDEyMDY3Niw3OSwxMjA3MzQsNzksMTE0MjIsNzksMTM2NSw3OSwxMTYwNCw3OSw0ODE2LDc5LDI4NDgsNzksNjY3NTQsNzksNDIyMjcsNzksNzE4NjEsNzksNjYxOTQsNzksNjYyMTksNzksNjY1NjQsNzksNjY4MzgsNzksOTA3NiwxMTIsNjUzNjAsMTEyLDExOTg0OSwxMTIsMTE5OTAxLDExMiwxMTk5NTMsMTEyLDEyMDAwNSwxMTIsMTIwMDU3LDExMiwxMjAxMDksMTEyLDEyMDE2MSwxMTIsMTIwMjEzLDExMiwxMjAyNjUsMTEyLDEyMDMxNywxMTIsMTIwMzY5LDExMiwxMjA0MjEsMTEyLDEyMDQ3MywxMTIsOTYxLDExMiwxMjA1MzAsMTEyLDEyMDU0NCwxMTIsMTIwNTg4LDExMiwxMjA2MDIsMTEyLDEyMDY0NiwxMTIsMTIwNjYwLDExMiwxMjA3MDQsMTEyLDEyMDcxOCwxMTIsMTIwNzYyLDExMiwxMjA3NzYsMTEyLDExNDI3LDExMiw2NTMyOCw4MCw4NDczLDgwLDExOTgyMyw4MCwxMTk4NzUsODAsMTE5OTI3LDgwLDExOTk3OSw4MCwxMjAwMzEsODAsMTIwMDgzLDgwLDEyMDE4Nyw4MCwxMjAyMzksODAsMTIwMjkxLDgwLDEyMDM0Myw4MCwxMjAzOTUsODAsMTIwNDQ3LDgwLDkyOSw4MCwxMjA1MDQsODAsMTIwNTYyLDgwLDEyMDYyMCw4MCwxMjA2NzgsODAsMTIwNzM2LDgwLDExNDI2LDgwLDUwOTAsODAsNTIyOSw4MCw0MjE5Myw4MCw2NjE5Nyw4MCwxMTk4NTAsMTEzLDExOTkwMiwxMTMsMTE5OTU0LDExMywxMjAwMDYsMTEzLDEyMDA1OCwxMTMsMTIwMTEwLDExMywxMjAxNjIsMTEzLDEyMDIxNCwxMTMsMTIwMjY2LDExMywxMjAzMTgsMTEzLDEyMDM3MCwxMTMsMTIwNDIyLDExMywxMjA0NzQsMTEzLDEzMDcsMTEzLDEzNzksMTEzLDEzODIsMTEzLDg0NzQsODEsMTE5ODI0LDgxLDExOTg3Niw4MSwxMTk5MjgsODEsMTE5OTgwLDgxLDEyMDAzMiw4MSwxMjAwODQsODEsMTIwMTg4LDgxLDEyMDI0MCw4MSwxMjAyOTIsODEsMTIwMzQ0LDgxLDEyMDM5Niw4MSwxMjA0NDgsODEsMTE2MDUsODEsMTE5ODUxLDExNCwxMTk5MDMsMTE0LDExOTk1NSwxMTQsMTIwMDA3LDExNCwxMjAwNTksMTE0LDEyMDExMSwxMTQsMTIwMTYzLDExNCwxMjAyMTUsMTE0LDEyMDI2NywxMTQsMTIwMzE5LDExNCwxMjAzNzEsMTE0LDEyMDQyMywxMTQsMTIwNDc1LDExNCw0Mzg0NywxMTQsNDM4NDgsMTE0LDc0NjIsMTE0LDExMzk3LDExNCw0MzkwNSwxMTQsMTE5MzE4LDgyLDg0NzUsODIsODQ3Niw4Miw4NDc3LDgyLDExOTgyNSw4MiwxMTk4NzcsODIsMTE5OTI5LDgyLDEyMDAzMyw4MiwxMjAxODksODIsMTIwMjQxLDgyLDEyMDI5Myw4MiwxMjAzNDUsODIsMTIwMzk3LDgyLDEyMDQ0OSw4Miw0MjIsODIsNTAyNSw4Miw1MDc0LDgyLDY2NzQwLDgyLDU1MTEsODIsNDIyMTEsODIsOTQwMDUsODIsNjUzNjMsMTE1LDExOTg1MiwxMTUsMTE5OTA0LDExNSwxMTk5NTYsMTE1LDEyMDAwOCwxMTUsMTIwMDYwLDExNSwxMjAxMTIsMTE1LDEyMDE2NCwxMTUsMTIwMjE2LDExNSwxMjAyNjgsMTE1LDEyMDMyMCwxMTUsMTIwMzcyLDExNSwxMjA0MjQsMTE1LDEyMDQ3NiwxMTUsNDI4MDEsMTE1LDQ0NSwxMTUsMTEwOSwxMTUsNDM5NDYsMTE1LDcxODczLDExNSw2NjYzMiwxMTUsNjUzMzEsODMsMTE5ODI2LDgzLDExOTg3OCw4MywxMTk5MzAsODMsMTE5OTgyLDgzLDEyMDAzNCw4MywxMjAwODYsODMsMTIwMTM4LDgzLDEyMDE5MCw4MywxMjAyNDIsODMsMTIwMjk0LDgzLDEyMDM0Niw4MywxMjAzOTgsODMsMTIwNDUwLDgzLDEwMjksODMsMTM1OSw4Myw1MDc3LDgzLDUwODIsODMsNDIyMTAsODMsOTQwMTAsODMsNjYxOTgsODMsNjY1OTIsODMsMTE5ODUzLDExNiwxMTk5MDUsMTE2LDExOTk1NywxMTYsMTIwMDA5LDExNiwxMjAwNjEsMTE2LDEyMDExMywxMTYsMTIwMTY1LDExNiwxMjAyMTcsMTE2LDEyMDI2OSwxMTYsMTIwMzIxLDExNiwxMjAzNzMsMTE2LDEyMDQyNSwxMTYsMTIwNDc3LDExNiw4ODY4LDg0LDEwMjAxLDg0LDEyODg3Miw4NCw2NTMzMiw4NCwxMTk4MjcsODQsMTE5ODc5LDg0LDExOTkzMSw4NCwxMTk5ODMsODQsMTIwMDM1LDg0LDEyMDA4Nyw4NCwxMjAxMzksODQsMTIwMTkxLDg0LDEyMDI0Myw4NCwxMjAyOTUsODQsMTIwMzQ3LDg0LDEyMDM5OSw4NCwxMjA0NTEsODQsOTMyLDg0LDEyMDUwNyw4NCwxMjA1NjUsODQsMTIwNjIzLDg0LDEyMDY4MSw4NCwxMjA3MzksODQsMTE0MzAsODQsNTAyNiw4NCw0MjE5Niw4NCw5Mzk2Miw4NCw3MTg2OCw4NCw2NjE5OSw4NCw2NjIyNSw4NCw2NjMyNSw4NCwxMTk4NTQsMTE3LDExOTkwNiwxMTcsMTE5OTU4LDExNywxMjAwMTAsMTE3LDEyMDA2MiwxMTcsMTIwMTE0LDExNywxMjAxNjYsMTE3LDEyMDIxOCwxMTcsMTIwMjcwLDExNywxMjAzMjIsMTE3LDEyMDM3NCwxMTcsMTIwNDI2LDExNywxMjA0NzgsMTE3LDQyOTExLDExNyw3NDUyLDExNyw0Mzg1NCwxMTcsNDM4NTgsMTE3LDY1MSwxMTcsOTY1LDExNywxMjA1MzQsMTE3LDEyMDU5MiwxMTcsMTIwNjUwLDExNywxMjA3MDgsMTE3LDEyMDc2NiwxMTcsMTQwNSwxMTcsNjY4MDYsMTE3LDcxODk2LDExNyw4NzQ2LDg1LDg4OTksODUsMTE5ODI4LDg1LDExOTg4MCw4NSwxMTk5MzIsODUsMTE5OTg0LDg1LDEyMDAzNiw4NSwxMjAwODgsODUsMTIwMTQwLDg1LDEyMDE5Miw4NSwxMjAyNDQsODUsMTIwMjk2LDg1LDEyMDM0OCw4NSwxMjA0MDAsODUsMTIwNDUyLDg1LDEzNTcsODUsNDYwOCw4NSw2Njc2Niw4NSw1MTk2LDg1LDQyMjI4LDg1LDk0MDE4LDg1LDcxODY0LDg1LDg3NDQsMTE4LDg4OTcsMTE4LDY1MzY2LDExOCw4NTY0LDExOCwxMTk4NTUsMTE4LDExOTkwNywxMTgsMTE5OTU5LDExOCwxMjAwMTEsMTE4LDEyMDA2MywxMTgsMTIwMTE1LDExOCwxMjAxNjcsMTE4LDEyMDIxOSwxMTgsMTIwMjcxLDExOCwxMjAzMjMsMTE4LDEyMDM3NSwxMTgsMTIwNDI3LDExOCwxMjA0NzksMTE4LDc0NTYsMTE4LDk1NywxMTgsMTIwNTI2LDExOCwxMjA1ODQsMTE4LDEyMDY0MiwxMTgsMTIwNzAwLDExOCwxMjA3NTgsMTE4LDExNDEsMTE4LDE0OTYsMTE4LDcxNDMwLDExOCw0Mzk0NSwxMTgsNzE4NzIsMTE4LDExOTMwOSw4NiwxNjM5LDg2LDE3ODMsODYsODU0OCw4NiwxMTk4MjksODYsMTE5ODgxLDg2LDExOTkzMyw4NiwxMTk5ODUsODYsMTIwMDM3LDg2LDEyMDA4OSw4NiwxMjAxNDEsODYsMTIwMTkzLDg2LDEyMDI0NSw4NiwxMjAyOTcsODYsMTIwMzQ5LDg2LDEyMDQwMSw4NiwxMjA0NTMsODYsMTE0MCw4NiwxMTU3Niw4Niw1MDgxLDg2LDUxNjcsODYsNDI3MTksODYsNDIyMTQsODYsOTM5NjAsODYsNzE4NDAsODYsNjY4NDUsODYsNjIzLDExOSwxMTk4NTYsMTE5LDExOTkwOCwxMTksMTE5OTYwLDExOSwxMjAwMTIsMTE5LDEyMDA2NCwxMTksMTIwMTE2LDExOSwxMjAxNjgsMTE5LDEyMDIyMCwxMTksMTIwMjcyLDExOSwxMjAzMjQsMTE5LDEyMDM3NiwxMTksMTIwNDI4LDExOSwxMjA0ODAsMTE5LDc0NTcsMTE5LDExMjEsMTE5LDEzMDksMTE5LDEzNzcsMTE5LDcxNDM0LDExOSw3MTQzOCwxMTksNzE0MzksMTE5LDQzOTA3LDExOSw3MTkxOSw4Nyw3MTkxMCw4NywxMTk4MzAsODcsMTE5ODgyLDg3LDExOTkzNCw4NywxMTk5ODYsODcsMTIwMDM4LDg3LDEyMDA5MCw4NywxMjAxNDIsODcsMTIwMTk0LDg3LDEyMDI0Niw4NywxMjAyOTgsODcsMTIwMzUwLDg3LDEyMDQwMiw4NywxMjA0NTQsODcsMTMwOCw4Nyw1MDQzLDg3LDUwNzYsODcsNDIyMTgsODcsNTc0MiwxMjAsMTA1MzksMTIwLDEwNTQwLDEyMCwxMDc5OSwxMjAsNjUzNjgsMTIwLDg1NjksMTIwLDExOTg1NywxMjAsMTE5OTA5LDEyMCwxMTk5NjEsMTIwLDEyMDAxMywxMjAsMTIwMDY1LDEyMCwxMjAxMTcsMTIwLDEyMDE2OSwxMjAsMTIwMjIxLDEyMCwxMjAyNzMsMTIwLDEyMDMyNSwxMjAsMTIwMzc3LDEyMCwxMjA0MjksMTIwLDEyMDQ4MSwxMjAsNTQ0MSwxMjAsNTUwMSwxMjAsNTc0MSw4OCw5NTg3LDg4LDY2MzM4LDg4LDcxOTE2LDg4LDY1MzM2LDg4LDg1NTMsODgsMTE5ODMxLDg4LDExOTg4Myw4OCwxMTk5MzUsODgsMTE5OTg3LDg4LDEyMDAzOSw4OCwxMjAwOTEsODgsMTIwMTQzLDg4LDEyMDE5NSw4OCwxMjAyNDcsODgsMTIwMjk5LDg4LDEyMDM1MSw4OCwxMjA0MDMsODgsMTIwNDU1LDg4LDQyOTMxLDg4LDkzNSw4OCwxMjA1MTAsODgsMTIwNTY4LDg4LDEyMDYyNiw4OCwxMjA2ODQsODgsMTIwNzQyLDg4LDExNDM2LDg4LDExNjEzLDg4LDU4MTUsODgsNDIyMTksODgsNjYxOTIsODgsNjYyMjgsODgsNjYzMjcsODgsNjY4NTUsODgsNjExLDEyMSw3NTY0LDEyMSw2NTM2OSwxMjEsMTE5ODU4LDEyMSwxMTk5MTAsMTIxLDExOTk2MiwxMjEsMTIwMDE0LDEyMSwxMjAwNjYsMTIxLDEyMDExOCwxMjEsMTIwMTcwLDEyMSwxMjAyMjIsMTIxLDEyMDI3NCwxMjEsMTIwMzI2LDEyMSwxMjAzNzgsMTIxLDEyMDQzMCwxMjEsMTIwNDgyLDEyMSw2NTUsMTIxLDc5MzUsMTIxLDQzODY2LDEyMSw5NDcsMTIxLDg1MDksMTIxLDEyMDUxNiwxMjEsMTIwNTc0LDEyMSwxMjA2MzIsMTIxLDEyMDY5MCwxMjEsMTIwNzQ4LDEyMSwxMTk5LDEyMSw0MzI3LDEyMSw3MTkwMCwxMjEsNjUzMzcsODksMTE5ODMyLDg5LDExOTg4NCw4OSwxMTk5MzYsODksMTE5OTg4LDg5LDEyMDA0MCw4OSwxMjAwOTIsODksMTIwMTQ0LDg5LDEyMDE5Niw4OSwxMjAyNDgsODksMTIwMzAwLDg5LDEyMDM1Miw4OSwxMjA0MDQsODksMTIwNDU2LDg5LDkzMyw4OSw5NzgsODksMTIwNTA4LDg5LDEyMDU2Niw4OSwxMjA2MjQsODksMTIwNjgyLDg5LDEyMDc0MCw4OSwxMTQzMiw4OSwxMTk4LDg5LDUwMzMsODksNTA1Myw4OSw0MjIyMCw4OSw5NDAxOSw4OSw3MTg0NCw4OSw2NjIyNiw4OSwxMTk4NTksMTIyLDExOTkxMSwxMjIsMTE5OTYzLDEyMiwxMjAwMTUsMTIyLDEyMDA2NywxMjIsMTIwMTE5LDEyMiwxMjAxNzEsMTIyLDEyMDIyMywxMjIsMTIwMjc1LDEyMiwxMjAzMjcsMTIyLDEyMDM3OSwxMjIsMTIwNDMxLDEyMiwxMjA0ODMsMTIyLDc0NTgsMTIyLDQzOTIzLDEyMiw3MTg3NiwxMjIsNjYyOTMsOTAsNzE5MDksOTAsNjUzMzgsOTAsODQ4NCw5MCw4NDg4LDkwLDExOTgzMyw5MCwxMTk4ODUsOTAsMTE5OTM3LDkwLDExOTk4OSw5MCwxMjAwNDEsOTAsMTIwMTk3LDkwLDEyMDI0OSw5MCwxMjAzMDEsOTAsMTIwMzUzLDkwLDEyMDQwNSw5MCwxMjA0NTcsOTAsOTE4LDkwLDEyMDQ5Myw5MCwxMjA1NTEsOTAsMTIwNjA5LDkwLDEyMDY2Nyw5MCwxMjA3MjUsOTAsNTA1OSw5MCw0MjIwNCw5MCw3MTg0OSw5MCw2NTI4MiwzNCw2NTI4NCwzNiw2NTI4NSwzNyw2NTI4NiwzOCw2NTI5MCw0Miw2NTI5MSw0Myw2NTI5NCw0Niw2NTI5NSw0Nyw2NTI5Niw0OCw2NTI5Nyw0OSw2NTI5OCw1MCw2NTI5OSw1MSw2NTMwMCw1Miw2NTMwMSw1Myw2NTMwMiw1NCw2NTMwMyw1NSw2NTMwNCw1Niw2NTMwNSw1Nyw2NTMwOCw2MCw2NTMwOSw2MSw2NTMxMCw2Miw2NTMxMiw2NCw2NTMxNiw2OCw2NTMxOCw3MCw2NTMxOSw3MSw2NTMyNCw3Niw2NTMyOSw4MSw2NTMzMCw4Miw2NTMzMyw4NSw2NTMzNCw4Niw2NTMzNSw4Nyw2NTM0Myw5NSw2NTM0Niw5OCw2NTM0OCwxMDAsNjUzNTAsMTAyLDY1MzU1LDEwNyw2NTM1NywxMDksNjUzNTgsMTEwLDY1MzYxLDExMyw2NTM2MiwxMTQsNjUzNjQsMTE2LDY1MzY1LDExNyw2NTM2NywxMTksNjUzNzAsMTIyLDY1MzcxLDEyMyw2NTM3MywxMjUsMTE5ODQ2LDEwOV0sXFxcIl9kZWZhdWx0XFxcIjpbMTYwLDMyLDgyMTEsNDUsNjUzNzQsMTI2LDY1MzA2LDU4LDY1MjgxLDMzLDgyMTYsOTYsODIxNyw5Niw4MjQ1LDk2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDMwNSwxMDUsMTA1MCw3NSw5MjEsNzMsMTA1Miw3NywxMDg2LDExMSwxMDU0LDc5LDEwMDksMTEyLDEwODgsMTEyLDEwNTYsODAsMTA3NSwxMTQsMTA1OCw4NCwyMTUsMTIwLDEwOTMsMTIwLDEwNjEsODgsMTA5MSwxMjEsMTA1OSw4OSw2NTI4MywzNSw2NTI4OCw0MCw2NTI4OSw0MSw2NTI5Miw0NCw2NTMwNyw1OSw2NTMxMSw2M10sXFxcImNzXFxcIjpbNjUzNzQsMTI2LDY1MzA2LDU4LDY1MjgxLDMzLDgyMTYsOTYsODIxNyw5Niw4MjQ1LDk2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDMwNSwxMDUsMTA1MCw3NSw5MjEsNzMsMTA1Miw3NywxMDg2LDExMSwxMDU0LDc5LDEwMDksMTEyLDEwODgsMTEyLDEwNTYsODAsMTA3NSwxMTQsMTA1OCw4NCwxMDkzLDEyMCwxMDYxLDg4LDEwOTEsMTIxLDEwNTksODksNjUyODMsMzUsNjUyODgsNDAsNjUyODksNDEsNjUyOTIsNDQsNjUzMDcsNTksNjUzMTEsNjNdLFxcXCJkZVxcXCI6WzY1Mzc0LDEyNiw2NTMwNiw1OCw2NTI4MSwzMyw4MjE2LDk2LDgyMTcsOTYsODI0NSw5NiwxODAsOTYsMTI0OTQsNDcsMTA0Nyw1MSwxMDczLDU0LDEwNzIsOTcsMTA0MCw2NSwxMDY4LDk4LDEwNDIsNjYsMTA4OSw5OSwxMDU3LDY3LDEwNzcsMTAxLDEwNDUsNjksMTA1Myw3MiwzMDUsMTA1LDEwNTAsNzUsOTIxLDczLDEwNTIsNzcsMTA4NiwxMTEsMTA1NCw3OSwxMDA5LDExMiwxMDg4LDExMiwxMDU2LDgwLDEwNzUsMTE0LDEwNTgsODQsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwiZXNcXFwiOls4MjExLDQ1LDY1Mzc0LDEyNiw2NTMwNiw1OCw2NTI4MSwzMyw4MjQ1LDk2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDMwNSwxMDUsMTA1MCw3NSwxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwiZnJcXFwiOls2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjQ1LDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwiaXRcXFwiOlsxNjAsMzIsODIxMSw0NSw2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjQ1LDk2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDMwNSwxMDUsMTA1MCw3NSw5MjEsNzMsMTA1Miw3NywxMDg2LDExMSwxMDU0LDc5LDEwMDksMTEyLDEwODgsMTEyLDEwNTYsODAsMTA3NSwxMTQsMTA1OCw4NCwyMTUsMTIwLDEwOTMsMTIwLDEwNjEsODgsMTA5MSwxMjEsMTA1OSw4OSw2NTI4MywzNSw2NTI4OCw0MCw2NTI4OSw0MSw2NTI5Miw0NCw2NTMwNyw1OSw2NTMxMSw2M10sXFxcImphXFxcIjpbODIxMSw0NSw2NTMwNiw1OCw2NTI4MSwzMyw4MjE2LDk2LDgyMTcsOTYsODI0NSw5NiwxODAsOTYsMTA0Nyw1MSwxMDczLDU0LDEwNzIsOTcsMTA0MCw2NSwxMDY4LDk4LDEwNDIsNjYsMTA4OSw5OSwxMDU3LDY3LDEwNzcsMTAxLDEwNDUsNjksMTA1Myw3MiwzMDUsMTA1LDEwNTAsNzUsOTIxLDczLDEwNTIsNzcsMTA4NiwxMTEsMTA1NCw3OSwxMDA5LDExMiwxMDg4LDExMiwxMDU2LDgwLDEwNzUsMTE0LDEwNTgsODQsMjE1LDEyMCwxMDkzLDEyMCwxMDYxLDg4LDEwOTEsMTIxLDEwNTksODksNjUyODMsMzUsNjUyOTIsNDQsNjUzMDcsNTldLFxcXCJrb1xcXCI6WzgyMTEsNDUsNjUzNzQsMTI2LDY1MzA2LDU4LDY1MjgxLDMzLDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwicGxcXFwiOls2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjE3LDk2LDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwicHQtQlJcXFwiOls2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjE3LDk2LDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwicXBzLXBsb2NcXFwiOlsxNjAsMzIsODIxMSw0NSw2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjE3LDk2LDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1MjgzLDM1LDY1Mjg4LDQwLDY1Mjg5LDQxLDY1MjkyLDQ0LDY1MzA3LDU5LDY1MzExLDYzXSxcXFwicnVcXFwiOls2NTM3NCwxMjYsNjUzMDYsNTgsNjUyODEsMzMsODIxNiw5Niw4MjE3LDk2LDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDMwNSwxMDUsOTIxLDczLDEwMDksMTEyLDIxNSwxMjAsNjUyODMsMzUsNjUyODgsNDAsNjUyODksNDEsNjUyOTIsNDQsNjUzMDcsNTksNjUzMTEsNjNdLFxcXCJ0clxcXCI6WzE2MCwzMiw4MjExLDQ1LDY1Mzc0LDEyNiw2NTMwNiw1OCw2NTI4MSwzMyw4MjQ1LDk2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDEwNTAsNzUsOTIxLDczLDEwNTIsNzcsMTA4NiwxMTEsMTA1NCw3OSwxMDA5LDExMiwxMDg4LDExMiwxMDU2LDgwLDEwNzUsMTE0LDEwNTgsODQsMjE1LDEyMCwxMDkzLDEyMCwxMDYxLDg4LDEwOTEsMTIxLDEwNTksODksNjUyODMsMzUsNjUyODgsNDAsNjUyODksNDEsNjUyOTIsNDQsNjUzMDcsNTksNjUzMTEsNjNdLFxcXCJ6aC1oYW5zXFxcIjpbNjUzNzQsMTI2LDY1MzA2LDU4LDY1MjgxLDMzLDgyNDUsOTYsMTgwLDk2LDEyNDk0LDQ3LDEwNDcsNTEsMTA3Myw1NCwxMDcyLDk3LDEwNDAsNjUsMTA2OCw5OCwxMDQyLDY2LDEwODksOTksMTA1Nyw2NywxMDc3LDEwMSwxMDQ1LDY5LDEwNTMsNzIsMzA1LDEwNSwxMDUwLDc1LDkyMSw3MywxMDUyLDc3LDEwODYsMTExLDEwNTQsNzksMTAwOSwxMTIsMTA4OCwxMTIsMTA1Niw4MCwxMDc1LDExNCwxMDU4LDg0LDIxNSwxMjAsMTA5MywxMjAsMTA2MSw4OCwxMDkxLDEyMSwxMDU5LDg5LDY1Mjg4LDQwLDY1Mjg5LDQxXSxcXFwiemgtaGFudFxcXCI6WzgyMTEsNDUsNjUzNzQsMTI2LDE4MCw5NiwxMjQ5NCw0NywxMDQ3LDUxLDEwNzMsNTQsMTA3Miw5NywxMDQwLDY1LDEwNjgsOTgsMTA0Miw2NiwxMDg5LDk5LDEwNTcsNjcsMTA3NywxMDEsMTA0NSw2OSwxMDUzLDcyLDMwNSwxMDUsMTA1MCw3NSw5MjEsNzMsMTA1Miw3NywxMDg2LDExMSwxMDU0LDc5LDEwMDksMTEyLDEwODgsMTEyLDEwNTYsODAsMTA3NSwxMTQsMTA1OCw4NCwyMTUsMTIwLDEwOTMsMTIwLDEwNjEsODgsMTA5MSwxMjEsMTA1OSw4OSw2NTI4MywzNSw2NTMwNyw1OV19Jyk7XG59KTtcbkFtYmlndW91c0NoYXJhY3RlcnMuY2FjaGUgPSBuZXcgTFJVQ2FjaGVkRnVuY3Rpb24oKGxvY2FsZXMpID0+IHtcbiAgICBmdW5jdGlvbiBhcnJheVRvTWFwKGFycikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KGFycltpXSwgYXJyW2kgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gbWVyZ2VNYXBzKG1hcDEsIG1hcDIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IE1hcChtYXAxKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgbWFwMikge1xuICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcnNlY3RNYXBzKG1hcDEsIG1hcDIpIHtcbiAgICAgICAgaWYgKCFtYXAxKSB7XG4gICAgICAgICAgICByZXR1cm4gbWFwMjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIG1hcDEpIHtcbiAgICAgICAgICAgIGlmIChtYXAyLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnNldChrZXksIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCBkYXRhID0gX2EuYW1iaWd1b3VzQ2hhcmFjdGVyRGF0YS52YWx1ZTtcbiAgICBsZXQgZmlsdGVyZWRMb2NhbGVzID0gbG9jYWxlcy5maWx0ZXIoKGwpID0+ICFsLnN0YXJ0c1dpdGgoJ18nKSAmJiBsIGluIGRhdGEpO1xuICAgIGlmIChmaWx0ZXJlZExvY2FsZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGZpbHRlcmVkTG9jYWxlcyA9IFsnX2RlZmF1bHQnXTtcbiAgICB9XG4gICAgbGV0IGxhbmd1YWdlU3BlY2lmaWNNYXAgPSB1bmRlZmluZWQ7XG4gICAgZm9yIChjb25zdCBsb2NhbGUgb2YgZmlsdGVyZWRMb2NhbGVzKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IGFycmF5VG9NYXAoZGF0YVtsb2NhbGVdKTtcbiAgICAgICAgbGFuZ3VhZ2VTcGVjaWZpY01hcCA9IGludGVyc2VjdE1hcHMobGFuZ3VhZ2VTcGVjaWZpY01hcCwgbWFwKTtcbiAgICB9XG4gICAgY29uc3QgY29tbW9uTWFwID0gYXJyYXlUb01hcChkYXRhWydfY29tbW9uJ10pO1xuICAgIGNvbnN0IG1hcCA9IG1lcmdlTWFwcyhjb21tb25NYXAsIGxhbmd1YWdlU3BlY2lmaWNNYXApO1xuICAgIHJldHVybiBuZXcgX2EobWFwKTtcbn0pO1xuQW1iaWd1b3VzQ2hhcmFjdGVycy5fbG9jYWxlcyA9IG5ldyBMYXp5KCgpID0+IE9iamVjdC5rZXlzKF9hLmFtYmlndW91c0NoYXJhY3RlckRhdGEudmFsdWUpLmZpbHRlcigoaykgPT4gIWsuc3RhcnRzV2l0aCgnXycpKSk7XG5leHBvcnQgY2xhc3MgSW52aXNpYmxlQ2hhcmFjdGVycyB7XG4gICAgc3RhdGljIGdldFJhd0RhdGEoKSB7XG4gICAgICAgIC8vIEdlbmVyYXRlZCB1c2luZyBodHRwczovL2dpdGh1Yi5jb20vaGVkaWV0L3ZzY29kZS11bmljb2RlLWRhdGFcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoJ1s5LDEwLDExLDEyLDEzLDMyLDEyNywxNjAsMTczLDg0NywxNTY0LDQ0NDcsNDQ0OCw2MDY4LDYwNjksNjE1NSw2MTU2LDYxNTcsNjE1OCw3MzU1LDczNTYsODE5Miw4MTkzLDgxOTQsODE5NSw4MTk2LDgxOTcsODE5OCw4MTk5LDgyMDAsODIwMSw4MjAyLDgyMDMsODIwNCw4MjA1LDgyMDYsODIwNyw4MjM0LDgyMzUsODIzNiw4MjM3LDgyMzgsODIzOSw4Mjg3LDgyODgsODI4OSw4MjkwLDgyOTEsODI5Miw4MjkzLDgyOTQsODI5NSw4Mjk2LDgyOTcsODI5OCw4Mjk5LDgzMDAsODMwMSw4MzAyLDgzMDMsMTAyNDAsMTIyODgsMTI2NDQsNjUwMjQsNjUwMjUsNjUwMjYsNjUwMjcsNjUwMjgsNjUwMjksNjUwMzAsNjUwMzEsNjUwMzIsNjUwMzMsNjUwMzQsNjUwMzUsNjUwMzYsNjUwMzcsNjUwMzgsNjUwMzksNjUyNzksNjU0NDAsNjU1MjAsNjU1MjEsNjU1MjIsNjU1MjMsNjU1MjQsNjU1MjUsNjU1MjYsNjU1MjcsNjU1MjgsNjU1MzIsNzg4NDQsMTE5MTU1LDExOTE1NiwxMTkxNTcsMTE5MTU4LDExOTE1OSwxMTkxNjAsMTE5MTYxLDExOTE2Miw5MTc1MDQsOTE3NTA1LDkxNzUwNiw5MTc1MDcsOTE3NTA4LDkxNzUwOSw5MTc1MTAsOTE3NTExLDkxNzUxMiw5MTc1MTMsOTE3NTE0LDkxNzUxNSw5MTc1MTYsOTE3NTE3LDkxNzUxOCw5MTc1MTksOTE3NTIwLDkxNzUyMSw5MTc1MjIsOTE3NTIzLDkxNzUyNCw5MTc1MjUsOTE3NTI2LDkxNzUyNyw5MTc1MjgsOTE3NTI5LDkxNzUzMCw5MTc1MzEsOTE3NTMyLDkxNzUzMyw5MTc1MzQsOTE3NTM1LDkxNzUzNiw5MTc1MzcsOTE3NTM4LDkxNzUzOSw5MTc1NDAsOTE3NTQxLDkxNzU0Miw5MTc1NDMsOTE3NTQ0LDkxNzU0NSw5MTc1NDYsOTE3NTQ3LDkxNzU0OCw5MTc1NDksOTE3NTUwLDkxNzU1MSw5MTc1NTIsOTE3NTUzLDkxNzU1NCw5MTc1NTUsOTE3NTU2LDkxNzU1Nyw5MTc1NTgsOTE3NTU5LDkxNzU2MCw5MTc1NjEsOTE3NTYyLDkxNzU2Myw5MTc1NjQsOTE3NTY1LDkxNzU2Niw5MTc1NjcsOTE3NTY4LDkxNzU2OSw5MTc1NzAsOTE3NTcxLDkxNzU3Miw5MTc1NzMsOTE3NTc0LDkxNzU3NSw5MTc1NzYsOTE3NTc3LDkxNzU3OCw5MTc1NzksOTE3NTgwLDkxNzU4MSw5MTc1ODIsOTE3NTgzLDkxNzU4NCw5MTc1ODUsOTE3NTg2LDkxNzU4Nyw5MTc1ODgsOTE3NTg5LDkxNzU5MCw5MTc1OTEsOTE3NTkyLDkxNzU5Myw5MTc1OTQsOTE3NTk1LDkxNzU5Niw5MTc1OTcsOTE3NTk4LDkxNzU5OSw5MTc2MDAsOTE3NjAxLDkxNzYwMiw5MTc2MDMsOTE3NjA0LDkxNzYwNSw5MTc2MDYsOTE3NjA3LDkxNzYwOCw5MTc2MDksOTE3NjEwLDkxNzYxMSw5MTc2MTIsOTE3NjEzLDkxNzYxNCw5MTc2MTUsOTE3NjE2LDkxNzYxNyw5MTc2MTgsOTE3NjE5LDkxNzYyMCw5MTc2MjEsOTE3NjIyLDkxNzYyMyw5MTc2MjQsOTE3NjI1LDkxNzYyNiw5MTc2MjcsOTE3NjI4LDkxNzYyOSw5MTc2MzAsOTE3NjMxLDkxNzc2MCw5MTc3NjEsOTE3NzYyLDkxNzc2Myw5MTc3NjQsOTE3NzY1LDkxNzc2Niw5MTc3NjcsOTE3NzY4LDkxNzc2OSw5MTc3NzAsOTE3NzcxLDkxNzc3Miw5MTc3NzMsOTE3Nzc0LDkxNzc3NSw5MTc3NzYsOTE3Nzc3LDkxNzc3OCw5MTc3NzksOTE3NzgwLDkxNzc4MSw5MTc3ODIsOTE3NzgzLDkxNzc4NCw5MTc3ODUsOTE3Nzg2LDkxNzc4Nyw5MTc3ODgsOTE3Nzg5LDkxNzc5MCw5MTc3OTEsOTE3NzkyLDkxNzc5Myw5MTc3OTQsOTE3Nzk1LDkxNzc5Niw5MTc3OTcsOTE3Nzk4LDkxNzc5OSw5MTc4MDAsOTE3ODAxLDkxNzgwMiw5MTc4MDMsOTE3ODA0LDkxNzgwNSw5MTc4MDYsOTE3ODA3LDkxNzgwOCw5MTc4MDksOTE3ODEwLDkxNzgxMSw5MTc4MTIsOTE3ODEzLDkxNzgxNCw5MTc4MTUsOTE3ODE2LDkxNzgxNyw5MTc4MTgsOTE3ODE5LDkxNzgyMCw5MTc4MjEsOTE3ODIyLDkxNzgyMyw5MTc4MjQsOTE3ODI1LDkxNzgyNiw5MTc4MjcsOTE3ODI4LDkxNzgyOSw5MTc4MzAsOTE3ODMxLDkxNzgzMiw5MTc4MzMsOTE3ODM0LDkxNzgzNSw5MTc4MzYsOTE3ODM3LDkxNzgzOCw5MTc4MzksOTE3ODQwLDkxNzg0MSw5MTc4NDIsOTE3ODQzLDkxNzg0NCw5MTc4NDUsOTE3ODQ2LDkxNzg0Nyw5MTc4NDgsOTE3ODQ5LDkxNzg1MCw5MTc4NTEsOTE3ODUyLDkxNzg1Myw5MTc4NTQsOTE3ODU1LDkxNzg1Niw5MTc4NTcsOTE3ODU4LDkxNzg1OSw5MTc4NjAsOTE3ODYxLDkxNzg2Miw5MTc4NjMsOTE3ODY0LDkxNzg2NSw5MTc4NjYsOTE3ODY3LDkxNzg2OCw5MTc4NjksOTE3ODcwLDkxNzg3MSw5MTc4NzIsOTE3ODczLDkxNzg3NCw5MTc4NzUsOTE3ODc2LDkxNzg3Nyw5MTc4NzgsOTE3ODc5LDkxNzg4MCw5MTc4ODEsOTE3ODgyLDkxNzg4Myw5MTc4ODQsOTE3ODg1LDkxNzg4Niw5MTc4ODcsOTE3ODg4LDkxNzg4OSw5MTc4OTAsOTE3ODkxLDkxNzg5Miw5MTc4OTMsOTE3ODk0LDkxNzg5NSw5MTc4OTYsOTE3ODk3LDkxNzg5OCw5MTc4OTksOTE3OTAwLDkxNzkwMSw5MTc5MDIsOTE3OTAzLDkxNzkwNCw5MTc5MDUsOTE3OTA2LDkxNzkwNyw5MTc5MDgsOTE3OTA5LDkxNzkxMCw5MTc5MTEsOTE3OTEyLDkxNzkxMyw5MTc5MTQsOTE3OTE1LDkxNzkxNiw5MTc5MTcsOTE3OTE4LDkxNzkxOSw5MTc5MjAsOTE3OTIxLDkxNzkyMiw5MTc5MjMsOTE3OTI0LDkxNzkyNSw5MTc5MjYsOTE3OTI3LDkxNzkyOCw5MTc5MjksOTE3OTMwLDkxNzkzMSw5MTc5MzIsOTE3OTMzLDkxNzkzNCw5MTc5MzUsOTE3OTM2LDkxNzkzNyw5MTc5MzgsOTE3OTM5LDkxNzk0MCw5MTc5NDEsOTE3OTQyLDkxNzk0Myw5MTc5NDQsOTE3OTQ1LDkxNzk0Niw5MTc5NDcsOTE3OTQ4LDkxNzk0OSw5MTc5NTAsOTE3OTUxLDkxNzk1Miw5MTc5NTMsOTE3OTU0LDkxNzk1NSw5MTc5NTYsOTE3OTU3LDkxNzk1OCw5MTc5NTksOTE3OTYwLDkxNzk2MSw5MTc5NjIsOTE3OTYzLDkxNzk2NCw5MTc5NjUsOTE3OTY2LDkxNzk2Nyw5MTc5NjgsOTE3OTY5LDkxNzk3MCw5MTc5NzEsOTE3OTcyLDkxNzk3Myw5MTc5NzQsOTE3OTc1LDkxNzk3Niw5MTc5NzcsOTE3OTc4LDkxNzk3OSw5MTc5ODAsOTE3OTgxLDkxNzk4Miw5MTc5ODMsOTE3OTg0LDkxNzk4NSw5MTc5ODYsOTE3OTg3LDkxNzk4OCw5MTc5ODksOTE3OTkwLDkxNzk5MSw5MTc5OTIsOTE3OTkzLDkxNzk5NCw5MTc5OTUsOTE3OTk2LDkxNzk5Nyw5MTc5OTgsOTE3OTk5XScpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0RGF0YSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9kYXRhID0gbmV3IFNldChJbnZpc2libGVDaGFyYWN0ZXJzLmdldFJhd0RhdGEoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGE7XG4gICAgfVxuICAgIHN0YXRpYyBpc0ludmlzaWJsZUNoYXJhY3Rlcihjb2RlUG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIEludmlzaWJsZUNoYXJhY3RlcnMuZ2V0RGF0YSgpLmhhcyhjb2RlUG9pbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGNvZGVQb2ludHMoKSB7XG4gICAgICAgIHJldHVybiBJbnZpc2libGVDaGFyYWN0ZXJzLmdldERhdGEoKTtcbiAgICB9XG59XG5JbnZpc2libGVDaGFyYWN0ZXJzLl9kYXRhID0gdW5kZWZpbmVkO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyB0cmFuc2Zvcm1FcnJvckZvclNlcmlhbGl6YXRpb24gfSBmcm9tICcuLi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uL2V2ZW50LmpzJztcbmltcG9ydCB7IERpc3Bvc2FibGUgfSBmcm9tICcuLi9saWZlY3ljbGUuanMnO1xuaW1wb3J0IHsgZ2V0QWxsTWV0aG9kTmFtZXMgfSBmcm9tICcuLi9vYmplY3RzLmpzJztcbmltcG9ydCB7IGlzV2ViIH0gZnJvbSAnLi4vcGxhdGZvcm0uanMnO1xuaW1wb3J0ICogYXMgc3RyaW5ncyBmcm9tICcuLi9zdHJpbmdzLmpzJztcbmNvbnN0IElOSVRJQUxJWkUgPSAnJGluaXRpYWxpemUnO1xubGV0IHdlYldvcmtlcldhcm5pbmdMb2dnZWQgPSBmYWxzZTtcbmV4cG9ydCBmdW5jdGlvbiBsb2dPbmNlV2ViV29ya2VyV2FybmluZyhlcnIpIHtcbiAgICBpZiAoIWlzV2ViKSB7XG4gICAgICAgIC8vIHJ1bm5pbmcgdGVzdHNcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXdlYldvcmtlcldhcm5pbmdMb2dnZWQpIHtcbiAgICAgICAgd2ViV29ya2VyV2FybmluZ0xvZ2dlZCA9IHRydWU7XG4gICAgICAgIGNvbnNvbGUud2FybignQ291bGQgbm90IGNyZWF0ZSB3ZWIgd29ya2VyKHMpLiBGYWxsaW5nIGJhY2sgdG8gbG9hZGluZyB3ZWIgd29ya2VyIGNvZGUgaW4gbWFpbiB0aHJlYWQsIHdoaWNoIG1pZ2h0IGNhdXNlIFVJIGZyZWV6ZXMuIFBsZWFzZSBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tb25hY28tZWRpdG9yI2ZhcScpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oZXJyLm1lc3NhZ2UpO1xufVxuY2xhc3MgUmVxdWVzdE1lc3NhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHZzV29ya2VyLCByZXEsIG1ldGhvZCwgYXJncykge1xuICAgICAgICB0aGlzLnZzV29ya2VyID0gdnNXb3JrZXI7XG4gICAgICAgIHRoaXMucmVxID0gcmVxO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICAgICAgdGhpcy50eXBlID0gMCAvKiBNZXNzYWdlVHlwZS5SZXF1ZXN0ICovO1xuICAgIH1cbn1cbmNsYXNzIFJlcGx5TWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IodnNXb3JrZXIsIHNlcSwgcmVzLCBlcnIpIHtcbiAgICAgICAgdGhpcy52c1dvcmtlciA9IHZzV29ya2VyO1xuICAgICAgICB0aGlzLnNlcSA9IHNlcTtcbiAgICAgICAgdGhpcy5yZXMgPSByZXM7XG4gICAgICAgIHRoaXMuZXJyID0gZXJyO1xuICAgICAgICB0aGlzLnR5cGUgPSAxIC8qIE1lc3NhZ2VUeXBlLlJlcGx5ICovO1xuICAgIH1cbn1cbmNsYXNzIFN1YnNjcmliZUV2ZW50TWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IodnNXb3JrZXIsIHJlcSwgZXZlbnROYW1lLCBhcmcpIHtcbiAgICAgICAgdGhpcy52c1dvcmtlciA9IHZzV29ya2VyO1xuICAgICAgICB0aGlzLnJlcSA9IHJlcTtcbiAgICAgICAgdGhpcy5ldmVudE5hbWUgPSBldmVudE5hbWU7XG4gICAgICAgIHRoaXMuYXJnID0gYXJnO1xuICAgICAgICB0aGlzLnR5cGUgPSAyIC8qIE1lc3NhZ2VUeXBlLlN1YnNjcmliZUV2ZW50ICovO1xuICAgIH1cbn1cbmNsYXNzIEV2ZW50TWVzc2FnZSB7XG4gICAgY29uc3RydWN0b3IodnNXb3JrZXIsIHJlcSwgZXZlbnQpIHtcbiAgICAgICAgdGhpcy52c1dvcmtlciA9IHZzV29ya2VyO1xuICAgICAgICB0aGlzLnJlcSA9IHJlcTtcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLnR5cGUgPSAzIC8qIE1lc3NhZ2VUeXBlLkV2ZW50ICovO1xuICAgIH1cbn1cbmNsYXNzIFVuc3Vic2NyaWJlRXZlbnRNZXNzYWdlIHtcbiAgICBjb25zdHJ1Y3Rvcih2c1dvcmtlciwgcmVxKSB7XG4gICAgICAgIHRoaXMudnNXb3JrZXIgPSB2c1dvcmtlcjtcbiAgICAgICAgdGhpcy5yZXEgPSByZXE7XG4gICAgICAgIHRoaXMudHlwZSA9IDQgLyogTWVzc2FnZVR5cGUuVW5zdWJzY3JpYmVFdmVudCAqLztcbiAgICB9XG59XG5jbGFzcyBTaW1wbGVXb3JrZXJQcm90b2NvbCB7XG4gICAgY29uc3RydWN0b3IoaGFuZGxlcikge1xuICAgICAgICB0aGlzLl93b3JrZXJJZCA9IC0xO1xuICAgICAgICB0aGlzLl9oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgdGhpcy5fbGFzdFNlbnRSZXEgPSAwO1xuICAgICAgICB0aGlzLl9wZW5kaW5nUmVwbGllcyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdFbWl0dGVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0V2ZW50cyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgc2V0V29ya2VySWQod29ya2VySWQpIHtcbiAgICAgICAgdGhpcy5fd29ya2VySWQgPSB3b3JrZXJJZDtcbiAgICB9XG4gICAgc2VuZE1lc3NhZ2UobWV0aG9kLCBhcmdzKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IFN0cmluZygrK3RoaXMuX2xhc3RTZW50UmVxKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcV0gPSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZTogcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3Q6IHJlamVjdFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX3NlbmQobmV3IFJlcXVlc3RNZXNzYWdlKHRoaXMuX3dvcmtlcklkLCByZXEsIG1ldGhvZCwgYXJncykpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGlzdGVuKGV2ZW50TmFtZSwgYXJnKSB7XG4gICAgICAgIGxldCByZXEgPSBudWxsO1xuICAgICAgICBjb25zdCBlbWl0dGVyID0gbmV3IEVtaXR0ZXIoe1xuICAgICAgICAgICAgb25XaWxsQWRkRmlyc3RMaXN0ZW5lcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlcSA9IFN0cmluZygrK3RoaXMuX2xhc3RTZW50UmVxKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRW1pdHRlcnMuc2V0KHJlcSwgZW1pdHRlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZChuZXcgU3Vic2NyaWJlRXZlbnRNZXNzYWdlKHRoaXMuX3dvcmtlcklkLCByZXEsIGV2ZW50TmFtZSwgYXJnKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25EaWRSZW1vdmVMYXN0TGlzdGVuZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nRW1pdHRlcnMuZGVsZXRlKHJlcSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2VuZChuZXcgVW5zdWJzY3JpYmVFdmVudE1lc3NhZ2UodGhpcy5fd29ya2VySWQsIHJlcSkpO1xuICAgICAgICAgICAgICAgIHJlcSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZW1pdHRlci5ldmVudDtcbiAgICB9XG4gICAgaGFuZGxlTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGlmICghbWVzc2FnZSB8fCAhbWVzc2FnZS52c1dvcmtlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl93b3JrZXJJZCAhPT0gLTEgJiYgbWVzc2FnZS52c1dvcmtlciAhPT0gdGhpcy5fd29ya2VySWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVNZXNzYWdlKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBfaGFuZGxlTWVzc2FnZShtc2cpIHtcbiAgICAgICAgc3dpdGNoIChtc2cudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAxIC8qIE1lc3NhZ2VUeXBlLlJlcGx5ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXBseU1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIGNhc2UgMCAvKiBNZXNzYWdlVHlwZS5SZXF1ZXN0ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVSZXF1ZXN0TWVzc2FnZShtc2cpO1xuICAgICAgICAgICAgY2FzZSAyIC8qIE1lc3NhZ2VUeXBlLlN1YnNjcmliZUV2ZW50ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oYW5kbGVTdWJzY3JpYmVFdmVudE1lc3NhZ2UobXNnKTtcbiAgICAgICAgICAgIGNhc2UgMyAvKiBNZXNzYWdlVHlwZS5FdmVudCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlRXZlbnRNZXNzYWdlKG1zZyk7XG4gICAgICAgICAgICBjYXNlIDQgLyogTWVzc2FnZVR5cGUuVW5zdWJzY3JpYmVFdmVudCAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faGFuZGxlVW5zdWJzY3JpYmVFdmVudE1lc3NhZ2UobXNnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfaGFuZGxlUmVwbHlNZXNzYWdlKHJlcGx5TWVzc2FnZSkge1xuICAgICAgICBpZiAoIXRoaXMuX3BlbmRpbmdSZXBsaWVzW3JlcGx5TWVzc2FnZS5zZXFdKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0dvdCByZXBseSB0byB1bmtub3duIHNlcScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlcGx5ID0gdGhpcy5fcGVuZGluZ1JlcGxpZXNbcmVwbHlNZXNzYWdlLnNlcV07XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVwbGllc1tyZXBseU1lc3NhZ2Uuc2VxXTtcbiAgICAgICAgaWYgKHJlcGx5TWVzc2FnZS5lcnIpIHtcbiAgICAgICAgICAgIGxldCBlcnIgPSByZXBseU1lc3NhZ2UuZXJyO1xuICAgICAgICAgICAgaWYgKHJlcGx5TWVzc2FnZS5lcnIuJGlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgICAgICBlcnIubmFtZSA9IHJlcGx5TWVzc2FnZS5lcnIubmFtZTtcbiAgICAgICAgICAgICAgICBlcnIubWVzc2FnZSA9IHJlcGx5TWVzc2FnZS5lcnIubWVzc2FnZTtcbiAgICAgICAgICAgICAgICBlcnIuc3RhY2sgPSByZXBseU1lc3NhZ2UuZXJyLnN0YWNrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVwbHkucmVqZWN0KGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVwbHkucmVzb2x2ZShyZXBseU1lc3NhZ2UucmVzKTtcbiAgICB9XG4gICAgX2hhbmRsZVJlcXVlc3RNZXNzYWdlKHJlcXVlc3RNZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IHJlcSA9IHJlcXVlc3RNZXNzYWdlLnJlcTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5faGFuZGxlci5oYW5kbGVNZXNzYWdlKHJlcXVlc3RNZXNzYWdlLm1ldGhvZCwgcmVxdWVzdE1lc3NhZ2UuYXJncyk7XG4gICAgICAgIHJlc3VsdC50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kKG5ldyBSZXBseU1lc3NhZ2UodGhpcy5fd29ya2VySWQsIHJlcSwgciwgdW5kZWZpbmVkKSk7XG4gICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS5kZXRhaWwgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIExvYWRpbmcgZXJyb3JzIGhhdmUgYSBkZXRhaWwgcHJvcGVydHkgdGhhdCBwb2ludHMgdG8gdGhlIGFjdHVhbCBlcnJvclxuICAgICAgICAgICAgICAgIGUuZGV0YWlsID0gdHJhbnNmb3JtRXJyb3JGb3JTZXJpYWxpemF0aW9uKGUuZGV0YWlsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3NlbmQobmV3IFJlcGx5TWVzc2FnZSh0aGlzLl93b3JrZXJJZCwgcmVxLCB1bmRlZmluZWQsIHRyYW5zZm9ybUVycm9yRm9yU2VyaWFsaXphdGlvbihlKSkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2hhbmRsZVN1YnNjcmliZUV2ZW50TWVzc2FnZShtc2cpIHtcbiAgICAgICAgY29uc3QgcmVxID0gbXNnLnJlcTtcbiAgICAgICAgY29uc3QgZGlzcG9zYWJsZSA9IHRoaXMuX2hhbmRsZXIuaGFuZGxlRXZlbnQobXNnLmV2ZW50TmFtZSwgbXNnLmFyZykoKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9zZW5kKG5ldyBFdmVudE1lc3NhZ2UodGhpcy5fd29ya2VySWQsIHJlcSwgZXZlbnQpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdFdmVudHMuc2V0KHJlcSwgZGlzcG9zYWJsZSk7XG4gICAgfVxuICAgIF9oYW5kbGVFdmVudE1lc3NhZ2UobXNnKSB7XG4gICAgICAgIGlmICghdGhpcy5fcGVuZGluZ0VtaXR0ZXJzLmhhcyhtc2cucmVxKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgZXZlbnQgZm9yIHVua25vd24gcmVxJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ0VtaXR0ZXJzLmdldChtc2cucmVxKS5maXJlKG1zZy5ldmVudCk7XG4gICAgfVxuICAgIF9oYW5kbGVVbnN1YnNjcmliZUV2ZW50TWVzc2FnZShtc2cpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nRXZlbnRzLmhhcyhtc2cucmVxKSkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdHb3QgdW5zdWJzY3JpYmUgZm9yIHVua25vd24gcmVxJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fcGVuZGluZ0V2ZW50cy5nZXQobXNnLnJlcSkuZGlzcG9zZSgpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRXZlbnRzLmRlbGV0ZShtc2cucmVxKTtcbiAgICB9XG4gICAgX3NlbmQobXNnKSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZmVyID0gW107XG4gICAgICAgIGlmIChtc2cudHlwZSA9PT0gMCAvKiBNZXNzYWdlVHlwZS5SZXF1ZXN0ICovKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1zZy5hcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1zZy5hcmdzW2ldIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmZXIucHVzaChtc2cuYXJnc1tpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSAxIC8qIE1lc3NhZ2VUeXBlLlJlcGx5ICovKSB7XG4gICAgICAgICAgICBpZiAobXNnLnJlcyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNmZXIucHVzaChtc2cucmVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oYW5kbGVyLnNlbmRNZXNzYWdlKG1zZywgdHJhbnNmZXIpO1xuICAgIH1cbn1cbi8qKlxuICogTWFpbiB0aHJlYWQgc2lkZVxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlV29ya2VyQ2xpZW50IGV4dGVuZHMgRGlzcG9zYWJsZSB7XG4gICAgY29uc3RydWN0b3Iod29ya2VyRmFjdG9yeSwgbW9kdWxlSWQsIGhvc3QpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgbGV0IGxhenlQcm94eVJlamVjdCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3dvcmtlciA9IHRoaXMuX3JlZ2lzdGVyKHdvcmtlckZhY3RvcnkuY3JlYXRlKCd2cy9iYXNlL2NvbW1vbi93b3JrZXIvc2ltcGxlV29ya2VyJywgKG1zZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcHJvdG9jb2wuaGFuZGxlTWVzc2FnZShtc2cpO1xuICAgICAgICB9LCAoZXJyKSA9PiB7XG4gICAgICAgICAgICAvLyBpbiBGaXJlZm94LCB3ZWIgd29ya2VycyBmYWlsIGxhemlseSA6KFxuICAgICAgICAgICAgLy8gd2Ugd2lsbCByZWplY3QgdGhlIHByb3h5XG4gICAgICAgICAgICBsYXp5UHJveHlSZWplY3QgPT09IG51bGwgfHwgbGF6eVByb3h5UmVqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBsYXp5UHJveHlSZWplY3QoZXJyKTtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IG5ldyBTaW1wbGVXb3JrZXJQcm90b2NvbCh7XG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogKG1zZywgdHJhbnNmZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl93b3JrZXIucG9zdE1lc3NhZ2UobXNnLCB0cmFuc2Zlcik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlTWVzc2FnZTogKG1ldGhvZCwgYXJncykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaG9zdFttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ01pc3NpbmcgbWV0aG9kICcgKyBtZXRob2QgKyAnIG9uIG1haW4gdGhyZWFkIGhvc3QuJykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGhvc3RbbWV0aG9kXS5hcHBseShob3N0LCBhcmdzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGFuZGxlRXZlbnQ6IChldmVudE5hbWUsIGFyZykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eUlzRHluYW1pY0V2ZW50KGV2ZW50TmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBob3N0W2V2ZW50TmFtZV0uY2FsbChob3N0LCBhcmcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZHluYW1pYyBldmVudCAke2V2ZW50TmFtZX0gb24gbWFpbiB0aHJlYWQgaG9zdC5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eUlzRXZlbnQoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IGhvc3RbZXZlbnROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIGV2ZW50ICR7ZXZlbnROYW1lfSBvbiBtYWluIHRocmVhZCBob3N0LmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNYWxmb3JtZWQgZXZlbnQgbmFtZSAke2V2ZW50TmFtZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLnNldFdvcmtlcklkKHRoaXMuX3dvcmtlci5nZXRJZCgpKTtcbiAgICAgICAgLy8gR2F0aGVyIGxvYWRlciBjb25maWd1cmF0aW9uXG4gICAgICAgIGxldCBsb2FkZXJDb25maWd1cmF0aW9uID0gbnVsbDtcbiAgICAgICAgY29uc3QgZ2xvYmFsUmVxdWlyZSA9IGdsb2JhbFRoaXMucmVxdWlyZTtcbiAgICAgICAgaWYgKHR5cGVvZiBnbG9iYWxSZXF1aXJlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZ2xvYmFsUmVxdWlyZS5nZXRDb25maWcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBNb25hY28gQU1EIExvYWRlclxuICAgICAgICAgICAgbG9hZGVyQ29uZmlndXJhdGlvbiA9IGdsb2JhbFJlcXVpcmUuZ2V0Q29uZmlnKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIGdsb2JhbFRoaXMucmVxdWlyZWpzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBjb25maWd1cmF0aW9uIGZyb20gcmVxdWlyZWpzXG4gICAgICAgICAgICBsb2FkZXJDb25maWd1cmF0aW9uID0gZ2xvYmFsVGhpcy5yZXF1aXJlanMucy5jb250ZXh0cy5fLmNvbmZpZztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBob3N0TWV0aG9kcyA9IGdldEFsbE1ldGhvZE5hbWVzKGhvc3QpO1xuICAgICAgICAvLyBTZW5kIGluaXRpYWxpemUgbWVzc2FnZVxuICAgICAgICB0aGlzLl9vbk1vZHVsZUxvYWRlZCA9IHRoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKElOSVRJQUxJWkUsIFtcbiAgICAgICAgICAgIHRoaXMuX3dvcmtlci5nZXRJZCgpLFxuICAgICAgICAgICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsb2FkZXJDb25maWd1cmF0aW9uKSksXG4gICAgICAgICAgICBtb2R1bGVJZCxcbiAgICAgICAgICAgIGhvc3RNZXRob2RzLFxuICAgICAgICBdKTtcbiAgICAgICAgLy8gQ3JlYXRlIHByb3h5IHRvIGxvYWRlZCBjb2RlXG4gICAgICAgIGNvbnN0IHByb3h5TWV0aG9kUmVxdWVzdCA9IChtZXRob2QsIGFyZ3MpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZXF1ZXN0KG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb3h5TGlzdGVuID0gKGV2ZW50TmFtZSwgYXJnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wubGlzdGVuKGV2ZW50TmFtZSwgYXJnKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbGF6eVByb3h5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGF6eVByb3h5UmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgdGhpcy5fb25Nb2R1bGVMb2FkZWQudGhlbigoYXZhaWxhYmxlTWV0aG9kcykgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoY3JlYXRlUHJveHlPYmplY3QoYXZhaWxhYmxlTWV0aG9kcywgcHJveHlNZXRob2RSZXF1ZXN0LCBwcm94eUxpc3RlbikpO1xuICAgICAgICAgICAgfSwgKGUpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25FcnJvcignV29ya2VyIGZhaWxlZCB0byBsb2FkICcgKyBtb2R1bGVJZCwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldFByb3h5T2JqZWN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF6eVByb3h5O1xuICAgIH1cbiAgICBfcmVxdWVzdChtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX29uTW9kdWxlTG9hZGVkLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncykudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9vbkVycm9yKG1lc3NhZ2UsIGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XG4gICAgICAgIGNvbnNvbGUuaW5mbyhlcnJvcik7XG4gICAgfVxufVxuZnVuY3Rpb24gcHJvcGVydHlJc0V2ZW50KG5hbWUpIHtcbiAgICAvLyBBc3N1bWUgYSBwcm9wZXJ0eSBpcyBhbiBldmVudCBpZiBpdCBoYXMgYSBmb3JtIG9mIFwib25Tb21ldGhpbmdcIlxuICAgIHJldHVybiBuYW1lWzBdID09PSAnbycgJiYgbmFtZVsxXSA9PT0gJ24nICYmIHN0cmluZ3MuaXNVcHBlckFzY2lpTGV0dGVyKG5hbWUuY2hhckNvZGVBdCgyKSk7XG59XG5mdW5jdGlvbiBwcm9wZXJ0eUlzRHluYW1pY0V2ZW50KG5hbWUpIHtcbiAgICAvLyBBc3N1bWUgYSBwcm9wZXJ0eSBpcyBhIGR5bmFtaWMgZXZlbnQgKGEgbWV0aG9kIHRoYXQgcmV0dXJucyBhbiBldmVudCkgaWYgaXQgaGFzIGEgZm9ybSBvZiBcIm9uRHluYW1pY1NvbWV0aGluZ1wiXG4gICAgcmV0dXJuIC9eb25EeW5hbWljLy50ZXN0KG5hbWUpICYmIHN0cmluZ3MuaXNVcHBlckFzY2lpTGV0dGVyKG5hbWUuY2hhckNvZGVBdCg5KSk7XG59XG5mdW5jdGlvbiBjcmVhdGVQcm94eU9iamVjdChtZXRob2ROYW1lcywgaW52b2tlLCBwcm94eUxpc3Rlbikge1xuICAgIGNvbnN0IGNyZWF0ZVByb3h5TWV0aG9kID0gKG1ldGhvZCkgPT4ge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgICAgICByZXR1cm4gaW52b2tlKG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCBjcmVhdGVQcm94eUR5bmFtaWNFdmVudCA9IChldmVudE5hbWUpID0+IHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChhcmcpIHtcbiAgICAgICAgICAgIHJldHVybiBwcm94eUxpc3RlbihldmVudE5hbWUsIGFyZyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2YgbWV0aG9kTmFtZXMpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5SXNEeW5hbWljRXZlbnQobWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdFttZXRob2ROYW1lXSA9IGNyZWF0ZVByb3h5RHluYW1pY0V2ZW50KG1ldGhvZE5hbWUpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3BlcnR5SXNFdmVudChtZXRob2ROYW1lKSkge1xuICAgICAgICAgICAgcmVzdWx0W21ldGhvZE5hbWVdID0gcHJveHlMaXN0ZW4obWV0aG9kTmFtZSwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFttZXRob2ROYW1lXSA9IGNyZWF0ZVByb3h5TWV0aG9kKG1ldGhvZE5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBXb3JrZXIgc2lkZVxuICovXG5leHBvcnQgY2xhc3MgU2ltcGxlV29ya2VyU2VydmVyIHtcbiAgICBjb25zdHJ1Y3Rvcihwb3N0TWVzc2FnZSwgcmVxdWVzdEhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyRmFjdG9yeSA9IHJlcXVlc3RIYW5kbGVyRmFjdG9yeTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXIgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcm90b2NvbCA9IG5ldyBTaW1wbGVXb3JrZXJQcm90b2NvbCh7XG4gICAgICAgICAgICBzZW5kTWVzc2FnZTogKG1zZywgdHJhbnNmZXIpID0+IHtcbiAgICAgICAgICAgICAgICBwb3N0TWVzc2FnZShtc2csIHRyYW5zZmVyKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoYW5kbGVNZXNzYWdlOiAobWV0aG9kLCBhcmdzKSA9PiB0aGlzLl9oYW5kbGVNZXNzYWdlKG1ldGhvZCwgYXJncyksXG4gICAgICAgICAgICBoYW5kbGVFdmVudDogKGV2ZW50TmFtZSwgYXJnKSA9PiB0aGlzLl9oYW5kbGVFdmVudChldmVudE5hbWUsIGFyZylcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG9ubWVzc2FnZShtc2cpIHtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2wuaGFuZGxlTWVzc2FnZShtc2cpO1xuICAgIH1cbiAgICBfaGFuZGxlTWVzc2FnZShtZXRob2QsIGFyZ3MpIHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gSU5JVElBTElaRSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5pdGlhbGl6ZShhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdLCBhcmdzWzNdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3RIYW5kbGVyIHx8IHR5cGVvZiB0aGlzLl9yZXF1ZXN0SGFuZGxlclttZXRob2RdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdNaXNzaW5nIHJlcXVlc3RIYW5kbGVyIG9yIG1ldGhvZDogJyArIG1ldGhvZCkpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX3JlcXVlc3RIYW5kbGVyW21ldGhvZF0uYXBwbHkodGhpcy5fcmVxdWVzdEhhbmRsZXIsIGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9oYW5kbGVFdmVudChldmVudE5hbWUsIGFyZykge1xuICAgICAgICBpZiAoIXRoaXMuX3JlcXVlc3RIYW5kbGVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcmVxdWVzdEhhbmRsZXJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcGVydHlJc0R5bmFtaWNFdmVudChldmVudE5hbWUpKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMuX3JlcXVlc3RIYW5kbGVyW2V2ZW50TmFtZV0uY2FsbCh0aGlzLl9yZXF1ZXN0SGFuZGxlciwgYXJnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgZHluYW1pYyBldmVudCAke2V2ZW50TmFtZX0gb24gcmVxdWVzdCBoYW5kbGVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wZXJ0eUlzRXZlbnQoZXZlbnROYW1lKSkge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLl9yZXF1ZXN0SGFuZGxlcltldmVudE5hbWVdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBldmVudCAke2V2ZW50TmFtZX0gb24gcmVxdWVzdCBoYW5kbGVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWFsZm9ybWVkIGV2ZW50IG5hbWUgJHtldmVudE5hbWV9YCk7XG4gICAgfVxuICAgIGluaXRpYWxpemUod29ya2VySWQsIGxvYWRlckNvbmZpZywgbW9kdWxlSWQsIGhvc3RNZXRob2RzKSB7XG4gICAgICAgIHRoaXMuX3Byb3RvY29sLnNldFdvcmtlcklkKHdvcmtlcklkKTtcbiAgICAgICAgY29uc3QgcHJveHlNZXRob2RSZXF1ZXN0ID0gKG1ldGhvZCwgYXJncykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb3RvY29sLnNlbmRNZXNzYWdlKG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByb3h5TGlzdGVuID0gKGV2ZW50TmFtZSwgYXJnKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2wubGlzdGVuKGV2ZW50TmFtZSwgYXJnKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaG9zdFByb3h5ID0gY3JlYXRlUHJveHlPYmplY3QoaG9zdE1ldGhvZHMsIHByb3h5TWV0aG9kUmVxdWVzdCwgcHJveHlMaXN0ZW4pO1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEhhbmRsZXJGYWN0b3J5KSB7XG4gICAgICAgICAgICAvLyBzdGF0aWMgcmVxdWVzdCBoYW5kbGVyXG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlciA9IHRoaXMuX3JlcXVlc3RIYW5kbGVyRmFjdG9yeShob3N0UHJveHkpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShnZXRBbGxNZXRob2ROYW1lcyh0aGlzLl9yZXF1ZXN0SGFuZGxlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsb2FkZXJDb25maWcpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSAnYmFzZVVybCcsIGhhbmRsaW5nIGl0IGlzIGJleW9uZCBzY29wZSBmb3Igbm93XG4gICAgICAgICAgICBpZiAodHlwZW9mIGxvYWRlckNvbmZpZy5iYXNlVXJsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2FkZXJDb25maWdbJ2Jhc2VVcmwnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnBhdGhzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnBhdGhzLnZzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbG9hZGVyQ29uZmlnLnBhdGhzWyd2cyddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgbG9hZGVyQ29uZmlnLnRydXN0ZWRUeXBlc1BvbGljeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gZG9uJ3QgdXNlLCBpdCBoYXMgYmVlbiBkZXN0cm95ZWQgZHVyaW5nIHNlcmlhbGl6ZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2FkZXJDb25maWdbJ3RydXN0ZWRUeXBlc1BvbGljeSddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBpbiBhIHdlYiB3b3JrZXIsIGVuYWJsZSBjYXRjaGluZyBlcnJvcnNcbiAgICAgICAgICAgIGxvYWRlckNvbmZpZy5jYXRjaEVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgIGdsb2JhbFRoaXMucmVxdWlyZS5jb25maWcobG9hZGVyQ29uZmlnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgLy8gVXNlIHRoZSBnbG9iYWwgcmVxdWlyZSB0byBiZSBzdXJlIHRvIGdldCB0aGUgZ2xvYmFsIGNvbmZpZ1xuICAgICAgICAgICAgLy8gRVNNLWNvbW1lbnQtYmVnaW5cbiAgICAgICAgICAgIC8vIFx0XHRcdGNvbnN0IHJlcSA9IChnbG9iYWxUaGlzLnJlcXVpcmUgfHwgcmVxdWlyZSk7XG4gICAgICAgICAgICAvLyBFU00tY29tbWVudC1lbmRcbiAgICAgICAgICAgIC8vIEVTTS11bmNvbW1lbnQtYmVnaW5cbiAgICAgICAgICAgIGNvbnN0IHJlcSA9IGdsb2JhbFRoaXMucmVxdWlyZTtcbiAgICAgICAgICAgIC8vIEVTTS11bmNvbW1lbnQtZW5kXG4gICAgICAgICAgICByZXEoW21vZHVsZUlkXSwgKG1vZHVsZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyID0gbW9kdWxlLmNyZWF0ZShob3N0UHJveHkpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fcmVxdWVzdEhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgTm8gUmVxdWVzdEhhbmRsZXIhYCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc29sdmUoZ2V0QWxsTWV0aG9kTmFtZXModGhpcy5fcmVxdWVzdEhhbmRsZXIpKTtcbiAgICAgICAgICAgIH0sIHJlamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogQ2FsbGVkIG9uIHRoZSB3b3JrZXIgc2lkZVxuICogQHNraXBNYW5nbGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZShwb3N0TWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgU2ltcGxlV29ya2VyU2VydmVyKHBvc3RNZXNzYWdlLCBudWxsKTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuLyoqXG4gKiBSZXByZXNlbnRzIGluZm9ybWF0aW9uIGFib3V0IGEgc3BlY2lmaWMgZGlmZmVyZW5jZSBiZXR3ZWVuIHR3byBzZXF1ZW5jZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWZmQ2hhbmdlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgbmV3IERpZmZDaGFuZ2Ugd2l0aCB0aGUgZ2l2ZW4gc2VxdWVuY2UgaW5mb3JtYXRpb25cbiAgICAgKiBhbmQgY29udGVudC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgLy9EZWJ1Zy5Bc3NlcnQob3JpZ2luYWxMZW5ndGggPiAwIHx8IG1vZGlmaWVkTGVuZ3RoID4gMCwgXCJvcmlnaW5hbExlbmd0aCBhbmQgbW9kaWZpZWRMZW5ndGggY2Fubm90IGJvdGggYmUgPD0gMFwiKTtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0ID0gb3JpZ2luYWxTdGFydDtcbiAgICAgICAgdGhpcy5vcmlnaW5hbExlbmd0aCA9IG9yaWdpbmFsTGVuZ3RoO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZFN0YXJ0O1xuICAgICAgICB0aGlzLm1vZGlmaWVkTGVuZ3RoID0gbW9kaWZpZWRMZW5ndGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBlbmQgcG9pbnQgKGV4Y2x1c2l2ZSkgb2YgdGhlIGNoYW5nZSBpbiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UuXG4gICAgICovXG4gICAgZ2V0T3JpZ2luYWxFbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsU3RhcnQgKyB0aGlzLm9yaWdpbmFsTGVuZ3RoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZW5kIHBvaW50IChleGNsdXNpdmUpIG9mIHRoZSBjaGFuZ2UgaW4gdGhlIG1vZGlmaWVkIHNlcXVlbmNlLlxuICAgICAqL1xuICAgIGdldE1vZGlmaWVkRW5kKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb2RpZmllZFN0YXJ0ICsgdGhpcy5tb2RpZmllZExlbmd0aDtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi9zdHJpbmdzLmpzJztcbi8qKlxuICogUmV0dXJuIGEgaGFzaCB2YWx1ZSBmb3IgYW4gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzaChvYmopIHtcbiAgICByZXR1cm4gZG9IYXNoKG9iaiwgMCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZG9IYXNoKG9iaiwgaGFzaFZhbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIG9iaikge1xuICAgICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICAgICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXJIYXNoKDM0OSwgaGFzaFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJyYXlIYXNoKG9iaiwgaGFzaFZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqZWN0SGFzaChvYmosIGhhc2hWYWwpO1xuICAgICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0hhc2gob2JqLCBoYXNoVmFsKTtcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgICAgICByZXR1cm4gYm9vbGVhbkhhc2gob2JqLCBoYXNoVmFsKTtcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgICAgIHJldHVybiBudW1iZXJIYXNoKG9iaiwgaGFzaFZhbCk7XG4gICAgICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVySGFzaCg5MzcsIGhhc2hWYWwpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIG51bWJlckhhc2goNjE3LCBoYXNoVmFsKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVySGFzaCh2YWwsIGluaXRpYWxIYXNoVmFsKSB7XG4gICAgcmV0dXJuICgoKGluaXRpYWxIYXNoVmFsIDw8IDUpIC0gaW5pdGlhbEhhc2hWYWwpICsgdmFsKSB8IDA7IC8vIGhhc2hWYWwgKiAzMSArIGNoLCBrZWVwIGFzIGludDMyXG59XG5mdW5jdGlvbiBib29sZWFuSGFzaChiLCBpbml0aWFsSGFzaFZhbCkge1xuICAgIHJldHVybiBudW1iZXJIYXNoKGIgPyA0MzMgOiA4NjMsIGluaXRpYWxIYXNoVmFsKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdIYXNoKHMsIGhhc2hWYWwpIHtcbiAgICBoYXNoVmFsID0gbnVtYmVySGFzaCgxNDk0MTcsIGhhc2hWYWwpO1xuICAgIGZvciAobGV0IGkgPSAwLCBsZW5ndGggPSBzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGhhc2hWYWwgPSBudW1iZXJIYXNoKHMuY2hhckNvZGVBdChpKSwgaGFzaFZhbCk7XG4gICAgfVxuICAgIHJldHVybiBoYXNoVmFsO1xufVxuZnVuY3Rpb24gYXJyYXlIYXNoKGFyciwgaW5pdGlhbEhhc2hWYWwpIHtcbiAgICBpbml0aWFsSGFzaFZhbCA9IG51bWJlckhhc2goMTA0NTc5LCBpbml0aWFsSGFzaFZhbCk7XG4gICAgcmV0dXJuIGFyci5yZWR1Y2UoKGhhc2hWYWwsIGl0ZW0pID0+IGRvSGFzaChpdGVtLCBoYXNoVmFsKSwgaW5pdGlhbEhhc2hWYWwpO1xufVxuZnVuY3Rpb24gb2JqZWN0SGFzaChvYmosIGluaXRpYWxIYXNoVmFsKSB7XG4gICAgaW5pdGlhbEhhc2hWYWwgPSBudW1iZXJIYXNoKDE4MTM4NywgaW5pdGlhbEhhc2hWYWwpO1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmopLnNvcnQoKS5yZWR1Y2UoKGhhc2hWYWwsIGtleSkgPT4ge1xuICAgICAgICBoYXNoVmFsID0gc3RyaW5nSGFzaChrZXksIGhhc2hWYWwpO1xuICAgICAgICByZXR1cm4gZG9IYXNoKG9ialtrZXldLCBoYXNoVmFsKTtcbiAgICB9LCBpbml0aWFsSGFzaFZhbCk7XG59XG5mdW5jdGlvbiBsZWZ0Um90YXRlKHZhbHVlLCBiaXRzLCB0b3RhbEJpdHMgPSAzMikge1xuICAgIC8vIGRlbHRhICsgYml0cyA9IHRvdGFsQml0c1xuICAgIGNvbnN0IGRlbHRhID0gdG90YWxCaXRzIC0gYml0cztcbiAgICAvLyBBbGwgb25lcywgZXhwZWN0IGBkZWx0YWAgemVyb3MgYWxpZ25lZCB0byB0aGUgcmlnaHRcbiAgICBjb25zdCBtYXNrID0gfigoMSA8PCBkZWx0YSkgLSAxKTtcbiAgICAvLyBKb2luICh2YWx1ZSBsZWZ0LXNoaWZ0ZWQgYGJpdHNgIGJpdHMpIHdpdGggKG1hc2tlZCB2YWx1ZSByaWdodC1zaGlmdGVkIGBkZWx0YWAgYml0cylcbiAgICByZXR1cm4gKCh2YWx1ZSA8PCBiaXRzKSB8ICgobWFzayAmIHZhbHVlKSA+Pj4gZGVsdGEpKSA+Pj4gMDtcbn1cbmZ1bmN0aW9uIGZpbGwoZGVzdCwgaW5kZXggPSAwLCBjb3VudCA9IGRlc3QuYnl0ZUxlbmd0aCwgdmFsdWUgPSAwKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICAgIGRlc3RbaW5kZXggKyBpXSA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGxlZnRQYWQodmFsdWUsIGxlbmd0aCwgY2hhciA9ICcwJykge1xuICAgIHdoaWxlICh2YWx1ZS5sZW5ndGggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFsdWUgPSBjaGFyICsgdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0hleFN0cmluZyhidWZmZXJPclZhbHVlLCBiaXRzaXplID0gMzIpIHtcbiAgICBpZiAoYnVmZmVyT3JWYWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBVaW50OEFycmF5KGJ1ZmZlck9yVmFsdWUpKS5tYXAoYiA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpKS5qb2luKCcnKTtcbiAgICB9XG4gICAgcmV0dXJuIGxlZnRQYWQoKGJ1ZmZlck9yVmFsdWUgPj4+IDApLnRvU3RyaW5nKDE2KSwgYml0c2l6ZSAvIDQpO1xufVxuLyoqXG4gKiBBIFNIQTEgaW1wbGVtZW50YXRpb24gdGhhdCB3b3JrcyB3aXRoIHN0cmluZ3MgYW5kIGRvZXMgbm90IGFsbG9jYXRlLlxuICovXG5leHBvcnQgY2xhc3MgU3RyaW5nU0hBMSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2gwID0gMHg2NzQ1MjMwMTtcbiAgICAgICAgdGhpcy5faDEgPSAweEVGQ0RBQjg5O1xuICAgICAgICB0aGlzLl9oMiA9IDB4OThCQURDRkU7XG4gICAgICAgIHRoaXMuX2gzID0gMHgxMDMyNTQ3NjtcbiAgICAgICAgdGhpcy5faDQgPSAweEMzRDJFMUYwO1xuICAgICAgICB0aGlzLl9idWZmID0gbmV3IFVpbnQ4QXJyYXkoNjQgLyogU0hBMUNvbnN0YW50LkJMT0NLX1NJWkUgKi8gKyAzIC8qIHRvIGZpdCBhbnkgdXRmLTggKi8pO1xuICAgICAgICB0aGlzLl9idWZmRFYgPSBuZXcgRGF0YVZpZXcodGhpcy5fYnVmZi5idWZmZXIpO1xuICAgICAgICB0aGlzLl9idWZmTGVuID0gMDtcbiAgICAgICAgdGhpcy5fdG90YWxMZW4gPSAwO1xuICAgICAgICB0aGlzLl9sZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgPSAwO1xuICAgICAgICB0aGlzLl9maW5pc2hlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB1cGRhdGUoc3RyKSB7XG4gICAgICAgIGNvbnN0IHN0ckxlbiA9IHN0ci5sZW5ndGg7XG4gICAgICAgIGlmIChzdHJMZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBidWZmID0gdGhpcy5fYnVmZjtcbiAgICAgICAgbGV0IGJ1ZmZMZW4gPSB0aGlzLl9idWZmTGVuO1xuICAgICAgICBsZXQgbGVmdG92ZXJIaWdoU3Vycm9nYXRlID0gdGhpcy5fbGVmdG92ZXJIaWdoU3Vycm9nYXRlO1xuICAgICAgICBsZXQgY2hhckNvZGU7XG4gICAgICAgIGxldCBvZmZzZXQ7XG4gICAgICAgIGlmIChsZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgIT09IDApIHtcbiAgICAgICAgICAgIGNoYXJDb2RlID0gbGVmdG92ZXJIaWdoU3Vycm9nYXRlO1xuICAgICAgICAgICAgb2Zmc2V0ID0gLTE7XG4gICAgICAgICAgICBsZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGxldCBjb2RlUG9pbnQgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgIGlmIChzdHJpbmdzLmlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAob2Zmc2V0ICsgMSA8IHN0ckxlbikge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0Q2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChvZmZzZXQgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmluZ3MuaXNMb3dTdXJyb2dhdGUobmV4dENoYXJDb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSBzdHJpbmdzLmNvbXB1dGVDb2RlUG9pbnQoY2hhckNvZGUsIG5leHRDaGFyQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbGxlZ2FsID0+IHVuaWNvZGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlUG9pbnQgPSA2NTUzMyAvKiBTSEExQ29uc3RhbnQuVU5JQ09ERV9SRVBMQUNFTUVOVCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbGFzdCBjaGFyYWN0ZXIgaXMgYSBzdXJyb2dhdGUgcGFpclxuICAgICAgICAgICAgICAgICAgICBsZWZ0b3ZlckhpZ2hTdXJyb2dhdGUgPSBjaGFyQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5ncy5pc0xvd1N1cnJvZ2F0ZShjaGFyQ29kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBpbGxlZ2FsID0+IHVuaWNvZGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgY29kZVBvaW50ID0gNjU1MzMgLyogU0hBMUNvbnN0YW50LlVOSUNPREVfUkVQTEFDRU1FTlQgKi87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBidWZmTGVuID0gdGhpcy5fcHVzaChidWZmLCBidWZmTGVuLCBjb2RlUG9pbnQpO1xuICAgICAgICAgICAgb2Zmc2V0Kys7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgc3RyTGVuKSB7XG4gICAgICAgICAgICAgICAgY2hhckNvZGUgPSBzdHIuY2hhckNvZGVBdChvZmZzZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYnVmZkxlbiA9IGJ1ZmZMZW47XG4gICAgICAgIHRoaXMuX2xlZnRvdmVySGlnaFN1cnJvZ2F0ZSA9IGxlZnRvdmVySGlnaFN1cnJvZ2F0ZTtcbiAgICB9XG4gICAgX3B1c2goYnVmZiwgYnVmZkxlbiwgY29kZVBvaW50KSB7XG4gICAgICAgIGlmIChjb2RlUG9pbnQgPCAweDAwODApIHtcbiAgICAgICAgICAgIGJ1ZmZbYnVmZkxlbisrXSA9IGNvZGVQb2ludDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDA4MDApIHtcbiAgICAgICAgICAgIGJ1ZmZbYnVmZkxlbisrXSA9IDBiMTEwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTEwMDAwMDApID4+PiA2KTtcbiAgICAgICAgICAgIGJ1ZmZbYnVmZkxlbisrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMTExMTEpID4+PiAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjb2RlUG9pbnQgPCAweDEwMDAwKSB7XG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjExMTAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAxMTExMDAwMDAwMDAwMDAwKSA+Pj4gMTIpO1xuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMDAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDExMTExMTAwMDAwMCkgPj4+IDYpO1xuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMDAwMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDExMTExMSkgPj4+IDApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnVmZltidWZmTGVuKytdID0gMGIxMTExMDAwMCB8ICgoY29kZVBvaW50ICYgMGIwMDAwMDAwMDAwMDExMTAwMDAwMDAwMDAwMDAwMDAwMCkgPj4+IDE4KTtcbiAgICAgICAgICAgIGJ1ZmZbYnVmZkxlbisrXSA9IDBiMTAwMDAwMDAgfCAoKGNvZGVQb2ludCAmIDBiMDAwMDAwMDAwMDAwMDAxMTExMTEwMDAwMDAwMDAwMDApID4+PiAxMik7XG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExMDAwMDAwKSA+Pj4gNik7XG4gICAgICAgICAgICBidWZmW2J1ZmZMZW4rK10gPSAwYjEwMDAwMDAwIHwgKChjb2RlUG9pbnQgJiAwYjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTExMTExKSA+Pj4gMCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGJ1ZmZMZW4gPj0gNjQgLyogU0hBMUNvbnN0YW50LkJMT0NLX1NJWkUgKi8pIHtcbiAgICAgICAgICAgIHRoaXMuX3N0ZXAoKTtcbiAgICAgICAgICAgIGJ1ZmZMZW4gLT0gNjQgLyogU0hBMUNvbnN0YW50LkJMT0NLX1NJWkUgKi87XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbiArPSA2NCAvKiBTSEExQ29uc3RhbnQuQkxPQ0tfU0laRSAqLztcbiAgICAgICAgICAgIC8vIHRha2UgbGFzdCAzIGluIGNhc2Ugb2YgVVRGOCBvdmVyZmxvd1xuICAgICAgICAgICAgYnVmZlswXSA9IGJ1ZmZbNjQgLyogU0hBMUNvbnN0YW50LkJMT0NLX1NJWkUgKi8gKyAwXTtcbiAgICAgICAgICAgIGJ1ZmZbMV0gPSBidWZmWzY0IC8qIFNIQTFDb25zdGFudC5CTE9DS19TSVpFICovICsgMV07XG4gICAgICAgICAgICBidWZmWzJdID0gYnVmZls2NCAvKiBTSEExQ29uc3RhbnQuQkxPQ0tfU0laRSAqLyArIDJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBidWZmTGVuO1xuICAgIH1cbiAgICBkaWdlc3QoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sZWZ0b3ZlckhpZ2hTdXJyb2dhdGUpIHtcbiAgICAgICAgICAgICAgICAvLyBpbGxlZ2FsID0+IHVuaWNvZGUgcmVwbGFjZW1lbnQgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgdGhpcy5fbGVmdG92ZXJIaWdoU3Vycm9nYXRlID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLl9idWZmTGVuID0gdGhpcy5fcHVzaCh0aGlzLl9idWZmLCB0aGlzLl9idWZmTGVuLCA2NTUzMyAvKiBTSEExQ29uc3RhbnQuVU5JQ09ERV9SRVBMQUNFTUVOVCAqLyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl90b3RhbExlbiArPSB0aGlzLl9idWZmTGVuO1xuICAgICAgICAgICAgdGhpcy5fd3JhcFVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvSGV4U3RyaW5nKHRoaXMuX2gwKSArIHRvSGV4U3RyaW5nKHRoaXMuX2gxKSArIHRvSGV4U3RyaW5nKHRoaXMuX2gyKSArIHRvSGV4U3RyaW5nKHRoaXMuX2gzKSArIHRvSGV4U3RyaW5nKHRoaXMuX2g0KTtcbiAgICB9XG4gICAgX3dyYXBVcCgpIHtcbiAgICAgICAgdGhpcy5fYnVmZlt0aGlzLl9idWZmTGVuKytdID0gMHg4MDtcbiAgICAgICAgZmlsbCh0aGlzLl9idWZmLCB0aGlzLl9idWZmTGVuKTtcbiAgICAgICAgaWYgKHRoaXMuX2J1ZmZMZW4gPiA1Nikge1xuICAgICAgICAgICAgdGhpcy5fc3RlcCgpO1xuICAgICAgICAgICAgZmlsbCh0aGlzLl9idWZmKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGlzIHdpbGwgZml0IGJlY2F1c2UgdGhlIG1hbnRpc3NhIGNhbiBjb3ZlciB1cCB0byA1MiBiaXRzXG4gICAgICAgIGNvbnN0IG1sID0gOCAqIHRoaXMuX3RvdGFsTGVuO1xuICAgICAgICB0aGlzLl9idWZmRFYuc2V0VWludDMyKDU2LCBNYXRoLmZsb29yKG1sIC8gNDI5NDk2NzI5NiksIGZhbHNlKTtcbiAgICAgICAgdGhpcy5fYnVmZkRWLnNldFVpbnQzMig2MCwgbWwgJSA0Mjk0OTY3Mjk2LCBmYWxzZSk7XG4gICAgICAgIHRoaXMuX3N0ZXAoKTtcbiAgICB9XG4gICAgX3N0ZXAoKSB7XG4gICAgICAgIGNvbnN0IGJpZ0Jsb2NrMzIgPSBTdHJpbmdTSEExLl9iaWdCbG9jazMyO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5fYnVmZkRWO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDY0IC8qIDE2KjQgKi87IGogKz0gNCkge1xuICAgICAgICAgICAgYmlnQmxvY2szMi5zZXRVaW50MzIoaiwgZGF0YS5nZXRVaW50MzIoaiwgZmFsc2UpLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaiA9IDY0OyBqIDwgMzIwIC8qIDgwKjQgKi87IGogKz0gNCkge1xuICAgICAgICAgICAgYmlnQmxvY2szMi5zZXRVaW50MzIoaiwgbGVmdFJvdGF0ZSgoYmlnQmxvY2szMi5nZXRVaW50MzIoaiAtIDEyLCBmYWxzZSkgXiBiaWdCbG9jazMyLmdldFVpbnQzMihqIC0gMzIsIGZhbHNlKSBeIGJpZ0Jsb2NrMzIuZ2V0VWludDMyKGogLSA1NiwgZmFsc2UpIF4gYmlnQmxvY2szMi5nZXRVaW50MzIoaiAtIDY0LCBmYWxzZSkpLCAxKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhID0gdGhpcy5faDA7XG4gICAgICAgIGxldCBiID0gdGhpcy5faDE7XG4gICAgICAgIGxldCBjID0gdGhpcy5faDI7XG4gICAgICAgIGxldCBkID0gdGhpcy5faDM7XG4gICAgICAgIGxldCBlID0gdGhpcy5faDQ7XG4gICAgICAgIGxldCBmLCBrO1xuICAgICAgICBsZXQgdGVtcDtcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCA4MDsgaisrKSB7XG4gICAgICAgICAgICBpZiAoaiA8IDIwKSB7XG4gICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoKH5iKSAmIGQpO1xuICAgICAgICAgICAgICAgIGsgPSAweDVBODI3OTk5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaiA8IDQwKSB7XG4gICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcbiAgICAgICAgICAgICAgICBrID0gMHg2RUQ5RUJBMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGogPCA2MCkge1xuICAgICAgICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCk7XG4gICAgICAgICAgICAgICAgayA9IDB4OEYxQkJDREM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xuICAgICAgICAgICAgICAgIGsgPSAweENBNjJDMUQ2O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcCA9IChsZWZ0Um90YXRlKGEsIDUpICsgZiArIGUgKyBrICsgYmlnQmxvY2szMi5nZXRVaW50MzIoaiAqIDQsIGZhbHNlKSkgJiAweGZmZmZmZmZmO1xuICAgICAgICAgICAgZSA9IGQ7XG4gICAgICAgICAgICBkID0gYztcbiAgICAgICAgICAgIGMgPSBsZWZ0Um90YXRlKGIsIDMwKTtcbiAgICAgICAgICAgIGIgPSBhO1xuICAgICAgICAgICAgYSA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faDAgPSAodGhpcy5faDAgKyBhKSAmIDB4ZmZmZmZmZmY7XG4gICAgICAgIHRoaXMuX2gxID0gKHRoaXMuX2gxICsgYikgJiAweGZmZmZmZmZmO1xuICAgICAgICB0aGlzLl9oMiA9ICh0aGlzLl9oMiArIGMpICYgMHhmZmZmZmZmZjtcbiAgICAgICAgdGhpcy5faDMgPSAodGhpcy5faDMgKyBkKSAmIDB4ZmZmZmZmZmY7XG4gICAgICAgIHRoaXMuX2g0ID0gKHRoaXMuX2g0ICsgZSkgJiAweGZmZmZmZmZmO1xuICAgIH1cbn1cblN0cmluZ1NIQTEuX2JpZ0Jsb2NrMzIgPSBuZXcgRGF0YVZpZXcobmV3IEFycmF5QnVmZmVyKDMyMCkpOyAvLyA4MCAqIDQgPSAzMjBcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRGlmZkNoYW5nZSB9IGZyb20gJy4vZGlmZkNoYW5nZS5qcyc7XG5pbXBvcnQgeyBzdHJpbmdIYXNoIH0gZnJvbSAnLi4vaGFzaC5qcyc7XG5leHBvcnQgY2xhc3MgU3RyaW5nRGlmZlNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2UpIHtcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIGdldEVsZW1lbnRzKCkge1xuICAgICAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnNvdXJjZTtcbiAgICAgICAgY29uc3QgY2hhcmFjdGVycyA9IG5ldyBJbnQzMkFycmF5KHNvdXJjZS5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc291cmNlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjaGFyYWN0ZXJzW2ldID0gc291cmNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoYXJhY3RlcnM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHN0cmluZ0RpZmYob3JpZ2luYWwsIG1vZGlmaWVkLCBwcmV0dHkpIHtcbiAgICByZXR1cm4gbmV3IExjc0RpZmYobmV3IFN0cmluZ0RpZmZTZXF1ZW5jZShvcmlnaW5hbCksIG5ldyBTdHJpbmdEaWZmU2VxdWVuY2UobW9kaWZpZWQpKS5Db21wdXRlRGlmZihwcmV0dHkpLmNoYW5nZXM7XG59XG4vL1xuLy8gVGhlIGNvZGUgYmVsb3cgaGFzIGJlZW4gcG9ydGVkIGZyb20gYSBDIyBpbXBsZW1lbnRhdGlvbiBpbiBWU1xuLy9cbmNsYXNzIERlYnVnIHtcbiAgICBzdGF0aWMgQXNzZXJ0KGNvbmRpdGlvbiwgbWVzc2FnZSkge1xuICAgICAgICBpZiAoIWNvbmRpdGlvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgTXlBcnJheSB7XG4gICAgLyoqXG4gICAgICogQ29waWVzIGEgcmFuZ2Ugb2YgZWxlbWVudHMgZnJvbSBhbiBBcnJheSBzdGFydGluZyBhdCB0aGUgc3BlY2lmaWVkIHNvdXJjZSBpbmRleCBhbmQgcGFzdGVzXG4gICAgICogdGhlbSB0byBhbm90aGVyIEFycmF5IHN0YXJ0aW5nIGF0IHRoZSBzcGVjaWZpZWQgZGVzdGluYXRpb24gaW5kZXguIFRoZSBsZW5ndGggYW5kIHRoZSBpbmRleGVzXG4gICAgICogYXJlIHNwZWNpZmllZCBhcyA2NC1iaXQgaW50ZWdlcnMuXG4gICAgICogc291cmNlQXJyYXk6XG4gICAgICpcdFx0VGhlIEFycmF5IHRoYXQgY29udGFpbnMgdGhlIGRhdGEgdG8gY29weS5cbiAgICAgKiBzb3VyY2VJbmRleDpcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgaW5kZXggaW4gdGhlIHNvdXJjZUFycmF5IGF0IHdoaWNoIGNvcHlpbmcgYmVnaW5zLlxuICAgICAqIGRlc3RpbmF0aW9uQXJyYXk6XG4gICAgICpcdFx0VGhlIEFycmF5IHRoYXQgcmVjZWl2ZXMgdGhlIGRhdGEuXG4gICAgICogZGVzdGluYXRpb25JbmRleDpcbiAgICAgKlx0XHRBIDY0LWJpdCBpbnRlZ2VyIHRoYXQgcmVwcmVzZW50cyB0aGUgaW5kZXggaW4gdGhlIGRlc3RpbmF0aW9uQXJyYXkgYXQgd2hpY2ggc3RvcmluZyBiZWdpbnMuXG4gICAgICogbGVuZ3RoOlxuICAgICAqXHRcdEEgNjQtYml0IGludGVnZXIgdGhhdCByZXByZXNlbnRzIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gY29weS5cbiAgICAgKi9cbiAgICBzdGF0aWMgQ29weShzb3VyY2VBcnJheSwgc291cmNlSW5kZXgsIGRlc3RpbmF0aW9uQXJyYXksIGRlc3RpbmF0aW9uSW5kZXgsIGxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBkZXN0aW5hdGlvbkFycmF5W2Rlc3RpbmF0aW9uSW5kZXggKyBpXSA9IHNvdXJjZUFycmF5W3NvdXJjZUluZGV4ICsgaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIENvcHkyKHNvdXJjZUFycmF5LCBzb3VyY2VJbmRleCwgZGVzdGluYXRpb25BcnJheSwgZGVzdGluYXRpb25JbmRleCwgbGVuZ3RoKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uQXJyYXlbZGVzdGluYXRpb25JbmRleCArIGldID0gc291cmNlQXJyYXlbc291cmNlSW5kZXggKyBpXTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIHdoaWNoIGhlbHBzIHRvIGNyZWF0ZSB0aGUgc2V0IG9mIERpZmZDaGFuZ2VzIGZyb21cbiAqIGEgZGlmZmVyZW5jZSBvcGVyYXRpb24uIFRoaXMgY2xhc3MgYWNjZXB0cyBvcmlnaW5hbCBEaWZmRWxlbWVudHMgYW5kXG4gKiBtb2RpZmllZCBEaWZmRWxlbWVudHMgdGhhdCBhcmUgaW52b2x2ZWQgaW4gYSBwYXJ0aWN1bGFyIGNoYW5nZS4gVGhlXG4gKiBNYXJrTmV4dENoYW5nZSgpIG1ldGhvZCBjYW4gYmUgY2FsbGVkIHRvIG1hcmsgdGhlIHNlcGFyYXRpb24gYmV0d2VlblxuICogZGlzdGluY3QgY2hhbmdlcy4gQXQgdGhlIGVuZCwgdGhlIENoYW5nZXMgcHJvcGVydHkgY2FuIGJlIGNhbGxlZCB0byByZXRyaWV2ZVxuICogdGhlIGNvbnN0cnVjdGVkIGNoYW5nZXMuXG4gKi9cbmNsYXNzIERpZmZDaGFuZ2VIZWxwZXIge1xuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgYSBuZXcgRGlmZkNoYW5nZUhlbHBlciBmb3IgdGhlIGdpdmVuIERpZmZTZXF1ZW5jZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubV9jaGFuZ2VzID0gW107XG4gICAgICAgIHRoaXMubV9vcmlnaW5hbFN0YXJ0ID0gMTA3Mzc0MTgyNCAvKiBDb25zdGFudHMuTUFYX1NBRkVfU01BTExfSU5URUdFUiAqLztcbiAgICAgICAgdGhpcy5tX21vZGlmaWVkU3RhcnQgPSAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovO1xuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZENvdW50ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBjaGFuZ2UgaW4gdGhlIHNldCBvZiBkaWZmZXJlbmNlcy5cbiAgICAgKi9cbiAgICBNYXJrTmV4dENoYW5nZSgpIHtcbiAgICAgICAgLy8gT25seSBhZGQgdG8gdGhlIGxpc3QgaWYgdGhlcmUgaXMgc29tZXRoaW5nIHRvIGFkZFxuICAgICAgICBpZiAodGhpcy5tX29yaWdpbmFsQ291bnQgPiAwIHx8IHRoaXMubV9tb2RpZmllZENvdW50ID4gMCkge1xuICAgICAgICAgICAgLy8gQWRkIHRoZSBuZXcgY2hhbmdlIHRvIG91ciBsaXN0XG4gICAgICAgICAgICB0aGlzLm1fY2hhbmdlcy5wdXNoKG5ldyBEaWZmQ2hhbmdlKHRoaXMubV9vcmlnaW5hbFN0YXJ0LCB0aGlzLm1fb3JpZ2luYWxDb3VudCwgdGhpcy5tX21vZGlmaWVkU3RhcnQsIHRoaXMubV9tb2RpZmllZENvdW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzZXQgZm9yIHRoZSBuZXh0IGNoYW5nZVxuICAgICAgICB0aGlzLm1fb3JpZ2luYWxDb3VudCA9IDA7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSAxMDczNzQxODI0IC8qIENvbnN0YW50cy5NQVhfU0FGRV9TTUFMTF9JTlRFR0VSICovO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRTdGFydCA9IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIG9yaWdpbmFsIGVsZW1lbnQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIHRvIHRoZSBlbGVtZW50c1xuICAgICAqIGFmZmVjdGVkIGJ5IHRoZSBjdXJyZW50IGNoYW5nZS4gVGhlIG1vZGlmaWVkIGluZGV4IGdpdmVzIGNvbnRleHRcbiAgICAgKiB0byB0aGUgY2hhbmdlIHBvc2l0aW9uIHdpdGggcmVzcGVjdCB0byB0aGUgb3JpZ2luYWwgc2VxdWVuY2UuXG4gICAgICogQHBhcmFtIG9yaWdpbmFsSW5kZXggVGhlIGluZGV4IG9mIHRoZSBvcmlnaW5hbCBlbGVtZW50IHRvIGFkZC5cbiAgICAgKiBAcGFyYW0gbW9kaWZpZWRJbmRleCBUaGUgaW5kZXggb2YgdGhlIG1vZGlmaWVkIGVsZW1lbnQgdGhhdCBwcm92aWRlcyBjb3JyZXNwb25kaW5nIHBvc2l0aW9uIGluIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cbiAgICAgKi9cbiAgICBBZGRPcmlnaW5hbEVsZW1lbnQob3JpZ2luYWxJbmRleCwgbW9kaWZpZWRJbmRleCkge1xuICAgICAgICAvLyBUaGUgJ3RydWUnIHN0YXJ0IGluZGV4IGlzIHRoZSBzbWFsbGVzdCBvZiB0aGUgb25lcyB3ZSd2ZSBzZWVuXG4gICAgICAgIHRoaXMubV9vcmlnaW5hbFN0YXJ0ID0gTWF0aC5taW4odGhpcy5tX29yaWdpbmFsU3RhcnQsIG9yaWdpbmFsSW5kZXgpO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRTdGFydCA9IE1hdGgubWluKHRoaXMubV9tb2RpZmllZFN0YXJ0LCBtb2RpZmllZEluZGV4KTtcbiAgICAgICAgdGhpcy5tX29yaWdpbmFsQ291bnQrKztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgbW9kaWZpZWQgZWxlbWVudCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gdG8gdGhlIGVsZW1lbnRzXG4gICAgICogYWZmZWN0ZWQgYnkgdGhlIGN1cnJlbnQgY2hhbmdlLiBUaGUgb3JpZ2luYWwgaW5kZXggZ2l2ZXMgY29udGV4dFxuICAgICAqIHRvIHRoZSBjaGFuZ2UgcG9zaXRpb24gd2l0aCByZXNwZWN0IHRvIHRoZSBtb2RpZmllZCBzZXF1ZW5jZS5cbiAgICAgKiBAcGFyYW0gb3JpZ2luYWxJbmRleCBUaGUgaW5kZXggb2YgdGhlIG9yaWdpbmFsIGVsZW1lbnQgdGhhdCBwcm92aWRlcyBjb3JyZXNwb25kaW5nIHBvc2l0aW9uIGluIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZS5cbiAgICAgKiBAcGFyYW0gbW9kaWZpZWRJbmRleCBUaGUgaW5kZXggb2YgdGhlIG1vZGlmaWVkIGVsZW1lbnQgdG8gYWRkLlxuICAgICAqL1xuICAgIEFkZE1vZGlmaWVkRWxlbWVudChvcmlnaW5hbEluZGV4LCBtb2RpZmllZEluZGV4KSB7XG4gICAgICAgIC8vIFRoZSAndHJ1ZScgc3RhcnQgaW5kZXggaXMgdGhlIHNtYWxsZXN0IG9mIHRoZSBvbmVzIHdlJ3ZlIHNlZW5cbiAgICAgICAgdGhpcy5tX29yaWdpbmFsU3RhcnQgPSBNYXRoLm1pbih0aGlzLm1fb3JpZ2luYWxTdGFydCwgb3JpZ2luYWxJbmRleCk7XG4gICAgICAgIHRoaXMubV9tb2RpZmllZFN0YXJ0ID0gTWF0aC5taW4odGhpcy5tX21vZGlmaWVkU3RhcnQsIG1vZGlmaWVkSW5kZXgpO1xuICAgICAgICB0aGlzLm1fbW9kaWZpZWRDb3VudCsrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIG9mIHRoZSBjaGFuZ2VzIG1hcmtlZCBieSB0aGUgY2xhc3MuXG4gICAgICovXG4gICAgZ2V0Q2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmlzaCB1cCBvbiB3aGF0ZXZlciBpcyBsZWZ0XG4gICAgICAgICAgICB0aGlzLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMubV9jaGFuZ2VzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIG9mIHRoZSBjaGFuZ2VzIG1hcmtlZCBieSB0aGUgY2xhc3MgaW4gdGhlIHJldmVyc2Ugb3JkZXJcbiAgICAgKi9cbiAgICBnZXRSZXZlcnNlQ2hhbmdlcygpIHtcbiAgICAgICAgaWYgKHRoaXMubV9vcmlnaW5hbENvdW50ID4gMCB8fCB0aGlzLm1fbW9kaWZpZWRDb3VudCA+IDApIHtcbiAgICAgICAgICAgIC8vIEZpbmlzaCB1cCBvbiB3aGF0ZXZlciBpcyBsZWZ0XG4gICAgICAgICAgICB0aGlzLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5tX2NoYW5nZXMucmV2ZXJzZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5tX2NoYW5nZXM7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgZGlmZmVyZW5jZSBhbGdvcml0aG0gZGVzY3JpYmVkIGluXG4gKiBcIkFuIE8oTkQpIERpZmZlcmVuY2UgQWxnb3JpdGhtIGFuZCBpdHMgdmFyaWF0aW9uc1wiIGJ5IEV1Z2VuZSBXLiBNeWVyc1xuICovXG5leHBvcnQgY2xhc3MgTGNzRGlmZiB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyB0aGUgRGlmZkZpbmRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsU2VxdWVuY2UsIG1vZGlmaWVkU2VxdWVuY2UsIGNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5Db250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUgPSBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGU7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsU2VxdWVuY2UgPSBvcmlnaW5hbFNlcXVlbmNlO1xuICAgICAgICB0aGlzLl9tb2RpZmllZFNlcXVlbmNlID0gbW9kaWZpZWRTZXF1ZW5jZTtcbiAgICAgICAgY29uc3QgW29yaWdpbmFsU3RyaW5nRWxlbWVudHMsIG9yaWdpbmFsRWxlbWVudHNPckhhc2gsIG9yaWdpbmFsSGFzU3RyaW5nc10gPSBMY3NEaWZmLl9nZXRFbGVtZW50cyhvcmlnaW5hbFNlcXVlbmNlKTtcbiAgICAgICAgY29uc3QgW21vZGlmaWVkU3RyaW5nRWxlbWVudHMsIG1vZGlmaWVkRWxlbWVudHNPckhhc2gsIG1vZGlmaWVkSGFzU3RyaW5nc10gPSBMY3NEaWZmLl9nZXRFbGVtZW50cyhtb2RpZmllZFNlcXVlbmNlKTtcbiAgICAgICAgdGhpcy5faGFzU3RyaW5ncyA9IChvcmlnaW5hbEhhc1N0cmluZ3MgJiYgbW9kaWZpZWRIYXNTdHJpbmdzKTtcbiAgICAgICAgdGhpcy5fb3JpZ2luYWxTdHJpbmdFbGVtZW50cyA9IG9yaWdpbmFsU3RyaW5nRWxlbWVudHM7XG4gICAgICAgIHRoaXMuX29yaWdpbmFsRWxlbWVudHNPckhhc2ggPSBvcmlnaW5hbEVsZW1lbnRzT3JIYXNoO1xuICAgICAgICB0aGlzLl9tb2RpZmllZFN0cmluZ0VsZW1lbnRzID0gbW9kaWZpZWRTdHJpbmdFbGVtZW50cztcbiAgICAgICAgdGhpcy5fbW9kaWZpZWRFbGVtZW50c09ySGFzaCA9IG1vZGlmaWVkRWxlbWVudHNPckhhc2g7XG4gICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkgPSBbXTtcbiAgICB9XG4gICAgc3RhdGljIF9pc1N0cmluZ0FycmF5KGFycikge1xuICAgICAgICByZXR1cm4gKGFyci5sZW5ndGggPiAwICYmIHR5cGVvZiBhcnJbMF0gPT09ICdzdHJpbmcnKTtcbiAgICB9XG4gICAgc3RhdGljIF9nZXRFbGVtZW50cyhzZXF1ZW5jZSkge1xuICAgICAgICBjb25zdCBlbGVtZW50cyA9IHNlcXVlbmNlLmdldEVsZW1lbnRzKCk7XG4gICAgICAgIGlmIChMY3NEaWZmLl9pc1N0cmluZ0FycmF5KGVsZW1lbnRzKSkge1xuICAgICAgICAgICAgY29uc3QgaGFzaGVzID0gbmV3IEludDMyQXJyYXkoZWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlbGVtZW50cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGhhc2hlc1tpXSA9IHN0cmluZ0hhc2goZWxlbWVudHNbaV0sIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtlbGVtZW50cywgaGFzaGVzLCB0cnVlXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBJbnQzMkFycmF5KSB7XG4gICAgICAgICAgICByZXR1cm4gW1tdLCBlbGVtZW50cywgZmFsc2VdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbW10sIG5ldyBJbnQzMkFycmF5KGVsZW1lbnRzKSwgZmFsc2VdO1xuICAgIH1cbiAgICBFbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsSW5kZXgsIG5ld0luZGV4KSB7XG4gICAgICAgIGlmICh0aGlzLl9vcmlnaW5hbEVsZW1lbnRzT3JIYXNoW29yaWdpbmFsSW5kZXhdICE9PSB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoW25ld0luZGV4XSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5faGFzU3RyaW5ncyA/IHRoaXMuX29yaWdpbmFsU3RyaW5nRWxlbWVudHNbb3JpZ2luYWxJbmRleF0gPT09IHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHNbbmV3SW5kZXhdIDogdHJ1ZSk7XG4gICAgfVxuICAgIEVsZW1lbnRzQXJlU3RyaWN0RXF1YWwob3JpZ2luYWxJbmRleCwgbmV3SW5kZXgpIHtcbiAgICAgICAgaWYgKCF0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxJbmRleCwgbmV3SW5kZXgpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxFbGVtZW50ID0gTGNzRGlmZi5fZ2V0U3RyaWN0RWxlbWVudCh0aGlzLl9vcmlnaW5hbFNlcXVlbmNlLCBvcmlnaW5hbEluZGV4KTtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRFbGVtZW50ID0gTGNzRGlmZi5fZ2V0U3RyaWN0RWxlbWVudCh0aGlzLl9tb2RpZmllZFNlcXVlbmNlLCBuZXdJbmRleCk7XG4gICAgICAgIHJldHVybiAob3JpZ2luYWxFbGVtZW50ID09PSBtb2RpZmllZEVsZW1lbnQpO1xuICAgIH1cbiAgICBzdGF0aWMgX2dldFN0cmljdEVsZW1lbnQoc2VxdWVuY2UsIGluZGV4KSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2VxdWVuY2UuZ2V0U3RyaWN0RWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIHNlcXVlbmNlLmdldFN0cmljdEVsZW1lbnQoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBPcmlnaW5hbEVsZW1lbnRzQXJlRXF1YWwoaW5kZXgxLCBpbmRleDIpIHtcbiAgICAgICAgaWYgKHRoaXMuX29yaWdpbmFsRWxlbWVudHNPckhhc2hbaW5kZXgxXSAhPT0gdGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaFtpbmRleDJdKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLl9oYXNTdHJpbmdzID8gdGhpcy5fb3JpZ2luYWxTdHJpbmdFbGVtZW50c1tpbmRleDFdID09PSB0aGlzLl9vcmlnaW5hbFN0cmluZ0VsZW1lbnRzW2luZGV4Ml0gOiB0cnVlKTtcbiAgICB9XG4gICAgTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKGluZGV4MSwgaW5kZXgyKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoW2luZGV4MV0gIT09IHRoaXMuX21vZGlmaWVkRWxlbWVudHNPckhhc2hbaW5kZXgyXSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5faGFzU3RyaW5ncyA/IHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHNbaW5kZXgxXSA9PT0gdGhpcy5fbW9kaWZpZWRTdHJpbmdFbGVtZW50c1tpbmRleDJdIDogdHJ1ZSk7XG4gICAgfVxuICAgIENvbXB1dGVEaWZmKHByZXR0eSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fQ29tcHV0ZURpZmYoMCwgdGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaC5sZW5ndGggLSAxLCAwLCB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoLmxlbmd0aCAtIDEsIHByZXR0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSBvcmlnaW5hbCBhbmQgbW9kaWZpZWQgaW5wdXRcbiAgICAgKiBzZXF1ZW5jZXMgb24gdGhlIGJvdW5kZWQgcmFuZ2UuXG4gICAgICogQHJldHVybnMgQW4gYXJyYXkgb2YgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gdGhlIHR3byBpbnB1dCBzZXF1ZW5jZXMuXG4gICAgICovXG4gICAgX0NvbXB1dGVEaWZmKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcHJldHR5KSB7XG4gICAgICAgIGNvbnN0IHF1aXRFYXJseUFyciA9IFtmYWxzZV07XG4gICAgICAgIGxldCBjaGFuZ2VzID0gdGhpcy5Db21wdXRlRGlmZlJlY3Vyc2l2ZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQsIHF1aXRFYXJseUFycik7XG4gICAgICAgIGlmIChwcmV0dHkpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgdG8gY2xlYW4gdXAgdGhlIGNvbXB1dGVkIGRpZmYgdG8gYmUgbW9yZSBpbnR1aXRpdmVcbiAgICAgICAgICAgIC8vIGJ1dCBpdCB0dXJucyBvdXQgdGhpcyBjYW5ub3QgYmUgZG9uZSBjb3JyZWN0bHkgdW50aWwgdGhlIGVudGlyZSBzZXRcbiAgICAgICAgICAgIC8vIG9mIGRpZmZzIGhhdmUgYmVlbiBjb21wdXRlZFxuICAgICAgICAgICAgY2hhbmdlcyA9IHRoaXMuUHJldHRpZnlDaGFuZ2VzKGNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBxdWl0RWFybHk6IHF1aXRFYXJseUFyclswXSxcbiAgICAgICAgICAgIGNoYW5nZXM6IGNoYW5nZXNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJpdmF0ZSBoZWxwZXIgbWV0aG9kIHdoaWNoIGNvbXB1dGVzIHRoZSBkaWZmZXJlbmNlcyBvbiB0aGUgYm91bmRlZCByYW5nZVxuICAgICAqIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEByZXR1cm5zIEFuIGFycmF5IG9mIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB0d28gaW5wdXQgc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIENvbXB1dGVEaWZmUmVjdXJzaXZlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKSB7XG4gICAgICAgIHF1aXRFYXJseUFyclswXSA9IGZhbHNlO1xuICAgICAgICAvLyBGaW5kIHRoZSBzdGFydCBvZiB0aGUgZGlmZmVyZW5jZXNcbiAgICAgICAgd2hpbGUgKG9yaWdpbmFsU3RhcnQgPD0gb3JpZ2luYWxFbmQgJiYgbW9kaWZpZWRTdGFydCA8PSBtb2RpZmllZEVuZCAmJiB0aGlzLkVsZW1lbnRzQXJlRXF1YWwob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydCkpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnQrKztcbiAgICAgICAgICAgIG1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBGaW5kIHRoZSBlbmQgb2YgdGhlIGRpZmZlcmVuY2VzXG4gICAgICAgIHdoaWxlIChvcmlnaW5hbEVuZCA+PSBvcmlnaW5hbFN0YXJ0ICYmIG1vZGlmaWVkRW5kID49IG1vZGlmaWVkU3RhcnQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZCkpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsRW5kLS07XG4gICAgICAgICAgICBtb2RpZmllZEVuZC0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIEluIHRoZSBzcGVjaWFsIGNhc2Ugd2hlcmUgd2UgZWl0aGVyIGhhdmUgYWxsIGluc2VydGlvbnMgb3IgYWxsIGRlbGV0aW9ucyBvciB0aGUgc2VxdWVuY2VzIGFyZSBpZGVudGljYWxcbiAgICAgICAgaWYgKG9yaWdpbmFsU3RhcnQgPiBvcmlnaW5hbEVuZCB8fCBtb2RpZmllZFN0YXJ0ID4gbW9kaWZpZWRFbmQpIHtcbiAgICAgICAgICAgIGxldCBjaGFuZ2VzO1xuICAgICAgICAgICAgaWYgKG1vZGlmaWVkU3RhcnQgPD0gbW9kaWZpZWRFbmQpIHtcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxFbmQgKyAxLCAnb3JpZ2luYWxTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG9yaWdpbmFsRW5kJyk7XG4gICAgICAgICAgICAgICAgLy8gQWxsIGluc2VydGlvbnNcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCAwLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQgKyAxKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChvcmlnaW5hbFN0YXJ0IDw9IG9yaWdpbmFsRW5kKSB7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG1vZGlmaWVkU3RhcnQgPT09IG1vZGlmaWVkRW5kICsgMSwgJ21vZGlmaWVkU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBtb2RpZmllZEVuZCcpO1xuICAgICAgICAgICAgICAgIC8vIEFsbCBkZWxldGlvbnNcbiAgICAgICAgICAgICAgICBjaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbEVuZCAtIG9yaWdpbmFsU3RhcnQgKyAxLCBtb2RpZmllZFN0YXJ0LCAwKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBEZWJ1Zy5Bc3NlcnQob3JpZ2luYWxTdGFydCA9PT0gb3JpZ2luYWxFbmQgKyAxLCAnb3JpZ2luYWxTdGFydCBzaG91bGQgb25seSBiZSBvbmUgbW9yZSB0aGFuIG9yaWdpbmFsRW5kJyk7XG4gICAgICAgICAgICAgICAgRGVidWcuQXNzZXJ0KG1vZGlmaWVkU3RhcnQgPT09IG1vZGlmaWVkRW5kICsgMSwgJ21vZGlmaWVkU3RhcnQgc2hvdWxkIG9ubHkgYmUgb25lIG1vcmUgdGhhbiBtb2RpZmllZEVuZCcpO1xuICAgICAgICAgICAgICAgIC8vIElkZW50aWNhbCBzZXF1ZW5jZXMgLSBObyBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgICAgIGNoYW5nZXMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VzO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoaXMgcHJvYmxlbSBjYW4gYmUgc29sdmVkIHVzaW5nIHRoZSBEaXZpZGUtQW5kLUNvbnF1ZXIgdGVjaG5pcXVlLlxuICAgICAgICBjb25zdCBtaWRPcmlnaW5hbEFyciA9IFswXTtcbiAgICAgICAgY29uc3QgbWlkTW9kaWZpZWRBcnIgPSBbMF07XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuQ29tcHV0ZVJlY3Vyc2lvblBvaW50KG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1pZE1vZGlmaWVkQXJyLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICBjb25zdCBtaWRPcmlnaW5hbCA9IG1pZE9yaWdpbmFsQXJyWzBdO1xuICAgICAgICBjb25zdCBtaWRNb2RpZmllZCA9IG1pZE1vZGlmaWVkQXJyWzBdO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAvLyBSZXN1bHQgaXMgbm90LW51bGwgd2hlbiB0aGVyZSB3YXMgZW5vdWdoIG1lbW9yeSB0byBjb21wdXRlIHRoZSBjaGFuZ2VzIHdoaWxlXG4gICAgICAgICAgICAvLyBzZWFyY2hpbmcgZm9yIHRoZSByZWN1cnNpb24gcG9pbnRcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXF1aXRFYXJseUFyclswXSkge1xuICAgICAgICAgICAgLy8gV2UgY2FuIGJyZWFrIHRoZSBwcm9ibGVtIGRvd24gcmVjdXJzaXZlbHkgYnkgZmluZGluZyB0aGUgY2hhbmdlcyBpbiB0aGVcbiAgICAgICAgICAgIC8vIEZpcnN0IEhhbGY6ICAgKG9yaWdpbmFsU3RhcnQsIG1vZGlmaWVkU3RhcnQpIHRvIChtaWRPcmlnaW5hbCwgbWlkTW9kaWZpZWQpXG4gICAgICAgICAgICAvLyBTZWNvbmQgSGFsZjogIChtaWRPcmlnaW5hbCArIDEsIG1pbk1vZGlmaWVkICsgMSkgdG8gKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcbiAgICAgICAgICAgIC8vIE5PVEU6IENvbXB1dGVEaWZmKCkgaXMgaW5jbHVzaXZlLCB0aGVyZWZvcmUgdGhlIHNlY29uZCByYW5nZSBzdGFydHMgb24gdGhlIG5leHQgcG9pbnRcbiAgICAgICAgICAgIGNvbnN0IGxlZnRDaGFuZ2VzID0gdGhpcy5Db21wdXRlRGlmZlJlY3Vyc2l2ZShvcmlnaW5hbFN0YXJ0LCBtaWRPcmlnaW5hbCwgbW9kaWZpZWRTdGFydCwgbWlkTW9kaWZpZWQsIHF1aXRFYXJseUFycik7XG4gICAgICAgICAgICBsZXQgcmlnaHRDaGFuZ2VzID0gW107XG4gICAgICAgICAgICBpZiAoIXF1aXRFYXJseUFyclswXSkge1xuICAgICAgICAgICAgICAgIHJpZ2h0Q2hhbmdlcyA9IHRoaXMuQ29tcHV0ZURpZmZSZWN1cnNpdmUobWlkT3JpZ2luYWwgKyAxLCBvcmlnaW5hbEVuZCwgbWlkTW9kaWZpZWQgKyAxLCBtb2RpZmllZEVuZCwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRpZG4ndCBoYXZlIHRpbWUgdG8gZmluaXNoIHRoZSBmaXJzdCBoYWxmLCBzbyB3ZSBkb24ndCBoYXZlIHRpbWUgdG8gY29tcHV0ZSB0aGlzIGhhbGYuXG4gICAgICAgICAgICAgICAgLy8gQ29uc2lkZXIgdGhlIGVudGlyZSByZXN0IG9mIHRoZSBzZXF1ZW5jZSBkaWZmZXJlbnQuXG4gICAgICAgICAgICAgICAgcmlnaHRDaGFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShtaWRPcmlnaW5hbCArIDEsIG9yaWdpbmFsRW5kIC0gKG1pZE9yaWdpbmFsICsgMSkgKyAxLCBtaWRNb2RpZmllZCArIDEsIG1vZGlmaWVkRW5kIC0gKG1pZE1vZGlmaWVkICsgMSkgKyAxKVxuICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMobGVmdENoYW5nZXMsIHJpZ2h0Q2hhbmdlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgaGl0IGhlcmUsIHdlIHF1aXQgZWFybHksIGFuZCBzbyBjYW4ndCByZXR1cm4gYW55dGhpbmcgbWVhbmluZ2Z1bFxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxFbmQgLSBvcmlnaW5hbFN0YXJ0ICsgMSwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0ICsgMSlcbiAgICAgICAgXTtcbiAgICB9XG4gICAgV0FMS1RSQUNFKGRpYWdvbmFsRm9yd2FyZEJhc2UsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCBkaWFnb25hbEZvcndhcmRFbmQsIGRpYWdvbmFsRm9yd2FyZE9mZnNldCwgZGlhZ29uYWxSZXZlcnNlQmFzZSwgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIGRpYWdvbmFsUmV2ZXJzZUVuZCwgZGlhZ29uYWxSZXZlcnNlT2Zmc2V0LCBmb3J3YXJkUG9pbnRzLCByZXZlcnNlUG9pbnRzLCBvcmlnaW5hbEluZGV4LCBvcmlnaW5hbEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1vZGlmaWVkSW5kZXgsIG1vZGlmaWVkRW5kLCBtaWRNb2RpZmllZEFyciwgZGVsdGFJc0V2ZW4sIHF1aXRFYXJseUFycikge1xuICAgICAgICBsZXQgZm9yd2FyZENoYW5nZXMgPSBudWxsO1xuICAgICAgICBsZXQgcmV2ZXJzZUNoYW5nZXMgPSBudWxsO1xuICAgICAgICAvLyBGaXJzdCwgd2FsayBiYWNrd2FyZCB0aHJvdWdoIHRoZSBmb3J3YXJkIGRpYWdvbmFscyBoaXN0b3J5XG4gICAgICAgIGxldCBjaGFuZ2VIZWxwZXIgPSBuZXcgRGlmZkNoYW5nZUhlbHBlcigpO1xuICAgICAgICBsZXQgZGlhZ29uYWxNaW4gPSBkaWFnb25hbEZvcndhcmRTdGFydDtcbiAgICAgICAgbGV0IGRpYWdvbmFsTWF4ID0gZGlhZ29uYWxGb3J3YXJkRW5kO1xuICAgICAgICBsZXQgZGlhZ29uYWxSZWxhdGl2ZSA9IChtaWRPcmlnaW5hbEFyclswXSAtIG1pZE1vZGlmaWVkQXJyWzBdKSAtIGRpYWdvbmFsRm9yd2FyZE9mZnNldDtcbiAgICAgICAgbGV0IGxhc3RPcmlnaW5hbEluZGV4ID0gLTEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1JTl9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XG4gICAgICAgIGxldCBoaXN0b3J5SW5kZXggPSB0aGlzLm1fZm9yd2FyZEhpc3RvcnkubGVuZ3RoIC0gMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBkaWFnb25hbCBpbmRleCBmcm9tIHRoZSByZWxhdGl2ZSBkaWFnb25hbCBudW1iZXJcbiAgICAgICAgICAgIGNvbnN0IGRpYWdvbmFsID0gZGlhZ29uYWxSZWxhdGl2ZSArIGRpYWdvbmFsRm9yd2FyZEJhc2U7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoZXJlIHdlIGNhbWUgZnJvbVxuICAgICAgICAgICAgaWYgKGRpYWdvbmFsID09PSBkaWFnb25hbE1pbiB8fCAoZGlhZ29uYWwgPCBkaWFnb25hbE1heCAmJiBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gPCBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgLy8gVmVydGljYWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYW4gaW5zZXJ0KVxuICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV07XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSBkaWFnb25hbFJlbGF0aXZlIC0gZGlhZ29uYWxGb3J3YXJkT2Zmc2V0O1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4IDwgbGFzdE9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4KTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsICsgMSkgLSBkaWFnb25hbEZvcndhcmRCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYSBkZWxldGlvbilcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gZm9yd2FyZFBvaW50c1tkaWFnb25hbCAtIDFdICsgMTtcbiAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbEZvcndhcmRPZmZzZXQ7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPCBsYXN0T3JpZ2luYWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuTWFya05leHRDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gMTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkT3JpZ2luYWxFbGVtZW50KG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbFJlbGF0aXZlID0gKGRpYWdvbmFsIC0gMSkgLSBkaWFnb25hbEZvcndhcmRCYXNlOyAvL1NldHVwIGZvciB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChoaXN0b3J5SW5kZXggPj0gMCkge1xuICAgICAgICAgICAgICAgIGZvcndhcmRQb2ludHMgPSB0aGlzLm1fZm9yd2FyZEhpc3RvcnlbaGlzdG9yeUluZGV4XTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbEZvcndhcmRCYXNlID0gZm9yd2FyZFBvaW50c1swXTsgLy9XZSBzdG9yZWQgdGhpcyBpbiB0aGUgZmlyc3Qgc3BvdFxuICAgICAgICAgICAgICAgIGRpYWdvbmFsTWluID0gMTtcbiAgICAgICAgICAgICAgICBkaWFnb25hbE1heCA9IGZvcndhcmRQb2ludHMubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoLS1oaXN0b3J5SW5kZXggPj0gLTEpO1xuICAgICAgICAvLyBJcm9uaWNhbGx5LCB3ZSBnZXQgdGhlIGZvcndhcmQgY2hhbmdlcyBhcyB0aGUgcmV2ZXJzZSBvZiB0aGVcbiAgICAgICAgLy8gb3JkZXIgd2UgYWRkZWQgdGhlbSBzaW5jZSB3ZSB0ZWNobmljYWxseSBhZGRlZCB0aGVtIGJhY2t3YXJkc1xuICAgICAgICBmb3J3YXJkQ2hhbmdlcyA9IGNoYW5nZUhlbHBlci5nZXRSZXZlcnNlQ2hhbmdlcygpO1xuICAgICAgICBpZiAocXVpdEVhcmx5QXJyWzBdKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBDYWxjdWxhdGUgYSBwYXJ0aWFsIGZyb20gdGhlIHJldmVyc2UgZGlhZ29uYWxzLlxuICAgICAgICAgICAgLy8gICAgICAgRm9yIG5vdywganVzdCBhc3N1bWUgZXZlcnl0aGluZyBhZnRlciB0aGUgbWlkT3JpZ2luYWwvbWlkTW9kaWZpZWQgcG9pbnQgaXMgYSBkaWZmXG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxTdGFydFBvaW50ID0gbWlkT3JpZ2luYWxBcnJbMF0gKyAxO1xuICAgICAgICAgICAgbGV0IG1vZGlmaWVkU3RhcnRQb2ludCA9IG1pZE1vZGlmaWVkQXJyWzBdICsgMTtcbiAgICAgICAgICAgIGlmIChmb3J3YXJkQ2hhbmdlcyAhPT0gbnVsbCAmJiBmb3J3YXJkQ2hhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGFzdEZvcndhcmRDaGFuZ2UgPSBmb3J3YXJkQ2hhbmdlc1tmb3J3YXJkQ2hhbmdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0UG9pbnQgPSBNYXRoLm1heChvcmlnaW5hbFN0YXJ0UG9pbnQsIGxhc3RGb3J3YXJkQ2hhbmdlLmdldE9yaWdpbmFsRW5kKCkpO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRQb2ludCA9IE1hdGgubWF4KG1vZGlmaWVkU3RhcnRQb2ludCwgbGFzdEZvcndhcmRDaGFuZ2UuZ2V0TW9kaWZpZWRFbmQoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXZlcnNlQ2hhbmdlcyA9IFtcbiAgICAgICAgICAgICAgICBuZXcgRGlmZkNoYW5nZShvcmlnaW5hbFN0YXJ0UG9pbnQsIG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydFBvaW50ICsgMSwgbW9kaWZpZWRTdGFydFBvaW50LCBtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnRQb2ludCArIDEpXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gTm93IHdhbGsgYmFja3dhcmQgdGhyb3VnaCB0aGUgcmV2ZXJzZSBkaWFnb25hbHMgaGlzdG9yeVxuICAgICAgICAgICAgY2hhbmdlSGVscGVyID0gbmV3IERpZmZDaGFuZ2VIZWxwZXIoKTtcbiAgICAgICAgICAgIGRpYWdvbmFsTWluID0gZGlhZ29uYWxSZXZlcnNlU3RhcnQ7XG4gICAgICAgICAgICBkaWFnb25hbE1heCA9IGRpYWdvbmFsUmV2ZXJzZUVuZDtcbiAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAobWlkT3JpZ2luYWxBcnJbMF0gLSBtaWRNb2RpZmllZEFyclswXSkgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICBsYXN0T3JpZ2luYWxJbmRleCA9IDEwNzM3NDE4MjQgLyogQ29uc3RhbnRzLk1BWF9TQUZFX1NNQUxMX0lOVEVHRVIgKi87XG4gICAgICAgICAgICBoaXN0b3J5SW5kZXggPSAoZGVsdGFJc0V2ZW4pID8gdGhpcy5tX3JldmVyc2VIaXN0b3J5Lmxlbmd0aCAtIDEgOiB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkubGVuZ3RoIC0gMjtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIGRpYWdvbmFsIGluZGV4IGZyb20gdGhlIHJlbGF0aXZlIGRpYWdvbmFsIG51bWJlclxuICAgICAgICAgICAgICAgIGNvbnN0IGRpYWdvbmFsID0gZGlhZ29uYWxSZWxhdGl2ZSArIGRpYWdvbmFsUmV2ZXJzZUJhc2U7XG4gICAgICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGVyZSB3ZSBjYW1lIGZyb21cbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsTWluIHx8IChkaWFnb25hbCA8IGRpYWdvbmFsTWF4ICYmIHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXSA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhvcml6b250YWwgbGluZSAodGhlIGVsZW1lbnQgaXMgYSBkZWxldGlvbikpXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0gLSAxO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4ID0gb3JpZ2luYWxJbmRleCAtIGRpYWdvbmFsUmVsYXRpdmUgLSBkaWFnb25hbFJldmVyc2VPZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ID4gbGFzdE9yaWdpbmFsSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5NYXJrTmV4dENoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleCArIDE7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUhlbHBlci5BZGRPcmlnaW5hbEVsZW1lbnQob3JpZ2luYWxJbmRleCArIDEsIG1vZGlmaWVkSW5kZXggKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZGlhZ29uYWxSZWxhdGl2ZSA9IChkaWFnb25hbCArIDEpIC0gZGlhZ29uYWxSZXZlcnNlQmFzZTsgLy9TZXR1cCBmb3IgdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBWZXJ0aWNhbCBsaW5lICh0aGUgZWxlbWVudCBpcyBhbiBpbnNlcnRpb24pXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkSW5kZXggPSBvcmlnaW5hbEluZGV4IC0gZGlhZ29uYWxSZWxhdGl2ZSAtIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsSW5kZXggPiBsYXN0T3JpZ2luYWxJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlSGVscGVyLk1hcmtOZXh0Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VIZWxwZXIuQWRkTW9kaWZpZWRFbGVtZW50KG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsUmVsYXRpdmUgPSAoZGlhZ29uYWwgLSAxKSAtIGRpYWdvbmFsUmV2ZXJzZUJhc2U7IC8vU2V0dXAgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaGlzdG9yeUluZGV4ID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZVBvaW50cyA9IHRoaXMubV9yZXZlcnNlSGlzdG9yeVtoaXN0b3J5SW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbFJldmVyc2VCYXNlID0gcmV2ZXJzZVBvaW50c1swXTsgLy9XZSBzdG9yZWQgdGhpcyBpbiB0aGUgZmlyc3Qgc3BvdFxuICAgICAgICAgICAgICAgICAgICBkaWFnb25hbE1pbiA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGRpYWdvbmFsTWF4ID0gcmV2ZXJzZVBvaW50cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKC0taGlzdG9yeUluZGV4ID49IC0xKTtcbiAgICAgICAgICAgIC8vIFRoZXJlIGFyZSBjYXNlcyB3aGVyZSB0aGUgcmV2ZXJzZSBoaXN0b3J5IHdpbGwgZmluZCBkaWZmcyB0aGF0XG4gICAgICAgICAgICAvLyBhcmUgY29ycmVjdCwgYnV0IG5vdCBpbnR1aXRpdmUsIHNvIHdlIG5lZWQgc2hpZnQgdGhlbS5cbiAgICAgICAgICAgIHJldmVyc2VDaGFuZ2VzID0gY2hhbmdlSGVscGVyLmdldENoYW5nZXMoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5Db25jYXRlbmF0ZUNoYW5nZXMoZm9yd2FyZENoYW5nZXMsIHJldmVyc2VDaGFuZ2VzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2l2ZW4gdGhlIHJhbmdlIHRvIGNvbXB1dGUgdGhlIGRpZmYgb24sIHRoaXMgbWV0aG9kIGZpbmRzIHRoZSBwb2ludDpcbiAgICAgKiAobWlkT3JpZ2luYWwsIG1pZE1vZGlmaWVkKVxuICAgICAqIHRoYXQgZXhpc3RzIGluIHRoZSBtaWRkbGUgb2YgdGhlIExDUyBvZiB0aGUgdHdvIHNlcXVlbmNlcyBhbmRcbiAgICAgKiBpcyB0aGUgcG9pbnQgYXQgd2hpY2ggdGhlIExDUyBwcm9ibGVtIG1heSBiZSBicm9rZW4gZG93biByZWN1cnNpdmVseS5cbiAgICAgKiBUaGlzIG1ldGhvZCB3aWxsIHRyeSB0byBrZWVwIHRoZSBMQ1MgdHJhY2UgaW4gbWVtb3J5LiBJZiB0aGUgTENTIHJlY3Vyc2lvblxuICAgICAqIHBvaW50IGlzIGNhbGN1bGF0ZWQgYW5kIHRoZSBmdWxsIHRyYWNlIGlzIGF2YWlsYWJsZSBpbiBtZW1vcnksIHRoZW4gdGhpcyBtZXRob2RcbiAgICAgKiB3aWxsIHJldHVybiB0aGUgY2hhbmdlIGxpc3QuXG4gICAgICogQHBhcmFtIG9yaWdpbmFsU3RhcnQgVGhlIHN0YXJ0IGJvdW5kIG9mIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEBwYXJhbSBvcmlnaW5hbEVuZCBUaGUgZW5kIGJvdW5kIG9mIHRoZSBvcmlnaW5hbCBzZXF1ZW5jZSByYW5nZVxuICAgICAqIEBwYXJhbSBtb2RpZmllZFN0YXJ0IFRoZSBzdGFydCBib3VuZCBvZiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcGFyYW0gbW9kaWZpZWRFbmQgVGhlIGVuZCBib3VuZCBvZiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcGFyYW0gbWlkT3JpZ2luYWwgVGhlIG1pZGRsZSBwb2ludCBvZiB0aGUgb3JpZ2luYWwgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcGFyYW0gbWlkTW9kaWZpZWQgVGhlIG1pZGRsZSBwb2ludCBvZiB0aGUgbW9kaWZpZWQgc2VxdWVuY2UgcmFuZ2VcbiAgICAgKiBAcmV0dXJucyBUaGUgZGlmZiBjaGFuZ2VzLCBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSBudWxsXG4gICAgICovXG4gICAgQ29tcHV0ZVJlY3Vyc2lvblBvaW50KG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kLCBtb2RpZmllZFN0YXJ0LCBtb2RpZmllZEVuZCwgbWlkT3JpZ2luYWxBcnIsIG1pZE1vZGlmaWVkQXJyLCBxdWl0RWFybHlBcnIpIHtcbiAgICAgICAgbGV0IG9yaWdpbmFsSW5kZXggPSAwLCBtb2RpZmllZEluZGV4ID0gMDtcbiAgICAgICAgbGV0IGRpYWdvbmFsRm9yd2FyZFN0YXJ0ID0gMCwgZGlhZ29uYWxGb3J3YXJkRW5kID0gMDtcbiAgICAgICAgbGV0IGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ID0gMCwgZGlhZ29uYWxSZXZlcnNlRW5kID0gMDtcbiAgICAgICAgLy8gVG8gdHJhdmVyc2UgdGhlIGVkaXQgZ3JhcGggYW5kIHByb2R1Y2UgdGhlIHByb3BlciBMQ1MsIG91ciBhY3R1YWxcbiAgICAgICAgLy8gc3RhcnQgcG9zaXRpb24gaXMganVzdCBvdXRzaWRlIHRoZSBnaXZlbiBib3VuZGFyeVxuICAgICAgICBvcmlnaW5hbFN0YXJ0LS07XG4gICAgICAgIG1vZGlmaWVkU3RhcnQtLTtcbiAgICAgICAgLy8gV2Ugc2V0IHRoZXNlIHVwIHRvIG1ha2UgdGhlIGNvbXBpbGVyIGhhcHB5LCBidXQgdGhleSB3aWxsXG4gICAgICAgIC8vIGJlIHJlcGxhY2VkIGJlZm9yZSB3ZSByZXR1cm4gd2l0aCB0aGUgYWN0dWFsIHJlY3Vyc2lvbiBwb2ludFxuICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IDA7XG4gICAgICAgIG1pZE1vZGlmaWVkQXJyWzBdID0gMDtcbiAgICAgICAgLy8gQ2xlYXIgb3V0IHRoZSBoaXN0b3J5XG4gICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeSA9IFtdO1xuICAgICAgICB0aGlzLm1fcmV2ZXJzZUhpc3RvcnkgPSBbXTtcbiAgICAgICAgLy8gRWFjaCBjZWxsIGluIHRoZSB0d28gYXJyYXlzIGNvcnJlc3BvbmRzIHRvIGEgZGlhZ29uYWwgaW4gdGhlIGVkaXQgZ3JhcGguXG4gICAgICAgIC8vIFRoZSBpbnRlZ2VyIHZhbHVlIGluIHRoZSBjZWxsIHJlcHJlc2VudHMgdGhlIG9yaWdpbmFsSW5kZXggb2YgdGhlIGZ1cnRoZXN0XG4gICAgICAgIC8vIHJlYWNoaW5nIHBvaW50IGZvdW5kIHNvIGZhciB0aGF0IGVuZHMgaW4gdGhhdCBkaWFnb25hbC5cbiAgICAgICAgLy8gVGhlIG1vZGlmaWVkSW5kZXggY2FuIGJlIGNvbXB1dGVkIG1hdGhlbWF0aWNhbGx5IGZyb20gdGhlIG9yaWdpbmFsSW5kZXggYW5kIHRoZSBkaWFnb25hbCBudW1iZXIuXG4gICAgICAgIGNvbnN0IG1heERpZmZlcmVuY2VzID0gKG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCkgKyAobW9kaWZpZWRFbmQgLSBtb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgY29uc3QgbnVtRGlhZ29uYWxzID0gbWF4RGlmZmVyZW5jZXMgKyAxO1xuICAgICAgICBjb25zdCBmb3J3YXJkUG9pbnRzID0gbmV3IEludDMyQXJyYXkobnVtRGlhZ29uYWxzKTtcbiAgICAgICAgY29uc3QgcmV2ZXJzZVBvaW50cyA9IG5ldyBJbnQzMkFycmF5KG51bURpYWdvbmFscyk7XG4gICAgICAgIC8vIGRpYWdvbmFsRm9yd2FyZEJhc2U6IEluZGV4IGludG8gZm9yd2FyZFBvaW50cyBvZiB0aGUgZGlhZ29uYWwgd2hpY2ggcGFzc2VzIHRocm91Z2ggKG9yaWdpbmFsU3RhcnQsIG1vZGlmaWVkU3RhcnQpXG4gICAgICAgIC8vIGRpYWdvbmFsUmV2ZXJzZUJhc2U6IEluZGV4IGludG8gcmV2ZXJzZVBvaW50cyBvZiB0aGUgZGlhZ29uYWwgd2hpY2ggcGFzc2VzIHRocm91Z2ggKG9yaWdpbmFsRW5kLCBtb2RpZmllZEVuZClcbiAgICAgICAgY29uc3QgZGlhZ29uYWxGb3J3YXJkQmFzZSA9IChtb2RpZmllZEVuZCAtIG1vZGlmaWVkU3RhcnQpO1xuICAgICAgICBjb25zdCBkaWFnb25hbFJldmVyc2VCYXNlID0gKG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCk7XG4gICAgICAgIC8vIGRpYWdvbmFsRm9yd2FyZE9mZnNldDogR2VvbWV0cmljIG9mZnNldCB3aGljaCBhbGxvd3MgbW9kaWZpZWRJbmRleCB0byBiZSBjb21wdXRlZCBmcm9tIG9yaWdpbmFsSW5kZXggYW5kIHRoZVxuICAgICAgICAvLyAgICBkaWFnb25hbCBudW1iZXIgKHJlbGF0aXZlIHRvIGRpYWdvbmFsRm9yd2FyZEJhc2UpXG4gICAgICAgIC8vIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDogR2VvbWV0cmljIG9mZnNldCB3aGljaCBhbGxvd3MgbW9kaWZpZWRJbmRleCB0byBiZSBjb21wdXRlZCBmcm9tIG9yaWdpbmFsSW5kZXggYW5kIHRoZVxuICAgICAgICAvLyAgICBkaWFnb25hbCBudW1iZXIgKHJlbGF0aXZlIHRvIGRpYWdvbmFsUmV2ZXJzZUJhc2UpXG4gICAgICAgIGNvbnN0IGRpYWdvbmFsRm9yd2FyZE9mZnNldCA9IChvcmlnaW5hbFN0YXJ0IC0gbW9kaWZpZWRTdGFydCk7XG4gICAgICAgIGNvbnN0IGRpYWdvbmFsUmV2ZXJzZU9mZnNldCA9IChvcmlnaW5hbEVuZCAtIG1vZGlmaWVkRW5kKTtcbiAgICAgICAgLy8gZGVsdGE6IFRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlIGVuZCBkaWFnb25hbCBhbmQgdGhlIHN0YXJ0IGRpYWdvbmFsLiBUaGlzIGlzIHVzZWQgdG8gcmVsYXRlIGRpYWdvbmFsIG51bWJlcnNcbiAgICAgICAgLy8gICByZWxhdGl2ZSB0byB0aGUgc3RhcnQgZGlhZ29uYWwgd2l0aCBkaWFnb25hbCBudW1iZXJzIHJlbGF0aXZlIHRvIHRoZSBlbmQgZGlhZ29uYWwuXG4gICAgICAgIC8vIFRoZSBFdmVuL09kZG4tbmVzcyBvZiB0aGlzIGRlbHRhIGlzIGltcG9ydGFudCBmb3IgZGV0ZXJtaW5pbmcgd2hlbiB3ZSBzaG91bGQgY2hlY2sgZm9yIG92ZXJsYXBcbiAgICAgICAgY29uc3QgZGVsdGEgPSBkaWFnb25hbFJldmVyc2VCYXNlIC0gZGlhZ29uYWxGb3J3YXJkQmFzZTtcbiAgICAgICAgY29uc3QgZGVsdGFJc0V2ZW4gPSAoZGVsdGEgJSAyID09PSAwKTtcbiAgICAgICAgLy8gSGVyZSB3ZSBzZXQgdXAgdGhlIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGFzIHRoZSBmdXJ0aGVzdCBwb2ludHMgZm91bmQgc28gZmFyXG4gICAgICAgIC8vIGluIGJvdGggdGhlIGZvcndhcmQgYW5kIHJldmVyc2UgZGlyZWN0aW9ucywgcmVzcGVjdGl2ZWx5XG4gICAgICAgIGZvcndhcmRQb2ludHNbZGlhZ29uYWxGb3J3YXJkQmFzZV0gPSBvcmlnaW5hbFN0YXJ0O1xuICAgICAgICByZXZlcnNlUG9pbnRzW2RpYWdvbmFsUmV2ZXJzZUJhc2VdID0gb3JpZ2luYWxFbmQ7XG4gICAgICAgIC8vIFJlbWVtYmVyIGlmIHdlIHF1aXQgZWFybHksIGFuZCB0aHVzIG5lZWQgdG8gZG8gYSBiZXN0LWVmZm9ydCByZXN1bHQgaW5zdGVhZCBvZiBhIHJlYWwgcmVzdWx0LlxuICAgICAgICBxdWl0RWFybHlBcnJbMF0gPSBmYWxzZTtcbiAgICAgICAgLy8gQSBjb3VwbGUgb2YgcG9pbnRzOlxuICAgICAgICAvLyAtLVdpdGggdGhpcyBtZXRob2QsIHdlIGl0ZXJhdGUgb24gdGhlIG51bWJlciBvZiBkaWZmZXJlbmNlcyBiZXR3ZWVuIHRoZSB0d28gc2VxdWVuY2VzLlxuICAgICAgICAvLyAgIFRoZSBtb3JlIGRpZmZlcmVuY2VzIHRoZXJlIGFjdHVhbGx5IGFyZSwgdGhlIGxvbmdlciB0aGlzIHdpbGwgdGFrZS5cbiAgICAgICAgLy8gLS1BbHNvLCBhcyB0aGUgbnVtYmVyIG9mIGRpZmZlcmVuY2VzIGluY3JlYXNlcywgd2UgaGF2ZSB0byBzZWFyY2ggb24gZGlhZ29uYWxzIGZ1cnRoZXJcbiAgICAgICAgLy8gICBhd2F5IGZyb20gdGhlIHJlZmVyZW5jZSBkaWFnb25hbCAod2hpY2ggaXMgZGlhZ29uYWxGb3J3YXJkQmFzZSBmb3IgZm9yd2FyZCwgZGlhZ29uYWxSZXZlcnNlQmFzZSBmb3IgcmV2ZXJzZSkuXG4gICAgICAgIC8vIC0tV2UgZXh0ZW5kIG9uIGV2ZW4gZGlhZ29uYWxzIChyZWxhdGl2ZSB0byB0aGUgcmVmZXJlbmNlIGRpYWdvbmFsKSBvbmx5IHdoZW4gbnVtRGlmZmVyZW5jZXNcbiAgICAgICAgLy8gICBpcyBldmVuIGFuZCBvZGQgZGlhZ29uYWxzIG9ubHkgd2hlbiBudW1EaWZmZXJlbmNlcyBpcyBvZGQuXG4gICAgICAgIGZvciAobGV0IG51bURpZmZlcmVuY2VzID0gMTsgbnVtRGlmZmVyZW5jZXMgPD0gKG1heERpZmZlcmVuY2VzIC8gMikgKyAxOyBudW1EaWZmZXJlbmNlcysrKSB7XG4gICAgICAgICAgICBsZXQgZnVydGhlc3RPcmlnaW5hbEluZGV4ID0gMDtcbiAgICAgICAgICAgIGxldCBmdXJ0aGVzdE1vZGlmaWVkSW5kZXggPSAwO1xuICAgICAgICAgICAgLy8gUnVuIHRoZSBhbGdvcml0aG0gaW4gdGhlIGZvcndhcmQgZGlyZWN0aW9uXG4gICAgICAgICAgICBkaWFnb25hbEZvcndhcmRTdGFydCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxGb3J3YXJkQmFzZSAtIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxGb3J3YXJkQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGRpYWdvbmFsRm9yd2FyZEVuZCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxGb3J3YXJkQmFzZSArIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxGb3J3YXJkQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGRpYWdvbmFsID0gZGlhZ29uYWxGb3J3YXJkU3RhcnQ7IGRpYWdvbmFsIDw9IGRpYWdvbmFsRm9yd2FyZEVuZDsgZGlhZ29uYWwgKz0gMikge1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMTogV2UgZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxuICAgICAgICAgICAgICAgIC8vIGJ5IGxvb2tpbmcgYXQgdGhlIGRpYWdvbmFscyBhYm92ZSBhbmQgYmVsb3cgYW5kIHBpY2tpbmcgdGhlIG9uZSB3aG9zZSBwb2ludFxuICAgICAgICAgICAgICAgIC8vIGlzIGZ1cnRoZXIgYXdheSBmcm9tIHRoZSBzdGFydCBwb2ludCAob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydClcbiAgICAgICAgICAgICAgICBpZiAoZGlhZ29uYWwgPT09IGRpYWdvbmFsRm9yd2FyZFN0YXJ0IHx8IChkaWFnb25hbCA8IGRpYWdvbmFsRm9yd2FyZEVuZCAmJiBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsIC0gMV0gPCBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSBmb3J3YXJkUG9pbnRzW2RpYWdvbmFsICsgMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEluZGV4ID0gZm9yd2FyZFBvaW50c1tkaWFnb25hbCAtIDFdICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAoZGlhZ29uYWwgLSBkaWFnb25hbEZvcndhcmRCYXNlKSAtIGRpYWdvbmFsRm9yd2FyZE9mZnNldDtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IG9yaWdpbmFsSW5kZXggc28gd2UgY2FuIHRlc3QgZm9yIGZhbHNlIG92ZXJsYXAgaW4gc3RlcCAzXG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcE9yaWdpbmFsSW5kZXggPSBvcmlnaW5hbEluZGV4O1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMjogV2UgY2FuIGNvbnRpbnVlIHRvIGV4dGVuZCB0aGUgZnVydGhlc3QgcmVhY2hpbmcgcG9pbnQgaW4gdGhlIHByZXNlbnQgZGlhZ29uYWxcbiAgICAgICAgICAgICAgICAvLyBzbyBsb25nIGFzIHRoZSBlbGVtZW50cyBhcmUgZXF1YWwuXG4gICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsSW5kZXggPCBvcmlnaW5hbEVuZCAmJiBtb2RpZmllZEluZGV4IDwgbW9kaWZpZWRFbmQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsSW5kZXggKyAxLCBtb2RpZmllZEluZGV4ICsgMSkpIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEluZGV4Kys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZvcndhcmRQb2ludHNbZGlhZ29uYWxdID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxJbmRleCArIG1vZGlmaWVkSW5kZXggPiBmdXJ0aGVzdE9yaWdpbmFsSW5kZXggKyBmdXJ0aGVzdE1vZGlmaWVkSW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVydGhlc3RPcmlnaW5hbEluZGV4ID0gb3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgZnVydGhlc3RNb2RpZmllZEluZGV4ID0gbW9kaWZpZWRJbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAzOiBJZiBkZWx0YSBpcyBvZGQgKG92ZXJsYXAgZmlyc3QgaGFwcGVucyBvbiBmb3J3YXJkIHdoZW4gZGVsdGEgaXMgb2RkKVxuICAgICAgICAgICAgICAgIC8vIGFuZCBkaWFnb25hbCBpcyBpbiB0aGUgcmFuZ2Ugb2YgcmV2ZXJzZSBkaWFnb25hbHMgY29tcHV0ZWQgZm9yIG51bURpZmZlcmVuY2VzLTFcbiAgICAgICAgICAgICAgICAvLyAodGhlIHByZXZpb3VzIGl0ZXJhdGlvbjsgd2UgaGF2ZW4ndCBjb21wdXRlZCByZXZlcnNlIGRpYWdvbmFscyBmb3IgbnVtRGlmZmVyZW5jZXMgeWV0KVxuICAgICAgICAgICAgICAgIC8vIHRoZW4gY2hlY2sgZm9yIG92ZXJsYXAuXG4gICAgICAgICAgICAgICAgaWYgKCFkZWx0YUlzRXZlbiAmJiBNYXRoLmFicyhkaWFnb25hbCAtIGRpYWdvbmFsUmV2ZXJzZUJhc2UpIDw9IChudW1EaWZmZXJlbmNlcyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4ID49IHJldmVyc2VQb2ludHNbZGlhZ29uYWxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IG1vZGlmaWVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcE9yaWdpbmFsSW5kZXggPD0gcmV2ZXJzZVBvaW50c1tkaWFnb25hbF0gJiYgMTQ0NyAvKiBMb2NhbENvbnN0YW50cy5NYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gPiAwICYmIG51bURpZmZlcmVuY2VzIDw9ICgxNDQ3IC8qIExvY2FsQ29uc3RhbnRzLk1heERpZmZlcmVuY2VzSGlzdG9yeSAqLyArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQklOR08hIFdlIG92ZXJsYXBwZWQsIGFuZCB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIG1lbW9yeSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciBmYWxzZSBvdmVybGFwLCBvciB3ZSBkaWRuJ3QgaGF2ZSBlbm91Z2ggbWVtb3J5IGZvciB0aGUgZnVsbCB0cmFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgcmV0dXJuIHRoZSByZWN1cnNpb24gcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBzaG91bGQgYmUgcXVpdHRpbmcgZWFybHksIGJlZm9yZSBtb3Zpbmcgb24gdG8gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgY29uc3QgbWF0Y2hMZW5ndGhPZkxvbmdlc3QgPSAoKGZ1cnRoZXN0T3JpZ2luYWxJbmRleCAtIG9yaWdpbmFsU3RhcnQpICsgKGZ1cnRoZXN0TW9kaWZpZWRJbmRleCAtIG1vZGlmaWVkU3RhcnQpIC0gbnVtRGlmZmVyZW5jZXMpIC8gMjtcbiAgICAgICAgICAgIGlmICh0aGlzLkNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZSAhPT0gbnVsbCAmJiAhdGhpcy5Db250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUoZnVydGhlc3RPcmlnaW5hbEluZGV4LCBtYXRjaExlbmd0aE9mTG9uZ2VzdCkpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4ndCBmaW5pc2gsIHNvIHNraXAgYWhlYWQgdG8gZ2VuZXJhdGluZyBhIHJlc3VsdCBmcm9tIHdoYXQgd2UgaGF2ZS5cbiAgICAgICAgICAgICAgICBxdWl0RWFybHlBcnJbMF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIFVzZSB0aGUgZnVydGhlc3QgZGlzdGFuY2Ugd2UgZ290IGluIHRoZSBmb3J3YXJkIGRpcmVjdGlvbi5cbiAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IGZ1cnRoZXN0T3JpZ2luYWxJbmRleDtcbiAgICAgICAgICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IGZ1cnRoZXN0TW9kaWZpZWRJbmRleDtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hMZW5ndGhPZkxvbmdlc3QgPiAwICYmIDE0NDcgLyogTG9jYWxDb25zdGFudHMuTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICovID4gMCAmJiBudW1EaWZmZXJlbmNlcyA8PSAoMTQ0NyAvKiBMb2NhbENvbnN0YW50cy5NYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gKyAxKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbm91Z2ggb2YgdGhlIGhpc3RvcnkgaXMgaW4gbWVtb3J5IHRvIHdhbGsgaXQgYmFja3dhcmRzXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLldBTEtUUkFDRShkaWFnb25hbEZvcndhcmRCYXNlLCBkaWFnb25hbEZvcndhcmRTdGFydCwgZGlhZ29uYWxGb3J3YXJkRW5kLCBkaWFnb25hbEZvcndhcmRPZmZzZXQsIGRpYWdvbmFsUmV2ZXJzZUJhc2UsIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0LCBkaWFnb25hbFJldmVyc2VFbmQsIGRpYWdvbmFsUmV2ZXJzZU9mZnNldCwgZm9yd2FyZFBvaW50cywgcmV2ZXJzZVBvaW50cywgb3JpZ2luYWxJbmRleCwgb3JpZ2luYWxFbmQsIG1pZE9yaWdpbmFsQXJyLCBtb2RpZmllZEluZGV4LCBtb2RpZmllZEVuZCwgbWlkTW9kaWZpZWRBcnIsIGRlbHRhSXNFdmVuLCBxdWl0RWFybHlBcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZGlkbid0IGFjdHVhbGx5IHJlbWVtYmVyIGVub3VnaCBvZiB0aGUgaGlzdG9yeS5cbiAgICAgICAgICAgICAgICAgICAgLy9TaW5jZSB3ZSBhcmUgcXVpdHRpbmcgdGhlIGRpZmYgZWFybHksIHdlIG5lZWQgdG8gc2hpZnQgYmFjayB0aGUgb3JpZ2luYWxTdGFydCBhbmQgbW9kaWZpZWQgc3RhcnRcbiAgICAgICAgICAgICAgICAgICAgLy9iYWNrIGludG8gdGhlIGJvdW5kYXJ5IGxpbWl0cyBzaW5jZSB3ZSBkZWNyZW1lbnRlZCB0aGVpciB2YWx1ZSBhYm92ZSBiZXlvbmQgdGhlIGJvdW5kYXJ5IGxpbWl0LlxuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBEaWZmQ2hhbmdlKG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsRW5kIC0gb3JpZ2luYWxTdGFydCArIDEsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkRW5kIC0gbW9kaWZpZWRTdGFydCArIDEpXG4gICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUnVuIHRoZSBhbGdvcml0aG0gaW4gdGhlIHJldmVyc2UgZGlyZWN0aW9uXG4gICAgICAgICAgICBkaWFnb25hbFJldmVyc2VTdGFydCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxSZXZlcnNlQmFzZSAtIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxSZXZlcnNlQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGRpYWdvbmFsUmV2ZXJzZUVuZCA9IHRoaXMuQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWxSZXZlcnNlQmFzZSArIG51bURpZmZlcmVuY2VzLCBudW1EaWZmZXJlbmNlcywgZGlhZ29uYWxSZXZlcnNlQmFzZSwgbnVtRGlhZ29uYWxzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGRpYWdvbmFsID0gZGlhZ29uYWxSZXZlcnNlU3RhcnQ7IGRpYWdvbmFsIDw9IGRpYWdvbmFsUmV2ZXJzZUVuZDsgZGlhZ29uYWwgKz0gMikge1xuICAgICAgICAgICAgICAgIC8vIFNURVAgMTogV2UgZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxuICAgICAgICAgICAgICAgIC8vIGJ5IGxvb2tpbmcgYXQgdGhlIGRpYWdvbmFscyBhYm92ZSBhbmQgYmVsb3cgYW5kIHBpY2tpbmcgdGhlIG9uZSB3aG9zZSBwb2ludFxuICAgICAgICAgICAgICAgIC8vIGlzIGZ1cnRoZXIgYXdheSBmcm9tIHRoZSBzdGFydCBwb2ludCAob3JpZ2luYWxFbmQsIG1vZGlmaWVkRW5kKVxuICAgICAgICAgICAgICAgIGlmIChkaWFnb25hbCA9PT0gZGlhZ29uYWxSZXZlcnNlU3RhcnQgfHwgKGRpYWdvbmFsIDwgZGlhZ29uYWxSZXZlcnNlRW5kICYmIHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXSA+PSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXggPSByZXZlcnNlUG9pbnRzW2RpYWdvbmFsICsgMV0gLSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxJbmRleCA9IHJldmVyc2VQb2ludHNbZGlhZ29uYWwgLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleCA9IG9yaWdpbmFsSW5kZXggLSAoZGlhZ29uYWwgLSBkaWFnb25hbFJldmVyc2VCYXNlKSAtIGRpYWdvbmFsUmV2ZXJzZU9mZnNldDtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHRoZSBjdXJyZW50IG9yaWdpbmFsSW5kZXggc28gd2UgY2FuIHRlc3QgZm9yIGZhbHNlIG92ZXJsYXBcbiAgICAgICAgICAgICAgICBjb25zdCB0ZW1wT3JpZ2luYWxJbmRleCA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgLy8gU1RFUCAyOiBXZSBjYW4gY29udGludWUgdG8gZXh0ZW5kIHRoZSBmdXJ0aGVzdCByZWFjaGluZyBwb2ludCBpbiB0aGUgcHJlc2VudCBkaWFnb25hbFxuICAgICAgICAgICAgICAgIC8vIGFzIGxvbmcgYXMgdGhlIGVsZW1lbnRzIGFyZSBlcXVhbC5cbiAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxJbmRleCA+IG9yaWdpbmFsU3RhcnQgJiYgbW9kaWZpZWRJbmRleCA+IG1vZGlmaWVkU3RhcnQgJiYgdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsSW5kZXgsIG1vZGlmaWVkSW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsSW5kZXgtLTtcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRJbmRleC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXZlcnNlUG9pbnRzW2RpYWdvbmFsXSA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgLy8gU1RFUCA0OiBJZiBkZWx0YSBpcyBldmVuIChvdmVybGFwIGZpcnN0IGhhcHBlbnMgb24gcmV2ZXJzZSB3aGVuIGRlbHRhIGlzIGV2ZW4pXG4gICAgICAgICAgICAgICAgLy8gYW5kIGRpYWdvbmFsIGlzIGluIHRoZSByYW5nZSBvZiBmb3J3YXJkIGRpYWdvbmFscyBjb21wdXRlZCBmb3IgbnVtRGlmZmVyZW5jZXNcbiAgICAgICAgICAgICAgICAvLyB0aGVuIGNoZWNrIGZvciBvdmVybGFwLlxuICAgICAgICAgICAgICAgIGlmIChkZWx0YUlzRXZlbiAmJiBNYXRoLmFicyhkaWFnb25hbCAtIGRpYWdvbmFsRm9yd2FyZEJhc2UpIDw9IG51bURpZmZlcmVuY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEluZGV4IDw9IGZvcndhcmRQb2ludHNbZGlhZ29uYWxdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRPcmlnaW5hbEFyclswXSA9IG9yaWdpbmFsSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBtaWRNb2RpZmllZEFyclswXSA9IG1vZGlmaWVkSW5kZXg7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVtcE9yaWdpbmFsSW5kZXggPj0gZm9yd2FyZFBvaW50c1tkaWFnb25hbF0gJiYgMTQ0NyAvKiBMb2NhbENvbnN0YW50cy5NYXhEaWZmZXJlbmNlc0hpc3RvcnkgKi8gPiAwICYmIG51bURpZmZlcmVuY2VzIDw9ICgxNDQ3IC8qIExvY2FsQ29uc3RhbnRzLk1heERpZmZlcmVuY2VzSGlzdG9yeSAqLyArIDEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQklOR08hIFdlIG92ZXJsYXBwZWQsIGFuZCB3ZSBoYXZlIHRoZSBmdWxsIHRyYWNlIGluIG1lbW9yeSFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVpdGhlciBmYWxzZSBvdmVybGFwLCBvciB3ZSBkaWRuJ3QgaGF2ZSBlbm91Z2ggbWVtb3J5IGZvciB0aGUgZnVsbCB0cmFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1c3QgcmV0dXJuIHRoZSByZWN1cnNpb24gcG9pbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNhdmUgY3VycmVudCB2ZWN0b3JzIHRvIGhpc3RvcnkgYmVmb3JlIHRoZSBuZXh0IGl0ZXJhdGlvblxuICAgICAgICAgICAgaWYgKG51bURpZmZlcmVuY2VzIDw9IDE0NDcgLyogTG9jYWxDb25zdGFudHMuTWF4RGlmZmVyZW5jZXNIaXN0b3J5ICovKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgYXJlIGFsbG9jYXRpbmcgc3BhY2UgZm9yIG9uZSBleHRyYSBpbnQsIHdoaWNoIHdlIGZpbGwgd2l0aFxuICAgICAgICAgICAgICAgIC8vIHRoZSBpbmRleCBvZiB0aGUgZGlhZ29uYWwgYmFzZSBpbmRleFxuICAgICAgICAgICAgICAgIGxldCB0ZW1wID0gbmV3IEludDMyQXJyYXkoZGlhZ29uYWxGb3J3YXJkRW5kIC0gZGlhZ29uYWxGb3J3YXJkU3RhcnQgKyAyKTtcbiAgICAgICAgICAgICAgICB0ZW1wWzBdID0gZGlhZ29uYWxGb3J3YXJkQmFzZSAtIGRpYWdvbmFsRm9yd2FyZFN0YXJ0ICsgMTtcbiAgICAgICAgICAgICAgICBNeUFycmF5LkNvcHkyKGZvcndhcmRQb2ludHMsIGRpYWdvbmFsRm9yd2FyZFN0YXJ0LCB0ZW1wLCAxLCBkaWFnb25hbEZvcndhcmRFbmQgLSBkaWFnb25hbEZvcndhcmRTdGFydCArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMubV9mb3J3YXJkSGlzdG9yeS5wdXNoKHRlbXApO1xuICAgICAgICAgICAgICAgIHRlbXAgPSBuZXcgSW50MzJBcnJheShkaWFnb25hbFJldmVyc2VFbmQgLSBkaWFnb25hbFJldmVyc2VTdGFydCArIDIpO1xuICAgICAgICAgICAgICAgIHRlbXBbMF0gPSBkaWFnb25hbFJldmVyc2VCYXNlIC0gZGlhZ29uYWxSZXZlcnNlU3RhcnQgKyAxO1xuICAgICAgICAgICAgICAgIE15QXJyYXkuQ29weTIocmV2ZXJzZVBvaW50cywgZGlhZ29uYWxSZXZlcnNlU3RhcnQsIHRlbXAsIDEsIGRpYWdvbmFsUmV2ZXJzZUVuZCAtIGRpYWdvbmFsUmV2ZXJzZVN0YXJ0ICsgMSk7XG4gICAgICAgICAgICAgICAgdGhpcy5tX3JldmVyc2VIaXN0b3J5LnB1c2godGVtcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgd2UgZ290IGhlcmUsIHRoZW4gd2UgaGF2ZSB0aGUgZnVsbCB0cmFjZSBpbiBoaXN0b3J5LiBXZSBqdXN0IGhhdmUgdG8gY29udmVydCBpdCB0byBhIGNoYW5nZSBsaXN0XG4gICAgICAgIC8vIE5PVEU6IFRoaXMgcGFydCBpcyBhIGJpdCBtZXNzeVxuICAgICAgICByZXR1cm4gdGhpcy5XQUxLVFJBQ0UoZGlhZ29uYWxGb3J3YXJkQmFzZSwgZGlhZ29uYWxGb3J3YXJkU3RhcnQsIGRpYWdvbmFsRm9yd2FyZEVuZCwgZGlhZ29uYWxGb3J3YXJkT2Zmc2V0LCBkaWFnb25hbFJldmVyc2VCYXNlLCBkaWFnb25hbFJldmVyc2VTdGFydCwgZGlhZ29uYWxSZXZlcnNlRW5kLCBkaWFnb25hbFJldmVyc2VPZmZzZXQsIGZvcndhcmRQb2ludHMsIHJldmVyc2VQb2ludHMsIG9yaWdpbmFsSW5kZXgsIG9yaWdpbmFsRW5kLCBtaWRPcmlnaW5hbEFyciwgbW9kaWZpZWRJbmRleCwgbW9kaWZpZWRFbmQsIG1pZE1vZGlmaWVkQXJyLCBkZWx0YUlzRXZlbiwgcXVpdEVhcmx5QXJyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2hpZnRzIHRoZSBnaXZlbiBjaGFuZ2VzIHRvIHByb3ZpZGUgYSBtb3JlIGludHVpdGl2ZSBkaWZmLlxuICAgICAqIFdoaWxlIHRoZSBmaXJzdCBlbGVtZW50IGluIGEgZGlmZiBtYXRjaGVzIHRoZSBmaXJzdCBlbGVtZW50IGFmdGVyIHRoZSBkaWZmLFxuICAgICAqIHdlIHNoaWZ0IHRoZSBkaWZmIGRvd24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2hhbmdlcyBUaGUgbGlzdCBvZiBjaGFuZ2VzIHRvIHNoaWZ0XG4gICAgICogQHJldHVybnMgVGhlIHNoaWZ0ZWQgY2hhbmdlc1xuICAgICAqL1xuICAgIFByZXR0aWZ5Q2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIC8vIFNoaWZ0IGFsbCB0aGUgY2hhbmdlcyBkb3duIGZpcnN0XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3RvcCA9IChpIDwgY2hhbmdlcy5sZW5ndGggLSAxKSA/IGNoYW5nZXNbaSArIDFdLm9yaWdpbmFsU3RhcnQgOiB0aGlzLl9vcmlnaW5hbEVsZW1lbnRzT3JIYXNoLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RvcCA9IChpIDwgY2hhbmdlcy5sZW5ndGggLSAxKSA/IGNoYW5nZXNbaSArIDFdLm1vZGlmaWVkU3RhcnQgOiB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoLmxlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrT3JpZ2luYWwgPSBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPiAwO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNb2RpZmllZCA9IGNoYW5nZS5tb2RpZmllZExlbmd0aCA+IDA7XG4gICAgICAgICAgICB3aGlsZSAoY2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPCBvcmlnaW5hbFN0b3BcbiAgICAgICAgICAgICAgICAmJiBjaGFuZ2UubW9kaWZpZWRTdGFydCArIGNoYW5nZS5tb2RpZmllZExlbmd0aCA8IG1vZGlmaWVkU3RvcFxuICAgICAgICAgICAgICAgICYmICghY2hlY2tPcmlnaW5hbCB8fCB0aGlzLk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbChjaGFuZ2Uub3JpZ2luYWxTdGFydCwgY2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgpKVxuICAgICAgICAgICAgICAgICYmICghY2hlY2tNb2RpZmllZCB8fCB0aGlzLk1vZGlmaWVkRWxlbWVudHNBcmVFcXVhbChjaGFuZ2UubW9kaWZpZWRTdGFydCwgY2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXJ0U3RyaWN0RXF1YWwgPSB0aGlzLkVsZW1lbnRzQXJlU3RyaWN0RXF1YWwoY2hhbmdlLm9yaWdpbmFsU3RhcnQsIGNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmRTdHJpY3RFcXVhbCA9IHRoaXMuRWxlbWVudHNBcmVTdHJpY3RFcXVhbChjaGFuZ2Uub3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCwgY2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChlbmRTdHJpY3RFcXVhbCAmJiAhc3RhcnRTdHJpY3RFcXVhbCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb3ZpbmcgdGhlIGNoYW5nZSBkb3duIHdvdWxkIGNyZWF0ZSBhbiBlcXVhbCBjaGFuZ2UsIGJ1dCB0aGUgZWxlbWVudHMgYXJlIG5vdCBzdHJpY3QgZXF1YWxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYW5nZS5vcmlnaW5hbFN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgY2hhbmdlLm1vZGlmaWVkU3RhcnQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZENoYW5nZUFyciA9IFtudWxsXTtcbiAgICAgICAgICAgIGlmIChpIDwgY2hhbmdlcy5sZW5ndGggLSAxICYmIHRoaXMuQ2hhbmdlc092ZXJsYXAoY2hhbmdlc1tpXSwgY2hhbmdlc1tpICsgMV0sIG1lcmdlZENoYW5nZUFycikpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzW2ldID0gbWVyZ2VkQ2hhbmdlQXJyWzBdO1xuICAgICAgICAgICAgICAgIGNoYW5nZXMuc3BsaWNlKGkgKyAxLCAxKTtcbiAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2hpZnQgY2hhbmdlcyBiYWNrIHVwIHVudGlsIHdlIGhpdCBlbXB0eSBvciB3aGl0ZXNwYWNlLW9ubHkgbGluZXNcbiAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZSA9IGNoYW5nZXNbaV07XG4gICAgICAgICAgICBsZXQgb3JpZ2luYWxTdG9wID0gMDtcbiAgICAgICAgICAgIGxldCBtb2RpZmllZFN0b3AgPSAwO1xuICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldkNoYW5nZSA9IGNoYW5nZXNbaSAtIDFdO1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RvcCA9IHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGg7XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRTdG9wID0gcHJldkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgcHJldkNoYW5nZS5tb2RpZmllZExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoZWNrT3JpZ2luYWwgPSBjaGFuZ2Uub3JpZ2luYWxMZW5ndGggPiAwO1xuICAgICAgICAgICAgY29uc3QgY2hlY2tNb2RpZmllZCA9IGNoYW5nZS5tb2RpZmllZExlbmd0aCA+IDA7XG4gICAgICAgICAgICBsZXQgYmVzdERlbHRhID0gMDtcbiAgICAgICAgICAgIGxldCBiZXN0U2NvcmUgPSB0aGlzLl9ib3VuZGFyeVNjb3JlKGNoYW5nZS5vcmlnaW5hbFN0YXJ0LCBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgsIGNoYW5nZS5tb2RpZmllZFN0YXJ0LCBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgZGVsdGEgPSAxOzsgZGVsdGErKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsU3RhcnQgPSBjaGFuZ2Uub3JpZ2luYWxTdGFydCAtIGRlbHRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RhcnQgPSBjaGFuZ2UubW9kaWZpZWRTdGFydCAtIGRlbHRhO1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFN0YXJ0IDwgb3JpZ2luYWxTdG9wIHx8IG1vZGlmaWVkU3RhcnQgPCBtb2RpZmllZFN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGVja09yaWdpbmFsICYmICF0aGlzLk9yaWdpbmFsRWxlbWVudHNBcmVFcXVhbChvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbFN0YXJ0ICsgY2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoZWNrTW9kaWZpZWQgJiYgIXRoaXMuTW9kaWZpZWRFbGVtZW50c0FyZUVxdWFsKG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkU3RhcnQgKyBjaGFuZ2UubW9kaWZpZWRMZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0b3VjaGluZ1ByZXZpb3VzQ2hhbmdlID0gKG9yaWdpbmFsU3RhcnQgPT09IG9yaWdpbmFsU3RvcCAmJiBtb2RpZmllZFN0YXJ0ID09PSBtb2RpZmllZFN0b3ApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjb3JlID0gKCh0b3VjaGluZ1ByZXZpb3VzQ2hhbmdlID8gNSA6IDApXG4gICAgICAgICAgICAgICAgICAgICsgdGhpcy5fYm91bmRhcnlTY29yZShvcmlnaW5hbFN0YXJ0LCBjaGFuZ2Uub3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCkpO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IGJlc3RTY29yZSkge1xuICAgICAgICAgICAgICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgICAgICAgICAgYmVzdERlbHRhID0gZGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hhbmdlLm9yaWdpbmFsU3RhcnQgLT0gYmVzdERlbHRhO1xuICAgICAgICAgICAgY2hhbmdlLm1vZGlmaWVkU3RhcnQgLT0gYmVzdERlbHRhO1xuICAgICAgICAgICAgY29uc3QgbWVyZ2VkQ2hhbmdlQXJyID0gW251bGxdO1xuICAgICAgICAgICAgaWYgKGkgPiAwICYmIHRoaXMuQ2hhbmdlc092ZXJsYXAoY2hhbmdlc1tpIC0gMV0sIGNoYW5nZXNbaV0sIG1lcmdlZENoYW5nZUFycikpIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzW2kgLSAxXSA9IG1lcmdlZENoYW5nZUFyclswXTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlcmUgY291bGQgYmUgbXVsdGlwbGUgbG9uZ2VzdCBjb21tb24gc3Vic3RyaW5ncy5cbiAgICAgICAgLy8gR2l2ZSBwcmVmZXJlbmNlIHRvIHRoZSBvbmVzIGNvbnRhaW5pbmcgbG9uZ2VyIGxpbmVzXG4gICAgICAgIGlmICh0aGlzLl9oYXNTdHJpbmdzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMSwgbGVuID0gY2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFDaGFuZ2UgPSBjaGFuZ2VzW2kgLSAxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBiQ2hhbmdlID0gY2hhbmdlc1tpXTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXRjaGVkTGVuZ3RoID0gYkNoYW5nZS5vcmlnaW5hbFN0YXJ0IC0gYUNoYW5nZS5vcmlnaW5hbFN0YXJ0IC0gYUNoYW5nZS5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBhT3JpZ2luYWxTdGFydCA9IGFDaGFuZ2Uub3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgICAgICBjb25zdCBiT3JpZ2luYWxFbmQgPSBiQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBiQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFiT3JpZ2luYWxMZW5ndGggPSBiT3JpZ2luYWxFbmQgLSBhT3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgICAgICBjb25zdCBhTW9kaWZpZWRTdGFydCA9IGFDaGFuZ2UubW9kaWZpZWRTdGFydDtcbiAgICAgICAgICAgICAgICBjb25zdCBiTW9kaWZpZWRFbmQgPSBiQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBiQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFiTW9kaWZpZWRMZW5ndGggPSBiTW9kaWZpZWRFbmQgLSBhTW9kaWZpZWRTdGFydDtcbiAgICAgICAgICAgICAgICAvLyBBdm9pZCB3YXN0aW5nIGEgbG90IG9mIHRpbWUgd2l0aCB0aGVzZSBzZWFyY2hlc1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVkTGVuZ3RoIDwgNSAmJiBhYk9yaWdpbmFsTGVuZ3RoIDwgMjAgJiYgYWJNb2RpZmllZExlbmd0aCA8IDIwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl9maW5kQmV0dGVyQ29udGlndW91c1NlcXVlbmNlKGFPcmlnaW5hbFN0YXJ0LCBhYk9yaWdpbmFsTGVuZ3RoLCBhTW9kaWZpZWRTdGFydCwgYWJNb2RpZmllZExlbmd0aCwgbWF0Y2hlZExlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbb3JpZ2luYWxNYXRjaFN0YXJ0LCBtb2RpZmllZE1hdGNoU3RhcnRdID0gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbE1hdGNoU3RhcnQgIT09IGFDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGFDaGFuZ2Uub3JpZ2luYWxMZW5ndGggfHwgbW9kaWZpZWRNYXRjaFN0YXJ0ICE9PSBhQ2hhbmdlLm1vZGlmaWVkU3RhcnQgKyBhQ2hhbmdlLm1vZGlmaWVkTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoIHRvIGFub3RoZXIgc2VxdWVuY2UgdGhhdCBoYXMgYSBiZXR0ZXIgc2NvcmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoID0gb3JpZ2luYWxNYXRjaFN0YXJ0IC0gYUNoYW5nZS5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFDaGFuZ2UubW9kaWZpZWRMZW5ndGggPSBtb2RpZmllZE1hdGNoU3RhcnQgLSBhQ2hhbmdlLm1vZGlmaWVkU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYkNoYW5nZS5vcmlnaW5hbFN0YXJ0ID0gb3JpZ2luYWxNYXRjaFN0YXJ0ICsgbWF0Y2hlZExlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiQ2hhbmdlLm1vZGlmaWVkU3RhcnQgPSBtb2RpZmllZE1hdGNoU3RhcnQgKyBtYXRjaGVkTGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJDaGFuZ2Uub3JpZ2luYWxMZW5ndGggPSBiT3JpZ2luYWxFbmQgLSBiQ2hhbmdlLm9yaWdpbmFsU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYkNoYW5nZS5tb2RpZmllZExlbmd0aCA9IGJNb2RpZmllZEVuZCAtIGJDaGFuZ2UubW9kaWZpZWRTdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hhbmdlcztcbiAgICB9XG4gICAgX2ZpbmRCZXR0ZXJDb250aWd1b3VzU2VxdWVuY2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoLCBkZXNpcmVkTGVuZ3RoKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbExlbmd0aCA8IGRlc2lyZWRMZW5ndGggfHwgbW9kaWZpZWRMZW5ndGggPCBkZXNpcmVkTGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbE1heCA9IG9yaWdpbmFsU3RhcnQgKyBvcmlnaW5hbExlbmd0aCAtIGRlc2lyZWRMZW5ndGggKyAxO1xuICAgICAgICBjb25zdCBtb2RpZmllZE1heCA9IG1vZGlmaWVkU3RhcnQgKyBtb2RpZmllZExlbmd0aCAtIGRlc2lyZWRMZW5ndGggKyAxO1xuICAgICAgICBsZXQgYmVzdFNjb3JlID0gMDtcbiAgICAgICAgbGV0IGJlc3RPcmlnaW5hbFN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IGJlc3RNb2RpZmllZFN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IG9yaWdpbmFsU3RhcnQ7IGkgPCBvcmlnaW5hbE1heDsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gbW9kaWZpZWRTdGFydDsgaiA8IG1vZGlmaWVkTWF4OyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY29yZSA9IHRoaXMuX2NvbnRpZ3VvdXNTZXF1ZW5jZVNjb3JlKGksIGosIGRlc2lyZWRMZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChzY29yZSA+IDAgJiYgc2NvcmUgPiBiZXN0U2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYmVzdFNjb3JlID0gc2NvcmU7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RPcmlnaW5hbFN0YXJ0ID0gaTtcbiAgICAgICAgICAgICAgICAgICAgYmVzdE1vZGlmaWVkU3RhcnQgPSBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVzdFNjb3JlID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIFtiZXN0T3JpZ2luYWxTdGFydCwgYmVzdE1vZGlmaWVkU3RhcnRdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBfY29udGlndW91c1NlcXVlbmNlU2NvcmUob3JpZ2luYWxTdGFydCwgbW9kaWZpZWRTdGFydCwgbGVuZ3RoKSB7XG4gICAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICAgIGZvciAobGV0IGwgPSAwOyBsIDwgbGVuZ3RoOyBsKyspIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5FbGVtZW50c0FyZUVxdWFsKG9yaWdpbmFsU3RhcnQgKyBsLCBtb2RpZmllZFN0YXJ0ICsgbCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNjb3JlICs9IHRoaXMuX29yaWdpbmFsU3RyaW5nRWxlbWVudHNbb3JpZ2luYWxTdGFydCArIGxdLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NvcmU7XG4gICAgfVxuICAgIF9PcmlnaW5hbElzQm91bmRhcnkoaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDw9IDAgfHwgaW5kZXggPj0gdGhpcy5fb3JpZ2luYWxFbGVtZW50c09ySGFzaC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX2hhc1N0cmluZ3MgJiYgL15cXHMqJC8udGVzdCh0aGlzLl9vcmlnaW5hbFN0cmluZ0VsZW1lbnRzW2luZGV4XSkpO1xuICAgIH1cbiAgICBfT3JpZ2luYWxSZWdpb25Jc0JvdW5kYXJ5KG9yaWdpbmFsU3RhcnQsIG9yaWdpbmFsTGVuZ3RoKSB7XG4gICAgICAgIGlmICh0aGlzLl9PcmlnaW5hbElzQm91bmRhcnkob3JpZ2luYWxTdGFydCkgfHwgdGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsU3RhcnQgLSAxKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9yaWdpbmFsTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxFbmQgPSBvcmlnaW5hbFN0YXJ0ICsgb3JpZ2luYWxMZW5ndGg7XG4gICAgICAgICAgICBpZiAodGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsRW5kIC0gMSkgfHwgdGhpcy5fT3JpZ2luYWxJc0JvdW5kYXJ5KG9yaWdpbmFsRW5kKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgX01vZGlmaWVkSXNCb3VuZGFyeShpbmRleCkge1xuICAgICAgICBpZiAoaW5kZXggPD0gMCB8fCBpbmRleCA+PSB0aGlzLl9tb2RpZmllZEVsZW1lbnRzT3JIYXNoLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAodGhpcy5faGFzU3RyaW5ncyAmJiAvXlxccyokLy50ZXN0KHRoaXMuX21vZGlmaWVkU3RyaW5nRWxlbWVudHNbaW5kZXhdKSk7XG4gICAgfVxuICAgIF9Nb2RpZmllZFJlZ2lvbklzQm91bmRhcnkobW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgaWYgKHRoaXMuX01vZGlmaWVkSXNCb3VuZGFyeShtb2RpZmllZFN0YXJ0KSB8fCB0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRTdGFydCAtIDEpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW9kaWZpZWRMZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZEVuZCA9IG1vZGlmaWVkU3RhcnQgKyBtb2RpZmllZExlbmd0aDtcbiAgICAgICAgICAgIGlmICh0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRFbmQgLSAxKSB8fCB0aGlzLl9Nb2RpZmllZElzQm91bmRhcnkobW9kaWZpZWRFbmQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfYm91bmRhcnlTY29yZShvcmlnaW5hbFN0YXJ0LCBvcmlnaW5hbExlbmd0aCwgbW9kaWZpZWRTdGFydCwgbW9kaWZpZWRMZW5ndGgpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTY29yZSA9ICh0aGlzLl9PcmlnaW5hbFJlZ2lvbklzQm91bmRhcnkob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgpID8gMSA6IDApO1xuICAgICAgICBjb25zdCBtb2RpZmllZFNjb3JlID0gKHRoaXMuX01vZGlmaWVkUmVnaW9uSXNCb3VuZGFyeShtb2RpZmllZFN0YXJ0LCBtb2RpZmllZExlbmd0aCkgPyAxIDogMCk7XG4gICAgICAgIHJldHVybiAob3JpZ2luYWxTY29yZSArIG1vZGlmaWVkU2NvcmUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25jYXRlbmF0ZXMgdGhlIHR3byBpbnB1dCBEaWZmQ2hhbmdlIGxpc3RzIGFuZCByZXR1cm5zIHRoZSByZXN1bHRpbmdcbiAgICAgKiBsaXN0LlxuICAgICAqIEBwYXJhbSBUaGUgbGVmdCBjaGFuZ2VzXG4gICAgICogQHBhcmFtIFRoZSByaWdodCBjaGFuZ2VzXG4gICAgICogQHJldHVybnMgVGhlIGNvbmNhdGVuYXRlZCBsaXN0XG4gICAgICovXG4gICAgQ29uY2F0ZW5hdGVDaGFuZ2VzKGxlZnQsIHJpZ2h0KSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZENoYW5nZUFyciA9IFtdO1xuICAgICAgICBpZiAobGVmdC5sZW5ndGggPT09IDAgfHwgcmlnaHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKHJpZ2h0Lmxlbmd0aCA+IDApID8gcmlnaHQgOiBsZWZ0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuQ2hhbmdlc092ZXJsYXAobGVmdFtsZWZ0Lmxlbmd0aCAtIDFdLCByaWdodFswXSwgbWVyZ2VkQ2hhbmdlQXJyKSkge1xuICAgICAgICAgICAgLy8gU2luY2Ugd2UgYnJlYWsgdGhlIHByb2JsZW0gZG93biByZWN1cnNpdmVseSwgaXQgaXMgcG9zc2libGUgdGhhdCB3ZVxuICAgICAgICAgICAgLy8gbWlnaHQgcmVjdXJzZSBpbiB0aGUgbWlkZGxlIG9mIGEgY2hhbmdlIHRoZXJlYnkgc3BsaXR0aW5nIGl0IGludG9cbiAgICAgICAgICAgIC8vIHR3byBjaGFuZ2VzLiBIZXJlIGluIHRoZSBjb21iaW5pbmcgc3RhZ2UsIHdlIGRldGVjdCBhbmQgZnVzZSB0aG9zZVxuICAgICAgICAgICAgLy8gY2hhbmdlcyBiYWNrIHRvZ2V0aGVyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgQXJyYXkobGVmdC5sZW5ndGggKyByaWdodC5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIE15QXJyYXkuQ29weShsZWZ0LCAwLCByZXN1bHQsIDAsIGxlZnQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICByZXN1bHRbbGVmdC5sZW5ndGggLSAxXSA9IG1lcmdlZENoYW5nZUFyclswXTtcbiAgICAgICAgICAgIE15QXJyYXkuQ29weShyaWdodCwgMSwgcmVzdWx0LCBsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KGxlZnQubGVuZ3RoICsgcmlnaHQubGVuZ3RoKTtcbiAgICAgICAgICAgIE15QXJyYXkuQ29weShsZWZ0LCAwLCByZXN1bHQsIDAsIGxlZnQubGVuZ3RoKTtcbiAgICAgICAgICAgIE15QXJyYXkuQ29weShyaWdodCwgMCwgcmVzdWx0LCBsZWZ0Lmxlbmd0aCwgcmlnaHQubGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB0d28gY2hhbmdlcyBvdmVybGFwIGFuZCBjYW4gYmUgbWVyZ2VkIGludG8gYSBzaW5nbGVcbiAgICAgKiBjaGFuZ2VcbiAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjaGFuZ2VcbiAgICAgKiBAcGFyYW0gcmlnaHQgVGhlIHJpZ2h0IGNoYW5nZVxuICAgICAqIEBwYXJhbSBtZXJnZWRDaGFuZ2UgVGhlIG1lcmdlZCBjaGFuZ2UgaWYgdGhlIHR3byBvdmVybGFwLCBudWxsIG90aGVyd2lzZVxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIHR3byBjaGFuZ2VzIG92ZXJsYXBcbiAgICAgKi9cbiAgICBDaGFuZ2VzT3ZlcmxhcChsZWZ0LCByaWdodCwgbWVyZ2VkQ2hhbmdlQXJyKSB7XG4gICAgICAgIERlYnVnLkFzc2VydChsZWZ0Lm9yaWdpbmFsU3RhcnQgPD0gcmlnaHQub3JpZ2luYWxTdGFydCwgJ0xlZnQgY2hhbmdlIGlzIG5vdCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gcmlnaHQgY2hhbmdlJyk7XG4gICAgICAgIERlYnVnLkFzc2VydChsZWZ0Lm1vZGlmaWVkU3RhcnQgPD0gcmlnaHQubW9kaWZpZWRTdGFydCwgJ0xlZnQgY2hhbmdlIGlzIG5vdCBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gcmlnaHQgY2hhbmdlJyk7XG4gICAgICAgIGlmIChsZWZ0Lm9yaWdpbmFsU3RhcnQgKyBsZWZ0Lm9yaWdpbmFsTGVuZ3RoID49IHJpZ2h0Lm9yaWdpbmFsU3RhcnQgfHwgbGVmdC5tb2RpZmllZFN0YXJ0ICsgbGVmdC5tb2RpZmllZExlbmd0aCA+PSByaWdodC5tb2RpZmllZFN0YXJ0KSB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0YXJ0ID0gbGVmdC5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgbGV0IG9yaWdpbmFsTGVuZ3RoID0gbGVmdC5vcmlnaW5hbExlbmd0aDtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RhcnQgPSBsZWZ0Lm1vZGlmaWVkU3RhcnQ7XG4gICAgICAgICAgICBsZXQgbW9kaWZpZWRMZW5ndGggPSBsZWZ0Lm1vZGlmaWVkTGVuZ3RoO1xuICAgICAgICAgICAgaWYgKGxlZnQub3JpZ2luYWxTdGFydCArIGxlZnQub3JpZ2luYWxMZW5ndGggPj0gcmlnaHQub3JpZ2luYWxTdGFydCkge1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsTGVuZ3RoID0gcmlnaHQub3JpZ2luYWxTdGFydCArIHJpZ2h0Lm9yaWdpbmFsTGVuZ3RoIC0gbGVmdC5vcmlnaW5hbFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlZnQubW9kaWZpZWRTdGFydCArIGxlZnQubW9kaWZpZWRMZW5ndGggPj0gcmlnaHQubW9kaWZpZWRTdGFydCkge1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkTGVuZ3RoID0gcmlnaHQubW9kaWZpZWRTdGFydCArIHJpZ2h0Lm1vZGlmaWVkTGVuZ3RoIC0gbGVmdC5tb2RpZmllZFN0YXJ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQ2hhbmdlQXJyWzBdID0gbmV3IERpZmZDaGFuZ2Uob3JpZ2luYWxTdGFydCwgb3JpZ2luYWxMZW5ndGgsIG1vZGlmaWVkU3RhcnQsIG1vZGlmaWVkTGVuZ3RoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWVyZ2VkQ2hhbmdlQXJyWzBdID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBIZWxwZXIgbWV0aG9kIHVzZWQgdG8gY2xpcCBhIGRpYWdvbmFsIGluZGV4IHRvIHRoZSByYW5nZSBvZiB2YWxpZFxuICAgICAqIGRpYWdvbmFscy4gVGhpcyBhbHNvIGRlY2lkZXMgd2hldGhlciBvciBub3QgdGhlIGRpYWdvbmFsIGluZGV4LFxuICAgICAqIGlmIGl0IGV4Y2VlZHMgdGhlIGJvdW5kYXJ5LCBzaG91bGQgYmUgY2xpcHBlZCB0byB0aGUgYm91bmRhcnkgb3IgY2xpcHBlZFxuICAgICAqIG9uZSBpbnNpZGUgdGhlIGJvdW5kYXJ5IGRlcGVuZGluZyBvbiB0aGUgRXZlbi9PZGQgc3RhdHVzIG9mIHRoZSBib3VuZGFyeVxuICAgICAqIGFuZCBudW1EaWZmZXJlbmNlcy5cbiAgICAgKiBAcGFyYW0gZGlhZ29uYWwgVGhlIGluZGV4IG9mIHRoZSBkaWFnb25hbCB0byBjbGlwLlxuICAgICAqIEBwYXJhbSBudW1EaWZmZXJlbmNlcyBUaGUgY3VycmVudCBudW1iZXIgb2YgZGlmZmVyZW5jZXMgYmVpbmcgaXRlcmF0ZWQgdXBvbi5cbiAgICAgKiBAcGFyYW0gZGlhZ29uYWxCYXNlSW5kZXggVGhlIGJhc2UgcmVmZXJlbmNlIGRpYWdvbmFsLlxuICAgICAqIEBwYXJhbSBudW1EaWFnb25hbHMgVGhlIHRvdGFsIG51bWJlciBvZiBkaWFnb25hbHMuXG4gICAgICogQHJldHVybnMgVGhlIGNsaXBwZWQgZGlhZ29uYWwgaW5kZXguXG4gICAgICovXG4gICAgQ2xpcERpYWdvbmFsQm91bmQoZGlhZ29uYWwsIG51bURpZmZlcmVuY2VzLCBkaWFnb25hbEJhc2VJbmRleCwgbnVtRGlhZ29uYWxzKSB7XG4gICAgICAgIGlmIChkaWFnb25hbCA+PSAwICYmIGRpYWdvbmFsIDwgbnVtRGlhZ29uYWxzKSB7XG4gICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGNsaXAsIGl0cyBpbiByYW5nZVxuICAgICAgICAgICAgcmV0dXJuIGRpYWdvbmFsO1xuICAgICAgICB9XG4gICAgICAgIC8vIGRpYWdvbmFsc0JlbG93OiBUaGUgbnVtYmVyIG9mIGRpYWdvbmFscyBiZWxvdyB0aGUgcmVmZXJlbmNlIGRpYWdvbmFsXG4gICAgICAgIC8vIGRpYWdvbmFsc0Fib3ZlOiBUaGUgbnVtYmVyIG9mIGRpYWdvbmFscyBhYm92ZSB0aGUgcmVmZXJlbmNlIGRpYWdvbmFsXG4gICAgICAgIGNvbnN0IGRpYWdvbmFsc0JlbG93ID0gZGlhZ29uYWxCYXNlSW5kZXg7XG4gICAgICAgIGNvbnN0IGRpYWdvbmFsc0Fib3ZlID0gbnVtRGlhZ29uYWxzIC0gZGlhZ29uYWxCYXNlSW5kZXggLSAxO1xuICAgICAgICBjb25zdCBkaWZmRXZlbiA9IChudW1EaWZmZXJlbmNlcyAlIDIgPT09IDApO1xuICAgICAgICBpZiAoZGlhZ29uYWwgPCAwKSB7XG4gICAgICAgICAgICBjb25zdCBsb3dlckJvdW5kRXZlbiA9IChkaWFnb25hbHNCZWxvdyAlIDIgPT09IDApO1xuICAgICAgICAgICAgcmV0dXJuIChkaWZmRXZlbiA9PT0gbG93ZXJCb3VuZEV2ZW4pID8gMCA6IDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1cHBlckJvdW5kRXZlbiA9IChkaWFnb25hbHNBYm92ZSAlIDIgPT09IDApO1xuICAgICAgICAgICAgcmV0dXJuIChkaWZmRXZlbiA9PT0gdXBwZXJCb3VuZEV2ZW4pID8gbnVtRGlhZ29uYWxzIC0gMSA6IG51bURpYWdvbmFscyAtIDI7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGlzTWFjaW50b3NoLCBpc1dpbmRvd3MgfSBmcm9tICcuL3BsYXRmb3JtLmpzJztcbmxldCBzYWZlUHJvY2Vzcztcbi8vIE5hdGl2ZSBzYW5kYm94IGVudmlyb25tZW50XG5jb25zdCB2c2NvZGVHbG9iYWwgPSBnbG9iYWxUaGlzLnZzY29kZTtcbmlmICh0eXBlb2YgdnNjb2RlR2xvYmFsICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgdnNjb2RlR2xvYmFsLnByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgY29uc3Qgc2FuZGJveFByb2Nlc3MgPSB2c2NvZGVHbG9iYWwucHJvY2VzcztcbiAgICBzYWZlUHJvY2VzcyA9IHtcbiAgICAgICAgZ2V0IHBsYXRmb3JtKCkgeyByZXR1cm4gc2FuZGJveFByb2Nlc3MucGxhdGZvcm07IH0sXG4gICAgICAgIGdldCBhcmNoKCkgeyByZXR1cm4gc2FuZGJveFByb2Nlc3MuYXJjaDsgfSxcbiAgICAgICAgZ2V0IGVudigpIHsgcmV0dXJuIHNhbmRib3hQcm9jZXNzLmVudjsgfSxcbiAgICAgICAgY3dkKCkgeyByZXR1cm4gc2FuZGJveFByb2Nlc3MuY3dkKCk7IH1cbiAgICB9O1xufVxuLy8gTmF0aXZlIG5vZGUuanMgZW52aXJvbm1lbnRcbmVsc2UgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJykge1xuICAgIHNhZmVQcm9jZXNzID0ge1xuICAgICAgICBnZXQgcGxhdGZvcm0oKSB7IHJldHVybiBwcm9jZXNzLnBsYXRmb3JtOyB9LFxuICAgICAgICBnZXQgYXJjaCgpIHsgcmV0dXJuIHByb2Nlc3MuYXJjaDsgfSxcbiAgICAgICAgZ2V0IGVudigpIHsgcmV0dXJuIHByb2Nlc3MuZW52OyB9LFxuICAgICAgICBjd2QoKSB7IHJldHVybiBwcm9jZXNzLmVudlsnVlNDT0RFX0NXRCddIHx8IHByb2Nlc3MuY3dkKCk7IH1cbiAgICB9O1xufVxuLy8gV2ViIGVudmlyb25tZW50XG5lbHNlIHtcbiAgICBzYWZlUHJvY2VzcyA9IHtcbiAgICAgICAgLy8gU3VwcG9ydGVkXG4gICAgICAgIGdldCBwbGF0Zm9ybSgpIHsgcmV0dXJuIGlzV2luZG93cyA/ICd3aW4zMicgOiBpc01hY2ludG9zaCA/ICdkYXJ3aW4nIDogJ2xpbnV4JzsgfSxcbiAgICAgICAgZ2V0IGFyY2goKSB7IHJldHVybiB1bmRlZmluZWQ7IC8qIGFyY2ggaXMgdW5kZWZpbmVkIGluIHdlYiAqLyB9LFxuICAgICAgICAvLyBVbnN1cHBvcnRlZFxuICAgICAgICBnZXQgZW52KCkgeyByZXR1cm4ge307IH0sXG4gICAgICAgIGN3ZCgpIHsgcmV0dXJuICcvJzsgfVxuICAgIH07XG59XG4vKipcbiAqIFByb3ZpZGVzIHNhZmUgYWNjZXNzIHRvIHRoZSBgY3dkYCBwcm9wZXJ0eSBpbiBub2RlLmpzLCBzYW5kYm94ZWQgb3Igd2ViXG4gKiBlbnZpcm9ubWVudHMuXG4gKlxuICogTm90ZTogaW4gd2ViLCB0aGlzIHByb3BlcnR5IGlzIGhhcmRjb2RlZCB0byBiZSBgL2AuXG4gKlxuICogQHNraXBNYW5nbGVcbiAqL1xuZXhwb3J0IGNvbnN0IGN3ZCA9IHNhZmVQcm9jZXNzLmN3ZDtcbi8qKlxuICogUHJvdmlkZXMgc2FmZSBhY2Nlc3MgdG8gdGhlIGBlbnZgIHByb3BlcnR5IGluIG5vZGUuanMsIHNhbmRib3hlZCBvciB3ZWJcbiAqIGVudmlyb25tZW50cy5cbiAqXG4gKiBOb3RlOiBpbiB3ZWIsIHRoaXMgcHJvcGVydHkgaXMgaGFyZGNvZGVkIHRvIGJlIGB7fWAuXG4gKi9cbmV4cG9ydCBjb25zdCBlbnYgPSBzYWZlUHJvY2Vzcy5lbnY7XG4vKipcbiAqIFByb3ZpZGVzIHNhZmUgYWNjZXNzIHRvIHRoZSBgcGxhdGZvcm1gIHByb3BlcnR5IGluIG5vZGUuanMsIHNhbmRib3hlZCBvciB3ZWJcbiAqIGVudmlyb25tZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHBsYXRmb3JtID0gc2FmZVByb2Nlc3MucGxhdGZvcm07XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8vIE5PVEU6IFZTQ29kZSdzIGNvcHkgb2Ygbm9kZWpzIHBhdGggbGlicmFyeSB0byBiZSB1c2FibGUgaW4gY29tbW9uIChub24tbm9kZSkgbmFtZXNwYWNlXG4vLyBDb3BpZWQgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvdjE2LjE0LjIvbGliL3BhdGguanNcbi8qKlxuICogQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4gKlxuICogUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbiAqIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbiAqIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuICogd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuICogZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuICogcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4gKiBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuICogaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuICogT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuICogTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuICogTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4gKiBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1JcbiAqIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbiAqIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCAqIGFzIHByb2Nlc3MgZnJvbSAnLi9wcm9jZXNzLmpzJztcbmNvbnN0IENIQVJfVVBQRVJDQVNFX0EgPSA2NTsgLyogQSAqL1xuY29uc3QgQ0hBUl9MT1dFUkNBU0VfQSA9IDk3OyAvKiBhICovXG5jb25zdCBDSEFSX1VQUEVSQ0FTRV9aID0gOTA7IC8qIFogKi9cbmNvbnN0IENIQVJfTE9XRVJDQVNFX1ogPSAxMjI7IC8qIHogKi9cbmNvbnN0IENIQVJfRE9UID0gNDY7IC8qIC4gKi9cbmNvbnN0IENIQVJfRk9SV0FSRF9TTEFTSCA9IDQ3OyAvKiAvICovXG5jb25zdCBDSEFSX0JBQ0tXQVJEX1NMQVNIID0gOTI7IC8qIFxcICovXG5jb25zdCBDSEFSX0NPTE9OID0gNTg7IC8qIDogKi9cbmNvbnN0IENIQVJfUVVFU1RJT05fTUFSSyA9IDYzOyAvKiA/ICovXG5jbGFzcyBFcnJvckludmFsaWRBcmdUeXBlIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGV4cGVjdGVkLCBhY3R1YWwpIHtcbiAgICAgICAgLy8gZGV0ZXJtaW5lcjogJ211c3QgYmUnIG9yICdtdXN0IG5vdCBiZSdcbiAgICAgICAgbGV0IGRldGVybWluZXI7XG4gICAgICAgIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIGV4cGVjdGVkLmluZGV4T2YoJ25vdCAnKSA9PT0gMCkge1xuICAgICAgICAgICAgZGV0ZXJtaW5lciA9ICdtdXN0IG5vdCBiZSc7XG4gICAgICAgICAgICBleHBlY3RlZCA9IGV4cGVjdGVkLnJlcGxhY2UoL15ub3QgLywgJycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGV0ZXJtaW5lciA9ICdtdXN0IGJlJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0eXBlID0gbmFtZS5pbmRleE9mKCcuJykgIT09IC0xID8gJ3Byb3BlcnR5JyA6ICdhcmd1bWVudCc7XG4gICAgICAgIGxldCBtc2cgPSBgVGhlIFwiJHtuYW1lfVwiICR7dHlwZX0gJHtkZXRlcm1pbmVyfSBvZiB0eXBlICR7ZXhwZWN0ZWR9YDtcbiAgICAgICAgbXNnICs9IGAuIFJlY2VpdmVkIHR5cGUgJHt0eXBlb2YgYWN0dWFsfWA7XG4gICAgICAgIHN1cGVyKG1zZyk7XG4gICAgICAgIHRoaXMuY29kZSA9ICdFUlJfSU5WQUxJRF9BUkdfVFlQRSc7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVPYmplY3QocGF0aE9iamVjdCwgbmFtZSkge1xuICAgIGlmIChwYXRoT2JqZWN0ID09PSBudWxsIHx8IHR5cGVvZiBwYXRoT2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JJbnZhbGlkQXJnVHlwZShuYW1lLCAnT2JqZWN0JywgcGF0aE9iamVjdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcodmFsdWUsIG5hbWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnc3RyaW5nJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3JJbnZhbGlkQXJnVHlwZShuYW1lLCAnc3RyaW5nJywgdmFsdWUpO1xuICAgIH1cbn1cbmNvbnN0IHBsYXRmb3JtSXNXaW4zMiA9IChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKTtcbmZ1bmN0aW9uIGlzUGF0aFNlcGFyYXRvcihjb2RlKSB7XG4gICAgcmV0dXJuIGNvZGUgPT09IENIQVJfRk9SV0FSRF9TTEFTSCB8fCBjb2RlID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIO1xufVxuZnVuY3Rpb24gaXNQb3NpeFBhdGhTZXBhcmF0b3IoY29kZSkge1xuICAgIHJldHVybiBjb2RlID09PSBDSEFSX0ZPUldBUkRfU0xBU0g7XG59XG5mdW5jdGlvbiBpc1dpbmRvd3NEZXZpY2VSb290KGNvZGUpIHtcbiAgICByZXR1cm4gKGNvZGUgPj0gQ0hBUl9VUFBFUkNBU0VfQSAmJiBjb2RlIDw9IENIQVJfVVBQRVJDQVNFX1opIHx8XG4gICAgICAgIChjb2RlID49IENIQVJfTE9XRVJDQVNFX0EgJiYgY29kZSA8PSBDSEFSX0xPV0VSQ0FTRV9aKTtcbn1cbi8vIFJlc29sdmVzIC4gYW5kIC4uIGVsZW1lbnRzIGluIGEgcGF0aCB3aXRoIGRpcmVjdG9yeSBuYW1lc1xuZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5nKHBhdGgsIGFsbG93QWJvdmVSb290LCBzZXBhcmF0b3IsIGlzUGF0aFNlcGFyYXRvcikge1xuICAgIGxldCByZXMgPSAnJztcbiAgICBsZXQgbGFzdFNlZ21lbnRMZW5ndGggPSAwO1xuICAgIGxldCBsYXN0U2xhc2ggPSAtMTtcbiAgICBsZXQgZG90cyA9IDA7XG4gICAgbGV0IGNvZGUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IHBhdGgubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPCBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29kZSA9IENIQVJfRk9SV0FSRF9TTEFTSDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XG4gICAgICAgICAgICBpZiAobGFzdFNsYXNoID09PSBpIC0gMSB8fCBkb3RzID09PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gTk9PUFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZG90cyA9PT0gMikge1xuICAgICAgICAgICAgICAgIGlmIChyZXMubGVuZ3RoIDwgMiB8fCBsYXN0U2VnbWVudExlbmd0aCAhPT0gMiB8fFxuICAgICAgICAgICAgICAgICAgICByZXMuY2hhckNvZGVBdChyZXMubGVuZ3RoIC0gMSkgIT09IENIQVJfRE9UIHx8XG4gICAgICAgICAgICAgICAgICAgIHJlcy5jaGFyQ29kZUF0KHJlcy5sZW5ndGggLSAyKSAhPT0gQ0hBUl9ET1QpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0U2xhc2hJbmRleCA9IHJlcy5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTbGFzaEluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zbGljZSgwLCBsYXN0U2xhc2hJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNlZ21lbnRMZW5ndGggPSByZXMubGVuZ3RoIC0gMSAtIHJlcy5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdFNsYXNoID0gaTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvdHMgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VnbWVudExlbmd0aCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dBYm92ZVJvb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IHJlcy5sZW5ndGggPiAwID8gYCR7c2VwYXJhdG9yfS4uYCA6ICcuLic7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzICs9IGAke3NlcGFyYXRvcn0ke3BhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSl9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHBhdGguc2xpY2UobGFzdFNsYXNoICsgMSwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RTZWdtZW50TGVuZ3RoID0gaSAtIGxhc3RTbGFzaCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0U2xhc2ggPSBpO1xuICAgICAgICAgICAgZG90cyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY29kZSA9PT0gQ0hBUl9ET1QgJiYgZG90cyAhPT0gLTEpIHtcbiAgICAgICAgICAgICsrZG90cztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGRvdHMgPSAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gX2Zvcm1hdChzZXAsIHBhdGhPYmplY3QpIHtcbiAgICB2YWxpZGF0ZU9iamVjdChwYXRoT2JqZWN0LCAncGF0aE9iamVjdCcpO1xuICAgIGNvbnN0IGRpciA9IHBhdGhPYmplY3QuZGlyIHx8IHBhdGhPYmplY3Qucm9vdDtcbiAgICBjb25zdCBiYXNlID0gcGF0aE9iamVjdC5iYXNlIHx8XG4gICAgICAgIGAke3BhdGhPYmplY3QubmFtZSB8fCAnJ30ke3BhdGhPYmplY3QuZXh0IHx8ICcnfWA7XG4gICAgaWYgKCFkaXIpIHtcbiAgICAgICAgcmV0dXJuIGJhc2U7XG4gICAgfVxuICAgIHJldHVybiBkaXIgPT09IHBhdGhPYmplY3Qucm9vdCA/IGAke2Rpcn0ke2Jhc2V9YCA6IGAke2Rpcn0ke3NlcH0ke2Jhc2V9YDtcbn1cbmV4cG9ydCBjb25zdCB3aW4zMiA9IHtcbiAgICAvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4gICAgcmVzb2x2ZSguLi5wYXRoU2VnbWVudHMpIHtcbiAgICAgICAgbGV0IHJlc29sdmVkRGV2aWNlID0gJyc7XG4gICAgICAgIGxldCByZXNvbHZlZFRhaWwgPSAnJztcbiAgICAgICAgbGV0IHJlc29sdmVkQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGhTZWdtZW50cy5sZW5ndGggLSAxOyBpID49IC0xOyBpLS0pIHtcbiAgICAgICAgICAgIGxldCBwYXRoO1xuICAgICAgICAgICAgaWYgKGkgPj0gMCkge1xuICAgICAgICAgICAgICAgIHBhdGggPSBwYXRoU2VnbWVudHNbaV07XG4gICAgICAgICAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgICAgICAgICAvLyBTa2lwIGVtcHR5IGVudHJpZXNcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmVzb2x2ZWREZXZpY2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHByb2Nlc3MuY3dkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXaW5kb3dzIGhhcyB0aGUgY29uY2VwdCBvZiBkcml2ZS1zcGVjaWZpYyBjdXJyZW50IHdvcmtpbmdcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3Rvcmllcy4gSWYgd2UndmUgcmVzb2x2ZWQgYSBkcml2ZSBsZXR0ZXIgYnV0IG5vdCB5ZXQgYW5cbiAgICAgICAgICAgICAgICAvLyBhYnNvbHV0ZSBwYXRoLCBnZXQgY3dkIGZvciB0aGF0IGRyaXZlLCBvciB0aGUgcHJvY2VzcyBjd2QgaWZcbiAgICAgICAgICAgICAgICAvLyB0aGUgZHJpdmUgY3dkIGlzIG5vdCBhdmFpbGFibGUuIFdlJ3JlIHN1cmUgdGhlIGRldmljZSBpcyBub3RcbiAgICAgICAgICAgICAgICAvLyBhIFVOQyBwYXRoIGF0IHRoaXMgcG9pbnRzLCBiZWNhdXNlIFVOQyBwYXRocyBhcmUgYWx3YXlzIGFic29sdXRlLlxuICAgICAgICAgICAgICAgIHBhdGggPSBwcm9jZXNzLmVudltgPSR7cmVzb2x2ZWREZXZpY2V9YF0gfHwgcHJvY2Vzcy5jd2QoKTtcbiAgICAgICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCBhIGN3ZCB3YXMgZm91bmQgYW5kIHRoYXQgaXQgYWN0dWFsbHkgcG9pbnRzXG4gICAgICAgICAgICAgICAgLy8gdG8gb3VyIGRyaXZlLiBJZiBub3QsIGRlZmF1bHQgdG8gdGhlIGRyaXZlJ3Mgcm9vdC5cbiAgICAgICAgICAgICAgICBpZiAocGF0aCA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgIChwYXRoLnNsaWNlKDAsIDIpLnRvTG93ZXJDYXNlKCkgIT09IHJlc29sdmVkRGV2aWNlLnRvTG93ZXJDYXNlKCkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGguY2hhckNvZGVBdCgyKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aCA9IGAke3Jlc29sdmVkRGV2aWNlfVxcXFxgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGxlbiA9IHBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IHJvb3RFbmQgPSAwO1xuICAgICAgICAgICAgbGV0IGRldmljZSA9ICcnO1xuICAgICAgICAgICAgbGV0IGlzQWJzb2x1dGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggYSByb290XG4gICAgICAgICAgICBpZiAobGVuID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBgcGF0aGAgY29udGFpbnMganVzdCBhIHBhdGggc2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpc0Fic29sdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcbiAgICAgICAgICAgICAgICAvLyBQb3NzaWJsZSBVTkMgcm9vdFxuICAgICAgICAgICAgICAgIC8vIElmIHdlIHN0YXJ0ZWQgd2l0aCBhIHNlcGFyYXRvciwgd2Uga25vdyB3ZSBhdCBsZWFzdCBoYXZlIGFuXG4gICAgICAgICAgICAgICAgLy8gYWJzb2x1dGUgcGF0aCBvZiBzb21lIGtpbmQgKFVOQyBvciBvdGhlcndpc2UpXG4gICAgICAgICAgICAgICAgaXNBYnNvbHV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQgZG91YmxlIHBhdGggc2VwYXJhdG9yIGF0IGJlZ2lubmluZ1xuICAgICAgICAgICAgICAgICAgICBsZXQgaiA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQYXJ0ID0gcGF0aC5zbGljZShsYXN0LCBqKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBwYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmIGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiAhaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbGVuIHx8IGogIT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRldmljZSA9IGBcXFxcXFxcXCR7Zmlyc3RQYXJ0fVxcXFwke3BhdGguc2xpY2UobGFzdCwgail9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vdEVuZCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByb290RW5kID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc1dpbmRvd3NEZXZpY2VSb290KGNvZGUpICYmXG4gICAgICAgICAgICAgICAgcGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OKSB7XG4gICAgICAgICAgICAgICAgLy8gUG9zc2libGUgZGV2aWNlIHJvb3RcbiAgICAgICAgICAgICAgICBkZXZpY2UgPSBwYXRoLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAyO1xuICAgICAgICAgICAgICAgIGlmIChsZW4gPiAyICYmIGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMikpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyZWF0IHNlcGFyYXRvciBmb2xsb3dpbmcgZHJpdmUgbmFtZSBhcyBhbiBhYnNvbHV0ZSBwYXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIGluZGljYXRvclxuICAgICAgICAgICAgICAgICAgICBpc0Fic29sdXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcm9vdEVuZCA9IDM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRldmljZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc29sdmVkRGV2aWNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRldmljZS50b0xvd2VyQ2FzZSgpICE9PSByZXNvbHZlZERldmljZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHBhdGggcG9pbnRzIHRvIGFub3RoZXIgZGV2aWNlIHNvIGl0IGlzIG5vdCBhcHBsaWNhYmxlXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZWREZXZpY2UgPSBkZXZpY2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZWREZXZpY2UubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlZFRhaWwgPSBgJHtwYXRoLnNsaWNlKHJvb3RFbmQpfVxcXFwke3Jlc29sdmVkVGFpbH1gO1xuICAgICAgICAgICAgICAgIHJlc29sdmVkQWJzb2x1dGUgPSBpc0Fic29sdXRlO1xuICAgICAgICAgICAgICAgIGlmIChpc0Fic29sdXRlICYmIHJlc29sdmVkRGV2aWNlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIHBhdGggc2hvdWxkIGJlIHJlc29sdmVkIHRvIGEgZnVsbCBhYnNvbHV0ZSBwYXRoLFxuICAgICAgICAvLyBidXQgaGFuZGxlIHJlbGF0aXZlIHBhdGhzIHRvIGJlIHNhZmUgKG1pZ2h0IGhhcHBlbiB3aGVuIHByb2Nlc3MuY3dkKClcbiAgICAgICAgLy8gZmFpbHMpXG4gICAgICAgIC8vIE5vcm1hbGl6ZSB0aGUgdGFpbCBwYXRoXG4gICAgICAgIHJlc29sdmVkVGFpbCA9IG5vcm1hbGl6ZVN0cmluZyhyZXNvbHZlZFRhaWwsICFyZXNvbHZlZEFic29sdXRlLCAnXFxcXCcsIGlzUGF0aFNlcGFyYXRvcik7XG4gICAgICAgIHJldHVybiByZXNvbHZlZEFic29sdXRlID9cbiAgICAgICAgICAgIGAke3Jlc29sdmVkRGV2aWNlfVxcXFwke3Jlc29sdmVkVGFpbH1gIDpcbiAgICAgICAgICAgIGAke3Jlc29sdmVkRGV2aWNlfSR7cmVzb2x2ZWRUYWlsfWAgfHwgJy4nO1xuICAgIH0sXG4gICAgbm9ybWFsaXplKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgY29uc3QgbGVuID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJvb3RFbmQgPSAwO1xuICAgICAgICBsZXQgZGV2aWNlO1xuICAgICAgICBsZXQgaXNBYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggYSByb290XG4gICAgICAgIGlmIChsZW4gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGBwYXRoYCBjb250YWlucyBqdXN0IGEgc2luZ2xlIGNoYXIsIGV4aXQgZWFybHkgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHdvcmtcbiAgICAgICAgICAgIHJldHVybiBpc1Bvc2l4UGF0aFNlcGFyYXRvcihjb2RlKSA/ICdcXFxcJyA6IHBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xuICAgICAgICAgICAgLy8gUG9zc2libGUgVU5DIHJvb3RcbiAgICAgICAgICAgIC8vIElmIHdlIHN0YXJ0ZWQgd2l0aCBhIHNlcGFyYXRvciwgd2Uga25vdyB3ZSBhdCBsZWFzdCBoYXZlIGFuIGFic29sdXRlXG4gICAgICAgICAgICAvLyBwYXRoIG9mIHNvbWUga2luZCAoVU5DIG9yIG90aGVyd2lzZSlcbiAgICAgICAgICAgIGlzQWJzb2x1dGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMSkpKSB7XG4gICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCBkb3VibGUgcGF0aCBzZXBhcmF0b3IgYXQgYmVnaW5uaW5nXG4gICAgICAgICAgICAgICAgbGV0IGogPSAyO1xuICAgICAgICAgICAgICAgIGxldCBsYXN0ID0gajtcbiAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xuICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xuICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChqIDwgbGVuICYmIGogIT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RQYXJ0ID0gcGF0aC5zbGljZShsYXN0LCBqKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCFcbiAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBwYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaiA8IGxlbiAmJiBqICE9PSBsYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIVxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IGo7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgbm9uLXBhdGggc2VwYXJhdG9yc1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogPT09IGxlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgYSBVTkMgcm9vdCBvbmx5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIFVOQyByb290IHNpbmNlIHRoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXMgbm90aGluZyBsZWZ0IHRvIHByb2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFxcXFxcXFxcJHtmaXJzdFBhcnR9XFxcXCR7cGF0aC5zbGljZShsYXN0KX1cXFxcYDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqICE9PSBsYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290IHdpdGggbGVmdG92ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGV2aWNlID0gYFxcXFxcXFxcJHtmaXJzdFBhcnR9XFxcXCR7cGF0aC5zbGljZShsYXN0LCBqKX1gO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcm9vdEVuZCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJiBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04pIHtcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIGRldmljZSByb290XG4gICAgICAgICAgICBkZXZpY2UgPSBwYXRoLnNsaWNlKDAsIDIpO1xuICAgICAgICAgICAgcm9vdEVuZCA9IDI7XG4gICAgICAgICAgICBpZiAobGVuID4gMiAmJiBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDIpKSkge1xuICAgICAgICAgICAgICAgIC8vIFRyZWF0IHNlcGFyYXRvciBmb2xsb3dpbmcgZHJpdmUgbmFtZSBhcyBhbiBhYnNvbHV0ZSBwYXRoXG4gICAgICAgICAgICAgICAgLy8gaW5kaWNhdG9yXG4gICAgICAgICAgICAgICAgaXNBYnNvbHV0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcm9vdEVuZCA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHRhaWwgPSByb290RW5kIDwgbGVuID9cbiAgICAgICAgICAgIG5vcm1hbGl6ZVN0cmluZyhwYXRoLnNsaWNlKHJvb3RFbmQpLCAhaXNBYnNvbHV0ZSwgJ1xcXFwnLCBpc1BhdGhTZXBhcmF0b3IpIDpcbiAgICAgICAgICAgICcnO1xuICAgICAgICBpZiAodGFpbC5sZW5ndGggPT09IDAgJiYgIWlzQWJzb2x1dGUpIHtcbiAgICAgICAgICAgIHRhaWwgPSAnLic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRhaWwubGVuZ3RoID4gMCAmJiBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGxlbiAtIDEpKSkge1xuICAgICAgICAgICAgdGFpbCArPSAnXFxcXCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRldmljZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNBYnNvbHV0ZSA/IGBcXFxcJHt0YWlsfWAgOiB0YWlsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0Fic29sdXRlID8gYCR7ZGV2aWNlfVxcXFwke3RhaWx9YCA6IGAke2RldmljZX0ke3RhaWx9YDtcbiAgICB9LFxuICAgIGlzQWJzb2x1dGUocGF0aCkge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xuICAgICAgICBjb25zdCBsZW4gPSBwYXRoLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHJldHVybiBpc1BhdGhTZXBhcmF0b3IoY29kZSkgfHxcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIGRldmljZSByb290XG4gICAgICAgICAgICAobGVuID4gMiAmJlxuICAgICAgICAgICAgICAgIGlzV2luZG93c0RldmljZVJvb3QoY29kZSkgJiZcbiAgICAgICAgICAgICAgICBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04gJiZcbiAgICAgICAgICAgICAgICBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDIpKSk7XG4gICAgfSxcbiAgICBqb2luKC4uLnBhdGhzKSB7XG4gICAgICAgIGlmIChwYXRocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGpvaW5lZDtcbiAgICAgICAgbGV0IGZpcnN0UGFydDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgY29uc3QgYXJnID0gcGF0aHNbaV07XG4gICAgICAgICAgICB2YWxpZGF0ZVN0cmluZyhhcmcsICdwYXRoJyk7XG4gICAgICAgICAgICBpZiAoYXJnLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgam9pbmVkID0gZmlyc3RQYXJ0ID0gYXJnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgam9pbmVkICs9IGBcXFxcJHthcmd9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGpvaW5lZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBqb2luZWQgcGF0aCBkb2Vzbid0IHN0YXJ0IHdpdGggdHdvIHNsYXNoZXMsIGJlY2F1c2VcbiAgICAgICAgLy8gbm9ybWFsaXplKCkgd2lsbCBtaXN0YWtlIGl0IGZvciBhIFVOQyBwYXRoIHRoZW4uXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFRoaXMgc3RlcCBpcyBza2lwcGVkIHdoZW4gaXQgaXMgdmVyeSBjbGVhciB0aGF0IHRoZSB1c2VyIGFjdHVhbGx5XG4gICAgICAgIC8vIGludGVuZGVkIHRvIHBvaW50IGF0IGEgVU5DIHBhdGguIFRoaXMgaXMgYXNzdW1lZCB3aGVuIHRoZSBmaXJzdFxuICAgICAgICAvLyBub24tZW1wdHkgc3RyaW5nIGFyZ3VtZW50cyBzdGFydHMgd2l0aCBleGFjdGx5IHR3byBzbGFzaGVzIGZvbGxvd2VkIGJ5XG4gICAgICAgIC8vIGF0IGxlYXN0IG9uZSBtb3JlIG5vbi1zbGFzaCBjaGFyYWN0ZXIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3Igbm9ybWFsaXplKCkgdG8gdHJlYXQgYSBwYXRoIGFzIGEgVU5DIHBhdGggaXQgbmVlZHMgdG9cbiAgICAgICAgLy8gaGF2ZSBhdCBsZWFzdCAyIGNvbXBvbmVudHMsIHNvIHdlIGRvbid0IGZpbHRlciBmb3IgdGhhdCBoZXJlLlxuICAgICAgICAvLyBUaGlzIG1lYW5zIHRoYXQgdGhlIHVzZXIgY2FuIHVzZSBqb2luIHRvIGNvbnN0cnVjdCBVTkMgcGF0aHMgZnJvbVxuICAgICAgICAvLyBhIHNlcnZlciBuYW1lIGFuZCBhIHNoYXJlIG5hbWU7IGZvciBleGFtcGxlOlxuICAgICAgICAvLyAgIHBhdGguam9pbignLy9zZXJ2ZXInLCAnc2hhcmUnKSAtPiAnXFxcXFxcXFxzZXJ2ZXJcXFxcc2hhcmVcXFxcJylcbiAgICAgICAgbGV0IG5lZWRzUmVwbGFjZSA9IHRydWU7XG4gICAgICAgIGxldCBzbGFzaENvdW50ID0gMDtcbiAgICAgICAgaWYgKHR5cGVvZiBmaXJzdFBhcnQgPT09ICdzdHJpbmcnICYmIGlzUGF0aFNlcGFyYXRvcihmaXJzdFBhcnQuY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgICsrc2xhc2hDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TGVuID0gZmlyc3RQYXJ0Lmxlbmd0aDtcbiAgICAgICAgICAgIGlmIChmaXJzdExlbiA+IDEgJiYgaXNQYXRoU2VwYXJhdG9yKGZpcnN0UGFydC5jaGFyQ29kZUF0KDEpKSkge1xuICAgICAgICAgICAgICAgICsrc2xhc2hDb3VudDtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RMZW4gPiAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoZmlyc3RQYXJ0LmNoYXJDb2RlQXQoMikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICArK3NsYXNoQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgVU5DIHBhdGggaW4gdGhlIGZpcnN0IHBhcnRcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRzUmVwbGFjZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChuZWVkc1JlcGxhY2UpIHtcbiAgICAgICAgICAgIC8vIEZpbmQgYW55IG1vcmUgY29uc2VjdXRpdmUgc2xhc2hlcyB3ZSBuZWVkIHRvIHJlcGxhY2VcbiAgICAgICAgICAgIHdoaWxlIChzbGFzaENvdW50IDwgam9pbmVkLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgIGlzUGF0aFNlcGFyYXRvcihqb2luZWQuY2hhckNvZGVBdChzbGFzaENvdW50KSkpIHtcbiAgICAgICAgICAgICAgICBzbGFzaENvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXBsYWNlIHRoZSBzbGFzaGVzIGlmIG5lZWRlZFxuICAgICAgICAgICAgaWYgKHNsYXNoQ291bnQgPj0gMikge1xuICAgICAgICAgICAgICAgIGpvaW5lZCA9IGBcXFxcJHtqb2luZWQuc2xpY2Uoc2xhc2hDb3VudCl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gd2luMzIubm9ybWFsaXplKGpvaW5lZCk7XG4gICAgfSxcbiAgICAvLyBJdCB3aWxsIHNvbHZlIHRoZSByZWxhdGl2ZSBwYXRoIGZyb20gYGZyb21gIHRvIGB0b2AsIGZvciBpbnN0YW5jZTpcbiAgICAvLyAgZnJvbSA9ICdDOlxcXFxvcmFuZGVhXFxcXHRlc3RcXFxcYWFhJ1xuICAgIC8vICB0byA9ICdDOlxcXFxvcmFuZGVhXFxcXGltcGxcXFxcYmJiJ1xuICAgIC8vIFRoZSBvdXRwdXQgb2YgdGhlIGZ1bmN0aW9uIHNob3VsZCBiZTogJy4uXFxcXC4uXFxcXGltcGxcXFxcYmJiJ1xuICAgIHJlbGF0aXZlKGZyb20sIHRvKSB7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKGZyb20sICdmcm9tJyk7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHRvLCAndG8nKTtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJvbU9yaWcgPSB3aW4zMi5yZXNvbHZlKGZyb20pO1xuICAgICAgICBjb25zdCB0b09yaWcgPSB3aW4zMi5yZXNvbHZlKHRvKTtcbiAgICAgICAgaWYgKGZyb21PcmlnID09PSB0b09yaWcpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICBmcm9tID0gZnJvbU9yaWcudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgdG8gPSB0b09yaWcudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJpbSBhbnkgbGVhZGluZyBiYWNrc2xhc2hlc1xuICAgICAgICBsZXQgZnJvbVN0YXJ0ID0gMDtcbiAgICAgICAgd2hpbGUgKGZyb21TdGFydCA8IGZyb20ubGVuZ3RoICYmXG4gICAgICAgICAgICBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0KSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgZnJvbVN0YXJ0Kys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJpbSB0cmFpbGluZyBiYWNrc2xhc2hlcyAoYXBwbGljYWJsZSB0byBVTkMgcGF0aHMgb25seSlcbiAgICAgICAgbGV0IGZyb21FbmQgPSBmcm9tLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGZyb21FbmQgLSAxID4gZnJvbVN0YXJ0ICYmXG4gICAgICAgICAgICBmcm9tLmNoYXJDb2RlQXQoZnJvbUVuZCAtIDEpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XG4gICAgICAgICAgICBmcm9tRW5kLS07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJvbUxlbiA9IGZyb21FbmQgLSBmcm9tU3RhcnQ7XG4gICAgICAgIC8vIFRyaW0gYW55IGxlYWRpbmcgYmFja3NsYXNoZXNcbiAgICAgICAgbGV0IHRvU3RhcnQgPSAwO1xuICAgICAgICB3aGlsZSAodG9TdGFydCA8IHRvLmxlbmd0aCAmJlxuICAgICAgICAgICAgdG8uY2hhckNvZGVBdCh0b1N0YXJ0KSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgdG9TdGFydCsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyaW0gdHJhaWxpbmcgYmFja3NsYXNoZXMgKGFwcGxpY2FibGUgdG8gVU5DIHBhdGhzIG9ubHkpXG4gICAgICAgIGxldCB0b0VuZCA9IHRvLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKHRvRW5kIC0gMSA+IHRvU3RhcnQgJiZcbiAgICAgICAgICAgIHRvLmNoYXJDb2RlQXQodG9FbmQgLSAxKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgdG9FbmQtLTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0b0xlbiA9IHRvRW5kIC0gdG9TdGFydDtcbiAgICAgICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgICAgICBjb25zdCBsZW5ndGggPSBmcm9tTGVuIDwgdG9MZW4gPyBmcm9tTGVuIDogdG9MZW47XG4gICAgICAgIGxldCBsYXN0Q29tbW9uU2VwID0gLTE7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yICg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZnJvbUNvZGUgPSBmcm9tLmNoYXJDb2RlQXQoZnJvbVN0YXJ0ICsgaSk7XG4gICAgICAgICAgICBpZiAoZnJvbUNvZGUgIT09IHRvLmNoYXJDb2RlQXQodG9TdGFydCArIGkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChmcm9tQ29kZSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIFdlIGZvdW5kIGEgbWlzbWF0Y2ggYmVmb3JlIHRoZSBmaXJzdCBjb21tb24gcGF0aCBzZXBhcmF0b3Igd2FzIHNlZW4sIHNvXG4gICAgICAgIC8vIHJldHVybiB0aGUgb3JpZ2luYWwgYHRvYC5cbiAgICAgICAgaWYgKGkgIT09IGxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGxhc3RDb21tb25TZXAgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvT3JpZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0b0xlbiA+IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGlmICh0by5jaGFyQ29kZUF0KHRvU3RhcnQgKyBpKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYHRvYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXGZvb1xcXFxiYXInOyB0bz0nQzpcXFxcZm9vXFxcXGJhclxcXFxiYXonXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b09yaWcuc2xpY2UodG9TdGFydCArIGkgKyAxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYGZyb21gIGlzIHRoZSBkZXZpY2Ugcm9vdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXCc7IHRvPSdDOlxcXFxmb28nXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b09yaWcuc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcm9tTGVuID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSBleGFjdCBiYXNlIHBhdGggZm9yIGBmcm9tYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXGZvb1xcXFxiYXInOyB0bz0nQzpcXFxcZm9vJ1xuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaSA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgdG9gIGlzIHRoZSBkZXZpY2Ugcm9vdC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209J0M6XFxcXGZvb1xcXFxiYXInOyB0bz0nQzpcXFxcJ1xuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobGFzdENvbW1vblNlcCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgb3V0ID0gJyc7XG4gICAgICAgIC8vIEdlbmVyYXRlIHRoZSByZWxhdGl2ZSBwYXRoIGJhc2VkIG9uIHRoZSBwYXRoIGRpZmZlcmVuY2UgYmV0d2VlbiBgdG9gIGFuZFxuICAgICAgICAvLyBgZnJvbWBcbiAgICAgICAgZm9yIChpID0gZnJvbVN0YXJ0ICsgbGFzdENvbW1vblNlcCArIDE7IGkgPD0gZnJvbUVuZDsgKytpKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gZnJvbUVuZCB8fCBmcm9tLmNoYXJDb2RlQXQoaSkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICBvdXQgKz0gb3V0Lmxlbmd0aCA9PT0gMCA/ICcuLicgOiAnXFxcXC4uJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0b1N0YXJ0ICs9IGxhc3RDb21tb25TZXA7XG4gICAgICAgIC8vIExhc3RseSwgYXBwZW5kIHRoZSByZXN0IG9mIHRoZSBkZXN0aW5hdGlvbiAoYHRvYCkgcGF0aCB0aGF0IGNvbWVzIGFmdGVyXG4gICAgICAgIC8vIHRoZSBjb21tb24gcGF0aCBwYXJ0c1xuICAgICAgICBpZiAob3V0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtvdXR9JHt0b09yaWcuc2xpY2UodG9TdGFydCwgdG9FbmQpfWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRvT3JpZy5jaGFyQ29kZUF0KHRvU3RhcnQpID09PSBDSEFSX0JBQ0tXQVJEX1NMQVNIKSB7XG4gICAgICAgICAgICArK3RvU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRvT3JpZy5zbGljZSh0b1N0YXJ0LCB0b0VuZCk7XG4gICAgfSxcbiAgICB0b05hbWVzcGFjZWRQYXRoKHBhdGgpIHtcbiAgICAgICAgLy8gTm90ZTogdGhpcyB3aWxsICpwcm9iYWJseSogdGhyb3cgc29tZXdoZXJlLlxuICAgICAgICBpZiAodHlwZW9mIHBhdGggIT09ICdzdHJpbmcnIHx8IHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNvbHZlZFBhdGggPSB3aW4zMi5yZXNvbHZlKHBhdGgpO1xuICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmxlbmd0aCA8PSAyKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIFVOQyByb290XG4gICAgICAgICAgICBpZiAocmVzb2x2ZWRQYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQkFDS1dBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gcmVzb2x2ZWRQYXRoLmNoYXJDb2RlQXQoMik7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgIT09IENIQVJfUVVFU1RJT05fTUFSSyAmJiBjb2RlICE9PSBDSEFSX0RPVCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIG5vbi1sb25nIFVOQyByb290LCBjb252ZXJ0IHRoZSBwYXRoIHRvIGEgbG9uZyBVTkMgcGF0aFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYFxcXFxcXFxcP1xcXFxVTkNcXFxcJHtyZXNvbHZlZFBhdGguc2xpY2UoMil9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChyZXNvbHZlZFBhdGguY2hhckNvZGVBdCgwKSkgJiZcbiAgICAgICAgICAgIHJlc29sdmVkUGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OICYmXG4gICAgICAgICAgICByZXNvbHZlZFBhdGguY2hhckNvZGVBdCgyKSA9PT0gQ0hBUl9CQUNLV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgLy8gTWF0Y2hlZCBkZXZpY2Ugcm9vdCwgY29udmVydCB0aGUgcGF0aCB0byBhIGxvbmcgVU5DIHBhdGhcbiAgICAgICAgICAgIHJldHVybiBgXFxcXFxcXFw/XFxcXCR7cmVzb2x2ZWRQYXRofWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfSxcbiAgICBkaXJuYW1lKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgY29uc3QgbGVuID0gcGF0aC5sZW5ndGg7XG4gICAgICAgIGlmIChsZW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJvb3RFbmQgPSAtMTtcbiAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIGlmIChsZW4gPT09IDEpIHtcbiAgICAgICAgICAgIC8vIGBwYXRoYCBjb250YWlucyBqdXN0IGEgcGF0aCBzZXBhcmF0b3IsIGV4aXQgZWFybHkgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHdvcmsgb3IgYSBkb3QuXG4gICAgICAgICAgICByZXR1cm4gaXNQYXRoU2VwYXJhdG9yKGNvZGUpID8gcGF0aCA6ICcuJztcbiAgICAgICAgfVxuICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggYSByb290XG4gICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IoY29kZSkpIHtcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIFVOQyByb290XG4gICAgICAgICAgICByb290RW5kID0gb2Zmc2V0ID0gMTtcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KDEpKSkge1xuICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQgZG91YmxlIHBhdGggc2VwYXJhdG9yIGF0IGJlZ2lubmluZ1xuICAgICAgICAgICAgICAgIGxldCBqID0gMjtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdCA9IGo7XG4gICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiAhaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaiA8IGxlbiAmJiBqICE9PSBsYXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXG4gICAgICAgICAgICAgICAgICAgIGxhc3QgPSBqO1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaCAxIG9yIG1vcmUgcGF0aCBzZXBhcmF0b3JzXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmIGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2hlZCFcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3QgPSBqO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIG5vbi1wYXRoIHNlcGFyYXRvcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuICYmICFpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqID09PSBsZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgVU5DIHJvb3Qgb25seVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGogIT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgVU5DIHJvb3Qgd2l0aCBsZWZ0b3ZlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPZmZzZXQgYnkgMSB0byBpbmNsdWRlIHRoZSBzZXBhcmF0b3IgYWZ0ZXIgdGhlIFVOQyByb290IHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdHJlYXQgaXQgYXMgYSBcIm5vcm1hbCByb290XCIgb24gdG9wIG9mIGEgKFVOQykgcm9vdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3RFbmQgPSBvZmZzZXQgPSBqICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIGRldmljZSByb290XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJiBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04pIHtcbiAgICAgICAgICAgIHJvb3RFbmQgPSBsZW4gPiAyICYmIGlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoMikpID8gMyA6IDI7XG4gICAgICAgICAgICBvZmZzZXQgPSByb290RW5kO1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmQgPSAtMTtcbiAgICAgICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSBsZW4gLSAxOyBpID49IG9mZnNldDsgLS1pKSB7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvclxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgICBpZiAocm9vdEVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW5kID0gcm9vdEVuZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aC5zbGljZSgwLCBlbmQpO1xuICAgIH0sXG4gICAgYmFzZW5hbWUocGF0aCwgZXh0KSB7XG4gICAgICAgIGlmIChleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdmFsaWRhdGVTdHJpbmcoZXh0LCAnZXh0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAgICAgbGV0IGk7XG4gICAgICAgIC8vIENoZWNrIGZvciBhIGRyaXZlIGxldHRlciBwcmVmaXggc28gYXMgbm90IHRvIG1pc3Rha2UgdGhlIGZvbGxvd2luZ1xuICAgICAgICAvLyBwYXRoIHNlcGFyYXRvciBhcyBhbiBleHRyYSBzZXBhcmF0b3IgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aCB0aGF0IGNhbiBiZVxuICAgICAgICAvLyBkaXNyZWdhcmRlZFxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgaXNXaW5kb3dzRGV2aWNlUm9vdChwYXRoLmNoYXJDb2RlQXQoMCkpICYmXG4gICAgICAgICAgICBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04pIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgZXh0Lmxlbmd0aCA+IDAgJiYgZXh0Lmxlbmd0aCA8PSBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGV4dCA9PT0gcGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBleHRJZHggPSBleHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBmaXJzdE5vblNsYXNoRW5kID0gLTE7XG4gICAgICAgICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzUGF0aFNlcGFyYXRvcihjb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpcnN0Tm9uU2xhc2hFbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgcmVtZW1iZXIgdGhpcyBpbmRleCBpbiBjYXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3ZSBuZWVkIGl0IGlmIHRoZSBleHRlbnNpb24gZW5kcyB1cCBub3QgbWF0Y2hpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3ROb25TbGFzaEVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChleHRJZHggPj0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIHRoZSBleHBsaWNpdCBleHRlbnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2RlID09PSBleHQuY2hhckNvZGVBdChleHRJZHgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0tZXh0SWR4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIHRoZSBleHRlbnNpb24sIHNvIG1hcmsgdGhpcyBhcyB0aGUgZW5kIG9mIG91ciBwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEV4dGVuc2lvbiBkb2VzIG5vdCBtYXRjaCwgc28gb3VyIHJlc3VsdCBpcyB0aGUgZW50aXJlIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleHRJZHggPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN0YXJ0ID09PSBlbmQpIHtcbiAgICAgICAgICAgICAgICBlbmQgPSBmaXJzdE5vblNsYXNoRW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIGVuZCA9IHBhdGgubGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyAtLWkpIHtcbiAgICAgICAgICAgIGlmIChpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGkpKSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAgICAgLy8gc2VwYXJhdG9ycyBhdCB0aGUgZW5kIG9mIHRoZSBzdHJpbmcsIHN0b3Agbm93XG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaGVkU2xhc2gpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgICAgICAgICAvLyBwYXRoIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIG1hdGNoZWRTbGFzaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGVuZCA9IGkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfSxcbiAgICBleHRuYW1lKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcbiAgICAgICAgbGV0IHN0YXJ0RG90ID0gLTE7XG4gICAgICAgIGxldCBzdGFydFBhcnQgPSAwO1xuICAgICAgICBsZXQgZW5kID0gLTE7XG4gICAgICAgIGxldCBtYXRjaGVkU2xhc2ggPSB0cnVlO1xuICAgICAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgICAgIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gICAgICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgICAgIC8vIENoZWNrIGZvciBhIGRyaXZlIGxldHRlciBwcmVmaXggc28gYXMgbm90IHRvIG1pc3Rha2UgdGhlIGZvbGxvd2luZ1xuICAgICAgICAvLyBwYXRoIHNlcGFyYXRvciBhcyBhbiBleHRyYSBzZXBhcmF0b3IgYXQgdGhlIGVuZCBvZiB0aGUgcGF0aCB0aGF0IGNhbiBiZVxuICAgICAgICAvLyBkaXNyZWdhcmRlZFxuICAgICAgICBpZiAocGF0aC5sZW5ndGggPj0gMiAmJlxuICAgICAgICAgICAgcGF0aC5jaGFyQ29kZUF0KDEpID09PSBDSEFSX0NPTE9OICYmXG4gICAgICAgICAgICBpc1dpbmRvd3NEZXZpY2VSb290KHBhdGguY2hhckNvZGVBdCgwKSkpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RhcnRQYXJ0ID0gMjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IHN0YXJ0OyAtLWkpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gQ0hBUl9ET1QpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEgfHxcbiAgICAgICAgICAgIGVuZCA9PT0gLTEgfHxcbiAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAgICAgLy8gVGhlIChyaWdodC1tb3N0KSB0cmltbWVkIHBhdGggY29tcG9uZW50IGlzIGV4YWN0bHkgJy4uJ1xuICAgICAgICAgICAgKHByZURvdFN0YXRlID09PSAxICYmXG4gICAgICAgICAgICAgICAgc3RhcnREb3QgPT09IGVuZCAtIDEgJiZcbiAgICAgICAgICAgICAgICBzdGFydERvdCA9PT0gc3RhcnRQYXJ0ICsgMSkpIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydERvdCwgZW5kKTtcbiAgICB9LFxuICAgIGZvcm1hdDogX2Zvcm1hdC5iaW5kKG51bGwsICdcXFxcJyksXG4gICAgcGFyc2UocGF0aCkge1xuICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xuICAgICAgICBjb25zdCByZXQgPSB7IHJvb3Q6ICcnLCBkaXI6ICcnLCBiYXNlOiAnJywgZXh0OiAnJywgbmFtZTogJycgfTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxlbiA9IHBhdGgubGVuZ3RoO1xuICAgICAgICBsZXQgcm9vdEVuZCA9IDA7XG4gICAgICAgIGxldCBjb2RlID0gcGF0aC5jaGFyQ29kZUF0KDApO1xuICAgICAgICBpZiAobGVuID09PSAxKSB7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gYHBhdGhgIGNvbnRhaW5zIGp1c3QgYSBwYXRoIHNlcGFyYXRvciwgZXhpdCBlYXJseSB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHVubmVjZXNzYXJ5IHdvcmtcbiAgICAgICAgICAgICAgICByZXQucm9vdCA9IHJldC5kaXIgPSBwYXRoO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXQuYmFzZSA9IHJldC5uYW1lID0gcGF0aDtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJ5IHRvIG1hdGNoIGEgcm9vdFxuICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XG4gICAgICAgICAgICAvLyBQb3NzaWJsZSBVTkMgcm9vdFxuICAgICAgICAgICAgcm9vdEVuZCA9IDE7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgxKSkpIHtcbiAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIGRvdWJsZSBwYXRoIHNlcGFyYXRvciBhdCBiZWdpbm5pbmdcbiAgICAgICAgICAgICAgICBsZXQgaiA9IDI7XG4gICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBqO1xuICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBub24tcGF0aCBzZXBhcmF0b3JzXG4gICAgICAgICAgICAgICAgd2hpbGUgKGogPCBsZW4gJiYgIWlzUGF0aFNlcGFyYXRvcihwYXRoLmNoYXJDb2RlQXQoaikpKSB7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGogPCBsZW4gJiYgaiAhPT0gbGFzdCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBNYXRjaGVkIVxuICAgICAgICAgICAgICAgICAgICBsYXN0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgLy8gTWF0Y2ggMSBvciBtb3JlIHBhdGggc2VwYXJhdG9yc1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiBpc1BhdGhTZXBhcmF0b3IocGF0aC5jaGFyQ29kZUF0KGopKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaisrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChqIDwgbGVuICYmIGogIT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoZWQhXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0ID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hdGNoIDEgb3IgbW9yZSBub24tcGF0aCBzZXBhcmF0b3JzXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaiA8IGxlbiAmJiAhaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdChqKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaiA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgbWF0Y2hlZCBhIFVOQyByb290IG9ubHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290RW5kID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGogIT09IGxhc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBtYXRjaGVkIGEgVU5DIHJvb3Qgd2l0aCBsZWZ0b3ZlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb290RW5kID0gaiArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNXaW5kb3dzRGV2aWNlUm9vdChjb2RlKSAmJiBwYXRoLmNoYXJDb2RlQXQoMSkgPT09IENIQVJfQ09MT04pIHtcbiAgICAgICAgICAgIC8vIFBvc3NpYmxlIGRldmljZSByb290XG4gICAgICAgICAgICBpZiAobGVuIDw9IDIpIHtcbiAgICAgICAgICAgICAgICAvLyBgcGF0aGAgY29udGFpbnMganVzdCBhIGRyaXZlIHJvb3QsIGV4aXQgZWFybHkgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSB3b3JrXG4gICAgICAgICAgICAgICAgcmV0LnJvb3QgPSByZXQuZGlyID0gcGF0aDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcm9vdEVuZCA9IDI7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKHBhdGguY2hhckNvZGVBdCgyKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGVuID09PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGBwYXRoYCBjb250YWlucyBqdXN0IGEgZHJpdmUgcm9vdCwgZXhpdCBlYXJseSB0byBhdm9pZFxuICAgICAgICAgICAgICAgICAgICAvLyB1bm5lY2Vzc2FyeSB3b3JrXG4gICAgICAgICAgICAgICAgICAgIHJldC5yb290ID0gcmV0LmRpciA9IHBhdGg7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJvb3RFbmQgPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyb290RW5kID4gMCkge1xuICAgICAgICAgICAgcmV0LnJvb3QgPSBwYXRoLnNsaWNlKDAsIHJvb3RFbmQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzdGFydERvdCA9IC0xO1xuICAgICAgICBsZXQgc3RhcnRQYXJ0ID0gcm9vdEVuZDtcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAgICAgbGV0IGkgPSBwYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgIC8vIFRyYWNrIHRoZSBzdGF0ZSBvZiBjaGFyYWN0ZXJzIChpZiBhbnkpIHdlIHNlZSBiZWZvcmUgb3VyIGZpcnN0IGRvdCBhbmRcbiAgICAgICAgLy8gYWZ0ZXIgYW55IHBhdGggc2VwYXJhdG9yIHdlIGZpbmRcbiAgICAgICAgbGV0IHByZURvdFN0YXRlID0gMDtcbiAgICAgICAgLy8gR2V0IG5vbi1kaXIgaW5mb1xuICAgICAgICBmb3IgKDsgaSA+PSByb290RW5kOyAtLWkpIHtcbiAgICAgICAgICAgIGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoaXNQYXRoU2VwYXJhdG9yKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVhY2hlZCBhIHBhdGggc2VwYXJhdG9yIHRoYXQgd2FzIG5vdCBwYXJ0IG9mIGEgc2V0IG9mIHBhdGhcbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0b3JzIGF0IHRoZSBlbmQgb2YgdGhlIHN0cmluZywgc3RvcCBub3dcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICAgICAgICBzdGFydFBhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgICAgICAgLy8gZXh0ZW5zaW9uXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZW5kID0gaSArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29kZSA9PT0gQ0hBUl9ET1QpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGlzIG91ciBmaXJzdCBkb3QsIG1hcmsgaXQgYXMgdGhlIHN0YXJ0IG9mIG91ciBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocHJlRG90U3RhdGUgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0RG90ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgYW5kIG5vbi1wYXRoIHNlcGFyYXRvciBiZWZvcmUgb3VyIGRvdCwgc28gd2Ugc2hvdWxkXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGdvb2QgY2hhbmNlIGF0IGhhdmluZyBhIG5vbi1lbXB0eSBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlbmQgIT09IC0xKSB7XG4gICAgICAgICAgICBpZiAoc3RhcnREb3QgPT09IC0xIHx8XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9PT0gMCB8fFxuICAgICAgICAgICAgICAgIC8vIFRoZSAocmlnaHQtbW9zdCkgdHJpbW1lZCBwYXRoIGNvbXBvbmVudCBpcyBleGFjdGx5ICcuLidcbiAgICAgICAgICAgICAgICAocHJlRG90U3RhdGUgPT09IDEgJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPT09IGVuZCAtIDEgJiZcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPT09IHN0YXJ0UGFydCArIDEpKSB7XG4gICAgICAgICAgICAgICAgcmV0LmJhc2UgPSByZXQubmFtZSA9IHBhdGguc2xpY2Uoc3RhcnRQYXJ0LCBlbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0UGFydCwgc3RhcnREb3QpO1xuICAgICAgICAgICAgICAgIHJldC5iYXNlID0gcGF0aC5zbGljZShzdGFydFBhcnQsIGVuZCk7XG4gICAgICAgICAgICAgICAgcmV0LmV4dCA9IHBhdGguc2xpY2Uoc3RhcnREb3QsIGVuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIGRpcmVjdG9yeSBpcyB0aGUgcm9vdCwgdXNlIHRoZSBlbnRpcmUgcm9vdCBhcyB0aGUgYGRpcmAgaW5jbHVkaW5nXG4gICAgICAgIC8vIHRoZSB0cmFpbGluZyBzbGFzaCBpZiBhbnkgKGBDOlxcYWJjYCAtPiBgQzpcXGApLiBPdGhlcndpc2UsIHN0cmlwIG91dCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgc2xhc2ggKGBDOlxcYWJjXFxkZWZgIC0+IGBDOlxcYWJjYCkuXG4gICAgICAgIGlmIChzdGFydFBhcnQgPiAwICYmIHN0YXJ0UGFydCAhPT0gcm9vdEVuZCkge1xuICAgICAgICAgICAgcmV0LmRpciA9IHBhdGguc2xpY2UoMCwgc3RhcnRQYXJ0IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXQuZGlyID0gcmV0LnJvb3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuICAgIHNlcDogJ1xcXFwnLFxuICAgIGRlbGltaXRlcjogJzsnLFxuICAgIHdpbjMyOiBudWxsLFxuICAgIHBvc2l4OiBudWxsXG59O1xuY29uc3QgcG9zaXhDd2QgPSAoKCkgPT4ge1xuICAgIGlmIChwbGF0Zm9ybUlzV2luMzIpIHtcbiAgICAgICAgLy8gQ29udmVydHMgV2luZG93cycgYmFja3NsYXNoIHBhdGggc2VwYXJhdG9ycyB0byBQT1NJWCBmb3J3YXJkIHNsYXNoZXNcbiAgICAgICAgLy8gYW5kIHRydW5jYXRlcyBhbnkgZHJpdmUgaW5kaWNhdG9yXG4gICAgICAgIGNvbnN0IHJlZ2V4cCA9IC9cXFxcL2c7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjd2QgPSBwcm9jZXNzLmN3ZCgpLnJlcGxhY2UocmVnZXhwLCAnLycpO1xuICAgICAgICAgICAgcmV0dXJuIGN3ZC5zbGljZShjd2QuaW5kZXhPZignLycpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gV2UncmUgYWxyZWFkeSBvbiBQT1NJWCwgbm8gbmVlZCBmb3IgYW55IHRyYW5zZm9ybWF0aW9uc1xuICAgIHJldHVybiAoKSA9PiBwcm9jZXNzLmN3ZCgpO1xufSkoKTtcbmV4cG9ydCBjb25zdCBwb3NpeCA9IHtcbiAgICAvLyBwYXRoLnJlc29sdmUoW2Zyb20gLi4uXSwgdG8pXG4gICAgcmVzb2x2ZSguLi5wYXRoU2VnbWVudHMpIHtcbiAgICAgICAgbGV0IHJlc29sdmVkUGF0aCA9ICcnO1xuICAgICAgICBsZXQgcmVzb2x2ZWRBYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gcGF0aFNlZ21lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIXJlc29sdmVkQWJzb2x1dGU7IGktLSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aCA9IGkgPj0gMCA/IHBhdGhTZWdtZW50c1tpXSA6IHBvc2l4Q3dkKCk7XG4gICAgICAgICAgICB2YWxpZGF0ZVN0cmluZyhwYXRoLCAncGF0aCcpO1xuICAgICAgICAgICAgLy8gU2tpcCBlbXB0eSBlbnRyaWVzXG4gICAgICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmVkUGF0aCA9IGAke3BhdGh9LyR7cmVzb2x2ZWRQYXRofWA7XG4gICAgICAgICAgICByZXNvbHZlZEFic29sdXRlID0gcGF0aC5jaGFyQ29kZUF0KDApID09PSBDSEFSX0ZPUldBUkRfU0xBU0g7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQXQgdGhpcyBwb2ludCB0aGUgcGF0aCBzaG91bGQgYmUgcmVzb2x2ZWQgdG8gYSBmdWxsIGFic29sdXRlIHBhdGgsIGJ1dFxuICAgICAgICAvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHMgdG8gYmUgc2FmZSAobWlnaHQgaGFwcGVuIHdoZW4gcHJvY2Vzcy5jd2QoKSBmYWlscylcbiAgICAgICAgLy8gTm9ybWFsaXplIHRoZSBwYXRoXG4gICAgICAgIHJlc29sdmVkUGF0aCA9IG5vcm1hbGl6ZVN0cmluZyhyZXNvbHZlZFBhdGgsICFyZXNvbHZlZEFic29sdXRlLCAnLycsIGlzUG9zaXhQYXRoU2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKHJlc29sdmVkQWJzb2x1dGUpIHtcbiAgICAgICAgICAgIHJldHVybiBgLyR7cmVzb2x2ZWRQYXRofWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc29sdmVkUGF0aC5sZW5ndGggPiAwID8gcmVzb2x2ZWRQYXRoIDogJy4nO1xuICAgIH0sXG4gICAgbm9ybWFsaXplKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzQWJzb2x1dGUgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcbiAgICAgICAgY29uc3QgdHJhaWxpbmdTZXBhcmF0b3IgPSBwYXRoLmNoYXJDb2RlQXQocGF0aC5sZW5ndGggLSAxKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIO1xuICAgICAgICAvLyBOb3JtYWxpemUgdGhlIHBhdGhcbiAgICAgICAgcGF0aCA9IG5vcm1hbGl6ZVN0cmluZyhwYXRoLCAhaXNBYnNvbHV0ZSwgJy8nLCBpc1Bvc2l4UGF0aFNlcGFyYXRvcik7XG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgaWYgKGlzQWJzb2x1dGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJy8nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRyYWlsaW5nU2VwYXJhdG9yID8gJy4vJyA6ICcuJztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhaWxpbmdTZXBhcmF0b3IpIHtcbiAgICAgICAgICAgIHBhdGggKz0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc0Fic29sdXRlID8gYC8ke3BhdGh9YCA6IHBhdGg7XG4gICAgfSxcbiAgICBpc0Fic29sdXRlKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgcmV0dXJuIHBhdGgubGVuZ3RoID4gMCAmJiBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcbiAgICB9LFxuICAgIGpvaW4oLi4ucGF0aHMpIHtcbiAgICAgICAgaWYgKHBhdGhzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICcuJztcbiAgICAgICAgfVxuICAgICAgICBsZXQgam9pbmVkO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBhcmcgPSBwYXRoc1tpXTtcbiAgICAgICAgICAgIHZhbGlkYXRlU3RyaW5nKGFyZywgJ3BhdGgnKTtcbiAgICAgICAgICAgIGlmIChhcmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmIChqb2luZWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBqb2luZWQgPSBhcmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBqb2luZWQgKz0gYC8ke2FyZ31gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoam9pbmVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnLic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBvc2l4Lm5vcm1hbGl6ZShqb2luZWQpO1xuICAgIH0sXG4gICAgcmVsYXRpdmUoZnJvbSwgdG8pIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcoZnJvbSwgJ2Zyb20nKTtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcodG8sICd0bycpO1xuICAgICAgICBpZiAoZnJvbSA9PT0gdG8pIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgICAvLyBUcmltIGxlYWRpbmcgZm9yd2FyZCBzbGFzaGVzLlxuICAgICAgICBmcm9tID0gcG9zaXgucmVzb2x2ZShmcm9tKTtcbiAgICAgICAgdG8gPSBwb3NpeC5yZXNvbHZlKHRvKTtcbiAgICAgICAgaWYgKGZyb20gPT09IHRvKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZnJvbVN0YXJ0ID0gMTtcbiAgICAgICAgY29uc3QgZnJvbUVuZCA9IGZyb20ubGVuZ3RoO1xuICAgICAgICBjb25zdCBmcm9tTGVuID0gZnJvbUVuZCAtIGZyb21TdGFydDtcbiAgICAgICAgY29uc3QgdG9TdGFydCA9IDE7XG4gICAgICAgIGNvbnN0IHRvTGVuID0gdG8ubGVuZ3RoIC0gdG9TdGFydDtcbiAgICAgICAgLy8gQ29tcGFyZSBwYXRocyB0byBmaW5kIHRoZSBsb25nZXN0IGNvbW1vbiBwYXRoIGZyb20gcm9vdFxuICAgICAgICBjb25zdCBsZW5ndGggPSAoZnJvbUxlbiA8IHRvTGVuID8gZnJvbUxlbiA6IHRvTGVuKTtcbiAgICAgICAgbGV0IGxhc3RDb21tb25TZXAgPSAtMTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBmcm9tQ29kZSA9IGZyb20uY2hhckNvZGVBdChmcm9tU3RhcnQgKyBpKTtcbiAgICAgICAgICAgIGlmIChmcm9tQ29kZSAhPT0gdG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21Db2RlID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaSA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodG9MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAodG8uY2hhckNvZGVBdCh0b1N0YXJ0ICsgaSkgPT09IENIQVJfRk9SV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnZXQgaGVyZSBpZiBgZnJvbWAgaXMgdGhlIGV4YWN0IGJhc2UgcGF0aCBmb3IgYHRvYC5cbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGU6IGZyb209Jy9mb28vYmFyJzsgdG89Jy9mb28vYmFyL2JheidcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvLnNsaWNlKHRvU3RhcnQgKyBpICsgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGBmcm9tYCBpcyB0aGUgcm9vdFxuICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZXhhbXBsZTogZnJvbT0nLyc7IHRvPScvZm9vJ1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG8uc2xpY2UodG9TdGFydCArIGkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZyb21MZW4gPiBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJvbS5jaGFyQ29kZUF0KGZyb21TdGFydCArIGkpID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ2V0IGhlcmUgaWYgYHRvYCBpcyB0aGUgZXhhY3QgYmFzZSBwYXRoIGZvciBgZnJvbWAuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhci9iYXonOyB0bz0nL2Zvby9iYXInXG4gICAgICAgICAgICAgICAgICAgIGxhc3RDb21tb25TZXAgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGdldCBoZXJlIGlmIGB0b2AgaXMgdGhlIHJvb3QuXG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBleGFtcGxlOiBmcm9tPScvZm9vL2Jhcic7IHRvPScvJ1xuICAgICAgICAgICAgICAgICAgICBsYXN0Q29tbW9uU2VwID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dCA9ICcnO1xuICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcmVsYXRpdmUgcGF0aCBiYXNlZCBvbiB0aGUgcGF0aCBkaWZmZXJlbmNlIGJldHdlZW4gYHRvYFxuICAgICAgICAvLyBhbmQgYGZyb21gLlxuICAgICAgICBmb3IgKGkgPSBmcm9tU3RhcnQgKyBsYXN0Q29tbW9uU2VwICsgMTsgaSA8PSBmcm9tRW5kOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpID09PSBmcm9tRW5kIHx8IGZyb20uY2hhckNvZGVBdChpKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XG4gICAgICAgICAgICAgICAgb3V0ICs9IG91dC5sZW5ndGggPT09IDAgPyAnLi4nIDogJy8uLic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTGFzdGx5LCBhcHBlbmQgdGhlIHJlc3Qgb2YgdGhlIGRlc3RpbmF0aW9uIChgdG9gKSBwYXRoIHRoYXQgY29tZXMgYWZ0ZXJcbiAgICAgICAgLy8gdGhlIGNvbW1vbiBwYXRoIHBhcnRzLlxuICAgICAgICByZXR1cm4gYCR7b3V0fSR7dG8uc2xpY2UodG9TdGFydCArIGxhc3RDb21tb25TZXApfWA7XG4gICAgfSxcbiAgICB0b05hbWVzcGFjZWRQYXRoKHBhdGgpIHtcbiAgICAgICAgLy8gTm9uLW9wIG9uIHBvc2l4IHN5c3RlbXNcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfSxcbiAgICBkaXJuYW1lKHBhdGgpIHtcbiAgICAgICAgdmFsaWRhdGVTdHJpbmcocGF0aCwgJ3BhdGgnKTtcbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJy4nO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc1Jvb3QgPSBwYXRoLmNoYXJDb2RlQXQoMCkgPT09IENIQVJfRk9SV0FSRF9TTEFTSDtcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IHBhdGgubGVuZ3RoIC0gMTsgaSA+PSAxOyAtLWkpIHtcbiAgICAgICAgICAgIGlmIChwYXRoLmNoYXJDb2RlQXQoaSkgPT09IENIQVJfRk9SV0FSRF9TTEFTSCkge1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yXG4gICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBoYXNSb290ID8gJy8nIDogJy4nO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNSb290ICYmIGVuZCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuICcvLyc7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgZW5kKTtcbiAgICB9LFxuICAgIGJhc2VuYW1lKHBhdGgsIGV4dCkge1xuICAgICAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlU3RyaW5nKGV4dCwgJ2V4dCcpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XG4gICAgICAgIGxldCBzdGFydCA9IDA7XG4gICAgICAgIGxldCBlbmQgPSAtMTtcbiAgICAgICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIGxldCBpO1xuICAgICAgICBpZiAoZXh0ICE9PSB1bmRlZmluZWQgJiYgZXh0Lmxlbmd0aCA+IDAgJiYgZXh0Lmxlbmd0aCA8PSBwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKGV4dCA9PT0gcGF0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBleHRJZHggPSBleHQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIGxldCBmaXJzdE5vblNsYXNoRW5kID0gLTE7XG4gICAgICAgICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIHJlYWNoZWQgYSBwYXRoIHNlcGFyYXRvciB0aGF0IHdhcyBub3QgcGFydCBvZiBhIHNldCBvZiBwYXRoXG4gICAgICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hdGNoZWRTbGFzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBpICsgMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3ROb25TbGFzaEVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCByZW1lbWJlciB0aGlzIGluZGV4IGluIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgaXQgaWYgdGhlIGV4dGVuc2lvbiBlbmRzIHVwIG5vdCBtYXRjaGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hlZFNsYXNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXJzdE5vblNsYXNoRW5kID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4dElkeCA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgdG8gbWF0Y2ggdGhlIGV4cGxpY2l0IGV4dGVuc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUgPT09IGV4dC5jaGFyQ29kZUF0KGV4dElkeCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLS1leHRJZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIG1hdGNoZWQgdGhlIGV4dGVuc2lvbiwgc28gbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyIHBhdGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRXh0ZW5zaW9uIGRvZXMgbm90IG1hdGNoLCBzbyBvdXIgcmVzdWx0IGlzIHRoZSBlbnRpcmUgcGF0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dElkeCA9IC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnQgPT09IGVuZCkge1xuICAgICAgICAgICAgICAgIGVuZCA9IGZpcnN0Tm9uU2xhc2hFbmQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbmQgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgZW5kID0gcGF0aC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF0aC5zbGljZShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSBwYXRoLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgICAgICBpZiAocGF0aC5jaGFyQ29kZUF0KGkpID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gaSArIDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBzYXcgdGhlIGZpcnN0IG5vbi1wYXRoIHNlcGFyYXRvciwgbWFyayB0aGlzIGFzIHRoZSBlbmQgb2Ygb3VyXG4gICAgICAgICAgICAgICAgLy8gcGF0aCBjb21wb25lbnRcbiAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgIH0sXG4gICAgZXh0bmFtZShwYXRoKSB7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XG4gICAgICAgIGxldCBzdGFydERvdCA9IC0xO1xuICAgICAgICBsZXQgc3RhcnRQYXJ0ID0gMDtcbiAgICAgICAgbGV0IGVuZCA9IC0xO1xuICAgICAgICBsZXQgbWF0Y2hlZFNsYXNoID0gdHJ1ZTtcbiAgICAgICAgLy8gVHJhY2sgdGhlIHN0YXRlIG9mIGNoYXJhY3RlcnMgKGlmIGFueSkgd2Ugc2VlIGJlZm9yZSBvdXIgZmlyc3QgZG90IGFuZFxuICAgICAgICAvLyBhZnRlciBhbnkgcGF0aCBzZXBhcmF0b3Igd2UgZmluZFxuICAgICAgICBsZXQgcHJlRG90U3RhdGUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gcGF0aC5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgICAgICAgICAvLyBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2RlID09PSBDSEFSX0RPVCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fFxuICAgICAgICAgICAgZW5kID09PSAtMSB8fFxuICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBjaGFyYWN0ZXIgaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBkb3RcbiAgICAgICAgICAgIHByZURvdFN0YXRlID09PSAwIHx8XG4gICAgICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICAgICAgICAocHJlRG90U3RhdGUgPT09IDEgJiZcbiAgICAgICAgICAgICAgICBzdGFydERvdCA9PT0gZW5kIC0gMSAmJlxuICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSkge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgIH0sXG4gICAgZm9ybWF0OiBfZm9ybWF0LmJpbmQobnVsbCwgJy8nKSxcbiAgICBwYXJzZShwYXRoKSB7XG4gICAgICAgIHZhbGlkYXRlU3RyaW5nKHBhdGgsICdwYXRoJyk7XG4gICAgICAgIGNvbnN0IHJldCA9IHsgcm9vdDogJycsIGRpcjogJycsIGJhc2U6ICcnLCBleHQ6ICcnLCBuYW1lOiAnJyB9O1xuICAgICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNBYnNvbHV0ZSA9IHBhdGguY2hhckNvZGVBdCgwKSA9PT0gQ0hBUl9GT1JXQVJEX1NMQVNIO1xuICAgICAgICBsZXQgc3RhcnQ7XG4gICAgICAgIGlmIChpc0Fic29sdXRlKSB7XG4gICAgICAgICAgICByZXQucm9vdCA9ICcvJztcbiAgICAgICAgICAgIHN0YXJ0ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnREb3QgPSAtMTtcbiAgICAgICAgbGV0IHN0YXJ0UGFydCA9IDA7XG4gICAgICAgIGxldCBlbmQgPSAtMTtcbiAgICAgICAgbGV0IG1hdGNoZWRTbGFzaCA9IHRydWU7XG4gICAgICAgIGxldCBpID0gcGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAvLyBUcmFjayB0aGUgc3RhdGUgb2YgY2hhcmFjdGVycyAoaWYgYW55KSB3ZSBzZWUgYmVmb3JlIG91ciBmaXJzdCBkb3QgYW5kXG4gICAgICAgIC8vIGFmdGVyIGFueSBwYXRoIHNlcGFyYXRvciB3ZSBmaW5kXG4gICAgICAgIGxldCBwcmVEb3RTdGF0ZSA9IDA7XG4gICAgICAgIC8vIEdldCBub24tZGlyIGluZm9cbiAgICAgICAgZm9yICg7IGkgPj0gc3RhcnQ7IC0taSkge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChpKTtcbiAgICAgICAgICAgIGlmIChjb2RlID09PSBDSEFSX0ZPUldBUkRfU0xBU0gpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZWFjaGVkIGEgcGF0aCBzZXBhcmF0b3IgdGhhdCB3YXMgbm90IHBhcnQgb2YgYSBzZXQgb2YgcGF0aFxuICAgICAgICAgICAgICAgIC8vIHNlcGFyYXRvcnMgYXQgdGhlIGVuZCBvZiB0aGUgc3RyaW5nLCBzdG9wIG5vd1xuICAgICAgICAgICAgICAgIGlmICghbWF0Y2hlZFNsYXNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0UGFydCA9IGkgKyAxO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyB0aGUgZmlyc3Qgbm9uLXBhdGggc2VwYXJhdG9yLCBtYXJrIHRoaXMgYXMgdGhlIGVuZCBvZiBvdXJcbiAgICAgICAgICAgICAgICAvLyBleHRlbnNpb25cbiAgICAgICAgICAgICAgICBtYXRjaGVkU2xhc2ggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlbmQgPSBpICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2RlID09PSBDSEFSX0RPVCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgb3VyIGZpcnN0IGRvdCwgbWFyayBpdCBhcyB0aGUgc3RhcnQgb2Ygb3VyIGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIGlmIChzdGFydERvdCA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnREb3QgPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwcmVEb3RTdGF0ZSAhPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBwcmVEb3RTdGF0ZSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc3RhcnREb3QgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2F3IGEgbm9uLWRvdCBhbmQgbm9uLXBhdGggc2VwYXJhdG9yIGJlZm9yZSBvdXIgZG90LCBzbyB3ZSBzaG91bGRcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgZ29vZCBjaGFuY2UgYXQgaGF2aW5nIGEgbm9uLWVtcHR5IGV4dGVuc2lvblxuICAgICAgICAgICAgICAgIHByZURvdFN0YXRlID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gc3RhcnRQYXJ0ID09PSAwICYmIGlzQWJzb2x1dGUgPyAxIDogc3RhcnRQYXJ0O1xuICAgICAgICAgICAgaWYgKHN0YXJ0RG90ID09PSAtMSB8fFxuICAgICAgICAgICAgICAgIC8vIFdlIHNhdyBhIG5vbi1kb3QgY2hhcmFjdGVyIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgZG90XG4gICAgICAgICAgICAgICAgcHJlRG90U3RhdGUgPT09IDAgfHxcbiAgICAgICAgICAgICAgICAvLyBUaGUgKHJpZ2h0LW1vc3QpIHRyaW1tZWQgcGF0aCBjb21wb25lbnQgaXMgZXhhY3RseSAnLi4nXG4gICAgICAgICAgICAgICAgKHByZURvdFN0YXRlID09PSAxICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBlbmQgLSAxICYmXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0RG90ID09PSBzdGFydFBhcnQgKyAxKSkge1xuICAgICAgICAgICAgICAgIHJldC5iYXNlID0gcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0Lm5hbWUgPSBwYXRoLnNsaWNlKHN0YXJ0LCBzdGFydERvdCk7XG4gICAgICAgICAgICAgICAgcmV0LmJhc2UgPSBwYXRoLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgICAgICAgICAgIHJldC5leHQgPSBwYXRoLnNsaWNlKHN0YXJ0RG90LCBlbmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydFBhcnQgPiAwKSB7XG4gICAgICAgICAgICByZXQuZGlyID0gcGF0aC5zbGljZSgwLCBzdGFydFBhcnQgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Fic29sdXRlKSB7XG4gICAgICAgICAgICByZXQuZGlyID0gJy8nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfSxcbiAgICBzZXA6ICcvJyxcbiAgICBkZWxpbWl0ZXI6ICc6JyxcbiAgICB3aW4zMjogbnVsbCxcbiAgICBwb3NpeDogbnVsbFxufTtcbnBvc2l4LndpbjMyID0gd2luMzIud2luMzIgPSB3aW4zMjtcbnBvc2l4LnBvc2l4ID0gd2luMzIucG9zaXggPSBwb3NpeDtcbmV4cG9ydCBjb25zdCBub3JtYWxpemUgPSAocGxhdGZvcm1Jc1dpbjMyID8gd2luMzIubm9ybWFsaXplIDogcG9zaXgubm9ybWFsaXplKTtcbmV4cG9ydCBjb25zdCByZXNvbHZlID0gKHBsYXRmb3JtSXNXaW4zMiA/IHdpbjMyLnJlc29sdmUgOiBwb3NpeC5yZXNvbHZlKTtcbmV4cG9ydCBjb25zdCByZWxhdGl2ZSA9IChwbGF0Zm9ybUlzV2luMzIgPyB3aW4zMi5yZWxhdGl2ZSA6IHBvc2l4LnJlbGF0aXZlKTtcbmV4cG9ydCBjb25zdCBkaXJuYW1lID0gKHBsYXRmb3JtSXNXaW4zMiA/IHdpbjMyLmRpcm5hbWUgOiBwb3NpeC5kaXJuYW1lKTtcbmV4cG9ydCBjb25zdCBiYXNlbmFtZSA9IChwbGF0Zm9ybUlzV2luMzIgPyB3aW4zMi5iYXNlbmFtZSA6IHBvc2l4LmJhc2VuYW1lKTtcbmV4cG9ydCBjb25zdCBleHRuYW1lID0gKHBsYXRmb3JtSXNXaW4zMiA/IHdpbjMyLmV4dG5hbWUgOiBwb3NpeC5leHRuYW1lKTtcbmV4cG9ydCBjb25zdCBzZXAgPSAocGxhdGZvcm1Jc1dpbjMyID8gd2luMzIuc2VwIDogcG9zaXguc2VwKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0ICogYXMgcGF0aHMgZnJvbSAnLi9wYXRoLmpzJztcbmltcG9ydCB7IGlzV2luZG93cyB9IGZyb20gJy4vcGxhdGZvcm0uanMnO1xuY29uc3QgX3NjaGVtZVBhdHRlcm4gPSAvXlxcd1tcXHdcXGQrLi1dKiQvO1xuY29uc3QgX3NpbmdsZVNsYXNoU3RhcnQgPSAvXlxcLy87XG5jb25zdCBfZG91YmxlU2xhc2hTdGFydCA9IC9eXFwvXFwvLztcbmZ1bmN0aW9uIF92YWxpZGF0ZVVyaShyZXQsIF9zdHJpY3QpIHtcbiAgICAvLyBzY2hlbWUsIG11c3QgYmUgc2V0XG4gICAgaWYgKCFyZXQuc2NoZW1lICYmIF9zdHJpY3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbVXJpRXJyb3JdOiBTY2hlbWUgaXMgbWlzc2luZzoge3NjaGVtZTogXCJcIiwgYXV0aG9yaXR5OiBcIiR7cmV0LmF1dGhvcml0eX1cIiwgcGF0aDogXCIke3JldC5wYXRofVwiLCBxdWVyeTogXCIke3JldC5xdWVyeX1cIiwgZnJhZ21lbnQ6IFwiJHtyZXQuZnJhZ21lbnR9XCJ9YCk7XG4gICAgfVxuICAgIC8vIHNjaGVtZSwgaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjFcbiAgICAvLyBBTFBIQSAqKCBBTFBIQSAvIERJR0lUIC8gXCIrXCIgLyBcIi1cIiAvIFwiLlwiIClcbiAgICBpZiAocmV0LnNjaGVtZSAmJiAhX3NjaGVtZVBhdHRlcm4udGVzdChyZXQuc2NoZW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IFNjaGVtZSBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMuJyk7XG4gICAgfVxuICAgIC8vIHBhdGgsIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjNcbiAgICAvLyBJZiBhIFVSSSBjb250YWlucyBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNvbXBvbmVudFxuICAgIC8vIG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBzbGFzaCAoXCIvXCIpIGNoYXJhY3Rlci4gIElmIGEgVVJJXG4gICAgLy8gZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNhbm5vdCBiZWdpblxuICAgIC8vIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKFwiLy9cIikuXG4gICAgaWYgKHJldC5wYXRoKSB7XG4gICAgICAgIGlmIChyZXQuYXV0aG9yaXR5KSB7XG4gICAgICAgICAgICBpZiAoIV9zaW5nbGVTbGFzaFN0YXJ0LnRlc3QocmV0LnBhdGgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBjb250YWlucyBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNvbXBvbmVudCBtdXN0IGVpdGhlciBiZSBlbXB0eSBvciBiZWdpbiB3aXRoIGEgc2xhc2ggKFwiL1wiKSBjaGFyYWN0ZXInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChfZG91YmxlU2xhc2hTdGFydC50ZXN0KHJldC5wYXRoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignW1VyaUVycm9yXTogSWYgYSBVUkkgZG9lcyBub3QgY29udGFpbiBhbiBhdXRob3JpdHkgY29tcG9uZW50LCB0aGVuIHRoZSBwYXRoIGNhbm5vdCBiZWdpbiB3aXRoIHR3byBzbGFzaCBjaGFyYWN0ZXJzIChcIi8vXCIpJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBmb3IgYSB3aGlsZSB3ZSBhbGxvd2VkIHVyaXMgKndpdGhvdXQqIHNjaGVtZXMgYW5kIHRoaXMgaXMgdGhlIG1pZ3JhdGlvblxuLy8gZm9yIHRoZW0sIGUuZy4gYW4gdXJpIHdpdGhvdXQgc2NoZW1lIGFuZCB3aXRob3V0IHN0cmljdC1tb2RlIHdhcm5zIGFuZCBmYWxsc1xuLy8gYmFjayB0byB0aGUgZmlsZS1zY2hlbWUuIHRoYXQgc2hvdWxkIGNhdXNlIHRoZSBsZWFzdCBjYXJuYWdlIGFuZCBzdGlsbCBiZSBhXG4vLyBjbGVhciB3YXJuaW5nXG5mdW5jdGlvbiBfc2NoZW1lRml4KHNjaGVtZSwgX3N0cmljdCkge1xuICAgIGlmICghc2NoZW1lICYmICFfc3RyaWN0KSB7XG4gICAgICAgIHJldHVybiAnZmlsZSc7XG4gICAgfVxuICAgIHJldHVybiBzY2hlbWU7XG59XG4vLyBpbXBsZW1lbnRzIGEgYml0IG9mIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNVxuZnVuY3Rpb24gX3JlZmVyZW5jZVJlc29sdXRpb24oc2NoZW1lLCBwYXRoKSB7XG4gICAgLy8gdGhlIHNsYXNoLWNoYXJhY3RlciBpcyBvdXIgJ2RlZmF1bHQgYmFzZScgYXMgd2UgZG9uJ3RcbiAgICAvLyBzdXBwb3J0IGNvbnN0cnVjdGluZyBVUklzIHJlbGF0aXZlIHRvIG90aGVyIFVSSXMuIFRoaXNcbiAgICAvLyBhbHNvIG1lYW5zIHRoYXQgd2UgYWx0ZXIgYW5kIHBvdGVudGlhbGx5IGJyZWFrIHBhdGhzLlxuICAgIC8vIHNlZSBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTUuMS40XG4gICAgc3dpdGNoIChzY2hlbWUpIHtcbiAgICAgICAgY2FzZSAnaHR0cHMnOlxuICAgICAgICBjYXNlICdodHRwJzpcbiAgICAgICAgY2FzZSAnZmlsZSc6XG4gICAgICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgICAgICBwYXRoID0gX3NsYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocGF0aFswXSAhPT0gX3NsYXNoKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IF9zbGFzaCArIHBhdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHBhdGg7XG59XG5jb25zdCBfZW1wdHkgPSAnJztcbmNvbnN0IF9zbGFzaCA9ICcvJztcbmNvbnN0IF9yZWdleHAgPSAvXigoW146Lz8jXSs/KTopPyhcXC9cXC8oW14vPyNdKikpPyhbXj8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/Lztcbi8qKlxuICogVW5pZm9ybSBSZXNvdXJjZSBJZGVudGlmaWVyIChVUkkpIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODYuXG4gKiBUaGlzIGNsYXNzIGlzIGEgc2ltcGxlIHBhcnNlciB3aGljaCBjcmVhdGVzIHRoZSBiYXNpYyBjb21wb25lbnQgcGFydHNcbiAqIChodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMykgd2l0aCBtaW5pbWFsIHZhbGlkYXRpb25cbiAqIGFuZCBlbmNvZGluZy5cbiAqXG4gKiBgYGB0eHRcbiAqICAgICAgIGZvbzovL2V4YW1wbGUuY29tOjgwNDIvb3Zlci90aGVyZT9uYW1lPWZlcnJldCNub3NlXG4gKiAgICAgICBcXF8vICAgXFxfX19fX19fX19fX19fXy9cXF9fX19fX19fXy8gXFxfX19fX19fX18vIFxcX18vXG4gKiAgICAgICAgfCAgICAgICAgICAgfCAgICAgICAgICAgIHwgICAgICAgICAgICB8ICAgICAgICB8XG4gKiAgICAgc2NoZW1lICAgICBhdXRob3JpdHkgICAgICAgcGF0aCAgICAgICAgcXVlcnkgICBmcmFnbWVudFxuICogICAgICAgIHwgICBfX19fX19fX19fX19fX19fX19fX198X19cbiAqICAgICAgIC8gXFwgLyAgICAgICAgICAgICAgICAgICAgICAgIFxcXG4gKiAgICAgICB1cm46ZXhhbXBsZTphbmltYWw6ZmVycmV0Om5vc2VcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgVVJJIHtcbiAgICBzdGF0aWMgaXNVcmkodGhpbmcpIHtcbiAgICAgICAgaWYgKHRoaW5nIGluc3RhbmNlb2YgVVJJKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGluZy5hdXRob3JpdHkgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuZnJhZ21lbnQgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcucGF0aCA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy5xdWVyeSA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy5zY2hlbWUgPT09ICdzdHJpbmcnXG4gICAgICAgICAgICAmJiB0eXBlb2YgdGhpbmcuZnNQYXRoID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLndpdGggPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICYmIHR5cGVvZiB0aGluZy50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3Ioc2NoZW1lT3JEYXRhLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCwgX3N0cmljdCA9IGZhbHNlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1lT3JEYXRhID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgdGhpcy5zY2hlbWUgPSBzY2hlbWVPckRhdGEuc2NoZW1lIHx8IF9lbXB0eTtcbiAgICAgICAgICAgIHRoaXMuYXV0aG9yaXR5ID0gc2NoZW1lT3JEYXRhLmF1dGhvcml0eSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLnBhdGggPSBzY2hlbWVPckRhdGEucGF0aCB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLnF1ZXJ5ID0gc2NoZW1lT3JEYXRhLnF1ZXJ5IHx8IF9lbXB0eTtcbiAgICAgICAgICAgIHRoaXMuZnJhZ21lbnQgPSBzY2hlbWVPckRhdGEuZnJhZ21lbnQgfHwgX2VtcHR5O1xuICAgICAgICAgICAgLy8gbm8gdmFsaWRhdGlvbiBiZWNhdXNlIGl0J3MgdGhpcyBVUklcbiAgICAgICAgICAgIC8vIHRoYXQgY3JlYXRlcyB1cmkgY29tcG9uZW50cy5cbiAgICAgICAgICAgIC8vIF92YWxpZGF0ZVVyaSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZW1lID0gX3NjaGVtZUZpeChzY2hlbWVPckRhdGEsIF9zdHJpY3QpO1xuICAgICAgICAgICAgdGhpcy5hdXRob3JpdHkgPSBhdXRob3JpdHkgfHwgX2VtcHR5O1xuICAgICAgICAgICAgdGhpcy5wYXRoID0gX3JlZmVyZW5jZVJlc29sdXRpb24odGhpcy5zY2hlbWUsIHBhdGggfHwgX2VtcHR5KTtcbiAgICAgICAgICAgIHRoaXMucXVlcnkgPSBxdWVyeSB8fCBfZW1wdHk7XG4gICAgICAgICAgICB0aGlzLmZyYWdtZW50ID0gZnJhZ21lbnQgfHwgX2VtcHR5O1xuICAgICAgICAgICAgX3ZhbGlkYXRlVXJpKHRoaXMsIF9zdHJpY3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIC0tLS0gZmlsZXN5c3RlbSBwYXRoIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGNvcnJlc3BvbmRpbmcgZmlsZSBzeXN0ZW0gcGF0aCBvZiB0aGlzIFVSSS5cbiAgICAgKiBXaWxsIGhhbmRsZSBVTkMgcGF0aHMsIG5vcm1hbGl6ZXMgd2luZG93cyBkcml2ZSBsZXR0ZXJzIHRvIGxvd2VyLWNhc2UsIGFuZCB1c2VzIHRoZVxuICAgICAqIHBsYXRmb3JtIHNwZWNpZmljIHBhdGggc2VwYXJhdG9yLlxuICAgICAqXG4gICAgICogKiBXaWxsICpub3QqIHZhbGlkYXRlIHRoZSBwYXRoIGZvciBpbnZhbGlkIGNoYXJhY3RlcnMgYW5kIHNlbWFudGljcy5cbiAgICAgKiAqIFdpbGwgKm5vdCogbG9vayBhdCB0aGUgc2NoZW1lIG9mIHRoaXMgVVJJLlxuICAgICAqICogVGhlIHJlc3VsdCBzaGFsbCAqbm90KiBiZSB1c2VkIGZvciBkaXNwbGF5IHB1cnBvc2VzIGJ1dCBmb3IgYWNjZXNzaW5nIGEgZmlsZSBvbiBkaXNrLlxuICAgICAqXG4gICAgICpcbiAgICAgKiBUaGUgKmRpZmZlcmVuY2UqIHRvIGBVUkkjcGF0aGAgaXMgdGhlIHVzZSBvZiB0aGUgcGxhdGZvcm0gc3BlY2lmaWMgc2VwYXJhdG9yIGFuZCB0aGUgaGFuZGxpbmdcbiAgICAgKiBvZiBVTkMgcGF0aHMuIFNlZSB0aGUgYmVsb3cgc2FtcGxlIG9mIGEgZmlsZS11cmkgd2l0aCBhbiBhdXRob3JpdHkgKFVOQyBwYXRoKS5cbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICAgIGNvbnN0IHUgPSBVUkkucGFyc2UoJ2ZpbGU6Ly9zZXJ2ZXIvYyQvZm9sZGVyL2ZpbGUudHh0JylcbiAgICAgICAgdS5hdXRob3JpdHkgPT09ICdzZXJ2ZXInXG4gICAgICAgIHUucGF0aCA9PT0gJy9zaGFyZXMvYyQvZmlsZS50eHQnXG4gICAgICAgIHUuZnNQYXRoID09PSAnXFxcXHNlcnZlclxcYyRcXGZvbGRlclxcZmlsZS50eHQnXG4gICAgYGBgXG4gICAgICpcbiAgICAgKiBVc2luZyBgVVJJI3BhdGhgIHRvIHJlYWQgYSBmaWxlICh1c2luZyBmcy1hcGlzKSB3b3VsZCBub3QgYmUgZW5vdWdoIGJlY2F1c2UgcGFydHMgb2YgdGhlIHBhdGgsXG4gICAgICogbmFtZWx5IHRoZSBzZXJ2ZXIgbmFtZSwgd291bGQgYmUgbWlzc2luZy4gVGhlcmVmb3JlIGBVUkkjZnNQYXRoYCBleGlzdHMgLSBpdCdzIHN1Z2FyIHRvIGVhc2Ugd29ya2luZ1xuICAgICAqIHdpdGggVVJJcyB0aGF0IHJlcHJlc2VudCBmaWxlcyBvbiBkaXNrIChgZmlsZWAgc2NoZW1lKS5cbiAgICAgKi9cbiAgICBnZXQgZnNQYXRoKCkge1xuICAgICAgICAvLyBpZiAodGhpcy5zY2hlbWUgIT09ICdmaWxlJykge1xuICAgICAgICAvLyBcdGNvbnNvbGUud2FybihgW1VyaUVycm9yXSBjYWxsaW5nIGZzUGF0aCB3aXRoIHNjaGVtZSAke3RoaXMuc2NoZW1lfWApO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiB1cmlUb0ZzUGF0aCh0aGlzLCBmYWxzZSk7XG4gICAgfVxuICAgIC8vIC0tLS0gbW9kaWZ5IHRvIG5ldyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgd2l0aChjaGFuZ2UpIHtcbiAgICAgICAgaWYgKCFjaGFuZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGxldCB7IHNjaGVtZSwgYXV0aG9yaXR5LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQgfSA9IGNoYW5nZTtcbiAgICAgICAgaWYgKHNjaGVtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzY2hlbWUgPSB0aGlzLnNjaGVtZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzY2hlbWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHNjaGVtZSA9IF9lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXV0aG9yaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGF1dGhvcml0eSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgYXV0aG9yaXR5ID0gX2VtcHR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBhdGggPSB0aGlzLnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcGF0aCA9IF9lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVlcnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnkgPSB0aGlzLnF1ZXJ5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHF1ZXJ5ID09PSBudWxsKSB7XG4gICAgICAgICAgICBxdWVyeSA9IF9lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZnJhZ21lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZnJhZ21lbnQgPSB0aGlzLmZyYWdtZW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZyYWdtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICBmcmFnbWVudCA9IF9lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1lID09PSB0aGlzLnNjaGVtZVxuICAgICAgICAgICAgJiYgYXV0aG9yaXR5ID09PSB0aGlzLmF1dGhvcml0eVxuICAgICAgICAgICAgJiYgcGF0aCA9PT0gdGhpcy5wYXRoXG4gICAgICAgICAgICAmJiBxdWVyeSA9PT0gdGhpcy5xdWVyeVxuICAgICAgICAgICAgJiYgZnJhZ21lbnQgPT09IHRoaXMuZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVXJpKHNjaGVtZSwgYXV0aG9yaXR5LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQpO1xuICAgIH1cbiAgICAvLyAtLS0tIHBhcnNlICYgdmFsaWRhdGUgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBVUkkgZnJvbSBhIHN0cmluZywgZS5nLiBgaHR0cDovL3d3dy5leGFtcGxlLmNvbS9zb21lL3BhdGhgLFxuICAgICAqIGBmaWxlOi8vL3Vzci9ob21lYCwgb3IgYHNjaGVtZTp3aXRoL3BhdGhgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIEEgc3RyaW5nIHdoaWNoIHJlcHJlc2VudHMgYW4gVVJJIChzZWUgYFVSSSN0b1N0cmluZ2ApLlxuICAgICAqL1xuICAgIHN0YXRpYyBwYXJzZSh2YWx1ZSwgX3N0cmljdCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gX3JlZ2V4cC5leGVjKHZhbHVlKTtcbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBVcmkoX2VtcHR5LCBfZW1wdHksIF9lbXB0eSwgX2VtcHR5LCBfZW1wdHkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVXJpKG1hdGNoWzJdIHx8IF9lbXB0eSwgcGVyY2VudERlY29kZShtYXRjaFs0XSB8fCBfZW1wdHkpLCBwZXJjZW50RGVjb2RlKG1hdGNoWzVdIHx8IF9lbXB0eSksIHBlcmNlbnREZWNvZGUobWF0Y2hbN10gfHwgX2VtcHR5KSwgcGVyY2VudERlY29kZShtYXRjaFs5XSB8fCBfZW1wdHkpLCBfc3RyaWN0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBVUkkgZnJvbSBhIGZpbGUgc3lzdGVtIHBhdGgsIGUuZy4gYGM6XFxteVxcZmlsZXNgLFxuICAgICAqIGAvdXNyL2hvbWVgLCBvciBgXFxcXHNlcnZlclxcc2hhcmVcXHNvbWVcXHBhdGhgLlxuICAgICAqXG4gICAgICogVGhlICpkaWZmZXJlbmNlKiBiZXR3ZWVuIGBVUkkjcGFyc2VgIGFuZCBgVVJJI2ZpbGVgIGlzIHRoYXQgdGhlIGxhdHRlciB0cmVhdHMgdGhlIGFyZ3VtZW50XG4gICAgICogYXMgcGF0aCwgbm90IGFzIHN0cmluZ2lmaWVkLXVyaS4gRS5nLiBgVVJJLmZpbGUocGF0aClgIGlzICoqbm90IHRoZSBzYW1lIGFzKipcbiAgICAgKiBgVVJJLnBhcnNlKCdmaWxlOi8vJyArIHBhdGgpYCBiZWNhdXNlIHRoZSBwYXRoIG1pZ2h0IGNvbnRhaW4gY2hhcmFjdGVycyB0aGF0IGFyZVxuICAgICAqIGludGVycHJldGVkICgjIGFuZCA/KS4gU2VlIHRoZSBmb2xsb3dpbmcgc2FtcGxlOlxuICAgICAqIGBgYHRzXG4gICAgY29uc3QgZ29vZCA9IFVSSS5maWxlKCcvY29kaW5nL2MjL3Byb2plY3QxJyk7XG4gICAgZ29vZC5zY2hlbWUgPT09ICdmaWxlJztcbiAgICBnb29kLnBhdGggPT09ICcvY29kaW5nL2MjL3Byb2plY3QxJztcbiAgICBnb29kLmZyYWdtZW50ID09PSAnJztcbiAgICBjb25zdCBiYWQgPSBVUkkucGFyc2UoJ2ZpbGU6Ly8nICsgJy9jb2RpbmcvYyMvcHJvamVjdDEnKTtcbiAgICBiYWQuc2NoZW1lID09PSAnZmlsZSc7XG4gICAgYmFkLnBhdGggPT09ICcvY29kaW5nL2MnOyAvLyBwYXRoIGlzIG5vdyBicm9rZW5cbiAgICBiYWQuZnJhZ21lbnQgPT09ICcvcHJvamVjdDEnO1xuICAgIGBgYFxuICAgICAqXG4gICAgICogQHBhcmFtIHBhdGggQSBmaWxlIHN5c3RlbSBwYXRoIChzZWUgYFVSSSNmc1BhdGhgKVxuICAgICAqL1xuICAgIHN0YXRpYyBmaWxlKHBhdGgpIHtcbiAgICAgICAgbGV0IGF1dGhvcml0eSA9IF9lbXB0eTtcbiAgICAgICAgLy8gbm9ybWFsaXplIHRvIGZ3ZC1zbGFzaGVzIG9uIHdpbmRvd3MsXG4gICAgICAgIC8vIG9uIG90aGVyIHN5c3RlbXMgYndkLXNsYXNoZXMgYXJlIHZhbGlkXG4gICAgICAgIC8vIGZpbGVuYW1lIGNoYXJhY3RlciwgZWcgL2ZcXG9vL2JhXFxyLnR4dFxuICAgICAgICBpZiAoaXNXaW5kb3dzKSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9cXFxcL2csIF9zbGFzaCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgZm9yIGF1dGhvcml0eSBhcyB1c2VkIGluIFVOQyBzaGFyZXNcbiAgICAgICAgLy8gb3IgdXNlIHRoZSBwYXRoIGFzIGdpdmVuXG4gICAgICAgIGlmIChwYXRoWzBdID09PSBfc2xhc2ggJiYgcGF0aFsxXSA9PT0gX3NsYXNoKSB7XG4gICAgICAgICAgICBjb25zdCBpZHggPSBwYXRoLmluZGV4T2YoX3NsYXNoLCAyKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYXV0aG9yaXR5ID0gcGF0aC5zdWJzdHJpbmcoMik7XG4gICAgICAgICAgICAgICAgcGF0aCA9IF9zbGFzaDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF1dGhvcml0eSA9IHBhdGguc3Vic3RyaW5nKDIsIGlkeCk7XG4gICAgICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKGlkeCkgfHwgX3NsYXNoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgVXJpKCdmaWxlJywgYXV0aG9yaXR5LCBwYXRoLCBfZW1wdHksIF9lbXB0eSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgbmV3IFVSSSBmcm9tIHVyaSBjb21wb25lbnRzLlxuICAgICAqXG4gICAgICogVW5sZXNzIGBzdHJpY3RgIGlzIGB0cnVlYCB0aGUgc2NoZW1lIGlzIGRlZmF1bHRzIHRvIGJlIGBmaWxlYC4gVGhpcyBmdW5jdGlvbiBwZXJmb3Jtc1xuICAgICAqIHZhbGlkYXRpb24gYW5kIHNob3VsZCBiZSB1c2VkIGZvciB1bnRydXN0ZWQgdXJpIGNvbXBvbmVudHMgcmV0cmlldmVkIGZyb20gc3RvcmFnZSxcbiAgICAgKiB1c2VyIGlucHV0LCBjb21tYW5kIGFyZ3VtZW50cyBldGNcbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbShjb21wb25lbnRzLCBzdHJpY3QpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVyaShjb21wb25lbnRzLnNjaGVtZSwgY29tcG9uZW50cy5hdXRob3JpdHksIGNvbXBvbmVudHMucGF0aCwgY29tcG9uZW50cy5xdWVyeSwgY29tcG9uZW50cy5mcmFnbWVudCwgc3RyaWN0KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSm9pbiBhIFVSSSBwYXRoIHdpdGggcGF0aCBmcmFnbWVudHMgYW5kIG5vcm1hbGl6ZXMgdGhlIHJlc3VsdGluZyBwYXRoLlxuICAgICAqXG4gICAgICogQHBhcmFtIHVyaSBUaGUgaW5wdXQgVVJJLlxuICAgICAqIEBwYXJhbSBwYXRoRnJhZ21lbnQgVGhlIHBhdGggZnJhZ21lbnQgdG8gYWRkIHRvIHRoZSBVUkkgcGF0aC5cbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0aW5nIFVSSS5cbiAgICAgKi9cbiAgICBzdGF0aWMgam9pblBhdGgodXJpLCAuLi5wYXRoRnJhZ21lbnQpIHtcbiAgICAgICAgaWYgKCF1cmkucGF0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBbVXJpRXJyb3JdOiBjYW5ub3QgY2FsbCBqb2luUGF0aCBvbiBVUkkgd2l0aG91dCBwYXRoYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5ld1BhdGg7XG4gICAgICAgIGlmIChpc1dpbmRvd3MgJiYgdXJpLnNjaGVtZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgICAgICBuZXdQYXRoID0gVVJJLmZpbGUocGF0aHMud2luMzIuam9pbih1cmlUb0ZzUGF0aCh1cmksIHRydWUpLCAuLi5wYXRoRnJhZ21lbnQpKS5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbmV3UGF0aCA9IHBhdGhzLnBvc2l4LmpvaW4odXJpLnBhdGgsIC4uLnBhdGhGcmFnbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVyaS53aXRoKHsgcGF0aDogbmV3UGF0aCB9KTtcbiAgICB9XG4gICAgLy8gLS0tLSBwcmludGluZy9leHRlcm5hbGl6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIGZvciB0aGlzIFVSSS4gSXQncyBndWFyYW50ZWVkIHRoYXQgY2FsbGluZ1xuICAgICAqIGBVUkkucGFyc2VgIHdpdGggdGhlIHJlc3VsdCBvZiB0aGlzIGZ1bmN0aW9uIGNyZWF0ZXMgYW4gVVJJIHdoaWNoIGlzIGVxdWFsXG4gICAgICogdG8gdGhpcyBVUkkuXG4gICAgICpcbiAgICAgKiAqIFRoZSByZXN1bHQgc2hhbGwgKm5vdCogYmUgdXNlZCBmb3IgZGlzcGxheSBwdXJwb3NlcyBidXQgZm9yIGV4dGVybmFsaXphdGlvbiBvciB0cmFuc3BvcnQuXG4gICAgICogKiBUaGUgcmVzdWx0IHdpbGwgYmUgZW5jb2RlZCB1c2luZyB0aGUgcGVyY2VudGFnZSBlbmNvZGluZyBhbmQgZW5jb2RpbmcgaGFwcGVucyBtb3N0bHlcbiAgICAgKiBpZ25vcmUgdGhlIHNjaGVtZS1zcGVjaWZpYyBlbmNvZGluZyBydWxlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBza2lwRW5jb2RpbmcgRG8gbm90IGVuY29kZSB0aGUgcmVzdWx0LCBkZWZhdWx0IGlzIGBmYWxzZWBcbiAgICAgKi9cbiAgICB0b1N0cmluZyhza2lwRW5jb2RpbmcgPSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gX2FzRm9ybWF0dGVkKHRoaXMsIHNraXBFbmNvZGluZyk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHN0YXRpYyByZXZpdmUoZGF0YSkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRhdGEgaW5zdGFuY2VvZiBVUkkpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gbmV3IFVyaShkYXRhKTtcbiAgICAgICAgICAgIHJlc3VsdC5fZm9ybWF0dGVkID0gKF9hID0gZGF0YS5leHRlcm5hbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbDtcbiAgICAgICAgICAgIHJlc3VsdC5fZnNQYXRoID0gZGF0YS5fc2VwID09PSBfcGF0aFNlcE1hcmtlciA/IChfYiA9IGRhdGEuZnNQYXRoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBudWxsIDogbnVsbDtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBfcGF0aFNlcE1hcmtlciA9IGlzV2luZG93cyA/IDEgOiB1bmRlZmluZWQ7XG4vLyBUaGlzIGNsYXNzIGV4aXN0cyBzbyB0aGF0IFVSSSBpcyBjb21wYXRpYmxlIHdpdGggdnNjb2RlLlVyaSAoQVBJKS5cbmNsYXNzIFVyaSBleHRlbmRzIFVSSSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX2Zvcm1hdHRlZCA9IG51bGw7XG4gICAgICAgIHRoaXMuX2ZzUGF0aCA9IG51bGw7XG4gICAgfVxuICAgIGdldCBmc1BhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZnNQYXRoKSB7XG4gICAgICAgICAgICB0aGlzLl9mc1BhdGggPSB1cmlUb0ZzUGF0aCh0aGlzLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZzUGF0aDtcbiAgICB9XG4gICAgdG9TdHJpbmcoc2tpcEVuY29kaW5nID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCFza2lwRW5jb2RpbmcpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fZm9ybWF0dGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZm9ybWF0dGVkID0gX2FzRm9ybWF0dGVkKHRoaXMsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9mb3JtYXR0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjYWNoZSB0aGF0XG4gICAgICAgICAgICByZXR1cm4gX2FzRm9ybWF0dGVkKHRoaXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgY29uc3QgcmVzID0ge1xuICAgICAgICAgICAgJG1pZDogMSAvKiBNYXJzaGFsbGVkSWQuVXJpICovXG4gICAgICAgIH07XG4gICAgICAgIC8vIGNhY2hlZCBzdGF0ZVxuICAgICAgICBpZiAodGhpcy5fZnNQYXRoKSB7XG4gICAgICAgICAgICByZXMuZnNQYXRoID0gdGhpcy5fZnNQYXRoO1xuICAgICAgICAgICAgcmVzLl9zZXAgPSBfcGF0aFNlcE1hcmtlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZm9ybWF0dGVkKSB7XG4gICAgICAgICAgICByZXMuZXh0ZXJuYWwgPSB0aGlzLl9mb3JtYXR0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8tLS0gdXJpIGNvbXBvbmVudHNcbiAgICAgICAgaWYgKHRoaXMucGF0aCkge1xuICAgICAgICAgICAgcmVzLnBhdGggPSB0aGlzLnBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ET1xuICAgICAgICAvLyB0aGlzIGlzbid0IGNvcnJlY3QgYW5kIGNhbiB2aW9sYXRlIHRoZSBVcmlDb21wb25lbnRzIGNvbnRyYWN0IGJ1dFxuICAgICAgICAvLyB0aGlzIGlzIHBhcnQgb2YgdGhlIHZzY29kZS5VcmkgQVBJIGFuZCB3ZSBzaG91bGRuJ3QgY2hhbmdlIGhvdyB0aGF0XG4gICAgICAgIC8vIHdvcmtzIGFueW1vcmVcbiAgICAgICAgaWYgKHRoaXMuc2NoZW1lKSB7XG4gICAgICAgICAgICByZXMuc2NoZW1lID0gdGhpcy5zY2hlbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuYXV0aG9yaXR5KSB7XG4gICAgICAgICAgICByZXMuYXV0aG9yaXR5ID0gdGhpcy5hdXRob3JpdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucXVlcnkpIHtcbiAgICAgICAgICAgIHJlcy5xdWVyeSA9IHRoaXMucXVlcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZnJhZ21lbnQpIHtcbiAgICAgICAgICAgIHJlcy5mcmFnbWVudCA9IHRoaXMuZnJhZ21lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG59XG4vLyByZXNlcnZlZCBjaGFyYWN0ZXJzOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiNzZWN0aW9uLTIuMlxuY29uc3QgZW5jb2RlVGFibGUgPSB7XG4gICAgWzU4IC8qIENoYXJDb2RlLkNvbG9uICovXTogJyUzQScsIC8vIGdlbi1kZWxpbXNcbiAgICBbNDcgLyogQ2hhckNvZGUuU2xhc2ggKi9dOiAnJTJGJyxcbiAgICBbNjMgLyogQ2hhckNvZGUuUXVlc3Rpb25NYXJrICovXTogJyUzRicsXG4gICAgWzM1IC8qIENoYXJDb2RlLkhhc2ggKi9dOiAnJTIzJyxcbiAgICBbOTEgLyogQ2hhckNvZGUuT3BlblNxdWFyZUJyYWNrZXQgKi9dOiAnJTVCJyxcbiAgICBbOTMgLyogQ2hhckNvZGUuQ2xvc2VTcXVhcmVCcmFja2V0ICovXTogJyU1RCcsXG4gICAgWzY0IC8qIENoYXJDb2RlLkF0U2lnbiAqL106ICclNDAnLFxuICAgIFszMyAvKiBDaGFyQ29kZS5FeGNsYW1hdGlvbk1hcmsgKi9dOiAnJTIxJywgLy8gc3ViLWRlbGltc1xuICAgIFszNiAvKiBDaGFyQ29kZS5Eb2xsYXJTaWduICovXTogJyUyNCcsXG4gICAgWzM4IC8qIENoYXJDb2RlLkFtcGVyc2FuZCAqL106ICclMjYnLFxuICAgIFszOSAvKiBDaGFyQ29kZS5TaW5nbGVRdW90ZSAqL106ICclMjcnLFxuICAgIFs0MCAvKiBDaGFyQ29kZS5PcGVuUGFyZW4gKi9dOiAnJTI4JyxcbiAgICBbNDEgLyogQ2hhckNvZGUuQ2xvc2VQYXJlbiAqL106ICclMjknLFxuICAgIFs0MiAvKiBDaGFyQ29kZS5Bc3RlcmlzayAqL106ICclMkEnLFxuICAgIFs0MyAvKiBDaGFyQ29kZS5QbHVzICovXTogJyUyQicsXG4gICAgWzQ0IC8qIENoYXJDb2RlLkNvbW1hICovXTogJyUyQycsXG4gICAgWzU5IC8qIENoYXJDb2RlLlNlbWljb2xvbiAqL106ICclM0InLFxuICAgIFs2MSAvKiBDaGFyQ29kZS5FcXVhbHMgKi9dOiAnJTNEJyxcbiAgICBbMzIgLyogQ2hhckNvZGUuU3BhY2UgKi9dOiAnJTIwJyxcbn07XG5mdW5jdGlvbiBlbmNvZGVVUklDb21wb25lbnRGYXN0KHVyaUNvbXBvbmVudCwgaXNQYXRoLCBpc0F1dGhvcml0eSkge1xuICAgIGxldCByZXMgPSB1bmRlZmluZWQ7XG4gICAgbGV0IG5hdGl2ZUVuY29kZVBvcyA9IC0xO1xuICAgIGZvciAobGV0IHBvcyA9IDA7IHBvcyA8IHVyaUNvbXBvbmVudC5sZW5ndGg7IHBvcysrKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSB1cmlDb21wb25lbnQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgICAvLyB1bnJlc2VydmVkIGNoYXJhY3RlcnM6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I3NlY3Rpb24tMi4zXG4gICAgICAgIGlmICgoY29kZSA+PSA5NyAvKiBDaGFyQ29kZS5hICovICYmIGNvZGUgPD0gMTIyIC8qIENoYXJDb2RlLnogKi8pXG4gICAgICAgICAgICB8fCAoY29kZSA+PSA2NSAvKiBDaGFyQ29kZS5BICovICYmIGNvZGUgPD0gOTAgLyogQ2hhckNvZGUuWiAqLylcbiAgICAgICAgICAgIHx8IChjb2RlID49IDQ4IC8qIENoYXJDb2RlLkRpZ2l0MCAqLyAmJiBjb2RlIDw9IDU3IC8qIENoYXJDb2RlLkRpZ2l0OSAqLylcbiAgICAgICAgICAgIHx8IGNvZGUgPT09IDQ1IC8qIENoYXJDb2RlLkRhc2ggKi9cbiAgICAgICAgICAgIHx8IGNvZGUgPT09IDQ2IC8qIENoYXJDb2RlLlBlcmlvZCAqL1xuICAgICAgICAgICAgfHwgY29kZSA9PT0gOTUgLyogQ2hhckNvZGUuVW5kZXJsaW5lICovXG4gICAgICAgICAgICB8fCBjb2RlID09PSAxMjYgLyogQ2hhckNvZGUuVGlsZGUgKi9cbiAgICAgICAgICAgIHx8IChpc1BhdGggJiYgY29kZSA9PT0gNDcgLyogQ2hhckNvZGUuU2xhc2ggKi8pXG4gICAgICAgICAgICB8fCAoaXNBdXRob3JpdHkgJiYgY29kZSA9PT0gOTEgLyogQ2hhckNvZGUuT3BlblNxdWFyZUJyYWNrZXQgKi8pXG4gICAgICAgICAgICB8fCAoaXNBdXRob3JpdHkgJiYgY29kZSA9PT0gOTMgLyogQ2hhckNvZGUuQ2xvc2VTcXVhcmVCcmFja2V0ICovKVxuICAgICAgICAgICAgfHwgKGlzQXV0aG9yaXR5ICYmIGNvZGUgPT09IDU4IC8qIENoYXJDb2RlLkNvbG9uICovKSkge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgd2UgYXJlIGRlbGF5aW5nIG5hdGl2ZSBlbmNvZGVcbiAgICAgICAgICAgIGlmIChuYXRpdmVFbmNvZGVQb3MgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZVVSSUNvbXBvbmVudCh1cmlDb21wb25lbnQuc3Vic3RyaW5nKG5hdGl2ZUVuY29kZVBvcywgcG9zKSk7XG4gICAgICAgICAgICAgICAgbmF0aXZlRW5jb2RlUG9zID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSB3cml0ZSBpbnRvIGEgbmV3IHN0cmluZyAoYnkgZGVmYXVsdCB3ZSB0cnkgdG8gcmV0dXJuIHRoZSBwYXJhbSlcbiAgICAgICAgICAgIGlmIChyZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlcyArPSB1cmlDb21wb25lbnQuY2hhckF0KHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlbmNvZGluZyBuZWVkZWQsIHdlIG5lZWQgdG8gYWxsb2NhdGUgYSBuZXcgc3RyaW5nXG4gICAgICAgICAgICBpZiAocmVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXMgPSB1cmlDb21wb25lbnQuc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBjaGVjayB3aXRoIGRlZmF1bHQgdGFibGUgZmlyc3RcbiAgICAgICAgICAgIGNvbnN0IGVzY2FwZWQgPSBlbmNvZGVUYWJsZVtjb2RlXTtcbiAgICAgICAgICAgIGlmIChlc2NhcGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBjaGVjayBpZiB3ZSBhcmUgZGVsYXlpbmcgbmF0aXZlIGVuY29kZVxuICAgICAgICAgICAgICAgIGlmIChuYXRpdmVFbmNvZGVQb3MgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyArPSBlbmNvZGVVUklDb21wb25lbnQodXJpQ29tcG9uZW50LnN1YnN0cmluZyhuYXRpdmVFbmNvZGVQb3MsIHBvcykpO1xuICAgICAgICAgICAgICAgICAgICBuYXRpdmVFbmNvZGVQb3MgPSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIGVzY2FwZWQgdmFyaWFudCB0byByZXN1bHRcbiAgICAgICAgICAgICAgICByZXMgKz0gZXNjYXBlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG5hdGl2ZUVuY29kZVBvcyA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgICAvLyB1c2UgbmF0aXZlIGVuY29kZSBvbmx5IHdoZW4gbmVlZGVkXG4gICAgICAgICAgICAgICAgbmF0aXZlRW5jb2RlUG9zID0gcG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVFbmNvZGVQb3MgIT09IC0xKSB7XG4gICAgICAgIHJlcyArPSBlbmNvZGVVUklDb21wb25lbnQodXJpQ29tcG9uZW50LnN1YnN0cmluZyhuYXRpdmVFbmNvZGVQb3MpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcyAhPT0gdW5kZWZpbmVkID8gcmVzIDogdXJpQ29tcG9uZW50O1xufVxuZnVuY3Rpb24gZW5jb2RlVVJJQ29tcG9uZW50TWluaW1hbChwYXRoKSB7XG4gICAgbGV0IHJlcyA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKGxldCBwb3MgPSAwOyBwb3MgPCBwYXRoLmxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdChwb3MpO1xuICAgICAgICBpZiAoY29kZSA9PT0gMzUgLyogQ2hhckNvZGUuSGFzaCAqLyB8fCBjb2RlID09PSA2MyAvKiBDaGFyQ29kZS5RdWVzdGlvbk1hcmsgKi8pIHtcbiAgICAgICAgICAgIGlmIChyZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlcyA9IHBhdGguc3Vic3RyKDAsIHBvcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMgKz0gZW5jb2RlVGFibGVbY29kZV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXMgKz0gcGF0aFtwb3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXMgIT09IHVuZGVmaW5lZCA/IHJlcyA6IHBhdGg7XG59XG4vKipcbiAqIENvbXB1dGUgYGZzUGF0aGAgZm9yIHRoZSBnaXZlbiB1cmlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVyaVRvRnNQYXRoKHVyaSwga2VlcERyaXZlTGV0dGVyQ2FzaW5nKSB7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmICh1cmkuYXV0aG9yaXR5ICYmIHVyaS5wYXRoLmxlbmd0aCA+IDEgJiYgdXJpLnNjaGVtZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIC8vIHVuYyBwYXRoOiBmaWxlOi8vc2hhcmVzL2MkL2Zhci9ib29cbiAgICAgICAgdmFsdWUgPSBgLy8ke3VyaS5hdXRob3JpdHl9JHt1cmkucGF0aH1gO1xuICAgIH1cbiAgICBlbHNlIGlmICh1cmkucGF0aC5jaGFyQ29kZUF0KDApID09PSA0NyAvKiBDaGFyQ29kZS5TbGFzaCAqL1xuICAgICAgICAmJiAodXJpLnBhdGguY2hhckNvZGVBdCgxKSA+PSA2NSAvKiBDaGFyQ29kZS5BICovICYmIHVyaS5wYXRoLmNoYXJDb2RlQXQoMSkgPD0gOTAgLyogQ2hhckNvZGUuWiAqLyB8fCB1cmkucGF0aC5jaGFyQ29kZUF0KDEpID49IDk3IC8qIENoYXJDb2RlLmEgKi8gJiYgdXJpLnBhdGguY2hhckNvZGVBdCgxKSA8PSAxMjIgLyogQ2hhckNvZGUueiAqLylcbiAgICAgICAgJiYgdXJpLnBhdGguY2hhckNvZGVBdCgyKSA9PT0gNTggLyogQ2hhckNvZGUuQ29sb24gKi8pIHtcbiAgICAgICAgaWYgKCFrZWVwRHJpdmVMZXR0ZXJDYXNpbmcpIHtcbiAgICAgICAgICAgIC8vIHdpbmRvd3MgZHJpdmUgbGV0dGVyOiBmaWxlOi8vL2M6L2Zhci9ib29cbiAgICAgICAgICAgIHZhbHVlID0gdXJpLnBhdGhbMV0udG9Mb3dlckNhc2UoKSArIHVyaS5wYXRoLnN1YnN0cigyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gdXJpLnBhdGguc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBvdGhlciBwYXRoXG4gICAgICAgIHZhbHVlID0gdXJpLnBhdGg7XG4gICAgfVxuICAgIGlmIChpc1dpbmRvd3MpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9cXC8vZywgJ1xcXFwnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBDcmVhdGUgdGhlIGV4dGVybmFsIHZlcnNpb24gb2YgYSB1cmlcbiAqL1xuZnVuY3Rpb24gX2FzRm9ybWF0dGVkKHVyaSwgc2tpcEVuY29kaW5nKSB7XG4gICAgY29uc3QgZW5jb2RlciA9ICFza2lwRW5jb2RpbmdcbiAgICAgICAgPyBlbmNvZGVVUklDb21wb25lbnRGYXN0XG4gICAgICAgIDogZW5jb2RlVVJJQ29tcG9uZW50TWluaW1hbDtcbiAgICBsZXQgcmVzID0gJyc7XG4gICAgbGV0IHsgc2NoZW1lLCBhdXRob3JpdHksIHBhdGgsIHF1ZXJ5LCBmcmFnbWVudCB9ID0gdXJpO1xuICAgIGlmIChzY2hlbWUpIHtcbiAgICAgICAgcmVzICs9IHNjaGVtZTtcbiAgICAgICAgcmVzICs9ICc6JztcbiAgICB9XG4gICAgaWYgKGF1dGhvcml0eSB8fCBzY2hlbWUgPT09ICdmaWxlJykge1xuICAgICAgICByZXMgKz0gX3NsYXNoO1xuICAgICAgICByZXMgKz0gX3NsYXNoO1xuICAgIH1cbiAgICBpZiAoYXV0aG9yaXR5KSB7XG4gICAgICAgIGxldCBpZHggPSBhdXRob3JpdHkuaW5kZXhPZignQCcpO1xuICAgICAgICBpZiAoaWR4ICE9PSAtMSkge1xuICAgICAgICAgICAgLy8gPHVzZXI+QDxhdXRoPlxuICAgICAgICAgICAgY29uc3QgdXNlcmluZm8gPSBhdXRob3JpdHkuc3Vic3RyKDAsIGlkeCk7XG4gICAgICAgICAgICBhdXRob3JpdHkgPSBhdXRob3JpdHkuc3Vic3RyKGlkeCArIDEpO1xuICAgICAgICAgICAgaWR4ID0gdXNlcmluZm8ubGFzdEluZGV4T2YoJzonKTtcbiAgICAgICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZXIodXNlcmluZm8sIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyA8dXNlcj46PHBhc3M+QDxhdXRoPlxuICAgICAgICAgICAgICAgIHJlcyArPSBlbmNvZGVyKHVzZXJpbmZvLnN1YnN0cigwLCBpZHgpLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHJlcyArPSAnOic7XG4gICAgICAgICAgICAgICAgcmVzICs9IGVuY29kZXIodXNlcmluZm8uc3Vic3RyKGlkeCArIDEpLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMgKz0gJ0AnO1xuICAgICAgICB9XG4gICAgICAgIGF1dGhvcml0eSA9IGF1dGhvcml0eS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICBpZHggPSBhdXRob3JpdHkubGFzdEluZGV4T2YoJzonKTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJlcyArPSBlbmNvZGVyKGF1dGhvcml0eSwgZmFsc2UsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gPGF1dGg+Ojxwb3J0PlxuICAgICAgICAgICAgcmVzICs9IGVuY29kZXIoYXV0aG9yaXR5LnN1YnN0cigwLCBpZHgpLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICByZXMgKz0gYXV0aG9yaXR5LnN1YnN0cihpZHgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChwYXRoKSB7XG4gICAgICAgIC8vIGxvd2VyLWNhc2Ugd2luZG93cyBkcml2ZSBsZXR0ZXJzIGluIC9DOi9mZmYgb3IgQzovZmZmXG4gICAgICAgIGlmIChwYXRoLmxlbmd0aCA+PSAzICYmIHBhdGguY2hhckNvZGVBdCgwKSA9PT0gNDcgLyogQ2hhckNvZGUuU2xhc2ggKi8gJiYgcGF0aC5jaGFyQ29kZUF0KDIpID09PSA1OCAvKiBDaGFyQ29kZS5Db2xvbiAqLykge1xuICAgICAgICAgICAgY29uc3QgY29kZSA9IHBhdGguY2hhckNvZGVBdCgxKTtcbiAgICAgICAgICAgIGlmIChjb2RlID49IDY1IC8qIENoYXJDb2RlLkEgKi8gJiYgY29kZSA8PSA5MCAvKiBDaGFyQ29kZS5aICovKSB7XG4gICAgICAgICAgICAgICAgcGF0aCA9IGAvJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAzMil9OiR7cGF0aC5zdWJzdHIoMyl9YDsgLy8gXCIvYzpcIi5sZW5ndGggPT09IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChwYXRoLmxlbmd0aCA+PSAyICYmIHBhdGguY2hhckNvZGVBdCgxKSA9PT0gNTggLyogQ2hhckNvZGUuQ29sb24gKi8pIHtcbiAgICAgICAgICAgIGNvbnN0IGNvZGUgPSBwYXRoLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoY29kZSA+PSA2NSAvKiBDaGFyQ29kZS5BICovICYmIGNvZGUgPD0gOTAgLyogQ2hhckNvZGUuWiAqLykge1xuICAgICAgICAgICAgICAgIHBhdGggPSBgJHtTdHJpbmcuZnJvbUNoYXJDb2RlKGNvZGUgKyAzMil9OiR7cGF0aC5zdWJzdHIoMil9YDsgLy8gXCIvYzpcIi5sZW5ndGggPT09IDNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBlbmNvZGUgdGhlIHJlc3Qgb2YgdGhlIHBhdGhcbiAgICAgICAgcmVzICs9IGVuY29kZXIocGF0aCwgdHJ1ZSwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAocXVlcnkpIHtcbiAgICAgICAgcmVzICs9ICc/JztcbiAgICAgICAgcmVzICs9IGVuY29kZXIocXVlcnksIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChmcmFnbWVudCkge1xuICAgICAgICByZXMgKz0gJyMnO1xuICAgICAgICByZXMgKz0gIXNraXBFbmNvZGluZyA/IGVuY29kZVVSSUNvbXBvbmVudEZhc3QoZnJhZ21lbnQsIGZhbHNlLCBmYWxzZSkgOiBmcmFnbWVudDtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbi8vIC0tLSBkZWNvZGVcbmZ1bmN0aW9uIGRlY29kZVVSSUNvbXBvbmVudEdyYWNlZnVsKHN0cikge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIGlmIChzdHIubGVuZ3RoID4gMykge1xuICAgICAgICAgICAgcmV0dXJuIHN0ci5zdWJzdHIoMCwgMykgKyBkZWNvZGVVUklDb21wb25lbnRHcmFjZWZ1bChzdHIuc3Vic3RyKDMpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzdHI7XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBfckVuY29kZWRBc0hleCA9IC8oJVswLTlBLVphLXpdWzAtOUEtWmEtel0pKy9nO1xuZnVuY3Rpb24gcGVyY2VudERlY29kZShzdHIpIHtcbiAgICBpZiAoIXN0ci5tYXRjaChfckVuY29kZWRBc0hleCkpIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKF9yRW5jb2RlZEFzSGV4LCAobWF0Y2gpID0+IGRlY29kZVVSSUNvbXBvbmVudEdyYWNlZnVsKG1hdGNoKSk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbi8qKlxuICogQSBwb3NpdGlvbiBpbiB0aGUgZWRpdG9yLlxuICovXG5leHBvcnQgY2xhc3MgUG9zaXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGxpbmVOdW1iZXIsIGNvbHVtbikge1xuICAgICAgICB0aGlzLmxpbmVOdW1iZXIgPSBsaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHBvc2l0aW9uIGZyb20gdGhpcyBwb3NpdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdMaW5lTnVtYmVyIG5ldyBsaW5lIG51bWJlclxuICAgICAqIEBwYXJhbSBuZXdDb2x1bW4gbmV3IGNvbHVtblxuICAgICAqL1xuICAgIHdpdGgobmV3TGluZU51bWJlciA9IHRoaXMubGluZU51bWJlciwgbmV3Q29sdW1uID0gdGhpcy5jb2x1bW4pIHtcbiAgICAgICAgaWYgKG5ld0xpbmVOdW1iZXIgPT09IHRoaXMubGluZU51bWJlciAmJiBuZXdDb2x1bW4gPT09IHRoaXMuY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24obmV3TGluZU51bWJlciwgbmV3Q29sdW1uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXJpdmUgYSBuZXcgcG9zaXRpb24gZnJvbSB0aGlzIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRlbHRhTGluZU51bWJlciBsaW5lIG51bWJlciBkZWx0YVxuICAgICAqIEBwYXJhbSBkZWx0YUNvbHVtbiBjb2x1bW4gZGVsdGFcbiAgICAgKi9cbiAgICBkZWx0YShkZWx0YUxpbmVOdW1iZXIgPSAwLCBkZWx0YUNvbHVtbiA9IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2l0aCh0aGlzLmxpbmVOdW1iZXIgKyBkZWx0YUxpbmVOdW1iZXIsIHRoaXMuY29sdW1uICsgZGVsdGFDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcG9zaXRpb24gZXF1YWxzIG90aGVyIHBvc2l0aW9uXG4gICAgICovXG4gICAgZXF1YWxzKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBQb3NpdGlvbi5lcXVhbHModGhpcywgb3RoZXIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHBvc2l0aW9uIGBhYCBlcXVhbHMgcG9zaXRpb24gYGJgXG4gICAgICovXG4gICAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIGlmICghYSAmJiAhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICghIWEgJiZcbiAgICAgICAgICAgICEhYiAmJlxuICAgICAgICAgICAgYS5saW5lTnVtYmVyID09PSBiLmxpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIGEuY29sdW1uID09PSBiLmNvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyBwb3NpdGlvbiBpcyBiZWZvcmUgb3RoZXIgcG9zaXRpb24uXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgZmFsc2UuXG4gICAgICovXG4gICAgaXNCZWZvcmUob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmlzQmVmb3JlKHRoaXMsIG90aGVyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBwb3NpdGlvbiBgYWAgaXMgYmVmb3JlIHBvc2l0aW9uIGBiYC5cbiAgICAgKiBJZiB0aGUgdHdvIHBvc2l0aW9ucyBhcmUgZXF1YWwsIHRoZSByZXN1bHQgd2lsbCBiZSBmYWxzZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNCZWZvcmUoYSwgYikge1xuICAgICAgICBpZiAoYS5saW5lTnVtYmVyIDwgYi5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYi5saW5lTnVtYmVyIDwgYS5saW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuY29sdW1uIDwgYi5jb2x1bW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhpcyBwb3NpdGlvbiBpcyBiZWZvcmUgb3RoZXIgcG9zaXRpb24uXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgdHJ1ZS5cbiAgICAgKi9cbiAgICBpc0JlZm9yZU9yRXF1YWwob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIFBvc2l0aW9uLmlzQmVmb3JlT3JFcXVhbCh0aGlzLCBvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcG9zaXRpb24gYGFgIGlzIGJlZm9yZSBwb3NpdGlvbiBgYmAuXG4gICAgICogSWYgdGhlIHR3byBwb3NpdGlvbnMgYXJlIGVxdWFsLCB0aGUgcmVzdWx0IHdpbGwgYmUgdHJ1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNCZWZvcmVPckVxdWFsKGEsIGIpIHtcbiAgICAgICAgaWYgKGEubGluZU51bWJlciA8IGIubGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIubGluZU51bWJlciA8IGEubGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLmNvbHVtbiA8PSBiLmNvbHVtbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBmdW5jdGlvbiB0aGF0IGNvbXBhcmVzIHBvc2l0aW9ucywgdXNlZnVsIGZvciBzb3J0aW5nXG4gICAgICovXG4gICAgc3RhdGljIGNvbXBhcmUoYSwgYikge1xuICAgICAgICBjb25zdCBhTGluZU51bWJlciA9IGEubGluZU51bWJlciB8IDA7XG4gICAgICAgIGNvbnN0IGJMaW5lTnVtYmVyID0gYi5saW5lTnVtYmVyIHwgMDtcbiAgICAgICAgaWYgKGFMaW5lTnVtYmVyID09PSBiTGluZU51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgYUNvbHVtbiA9IGEuY29sdW1uIHwgMDtcbiAgICAgICAgICAgIGNvbnN0IGJDb2x1bW4gPSBiLmNvbHVtbiB8IDA7XG4gICAgICAgICAgICByZXR1cm4gYUNvbHVtbiAtIGJDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFMaW5lTnVtYmVyIC0gYkxpbmVOdW1iZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb25lIHRoaXMgcG9zaXRpb24uXG4gICAgICovXG4gICAgY2xvbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24odGhpcy5saW5lTnVtYmVyLCB0aGlzLmNvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnQgdG8gYSBodW1hbi1yZWFkYWJsZSByZXByZXNlbnRhdGlvbi5cbiAgICAgKi9cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuICcoJyArIHRoaXMubGluZU51bWJlciArICcsJyArIHRoaXMuY29sdW1uICsgJyknO1xuICAgIH1cbiAgICAvLyAtLS1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBgUG9zaXRpb25gIGZyb20gYW4gYElQb3NpdGlvbmAuXG4gICAgICovXG4gICAgc3RhdGljIGxpZnQocG9zKSB7XG4gICAgICAgIHJldHVybiBuZXcgUG9zaXRpb24ocG9zLmxpbmVOdW1iZXIsIHBvcy5jb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBvYmpgIGlzIGFuIGBJUG9zaXRpb25gLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc0lQb3NpdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIChvYmpcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmxpbmVOdW1iZXIgPT09ICdudW1iZXInKVxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouY29sdW1uID09PSAnbnVtYmVyJykpO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsaW5lTnVtYmVyOiB0aGlzLmxpbmVOdW1iZXIsXG4gICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uXG4gICAgICAgIH07XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4vcG9zaXRpb24uanMnO1xuLyoqXG4gKiBBIHJhbmdlIGluIHRoZSBlZGl0b3IuIChzdGFydExpbmVOdW1iZXIsc3RhcnRDb2x1bW4pIGlzIDw9IChlbmRMaW5lTnVtYmVyLGVuZENvbHVtbilcbiAqL1xuZXhwb3J0IGNsYXNzIFJhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pIHtcbiAgICAgICAgaWYgKChzdGFydExpbmVOdW1iZXIgPiBlbmRMaW5lTnVtYmVyKSB8fCAoc3RhcnRMaW5lTnVtYmVyID09PSBlbmRMaW5lTnVtYmVyICYmIHN0YXJ0Q29sdW1uID4gZW5kQ29sdW1uKSkge1xuICAgICAgICAgICAgdGhpcy5zdGFydExpbmVOdW1iZXIgPSBlbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgdGhpcy5zdGFydENvbHVtbiA9IGVuZENvbHVtbjtcbiAgICAgICAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IHN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIHRoaXMuZW5kQ29sdW1uID0gc3RhcnRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0TGluZU51bWJlciA9IHN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIHRoaXMuc3RhcnRDb2x1bW4gPSBzdGFydENvbHVtbjtcbiAgICAgICAgICAgIHRoaXMuZW5kTGluZU51bWJlciA9IGVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICB0aGlzLmVuZENvbHVtbiA9IGVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcmFuZ2UgaXMgZW1wdHkuXG4gICAgICovXG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmlzRW1wdHkodGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYHJhbmdlYCBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNFbXB0eShyYW5nZSkge1xuICAgICAgICByZXR1cm4gKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiByYW5nZS5zdGFydENvbHVtbiA9PT0gcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBwb3NpdGlvbiBpcyBpbiB0aGlzIHJhbmdlLiBJZiB0aGUgcG9zaXRpb24gaXMgYXQgdGhlIGVkZ2VzLCB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqL1xuICAgIGNvbnRhaW5zUG9zaXRpb24ocG9zaXRpb24pIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNvbnRhaW5zUG9zaXRpb24odGhpcywgcG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBwb3NpdGlvbmAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHBvc2l0aW9uIGlzIGF0IHRoZSBlZGdlcywgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgY29udGFpbnNQb3NpdGlvbihyYW5nZSwgcG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgcG9zaXRpb24ubGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA9PT0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICYmIHBvc2l0aW9uLmNvbHVtbiA8IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIgJiYgcG9zaXRpb24uY29sdW1uID4gcmFuZ2UuZW5kQ29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYHBvc2l0aW9uYCBpcyBpbiBgcmFuZ2VgLiBJZiB0aGUgcG9zaXRpb24gaXMgYXQgdGhlIGVkZ2VzLCB3aWxsIHJldHVybiBmYWxzZS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBzdGF0aWMgc3RyaWN0Q29udGFpbnNQb3NpdGlvbihyYW5nZSwgcG9zaXRpb24pIHtcbiAgICAgICAgaWYgKHBvc2l0aW9uLmxpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIgfHwgcG9zaXRpb24ubGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocG9zaXRpb24ubGluZU51bWJlciA9PT0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICYmIHBvc2l0aW9uLmNvbHVtbiA8PSByYW5nZS5zdGFydENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3NpdGlvbi5saW5lTnVtYmVyID09PSByYW5nZS5lbmRMaW5lTnVtYmVyICYmIHBvc2l0aW9uLmNvbHVtbiA+PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiByYW5nZSBpcyBpbiB0aGlzIHJhbmdlLiBJZiB0aGUgcmFuZ2UgaXMgZXF1YWwgdG8gdGhpcyByYW5nZSwgd2lsbCByZXR1cm4gdHJ1ZS5cbiAgICAgKi9cbiAgICBjb250YWluc1JhbmdlKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5jb250YWluc1JhbmdlKHRoaXMsIHJhbmdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBgb3RoZXJSYW5nZWAgaXMgaW4gYHJhbmdlYC4gSWYgdGhlIHJhbmdlcyBhcmUgZXF1YWwsIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovXG4gICAgc3RhdGljIGNvbnRhaW5zUmFuZ2UocmFuZ2UsIG90aGVyUmFuZ2UpIHtcbiAgICAgICAgaWYgKG90aGVyUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIDwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIHx8IG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlclJhbmdlLnN0YXJ0TGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIgfHwgb3RoZXJSYW5nZS5lbmRMaW5lTnVtYmVyID4gcmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlclJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICYmIG90aGVyUmFuZ2Uuc3RhcnRDb2x1bW4gPCByYW5nZS5zdGFydENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIgJiYgb3RoZXJSYW5nZS5lbmRDb2x1bW4gPiByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiBgcmFuZ2VgIGlzIHN0cmljdGx5IGluIHRoaXMgcmFuZ2UuIGByYW5nZWAgbXVzdCBzdGFydCBhZnRlciBhbmQgZW5kIGJlZm9yZSB0aGlzIHJhbmdlIGZvciB0aGUgcmVzdWx0IHRvIGJlIHRydWUuXG4gICAgICovXG4gICAgc3RyaWN0Q29udGFpbnNSYW5nZShyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2Uuc3RyaWN0Q29udGFpbnNSYW5nZSh0aGlzLCByYW5nZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgYG90aGVyUmFuZ2VgIGlzIHN0cmljdGx5IGluIGByYW5nZWAgKG11c3Qgc3RhcnQgYWZ0ZXIsIGFuZCBlbmQgYmVmb3JlKS4gSWYgdGhlIHJhbmdlcyBhcmUgZXF1YWwsIHdpbGwgcmV0dXJuIGZhbHNlLlxuICAgICAqL1xuICAgIHN0YXRpYyBzdHJpY3RDb250YWluc1JhbmdlKHJhbmdlLCBvdGhlclJhbmdlKSB7XG4gICAgICAgIGlmIChvdGhlclJhbmdlLnN0YXJ0TGluZU51bWJlciA8IHJhbmdlLnN0YXJ0TGluZU51bWJlciB8fCBvdGhlclJhbmdlLmVuZExpbmVOdW1iZXIgPCByYW5nZS5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPiByYW5nZS5lbmRMaW5lTnVtYmVyIHx8IG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA+IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3RoZXJSYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLnN0YXJ0TGluZU51bWJlciAmJiBvdGhlclJhbmdlLnN0YXJ0Q29sdW1uIDw9IHJhbmdlLnN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG90aGVyUmFuZ2UuZW5kTGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlciAmJiBvdGhlclJhbmdlLmVuZENvbHVtbiA+PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZXVuaW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqIFRoZSBzbWFsbGVzdCBwb3NpdGlvbiB3aWxsIGJlIHVzZWQgYXMgdGhlIHN0YXJ0IHBvaW50LCBhbmQgdGhlIGxhcmdlc3Qgb25lIGFzIHRoZSBlbmQgcG9pbnQuXG4gICAgICovXG4gICAgcGx1c1JhbmdlKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5wbHVzUmFuZ2UodGhpcywgcmFuZ2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJldW5pb24gb2YgdGhlIHR3byByYW5nZXMuXG4gICAgICogVGhlIHNtYWxsZXN0IHBvc2l0aW9uIHdpbGwgYmUgdXNlZCBhcyB0aGUgc3RhcnQgcG9pbnQsIGFuZCB0aGUgbGFyZ2VzdCBvbmUgYXMgdGhlIGVuZCBwb2ludC5cbiAgICAgKi9cbiAgICBzdGF0aWMgcGx1c1JhbmdlKGEsIGIpIHtcbiAgICAgICAgbGV0IHN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgbGV0IHN0YXJ0Q29sdW1uO1xuICAgICAgICBsZXQgZW5kTGluZU51bWJlcjtcbiAgICAgICAgbGV0IGVuZENvbHVtbjtcbiAgICAgICAgaWYgKGIuc3RhcnRMaW5lTnVtYmVyIDwgYS5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlciA9IGIuc3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgc3RhcnRDb2x1bW4gPSBiLnN0YXJ0Q29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIuc3RhcnRMaW5lTnVtYmVyID09PSBhLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gYi5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IE1hdGgubWluKGIuc3RhcnRDb2x1bW4sIGEuc3RhcnRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyID0gYS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgICAgICBzdGFydENvbHVtbiA9IGEuc3RhcnRDb2x1bW47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGIuZW5kTGluZU51bWJlciA+IGEuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgZW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIGVuZENvbHVtbiA9IGIuZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGIuZW5kTGluZU51bWJlciA9PT0gYS5lbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICBlbmRMaW5lTnVtYmVyID0gYi5lbmRMaW5lTnVtYmVyO1xuICAgICAgICAgICAgZW5kQ29sdW1uID0gTWF0aC5tYXgoYi5lbmRDb2x1bW4sIGEuZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBlbmRDb2x1bW4gPSBhLmVuZENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gcmFuZ2VzLlxuICAgICAqL1xuICAgIGludGVyc2VjdFJhbmdlcyhyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuaW50ZXJzZWN0UmFuZ2VzKHRoaXMsIHJhbmdlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBpbnRlcnNlY3Rpb24gb2YgdGhlIHR3byByYW5nZXMuXG4gICAgICovXG4gICAgc3RhdGljIGludGVyc2VjdFJhbmdlcyhhLCBiKSB7XG4gICAgICAgIGxldCByZXN1bHRTdGFydExpbmVOdW1iZXIgPSBhLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgbGV0IHJlc3VsdFN0YXJ0Q29sdW1uID0gYS5zdGFydENvbHVtbjtcbiAgICAgICAgbGV0IHJlc3VsdEVuZExpbmVOdW1iZXIgPSBhLmVuZExpbmVOdW1iZXI7XG4gICAgICAgIGxldCByZXN1bHRFbmRDb2x1bW4gPSBhLmVuZENvbHVtbjtcbiAgICAgICAgY29uc3Qgb3RoZXJTdGFydExpbmVOdW1iZXIgPSBiLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgY29uc3Qgb3RoZXJTdGFydENvbHVtbiA9IGIuc3RhcnRDb2x1bW47XG4gICAgICAgIGNvbnN0IG90aGVyRW5kTGluZU51bWJlciA9IGIuZW5kTGluZU51bWJlcjtcbiAgICAgICAgY29uc3Qgb3RoZXJFbmRDb2x1bW4gPSBiLmVuZENvbHVtbjtcbiAgICAgICAgaWYgKHJlc3VsdFN0YXJ0TGluZU51bWJlciA8IG90aGVyU3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXN1bHRTdGFydExpbmVOdW1iZXIgPSBvdGhlclN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIHJlc3VsdFN0YXJ0Q29sdW1uID0gb3RoZXJTdGFydENvbHVtbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHRTdGFydExpbmVOdW1iZXIgPT09IG90aGVyU3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICByZXN1bHRTdGFydENvbHVtbiA9IE1hdGgubWF4KHJlc3VsdFN0YXJ0Q29sdW1uLCBvdGhlclN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0RW5kTGluZU51bWJlciA+IG90aGVyRW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0RW5kTGluZU51bWJlciA9IG90aGVyRW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgIHJlc3VsdEVuZENvbHVtbiA9IG90aGVyRW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdEVuZExpbmVOdW1iZXIgPT09IG90aGVyRW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmVzdWx0RW5kQ29sdW1uID0gTWF0aC5taW4ocmVzdWx0RW5kQ29sdW1uLCBvdGhlckVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgc2VsZWN0aW9uIGlzIG5vdyBlbXB0eVxuICAgICAgICBpZiAocmVzdWx0U3RhcnRMaW5lTnVtYmVyID4gcmVzdWx0RW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdFN0YXJ0TGluZU51bWJlciA9PT0gcmVzdWx0RW5kTGluZU51bWJlciAmJiByZXN1bHRTdGFydENvbHVtbiA+IHJlc3VsdEVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyZXN1bHRTdGFydExpbmVOdW1iZXIsIHJlc3VsdFN0YXJ0Q29sdW1uLCByZXN1bHRFbmRMaW5lTnVtYmVyLCByZXN1bHRFbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoaXMgcmFuZ2UgZXF1YWxzIG90aGVyLlxuICAgICAqL1xuICAgIGVxdWFsc1JhbmdlKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5lcXVhbHNSYW5nZSh0aGlzLCBvdGhlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgcmFuZ2UgYGFgIGVxdWFscyBgYmAuXG4gICAgICovXG4gICAgc3RhdGljIGVxdWFsc1JhbmdlKGEsIGIpIHtcbiAgICAgICAgaWYgKCFhICYmICFiKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCEhYSAmJlxuICAgICAgICAgICAgISFiICYmXG4gICAgICAgICAgICBhLnN0YXJ0TGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIGEuc3RhcnRDb2x1bW4gPT09IGIuc3RhcnRDb2x1bW4gJiZcbiAgICAgICAgICAgIGEuZW5kTGluZU51bWJlciA9PT0gYi5lbmRMaW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLmVuZENvbHVtbiA9PT0gYi5lbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGVuZCBwb3NpdGlvbiAod2hpY2ggd2lsbCBiZSBhZnRlciBvciBlcXVhbCB0byB0aGUgc3RhcnQgcG9zaXRpb24pXG4gICAgICovXG4gICAgZ2V0RW5kUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5nZXRFbmRQb3NpdGlvbih0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBlbmQgcG9zaXRpb24gKHdoaWNoIHdpbGwgYmUgYWZ0ZXIgb3IgZXF1YWwgdG8gdGhlIHN0YXJ0IHBvc2l0aW9uKVxuICAgICAqL1xuICAgIHN0YXRpYyBnZXRFbmRQb3NpdGlvbihyYW5nZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBvc2l0aW9uKHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3RhcnQgcG9zaXRpb24gKHdoaWNoIHdpbGwgYmUgYmVmb3JlIG9yIGVxdWFsIHRvIHRoZSBlbmQgcG9zaXRpb24pXG4gICAgICovXG4gICAgZ2V0U3RhcnRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmdldFN0YXJ0UG9zaXRpb24odGhpcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgc3RhcnQgcG9zaXRpb24gKHdoaWNoIHdpbGwgYmUgYmVmb3JlIG9yIGVxdWFsIHRvIHRoZSBlbmQgcG9zaXRpb24pXG4gICAgICovXG4gICAgc3RhdGljIGdldFN0YXJ0UG9zaXRpb24ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbihyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVHJhbnNmb3JtIHRvIGEgdXNlciBwcmVzZW50YWJsZSBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiAnWycgKyB0aGlzLnN0YXJ0TGluZU51bWJlciArICcsJyArIHRoaXMuc3RhcnRDb2x1bW4gKyAnIC0+ICcgKyB0aGlzLmVuZExpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLmVuZENvbHVtbiArICddJztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbiwgYW5kIHVzaW5nIGVuZExpbmVOdW1iZXIgYW5kIGVuZENvbHVtbiBhcyB0aGUgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNldEVuZFBvc2l0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgcmFuZ2UgdXNpbmcgdGhpcyByYW5nZSdzIGVuZCBwb3NpdGlvbiwgYW5kIHVzaW5nIHN0YXJ0TGluZU51bWJlciBhbmQgc3RhcnRDb2x1bW4gYXMgdGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqL1xuICAgIHNldFN0YXJ0UG9zaXRpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbikge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4sIHRoaXMuZW5kTGluZU51bWJlciwgdGhpcy5lbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmFuZ2UgdXNpbmcgdGhpcyByYW5nZSdzIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGNvbGxhcHNlVG9TdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIFJhbmdlLmNvbGxhcHNlVG9TdGFydCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGVtcHR5IHJhbmdlIHVzaW5nIHRoaXMgcmFuZ2UncyBzdGFydCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgY29sbGFwc2VUb1N0YXJ0KHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbiwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5zdGFydENvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBlbXB0eSByYW5nZSB1c2luZyB0aGlzIHJhbmdlJ3MgZW5kIHBvc2l0aW9uLlxuICAgICAqL1xuICAgIGNvbGxhcHNlVG9FbmQoKSB7XG4gICAgICAgIHJldHVybiBSYW5nZS5jb2xsYXBzZVRvRW5kKHRoaXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgZW1wdHkgcmFuZ2UgdXNpbmcgdGhpcyByYW5nZSdzIGVuZCBwb3NpdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgY29sbGFwc2VUb0VuZChyYW5nZSkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHJhbmdlLmVuZExpbmVOdW1iZXIsIHJhbmdlLmVuZENvbHVtbiwgcmFuZ2UuZW5kTGluZU51bWJlciwgcmFuZ2UuZW5kQ29sdW1uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIHJhbmdlIGJ5IHRoZSBnaXZlbiBhbW91bnQgb2YgbGluZXMuXG4gICAgICovXG4gICAgZGVsdGEobGluZUNvdW50KSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydExpbmVOdW1iZXIgKyBsaW5lQ291bnQsIHRoaXMuc3RhcnRDb2x1bW4sIHRoaXMuZW5kTGluZU51bWJlciArIGxpbmVDb3VudCwgdGhpcy5lbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvLyAtLS1cbiAgICBzdGF0aWMgZnJvbVBvc2l0aW9ucyhzdGFydCwgZW5kID0gc3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydC5saW5lTnVtYmVyLCBzdGFydC5jb2x1bW4sIGVuZC5saW5lTnVtYmVyLCBlbmQuY29sdW1uKTtcbiAgICB9XG4gICAgc3RhdGljIGxpZnQocmFuZ2UpIHtcbiAgICAgICAgaWYgKCFyYW5nZSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uLCByYW5nZS5lbmRMaW5lTnVtYmVyLCByYW5nZS5lbmRDb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBvYmpgIGlzIGFuIGBJUmFuZ2VgLlxuICAgICAqL1xuICAgIHN0YXRpYyBpc0lSYW5nZShvYmopIHtcbiAgICAgICAgcmV0dXJuIChvYmpcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnN0YXJ0TGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5zdGFydENvbHVtbiA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5lbmRMaW5lTnVtYmVyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLmVuZENvbHVtbiA9PT0gJ251bWJlcicpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVzdCBpZiB0aGUgdHdvIHJhbmdlcyBhcmUgdG91Y2hpbmcgaW4gYW55IHdheS5cbiAgICAgKi9cbiAgICBzdGF0aWMgYXJlSW50ZXJzZWN0aW5nT3JUb3VjaGluZyhhLCBiKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIGBhYCBpcyBiZWZvcmUgYGJgXG4gICAgICAgIGlmIChhLmVuZExpbmVOdW1iZXIgPCBiLnN0YXJ0TGluZU51bWJlciB8fCAoYS5lbmRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlciAmJiBhLmVuZENvbHVtbiA8IGIuc3RhcnRDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ2hlY2sgaWYgYGJgIGlzIGJlZm9yZSBgYWBcbiAgICAgICAgaWYgKGIuZW5kTGluZU51bWJlciA8IGEuc3RhcnRMaW5lTnVtYmVyIHx8IChiLmVuZExpbmVOdW1iZXIgPT09IGEuc3RhcnRMaW5lTnVtYmVyICYmIGIuZW5kQ29sdW1uIDwgYS5zdGFydENvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVzZSByYW5nZXMgbXVzdCBpbnRlcnNlY3RcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIHR3byByYW5nZXMgYXJlIGludGVyc2VjdGluZy4gSWYgdGhlIHJhbmdlcyBhcmUgdG91Y2hpbmcgaXQgcmV0dXJucyB0cnVlLlxuICAgICAqL1xuICAgIHN0YXRpYyBhcmVJbnRlcnNlY3RpbmcoYSwgYikge1xuICAgICAgICAvLyBDaGVjayBpZiBgYWAgaXMgYmVmb3JlIGBiYFxuICAgICAgICBpZiAoYS5lbmRMaW5lTnVtYmVyIDwgYi5zdGFydExpbmVOdW1iZXIgfHwgKGEuZW5kTGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIgJiYgYS5lbmRDb2x1bW4gPD0gYi5zdGFydENvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBgYmAgaXMgYmVmb3JlIGBhYFxuICAgICAgICBpZiAoYi5lbmRMaW5lTnVtYmVyIDwgYS5zdGFydExpbmVOdW1iZXIgfHwgKGIuZW5kTGluZU51bWJlciA9PT0gYS5zdGFydExpbmVOdW1iZXIgJiYgYi5lbmRDb2x1bW4gPD0gYS5zdGFydENvbHVtbikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGVzZSByYW5nZXMgbXVzdCBpbnRlcnNlY3RcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgZnVuY3Rpb24gdGhhdCBjb21wYXJlcyByYW5nZXMsIHVzZWZ1bCBmb3Igc29ydGluZyByYW5nZXNcbiAgICAgKiBJdCB3aWxsIGZpcnN0IGNvbXBhcmUgcmFuZ2VzIG9uIHRoZSBzdGFydFBvc2l0aW9uIGFuZCB0aGVuIG9uIHRoZSBlbmRQb3NpdGlvblxuICAgICAqL1xuICAgIHN0YXRpYyBjb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMoYSwgYikge1xuICAgICAgICBpZiAoYSAmJiBiKSB7XG4gICAgICAgICAgICBjb25zdCBhU3RhcnRMaW5lTnVtYmVyID0gYS5zdGFydExpbmVOdW1iZXIgfCAwO1xuICAgICAgICAgICAgY29uc3QgYlN0YXJ0TGluZU51bWJlciA9IGIuc3RhcnRMaW5lTnVtYmVyIHwgMDtcbiAgICAgICAgICAgIGlmIChhU3RhcnRMaW5lTnVtYmVyID09PSBiU3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYVN0YXJ0Q29sdW1uID0gYS5zdGFydENvbHVtbiB8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgYlN0YXJ0Q29sdW1uID0gYi5zdGFydENvbHVtbiB8IDA7XG4gICAgICAgICAgICAgICAgaWYgKGFTdGFydENvbHVtbiA9PT0gYlN0YXJ0Q29sdW1uKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFFbmRMaW5lTnVtYmVyID0gYS5lbmRMaW5lTnVtYmVyIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYkVuZExpbmVOdW1iZXIgPSBiLmVuZExpbmVOdW1iZXIgfCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYUVuZExpbmVOdW1iZXIgPT09IGJFbmRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhRW5kQ29sdW1uID0gYS5lbmRDb2x1bW4gfCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYkVuZENvbHVtbiA9IGIuZW5kQ29sdW1uIHwgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhRW5kQ29sdW1uIC0gYkVuZENvbHVtbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYUVuZExpbmVOdW1iZXIgLSBiRW5kTGluZU51bWJlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFTdGFydENvbHVtbiAtIGJTdGFydENvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhU3RhcnRMaW5lTnVtYmVyIC0gYlN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhRXhpc3RzID0gKGEgPyAxIDogMCk7XG4gICAgICAgIGNvbnN0IGJFeGlzdHMgPSAoYiA/IDEgOiAwKTtcbiAgICAgICAgcmV0dXJuIGFFeGlzdHMgLSBiRXhpc3RzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIGZ1bmN0aW9uIHRoYXQgY29tcGFyZXMgcmFuZ2VzLCB1c2VmdWwgZm9yIHNvcnRpbmcgcmFuZ2VzXG4gICAgICogSXQgd2lsbCBmaXJzdCBjb21wYXJlIHJhbmdlcyBvbiB0aGUgZW5kUG9zaXRpb24gYW5kIHRoZW4gb24gdGhlIHN0YXJ0UG9zaXRpb25cbiAgICAgKi9cbiAgICBzdGF0aWMgY29tcGFyZVJhbmdlc1VzaW5nRW5kcyhhLCBiKSB7XG4gICAgICAgIGlmIChhLmVuZExpbmVOdW1iZXIgPT09IGIuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgaWYgKGEuZW5kQ29sdW1uID09PSBiLmVuZENvbHVtbikge1xuICAgICAgICAgICAgICAgIGlmIChhLnN0YXJ0TGluZU51bWJlciA9PT0gYi5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuc3RhcnRDb2x1bW4gLSBiLnN0YXJ0Q29sdW1uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYS5zdGFydExpbmVOdW1iZXIgLSBiLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhLmVuZENvbHVtbiAtIGIuZW5kQ29sdW1uO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhLmVuZExpbmVOdW1iZXIgLSBiLmVuZExpbmVOdW1iZXI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlc3QgaWYgdGhlIHJhbmdlIHNwYW5zIG11bHRpcGxlIGxpbmVzLlxuICAgICAqL1xuICAgIHN0YXRpYyBzcGFuc011bHRpcGxlTGluZXMocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHJhbmdlLmVuZExpbmVOdW1iZXIgPiByYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5LlxuICogQHBhcmFtIG4gV2hpY2ggZWxlbWVudCBmcm9tIHRoZSBlbmQgKGRlZmF1bHQgaXMgemVybykuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0YWlsKGFycmF5LCBuID0gMCkge1xuICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAoMSArIG4pXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB0YWlsMihhcnIpIHtcbiAgICBpZiAoYXJyLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdGFpbCBjYWxsJyk7XG4gICAgfVxuICAgIHJldHVybiBbYXJyLnNsaWNlKDAsIGFyci5sZW5ndGggLSAxKSwgYXJyW2Fyci5sZW5ndGggLSAxXV07XG59XG5leHBvcnQgZnVuY3Rpb24gZXF1YWxzKG9uZSwgb3RoZXIsIGl0ZW1FcXVhbHMgPSAoYSwgYikgPT4gYSA9PT0gYikge1xuICAgIGlmIChvbmUgPT09IG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoIW9uZSB8fCAhb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAob25lLmxlbmd0aCAhPT0gb3RoZXIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9uZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAoIWl0ZW1FcXVhbHMob25lW2ldLCBvdGhlcltpXSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn1cbi8qKlxuICogUmVtb3ZlIHRoZSBlbGVtZW50IGF0IGBpbmRleGAgYnkgcmVwbGFjaW5nIGl0IHdpdGggdGhlIGxhc3QgZWxlbWVudC4gVGhpcyBpcyBmYXN0ZXIgdGhhbiBgc3BsaWNlYFxuICogYnV0IGNoYW5nZXMgdGhlIG9yZGVyIG9mIHRoZSBhcnJheVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRmFzdFdpdGhvdXRLZWVwaW5nT3JkZXIoYXJyYXksIGluZGV4KSB7XG4gICAgY29uc3QgbGFzdCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gICAgaWYgKGluZGV4IDwgbGFzdCkge1xuICAgICAgICBhcnJheVtpbmRleF0gPSBhcnJheVtsYXN0XTtcbiAgICB9XG4gICAgYXJyYXkucG9wKCk7XG59XG4vKipcbiAqIFBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBhbGdvcml0aG0gb3ZlciBhIHNvcnRlZCBhcnJheS5cbiAqXG4gKiBAcGFyYW0gYXJyYXkgVGhlIGFycmF5IGJlaW5nIHNlYXJjaGVkLlxuICogQHBhcmFtIGtleSBUaGUgdmFsdWUgd2Ugc2VhcmNoIGZvci5cbiAqIEBwYXJhbSBjb21wYXJhdG9yIEEgZnVuY3Rpb24gdGhhdCB0YWtlcyB0d28gYXJyYXkgZWxlbWVudHMgYW5kIHJldHVybnMgemVyb1xuICogICBpZiB0aGV5IGFyZSBlcXVhbCwgYSBuZWdhdGl2ZSBudW1iZXIgaWYgdGhlIGZpcnN0IGVsZW1lbnQgcHJlY2VkZXMgdGhlXG4gKiAgIHNlY29uZCBvbmUgaW4gdGhlIHNvcnRpbmcgb3JkZXIsIG9yIGEgcG9zaXRpdmUgbnVtYmVyIGlmIHRoZSBzZWNvbmQgZWxlbWVudFxuICogICBwcmVjZWRlcyB0aGUgZmlyc3Qgb25lLlxuICogQHJldHVybiBTZWUge0BsaW5rIGJpbmFyeVNlYXJjaDJ9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5hcnlTZWFyY2goYXJyYXksIGtleSwgY29tcGFyYXRvcikge1xuICAgIHJldHVybiBiaW5hcnlTZWFyY2gyKGFycmF5Lmxlbmd0aCwgaSA9PiBjb21wYXJhdG9yKGFycmF5W2ldLCBrZXkpKTtcbn1cbi8qKlxuICogUGVyZm9ybXMgYSBiaW5hcnkgc2VhcmNoIGFsZ29yaXRobSBvdmVyIGEgc29ydGVkIGNvbGxlY3Rpb24uIFVzZWZ1bCBmb3IgY2FzZXNcbiAqIHdoZW4gd2UgbmVlZCB0byBwZXJmb3JtIGEgYmluYXJ5IHNlYXJjaCBvdmVyIHNvbWV0aGluZyB0aGF0IGlzbid0IGFjdHVhbGx5IGFuXG4gKiBhcnJheSwgYW5kIGNvbnZlcnRpbmcgZGF0YSB0byBhbiBhcnJheSB3b3VsZCBkZWZlYXQgdGhlIHVzZSBvZiBiaW5hcnkgc2VhcmNoXG4gKiBpbiB0aGUgZmlyc3QgcGxhY2UuXG4gKlxuICogQHBhcmFtIGxlbmd0aCBUaGUgY29sbGVjdGlvbiBsZW5ndGguXG4gKiBAcGFyYW0gY29tcGFyZVRvS2V5IEEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhbiBpbmRleCBvZiBhbiBlbGVtZW50IGluIHRoZVxuICogICBjb2xsZWN0aW9uIGFuZCByZXR1cm5zIHplcm8gaWYgdGhlIHZhbHVlIGF0IHRoaXMgaW5kZXggaXMgZXF1YWwgdG8gdGhlXG4gKiAgIHNlYXJjaCBrZXksIGEgbmVnYXRpdmUgbnVtYmVyIGlmIHRoZSB2YWx1ZSBwcmVjZWRlcyB0aGUgc2VhcmNoIGtleSBpbiB0aGVcbiAqICAgc29ydGluZyBvcmRlciwgb3IgYSBwb3NpdGl2ZSBudW1iZXIgaWYgdGhlIHNlYXJjaCBrZXkgcHJlY2VkZXMgdGhlIHZhbHVlLlxuICogQHJldHVybiBBIG5vbi1uZWdhdGl2ZSBpbmRleCBvZiBhbiBlbGVtZW50LCBpZiBmb3VuZC4gSWYgbm90IGZvdW5kLCB0aGVcbiAqICAgcmVzdWx0IGlzIC0obisxKSAob3Igfm4sIHVzaW5nIGJpdHdpc2Ugbm90YXRpb24pLCB3aGVyZSBuIGlzIHRoZSBpbmRleFxuICogICB3aGVyZSB0aGUga2V5IHNob3VsZCBiZSBpbnNlcnRlZCB0byBtYWludGFpbiB0aGUgc29ydGluZyBvcmRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJpbmFyeVNlYXJjaDIobGVuZ3RoLCBjb21wYXJlVG9LZXkpIHtcbiAgICBsZXQgbG93ID0gMCwgaGlnaCA9IGxlbmd0aCAtIDE7XG4gICAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7XG4gICAgICAgIGNvbnN0IG1pZCA9ICgobG93ICsgaGlnaCkgLyAyKSB8IDA7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBjb21wYXJlVG9LZXkobWlkKTtcbiAgICAgICAgaWYgKGNvbXAgPCAwKSB7XG4gICAgICAgICAgICBsb3cgPSBtaWQgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbXAgPiAwKSB7XG4gICAgICAgICAgICBoaWdoID0gbWlkIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBtaWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0obG93ICsgMSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcXVpY2tTZWxlY3QobnRoLCBkYXRhLCBjb21wYXJlKSB7XG4gICAgbnRoID0gbnRoIHwgMDtcbiAgICBpZiAobnRoID49IGRhdGEubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaW5kZXgnKTtcbiAgICB9XG4gICAgY29uc3QgcGl2b3RWYWx1ZSA9IGRhdGFbTWF0aC5mbG9vcihkYXRhLmxlbmd0aCAqIE1hdGgucmFuZG9tKCkpXTtcbiAgICBjb25zdCBsb3dlciA9IFtdO1xuICAgIGNvbnN0IGhpZ2hlciA9IFtdO1xuICAgIGNvbnN0IHBpdm90cyA9IFtdO1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgZGF0YSkge1xuICAgICAgICBjb25zdCB2YWwgPSBjb21wYXJlKHZhbHVlLCBwaXZvdFZhbHVlKTtcbiAgICAgICAgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgICAgIGxvd2VyLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHZhbCA+IDApIHtcbiAgICAgICAgICAgIGhpZ2hlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBpdm90cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAobnRoIDwgbG93ZXIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBxdWlja1NlbGVjdChudGgsIGxvd2VyLCBjb21wYXJlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobnRoIDwgbG93ZXIubGVuZ3RoICsgcGl2b3RzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gcGl2b3RzWzBdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHF1aWNrU2VsZWN0KG50aCAtIChsb3dlci5sZW5ndGggKyBwaXZvdHMubGVuZ3RoKSwgaGlnaGVyLCBjb21wYXJlKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBCeShkYXRhLCBjb21wYXJlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGN1cnJlbnRHcm91cCA9IHVuZGVmaW5lZDtcbiAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZGF0YS5zbGljZSgwKS5zb3J0KGNvbXBhcmUpKSB7XG4gICAgICAgIGlmICghY3VycmVudEdyb3VwIHx8IGNvbXBhcmUoY3VycmVudEdyb3VwWzBdLCBlbGVtZW50KSAhPT0gMCkge1xuICAgICAgICAgICAgY3VycmVudEdyb3VwID0gW2VsZW1lbnRdO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudEdyb3VwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIFNwbGl0cyB0aGUgZ2l2ZW4gaXRlbXMgaW50byBhIGxpc3Qgb2YgKG5vbi1lbXB0eSkgZ3JvdXBzLlxuICogYHNob3VsZEJlR3JvdXBlZGAgaXMgdXNlZCB0byBkZWNpZGUgaWYgdHdvIGNvbnNlY3V0aXZlIGl0ZW1zIHNob3VsZCBiZSBpbiB0aGUgc2FtZSBncm91cC5cbiAqIFRoZSBvcmRlciBvZiB0aGUgaXRlbXMgaXMgcHJlc2VydmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24qIGdyb3VwQWRqYWNlbnRCeShpdGVtcywgc2hvdWxkQmVHcm91cGVkKSB7XG4gICAgbGV0IGN1cnJlbnRHcm91cDtcbiAgICBsZXQgbGFzdDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpIHtcbiAgICAgICAgaWYgKGxhc3QgIT09IHVuZGVmaW5lZCAmJiBzaG91bGRCZUdyb3VwZWQobGFzdCwgaXRlbSkpIHtcbiAgICAgICAgICAgIGN1cnJlbnRHcm91cC5wdXNoKGl0ZW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHcm91cCkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGN1cnJlbnRHcm91cDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRHcm91cCA9IFtpdGVtXTtcbiAgICAgICAgfVxuICAgICAgICBsYXN0ID0gaXRlbTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRHcm91cCkge1xuICAgICAgICB5aWVsZCBjdXJyZW50R3JvdXA7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hBZGphY2VudChhcnIsIGYpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBhcnIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZihpID09PSAwID8gdW5kZWZpbmVkIDogYXJyW2kgLSAxXSwgaSA9PT0gYXJyLmxlbmd0aCA/IHVuZGVmaW5lZCA6IGFycltpXSk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2hXaXRoTmVpZ2hib3JzKGFyciwgZikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGYoaSA9PT0gMCA/IHVuZGVmaW5lZCA6IGFycltpIC0gMV0sIGFycltpXSwgaSArIDEgPT09IGFyci5sZW5ndGggPyB1bmRlZmluZWQgOiBhcnJbaSArIDFdKTtcbiAgICB9XG59XG4vKipcbiAqIEByZXR1cm5zIE5ldyBhcnJheSB3aXRoIGFsbCBmYWxzeSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIG9yaWdpbmFsIGFycmF5IElTIE5PVCBtb2RpZmllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvYWxlc2NlKGFycmF5KSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihlID0+ICEhZSk7XG59XG4vKipcbiAqIFJlbW92ZSBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYGFycmF5YC4gVGhlIG9yaWdpbmFsIGFycmF5IElTIG1vZGlmaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29hbGVzY2VJblBsYWNlKGFycmF5KSB7XG4gICAgbGV0IHRvID0gMDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghIWFycmF5W2ldKSB7XG4gICAgICAgICAgICBhcnJheVt0b10gPSBhcnJheVtpXTtcbiAgICAgICAgICAgIHRvICs9IDE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXJyYXkubGVuZ3RoID0gdG87XG59XG4vKipcbiAqIEByZXR1cm5zIGZhbHNlIGlmIHRoZSBwcm92aWRlZCBvYmplY3QgaXMgYW4gYXJyYXkgYW5kIG5vdCBlbXB0eS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRmFsc3lPckVtcHR5KG9iaikge1xuICAgIHJldHVybiAhQXJyYXkuaXNBcnJheShvYmopIHx8IG9iai5sZW5ndGggPT09IDA7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNOb25FbXB0eUFycmF5KG9iaikge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KG9iaikgJiYgb2JqLmxlbmd0aCA+IDA7XG59XG4vKipcbiAqIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIHRoZSBnaXZlbiBhcnJheS4gVGhlIG9wdGlvbmFsIGtleUZuIGFsbG93cyB0byBzcGVjaWZ5XG4gKiBob3cgZWxlbWVudHMgYXJlIGNoZWNrZWQgZm9yIGVxdWFsaXR5IGJ5IHJldHVybmluZyBhbiBhbHRlcm5hdGUgdmFsdWUgZm9yIGVhY2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkaXN0aW5jdChhcnJheSwga2V5Rm4gPSB2YWx1ZSA9PiB2YWx1ZSkge1xuICAgIGNvbnN0IHNlZW4gPSBuZXcgU2V0KCk7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcihlbGVtZW50ID0+IHtcbiAgICAgICAgY29uc3Qga2V5ID0ga2V5Rm4oZWxlbWVudCk7XG4gICAgICAgIGlmIChzZWVuLmhhcyhrZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc2Vlbi5hZGQoa2V5KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmlyc3RPckRlZmF1bHQoYXJyYXksIG5vdEZvdW5kVmFsdWUpIHtcbiAgICByZXR1cm4gYXJyYXkubGVuZ3RoID4gMCA/IGFycmF5WzBdIDogbm90Rm91bmRWYWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByYW5nZShhcmcsIHRvKSB7XG4gICAgbGV0IGZyb20gPSB0eXBlb2YgdG8gPT09ICdudW1iZXInID8gYXJnIDogMDtcbiAgICBpZiAodHlwZW9mIHRvID09PSAnbnVtYmVyJykge1xuICAgICAgICBmcm9tID0gYXJnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZnJvbSA9IDA7XG4gICAgICAgIHRvID0gYXJnO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICBpZiAoZnJvbSA8PSB0bykge1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA8IHRvOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGxldCBpID0gZnJvbTsgaSA+IHRvOyBpLS0pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEluc2VydCBgaW5zZXJ0QXJyYCBpbnNpZGUgYHRhcmdldGAgYXQgYGluc2VydEluZGV4YC5cbiAqIFBsZWFzZSBkb24ndCB0b3VjaCB1bmxlc3MgeW91IHVuZGVyc3RhbmQgaHR0cHM6Ly9qc3BlcmYuY29tL2luc2VydGluZy1hbi1hcnJheS13aXRoaW4tYW4tYXJyYXlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5SW5zZXJ0KHRhcmdldCwgaW5zZXJ0SW5kZXgsIGluc2VydEFycikge1xuICAgIGNvbnN0IGJlZm9yZSA9IHRhcmdldC5zbGljZSgwLCBpbnNlcnRJbmRleCk7XG4gICAgY29uc3QgYWZ0ZXIgPSB0YXJnZXQuc2xpY2UoaW5zZXJ0SW5kZXgpO1xuICAgIHJldHVybiBiZWZvcmUuY29uY2F0KGluc2VydEFyciwgYWZ0ZXIpO1xufVxuLyoqXG4gKiBQdXNoZXMgYW4gZWxlbWVudCB0byB0aGUgc3RhcnQgb2YgdGhlIGFycmF5LCBpZiBmb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHB1c2hUb1N0YXJ0KGFyciwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKHZhbHVlKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgYXJyLnVuc2hpZnQodmFsdWUpO1xuICAgIH1cbn1cbi8qKlxuICogUHVzaGVzIGFuIGVsZW1lbnQgdG8gdGhlIGVuZCBvZiB0aGUgYXJyYXksIGlmIGZvdW5kLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcHVzaFRvRW5kKGFyciwgdmFsdWUpIHtcbiAgICBjb25zdCBpbmRleCA9IGFyci5pbmRleE9mKHZhbHVlKTtcbiAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgYXJyLnB1c2godmFsdWUpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBwdXNoTWFueShhcnIsIGl0ZW1zKSB7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgIGFyci5wdXNoKGl0ZW0pO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBhc0FycmF5KHgpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh4KSA/IHggOiBbeF07XG59XG4vKipcbiAqIEluc2VydCB0aGUgbmV3IGl0ZW1zIGluIHRoZSBhcnJheS5cbiAqIEBwYXJhbSBhcnJheSBUaGUgb3JpZ2luYWwgYXJyYXkuXG4gKiBAcGFyYW0gc3RhcnQgVGhlIHplcm8tYmFzZWQgbG9jYXRpb24gaW4gdGhlIGFycmF5IGZyb20gd2hpY2ggdG8gc3RhcnQgaW5zZXJ0aW5nIGVsZW1lbnRzLlxuICogQHBhcmFtIG5ld0l0ZW1zIFRoZSBpdGVtcyB0byBiZSBpbnNlcnRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0SW50byhhcnJheSwgc3RhcnQsIG5ld0l0ZW1zKSB7XG4gICAgY29uc3Qgc3RhcnRJZHggPSBnZXRBY3R1YWxTdGFydEluZGV4KGFycmF5LCBzdGFydCk7XG4gICAgY29uc3Qgb3JpZ2luYWxMZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgY29uc3QgbmV3SXRlbXNMZW5ndGggPSBuZXdJdGVtcy5sZW5ndGg7XG4gICAgYXJyYXkubGVuZ3RoID0gb3JpZ2luYWxMZW5ndGggKyBuZXdJdGVtc0xlbmd0aDtcbiAgICAvLyBNb3ZlIHRoZSBpdGVtcyBhZnRlciB0aGUgc3RhcnQgaW5kZXgsIHN0YXJ0IGZyb20gdGhlIGVuZCBzbyB0aGF0IHdlIGRvbid0IG92ZXJ3cml0ZSBhbnkgdmFsdWUuXG4gICAgZm9yIChsZXQgaSA9IG9yaWdpbmFsTGVuZ3RoIC0gMTsgaSA+PSBzdGFydElkeDsgaS0tKSB7XG4gICAgICAgIGFycmF5W2kgKyBuZXdJdGVtc0xlbmd0aF0gPSBhcnJheVtpXTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXdJdGVtc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFycmF5W2kgKyBzdGFydElkeF0gPSBuZXdJdGVtc1tpXTtcbiAgICB9XG59XG4vKipcbiAqIFJlbW92ZXMgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBhbmQgaW5zZXJ0cyBuZXcgZWxlbWVudHMgaW4gdGhlaXIgcGxhY2UsIHJldHVybmluZyB0aGUgZGVsZXRlZCBlbGVtZW50cy4gQWx0ZXJuYXRpdmUgdG8gdGhlIG5hdGl2ZSBBcnJheS5zcGxpY2UgbWV0aG9kLCBpdFxuICogY2FuIG9ubHkgc3VwcG9ydCBsaW1pdGVkIG51bWJlciBvZiBpdGVtcyBkdWUgdG8gdGhlIG1heGltdW0gY2FsbCBzdGFjayBzaXplIGxpbWl0LlxuICogQHBhcmFtIGFycmF5IFRoZSBvcmlnaW5hbCBhcnJheS5cbiAqIEBwYXJhbSBzdGFydCBUaGUgemVyby1iYXNlZCBsb2NhdGlvbiBpbiB0aGUgYXJyYXkgZnJvbSB3aGljaCB0byBzdGFydCByZW1vdmluZyBlbGVtZW50cy5cbiAqIEBwYXJhbSBkZWxldGVDb3VudCBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIEFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGVsZW1lbnRzIHRoYXQgd2VyZSBkZWxldGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaWNlKGFycmF5LCBzdGFydCwgZGVsZXRlQ291bnQsIG5ld0l0ZW1zKSB7XG4gICAgY29uc3QgaW5kZXggPSBnZXRBY3R1YWxTdGFydEluZGV4KGFycmF5LCBzdGFydCk7XG4gICAgbGV0IHJlc3VsdCA9IGFycmF5LnNwbGljZShpbmRleCwgZGVsZXRlQ291bnQpO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBzZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTI2MTE0MFxuICAgICAgICByZXN1bHQgPSBbXTtcbiAgICB9XG4gICAgaW5zZXJ0SW50byhhcnJheSwgaW5kZXgsIG5ld0l0ZW1zKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBEZXRlcm1pbmUgdGhlIGFjdHVhbCBzdGFydCBpbmRleCAoc2FtZSBsb2dpYyBhcyB0aGUgbmF0aXZlIHNwbGljZSgpIG9yIHNsaWNlKCkpXG4gKiBJZiBncmVhdGVyIHRoYW4gdGhlIGxlbmd0aCBvZiB0aGUgYXJyYXksIHN0YXJ0IHdpbGwgYmUgc2V0IHRvIHRoZSBsZW5ndGggb2YgdGhlIGFycmF5LiBJbiB0aGlzIGNhc2UsIG5vIGVsZW1lbnQgd2lsbCBiZSBkZWxldGVkIGJ1dCB0aGUgbWV0aG9kIHdpbGwgYmVoYXZlIGFzIGFuIGFkZGluZyBmdW5jdGlvbiwgYWRkaW5nIGFzIG1hbnkgZWxlbWVudCBhcyBpdGVtW24qXSBwcm92aWRlZC5cbiAqIElmIG5lZ2F0aXZlLCBpdCB3aWxsIGJlZ2luIHRoYXQgbWFueSBlbGVtZW50cyBmcm9tIHRoZSBlbmQgb2YgdGhlIGFycmF5LiAoSW4gdGhpcyBjYXNlLCB0aGUgb3JpZ2luIC0xLCBtZWFuaW5nIC1uIGlzIHRoZSBpbmRleCBvZiB0aGUgbnRoIGxhc3QgZWxlbWVudCwgYW5kIGlzIHRoZXJlZm9yZSBlcXVpdmFsZW50IHRvIHRoZSBpbmRleCBvZiBhcnJheS5sZW5ndGggLSBuLikgSWYgYXJyYXkubGVuZ3RoICsgc3RhcnQgaXMgbGVzcyB0aGFuIDAsIGl0IHdpbGwgYmVnaW4gZnJvbSBpbmRleCAwLlxuICogQHBhcmFtIGFycmF5IFRoZSB0YXJnZXQgYXJyYXkuXG4gKiBAcGFyYW0gc3RhcnQgVGhlIG9wZXJhdGlvbiBpbmRleC5cbiAqL1xuZnVuY3Rpb24gZ2V0QWN0dWFsU3RhcnRJbmRleChhcnJheSwgc3RhcnQpIHtcbiAgICByZXR1cm4gc3RhcnQgPCAwID8gTWF0aC5tYXgoc3RhcnQgKyBhcnJheS5sZW5ndGgsIDApIDogTWF0aC5taW4oc3RhcnQsIGFycmF5Lmxlbmd0aCk7XG59XG5leHBvcnQgdmFyIENvbXBhcmVSZXN1bHQ7XG4oZnVuY3Rpb24gKENvbXBhcmVSZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBpc0xlc3NUaGFuKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0IDwgMDtcbiAgICB9XG4gICAgQ29tcGFyZVJlc3VsdC5pc0xlc3NUaGFuID0gaXNMZXNzVGhhbjtcbiAgICBmdW5jdGlvbiBpc0xlc3NUaGFuT3JFcXVhbChyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA8PSAwO1xuICAgIH1cbiAgICBDb21wYXJlUmVzdWx0LmlzTGVzc1RoYW5PckVxdWFsID0gaXNMZXNzVGhhbk9yRXF1YWw7XG4gICAgZnVuY3Rpb24gaXNHcmVhdGVyVGhhbihyZXN1bHQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA+IDA7XG4gICAgfVxuICAgIENvbXBhcmVSZXN1bHQuaXNHcmVhdGVyVGhhbiA9IGlzR3JlYXRlclRoYW47XG4gICAgZnVuY3Rpb24gaXNOZWl0aGVyTGVzc09yR3JlYXRlclRoYW4ocmVzdWx0KSB7XG4gICAgICAgIHJldHVybiByZXN1bHQgPT09IDA7XG4gICAgfVxuICAgIENvbXBhcmVSZXN1bHQuaXNOZWl0aGVyTGVzc09yR3JlYXRlclRoYW4gPSBpc05laXRoZXJMZXNzT3JHcmVhdGVyVGhhbjtcbiAgICBDb21wYXJlUmVzdWx0LmdyZWF0ZXJUaGFuID0gMTtcbiAgICBDb21wYXJlUmVzdWx0Lmxlc3NUaGFuID0gLTE7XG4gICAgQ29tcGFyZVJlc3VsdC5uZWl0aGVyTGVzc09yR3JlYXRlclRoYW4gPSAwO1xufSkoQ29tcGFyZVJlc3VsdCB8fCAoQ29tcGFyZVJlc3VsdCA9IHt9KSk7XG5leHBvcnQgZnVuY3Rpb24gY29tcGFyZUJ5KHNlbGVjdG9yLCBjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiBjb21wYXJhdG9yKHNlbGVjdG9yKGEpLCBzZWxlY3RvcihiKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdGllQnJlYWtDb21wYXJhdG9ycyguLi5jb21wYXJhdG9ycykge1xuICAgIHJldHVybiAoaXRlbTEsIGl0ZW0yKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgY29tcGFyYXRvciBvZiBjb21wYXJhdG9ycykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gY29tcGFyYXRvcihpdGVtMSwgaXRlbTIpO1xuICAgICAgICAgICAgaWYgKCFDb21wYXJlUmVzdWx0LmlzTmVpdGhlckxlc3NPckdyZWF0ZXJUaGFuKHJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDb21wYXJlUmVzdWx0Lm5laXRoZXJMZXNzT3JHcmVhdGVyVGhhbjtcbiAgICB9O1xufVxuLyoqXG4gKiBUaGUgbmF0dXJhbCBvcmRlciBvbiBudW1iZXJzLlxuKi9cbmV4cG9ydCBjb25zdCBudW1iZXJDb21wYXJhdG9yID0gKGEsIGIpID0+IGEgLSBiO1xuZXhwb3J0IGNvbnN0IGJvb2xlYW5Db21wYXJhdG9yID0gKGEsIGIpID0+IG51bWJlckNvbXBhcmF0b3IoYSA/IDEgOiAwLCBiID8gMSA6IDApO1xuZXhwb3J0IGZ1bmN0aW9uIHJldmVyc2VPcmRlcihjb21wYXJhdG9yKSB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiAtY29tcGFyYXRvcihhLCBiKTtcbn1cbmV4cG9ydCBjbGFzcyBBcnJheVF1ZXVlIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgcXVldWUgdGhhdCBpcyBiYWNrZWQgYnkgdGhlIGdpdmVuIGFycmF5LiBSdW50aW1lIGlzIE8oMSkuXG4gICAgKi9cbiAgICBjb25zdHJ1Y3RvcihpdGVtcykge1xuICAgICAgICB0aGlzLml0ZW1zID0gaXRlbXM7XG4gICAgICAgIHRoaXMuZmlyc3RJZHggPSAwO1xuICAgICAgICB0aGlzLmxhc3RJZHggPSB0aGlzLml0ZW1zLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhc3RJZHggLSB0aGlzLmZpcnN0SWR4ICsgMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uc3VtZXMgZWxlbWVudHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBxdWV1ZSBhcyBsb25nIGFzIHRoZSBwcmVkaWNhdGUgcmV0dXJucyB0cnVlLlxuICAgICAqIElmIG5vIGVsZW1lbnRzIHdlcmUgY29uc3VtZWQsIGBudWxsYCBpcyByZXR1cm5lZC4gSGFzIGEgcnVudGltZSBvZiBPKHJlc3VsdC5sZW5ndGgpLlxuICAgICovXG4gICAgdGFrZVdoaWxlKHByZWRpY2F0ZSkge1xuICAgICAgICAvLyBQKGspIDo9IGsgPD0gdGhpcy5sYXN0SWR4ICYmIHByZWRpY2F0ZSh0aGlzLml0ZW1zW2tdKVxuICAgICAgICAvLyBGaW5kIHMgOj0gbWluIHsgayB8IGsgPj0gdGhpcy5maXJzdElkeCAmJiAhUChrKSB9IGFuZCByZXR1cm4gdGhpcy5kYXRhW3RoaXMuZmlyc3RJZHguLi5zKVxuICAgICAgICBsZXQgc3RhcnRJZHggPSB0aGlzLmZpcnN0SWR4O1xuICAgICAgICB3aGlsZSAoc3RhcnRJZHggPCB0aGlzLml0ZW1zLmxlbmd0aCAmJiBwcmVkaWNhdGUodGhpcy5pdGVtc1tzdGFydElkeF0pKSB7XG4gICAgICAgICAgICBzdGFydElkeCsrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHN0YXJ0SWR4ID09PSB0aGlzLmZpcnN0SWR4ID8gbnVsbCA6IHRoaXMuaXRlbXMuc2xpY2UodGhpcy5maXJzdElkeCwgc3RhcnRJZHgpO1xuICAgICAgICB0aGlzLmZpcnN0SWR4ID0gc3RhcnRJZHg7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnN1bWVzIGVsZW1lbnRzIGZyb20gdGhlIGVuZCBvZiB0aGUgcXVldWUgYXMgbG9uZyBhcyB0aGUgcHJlZGljYXRlIHJldHVybnMgdHJ1ZS5cbiAgICAgKiBJZiBubyBlbGVtZW50cyB3ZXJlIGNvbnN1bWVkLCBgbnVsbGAgaXMgcmV0dXJuZWQuXG4gICAgICogVGhlIHJlc3VsdCBoYXMgdGhlIHNhbWUgb3JkZXIgYXMgdGhlIHVuZGVybHlpbmcgYXJyYXkhXG4gICAgKi9cbiAgICB0YWtlRnJvbUVuZFdoaWxlKHByZWRpY2F0ZSkge1xuICAgICAgICAvLyBQKGspIDo9IHRoaXMuZmlyc3RJZHggPj0gayAmJiBwcmVkaWNhdGUodGhpcy5pdGVtc1trXSlcbiAgICAgICAgLy8gRmluZCBzIDo9IG1heCB7IGsgfCBrIDw9IHRoaXMubGFzdElkeCAmJiAhUChrKSB9IGFuZCByZXR1cm4gdGhpcy5kYXRhKHMuLi50aGlzLmxhc3RJZHhdXG4gICAgICAgIGxldCBlbmRJZHggPSB0aGlzLmxhc3RJZHg7XG4gICAgICAgIHdoaWxlIChlbmRJZHggPj0gMCAmJiBwcmVkaWNhdGUodGhpcy5pdGVtc1tlbmRJZHhdKSkge1xuICAgICAgICAgICAgZW5kSWR4LS07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZW5kSWR4ID09PSB0aGlzLmxhc3RJZHggPyBudWxsIDogdGhpcy5pdGVtcy5zbGljZShlbmRJZHggKyAxLCB0aGlzLmxhc3RJZHggKyAxKTtcbiAgICAgICAgdGhpcy5sYXN0SWR4ID0gZW5kSWR4O1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBwZWVrKCkge1xuICAgICAgICBpZiAodGhpcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXNbdGhpcy5maXJzdElkeF07XG4gICAgfVxuICAgIGRlcXVldWUoKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuaXRlbXNbdGhpcy5maXJzdElkeF07XG4gICAgICAgIHRoaXMuZmlyc3RJZHgrKztcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgdGFrZUNvdW50KGNvdW50KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuaXRlbXMuc2xpY2UodGhpcy5maXJzdElkeCwgdGhpcy5maXJzdElkeCArIGNvdW50KTtcbiAgICAgICAgdGhpcy5maXJzdElkeCArPSBjb3VudDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgZmFzdGVyIHRoYW4gYW4gaXRlcmF0b3IgYW5kIGFycmF5IGZvciBsYXp5IGNvbXB1dGVkIGRhdGEuXG4qL1xuZXhwb3J0IGNsYXNzIENhbGxiYWNrSXRlcmFibGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayBmb3IgZXZlcnkgaXRlbS5cbiAgICAgKiBTdG9wcyB3aGVuIHRoZSBjYWxsYmFjayByZXR1cm5zIGZhbHNlLlxuICAgICovXG4gICAgaXRlcmF0ZSkge1xuICAgICAgICB0aGlzLml0ZXJhdGUgPSBpdGVyYXRlO1xuICAgIH1cbiAgICB0b0FycmF5KCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgdGhpcy5pdGVyYXRlKGl0ZW0gPT4geyByZXN1bHQucHVzaChpdGVtKTsgcmV0dXJuIHRydWU7IH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmaWx0ZXIocHJlZGljYXRlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbGJhY2tJdGVyYWJsZShjYiA9PiB0aGlzLml0ZXJhdGUoaXRlbSA9PiBwcmVkaWNhdGUoaXRlbSkgPyBjYihpdGVtKSA6IHRydWUpKTtcbiAgICB9XG4gICAgbWFwKG1hcEZuKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ2FsbGJhY2tJdGVyYWJsZShjYiA9PiB0aGlzLml0ZXJhdGUoaXRlbSA9PiBjYihtYXBGbihpdGVtKSkpKTtcbiAgICB9XG4gICAgZmluZExhc3QocHJlZGljYXRlKSB7XG4gICAgICAgIGxldCByZXN1bHQ7XG4gICAgICAgIHRoaXMuaXRlcmF0ZShpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChwcmVkaWNhdGUoaXRlbSkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmaW5kTGFzdE1heEJ5KGNvbXBhcmF0b3IpIHtcbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgbGV0IGZpcnN0ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5pdGVyYXRlKGl0ZW0gPT4ge1xuICAgICAgICAgICAgaWYgKGZpcnN0IHx8IENvbXBhcmVSZXN1bHQuaXNHcmVhdGVyVGhhbihjb21wYXJhdG9yKGl0ZW0sIHJlc3VsdCkpKSB7XG4gICAgICAgICAgICAgICAgZmlyc3QgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbkNhbGxiYWNrSXRlcmFibGUuZW1wdHkgPSBuZXcgQ2FsbGJhY2tJdGVyYWJsZShfY2FsbGJhY2sgPT4geyB9KTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVWludDgodikge1xuICAgIGlmICh2IDwgMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgaWYgKHYgPiAyNTUgLyogQ29uc3RhbnRzLk1BWF9VSU5UXzggKi8pIHtcbiAgICAgICAgcmV0dXJuIDI1NSAvKiBDb25zdGFudHMuTUFYX1VJTlRfOCAqLztcbiAgICB9XG4gICAgcmV0dXJuIHYgfCAwO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRvVWludDMyKHYpIHtcbiAgICBpZiAodiA8IDApIHtcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGlmICh2ID4gNDI5NDk2NzI5NSAvKiBDb25zdGFudHMuTUFYX1VJTlRfMzIgKi8pIHtcbiAgICAgICAgcmV0dXJuIDQyOTQ5NjcyOTUgLyogQ29uc3RhbnRzLk1BWF9VSU5UXzMyICovO1xuICAgIH1cbiAgICByZXR1cm4gdiB8IDA7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGFycmF5SW5zZXJ0IH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IHRvVWludDMyIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdWludC5qcyc7XG5leHBvcnQgY2xhc3MgUHJlZml4U3VtQ29tcHV0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlcykge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5wcmVmaXhTdW0gPSBuZXcgVWludDMyQXJyYXkodmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleCA9IG5ldyBJbnQzMkFycmF5KDEpO1xuICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSAtMTtcbiAgICB9XG4gICAgaW5zZXJ0VmFsdWVzKGluc2VydEluZGV4LCBpbnNlcnRWYWx1ZXMpIHtcbiAgICAgICAgaW5zZXJ0SW5kZXggPSB0b1VpbnQzMihpbnNlcnRJbmRleCk7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICBjb25zdCBvbGRQcmVmaXhTdW0gPSB0aGlzLnByZWZpeFN1bTtcbiAgICAgICAgY29uc3QgaW5zZXJ0VmFsdWVzTGVuID0gaW5zZXJ0VmFsdWVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGluc2VydFZhbHVlc0xlbiA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudmFsdWVzID0gbmV3IFVpbnQzMkFycmF5KG9sZFZhbHVlcy5sZW5ndGggKyBpbnNlcnRWYWx1ZXNMZW4pO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KDAsIGluc2VydEluZGV4KSwgMCk7XG4gICAgICAgIHRoaXMudmFsdWVzLnNldChvbGRWYWx1ZXMuc3ViYXJyYXkoaW5zZXJ0SW5kZXgpLCBpbnNlcnRJbmRleCArIGluc2VydFZhbHVlc0xlbik7XG4gICAgICAgIHRoaXMudmFsdWVzLnNldChpbnNlcnRWYWx1ZXMsIGluc2VydEluZGV4KTtcbiAgICAgICAgaWYgKGluc2VydEluZGV4IC0gMSA8IHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID0gaW5zZXJ0SW5kZXggLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucHJlZml4U3VtID0gbmV3IFVpbnQzMkFycmF5KHRoaXMudmFsdWVzLmxlbmd0aCk7XG4gICAgICAgIGlmICh0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPj0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW0uc2V0KG9sZFByZWZpeFN1bS5zdWJhcnJheSgwLCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gKyAxKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHNldFZhbHVlKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpbmRleCA9IHRvVWludDMyKGluZGV4KTtcbiAgICAgICAgdmFsdWUgPSB0b1VpbnQzMih2YWx1ZSk7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIGlmIChpbmRleCAtIDEgPCB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtVmFsaWRJbmRleFswXSA9IGluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmVtb3ZlVmFsdWVzKHN0YXJ0SW5kZXgsIGNvdW50KSB7XG4gICAgICAgIHN0YXJ0SW5kZXggPSB0b1VpbnQzMihzdGFydEluZGV4KTtcbiAgICAgICAgY291bnQgPSB0b1VpbnQzMihjb3VudCk7XG4gICAgICAgIGNvbnN0IG9sZFZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICBjb25zdCBvbGRQcmVmaXhTdW0gPSB0aGlzLnByZWZpeFN1bTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggPj0gb2xkVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heENvdW50ID0gb2xkVmFsdWVzLmxlbmd0aCAtIHN0YXJ0SW5kZXg7XG4gICAgICAgIGlmIChjb3VudCA+PSBtYXhDb3VudCkge1xuICAgICAgICAgICAgY291bnQgPSBtYXhDb3VudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZhbHVlcyA9IG5ldyBVaW50MzJBcnJheShvbGRWYWx1ZXMubGVuZ3RoIC0gY291bnQpO1xuICAgICAgICB0aGlzLnZhbHVlcy5zZXQob2xkVmFsdWVzLnN1YmFycmF5KDAsIHN0YXJ0SW5kZXgpLCAwKTtcbiAgICAgICAgdGhpcy52YWx1ZXMuc2V0KG9sZFZhbHVlcy5zdWJhcnJheShzdGFydEluZGV4ICsgY291bnQpLCBzdGFydEluZGV4KTtcbiAgICAgICAgdGhpcy5wcmVmaXhTdW0gPSBuZXcgVWludDMyQXJyYXkodGhpcy52YWx1ZXMubGVuZ3RoKTtcbiAgICAgICAgaWYgKHN0YXJ0SW5kZXggLSAxIDwgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdKSB7XG4gICAgICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSBzdGFydEluZGV4IC0gMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdID49IDApIHtcbiAgICAgICAgICAgIHRoaXMucHJlZml4U3VtLnNldChvbGRQcmVmaXhTdW0uc3ViYXJyYXkoMCwgdGhpcy5wcmVmaXhTdW1WYWxpZEluZGV4WzBdICsgMSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRUb3RhbFN1bSgpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFByZWZpeFN1bSh0aGlzLnZhbHVlcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3VtIG9mIHRoZSBmaXJzdCBgaW5kZXggKyAxYCBtYW55IGl0ZW1zLlxuICAgICAqIEByZXR1cm5zIGBTVU0oMCA8PSBqIDw9IGluZGV4LCB2YWx1ZXNbal0pYC5cbiAgICAgKi9cbiAgICBnZXRQcmVmaXhTdW0oaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB0b1VpbnQzMihpbmRleCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQcmVmaXhTdW0oaW5kZXgpO1xuICAgIH1cbiAgICBfZ2V0UHJlZml4U3VtKGluZGV4KSB7XG4gICAgICAgIGlmIChpbmRleCA8PSB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByZWZpeFN1bVtpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gKyAxO1xuICAgICAgICBpZiAoc3RhcnRJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1bMF0gPSB0aGlzLnZhbHVlc1swXTtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXggPj0gdGhpcy52YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpbmRleCA9IHRoaXMudmFsdWVzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0SW5kZXg7IGkgPD0gaW5kZXg7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5wcmVmaXhTdW1baV0gPSB0aGlzLnByZWZpeFN1bVtpIC0gMV0gKyB0aGlzLnZhbHVlc1tpXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0gPSBNYXRoLm1heCh0aGlzLnByZWZpeFN1bVZhbGlkSW5kZXhbMF0sIGluZGV4KTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlZml4U3VtW2luZGV4XTtcbiAgICB9XG4gICAgZ2V0SW5kZXhPZihzdW0pIHtcbiAgICAgICAgc3VtID0gTWF0aC5mbG9vcihzdW0pO1xuICAgICAgICAvLyBDb21wdXRlIGFsbCBzdW1zICh0byBnZXQgYSBmdWxseSB2YWxpZCBwcmVmaXhTdW0pXG4gICAgICAgIHRoaXMuZ2V0VG90YWxTdW0oKTtcbiAgICAgICAgbGV0IGxvdyA9IDA7XG4gICAgICAgIGxldCBoaWdoID0gdGhpcy52YWx1ZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgbGV0IG1pZCA9IDA7XG4gICAgICAgIGxldCBtaWRTdG9wID0gMDtcbiAgICAgICAgbGV0IG1pZFN0YXJ0ID0gMDtcbiAgICAgICAgd2hpbGUgKGxvdyA8PSBoaWdoKSB7XG4gICAgICAgICAgICBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpIC8gMikgfCAwO1xuICAgICAgICAgICAgbWlkU3RvcCA9IHRoaXMucHJlZml4U3VtW21pZF07XG4gICAgICAgICAgICBtaWRTdGFydCA9IG1pZFN0b3AgLSB0aGlzLnZhbHVlc1ttaWRdO1xuICAgICAgICAgICAgaWYgKHN1bSA8IG1pZFN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgaGlnaCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzdW0gPj0gbWlkU3RvcCkge1xuICAgICAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByZWZpeFN1bUluZGV4T2ZSZXN1bHQobWlkLCBzdW0gLSBtaWRTdGFydCk7XG4gICAgfVxufVxuLyoqXG4gKiB7QGxpbmsgZ2V0SW5kZXhPZn0gaGFzIGFuIGFtb3J0aXplZCBydW50aW1lIGNvbXBsZXhpdHkgb2YgTygxKS5cbiAqXG4gKiAoe0BsaW5rIFByZWZpeFN1bUNvbXB1dGVyLmdldEluZGV4T2Z9IGlzIGp1c3QgIE8obG9nIG4pKVxuKi9cbmV4cG9ydCBjbGFzcyBDb25zdGFudFRpbWVQcmVmaXhTdW1Db21wdXRlciB7XG4gICAgY29uc3RydWN0b3IodmFsdWVzKSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgdGhpcy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl92YWxpZEVuZEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX3ByZWZpeFN1bSA9IFtdO1xuICAgICAgICB0aGlzLl9pbmRleEJ5U3VtID0gW107XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEByZXR1cm5zIFNVTSgwIDw9IGogPCB2YWx1ZXMubGVuZ3RoLCB2YWx1ZXNbal0pXG4gICAgICovXG4gICAgZ2V0VG90YWxTdW0oKSB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZVZhbGlkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleEJ5U3VtLmxlbmd0aDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc3VtIG9mIHRoZSBmaXJzdCBgY291bnRgIG1hbnkgaXRlbXMuXG4gICAgICogQHJldHVybnMgYFNVTSgwIDw9IGogPCBjb3VudCwgdmFsdWVzW2pdKWAuXG4gICAgICovXG4gICAgZ2V0UHJlZml4U3VtKGNvdW50KSB7XG4gICAgICAgIHRoaXMuX2Vuc3VyZVZhbGlkKCk7XG4gICAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZWZpeFN1bVtjb3VudCAtIDFdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBgcmVzdWx0YCwgc3VjaCB0aGF0IGBnZXRQcmVmaXhTdW0ocmVzdWx0LmluZGV4KSArIHJlc3VsdC5yZW1haW5kZXIgPSBzdW1gXG4gICAgICovXG4gICAgZ2V0SW5kZXhPZihzdW0pIHtcbiAgICAgICAgdGhpcy5fZW5zdXJlVmFsaWQoKTtcbiAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5faW5kZXhCeVN1bVtzdW1dO1xuICAgICAgICBjb25zdCB2aWV3TGluZXNBYm92ZSA9IGlkeCA+IDAgPyB0aGlzLl9wcmVmaXhTdW1baWR4IC0gMV0gOiAwO1xuICAgICAgICByZXR1cm4gbmV3IFByZWZpeFN1bUluZGV4T2ZSZXN1bHQoaWR4LCBzdW0gLSB2aWV3TGluZXNBYm92ZSk7XG4gICAgfVxuICAgIHJlbW92ZVZhbHVlcyhzdGFydCwgZGVsZXRlQ291bnQpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVzLnNwbGljZShzdGFydCwgZGVsZXRlQ291bnQpO1xuICAgICAgICB0aGlzLl9pbnZhbGlkYXRlKHN0YXJ0KTtcbiAgICB9XG4gICAgaW5zZXJ0VmFsdWVzKGluc2VydEluZGV4LCBpbnNlcnRBcnIpIHtcbiAgICAgICAgdGhpcy5fdmFsdWVzID0gYXJyYXlJbnNlcnQodGhpcy5fdmFsdWVzLCBpbnNlcnRJbmRleCwgaW5zZXJ0QXJyKTtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZShpbnNlcnRJbmRleCk7XG4gICAgfVxuICAgIF9pbnZhbGlkYXRlKGluZGV4KSB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fdmFsaWRFbmRJbmRleCA9IE1hdGgubWluKHRoaXMuX3ZhbGlkRW5kSW5kZXgsIGluZGV4IC0gMSk7XG4gICAgfVxuICAgIF9lbnN1cmVWYWxpZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2lzVmFsaWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5fdmFsaWRFbmRJbmRleCArIDEsIGxlbiA9IHRoaXMuX3ZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLl92YWx1ZXNbaV07XG4gICAgICAgICAgICBjb25zdCBzdW1BYm92ZSA9IGkgPiAwID8gdGhpcy5fcHJlZml4U3VtW2kgLSAxXSA6IDA7XG4gICAgICAgICAgICB0aGlzLl9wcmVmaXhTdW1baV0gPSBzdW1BYm92ZSArIHZhbHVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB2YWx1ZTsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5kZXhCeVN1bVtzdW1BYm92ZSArIGpdID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyB0cmltIHRoaW5nc1xuICAgICAgICB0aGlzLl9wcmVmaXhTdW0ubGVuZ3RoID0gdGhpcy5fdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgdGhpcy5faW5kZXhCeVN1bS5sZW5ndGggPSB0aGlzLl9wcmVmaXhTdW1bdGhpcy5fcHJlZml4U3VtLmxlbmd0aCAtIDFdO1xuICAgICAgICAvLyBtYXJrIGFzIHZhbGlkXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl92YWxpZEVuZEluZGV4ID0gdGhpcy5fdmFsdWVzLmxlbmd0aCAtIDE7XG4gICAgfVxuICAgIHNldFZhbHVlKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fdmFsdWVzW2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgIC8vIG5vIGNoYW5nZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5faW52YWxpZGF0ZShpbmRleCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFByZWZpeFN1bUluZGV4T2ZSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKGluZGV4LCByZW1haW5kZXIpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLnJlbWFpbmRlciA9IHJlbWFpbmRlcjtcbiAgICAgICAgdGhpcy5fcHJlZml4U3VtSW5kZXhPZlJlc3VsdEJyYW5kID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIHRoaXMucmVtYWluZGVyID0gcmVtYWluZGVyO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgc3BsaXRMaW5lcyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcbmltcG9ydCB7IFByZWZpeFN1bUNvbXB1dGVyIH0gZnJvbSAnLi9wcmVmaXhTdW1Db21wdXRlci5qcyc7XG5leHBvcnQgY2xhc3MgTWlycm9yVGV4dE1vZGVsIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmksIGxpbmVzLCBlb2wsIHZlcnNpb25JZCkge1xuICAgICAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgICAgIHRoaXMuX2xpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMuX2VvbCA9IGVvbDtcbiAgICAgICAgdGhpcy5fdmVyc2lvbklkID0gdmVyc2lvbklkO1xuICAgICAgICB0aGlzLl9saW5lU3RhcnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fY2FjaGVkVGV4dFZhbHVlID0gbnVsbDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fbGluZXMubGVuZ3RoID0gMDtcbiAgICB9XG4gICAgZ2V0IHZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uSWQ7XG4gICAgfVxuICAgIGdldFRleHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWRUZXh0VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlZFRleHRWYWx1ZSA9IHRoaXMuX2xpbmVzLmpvaW4odGhpcy5fZW9sKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkVGV4dFZhbHVlO1xuICAgIH1cbiAgICBvbkV2ZW50cyhlKSB7XG4gICAgICAgIGlmIChlLmVvbCAmJiBlLmVvbCAhPT0gdGhpcy5fZW9sKSB7XG4gICAgICAgICAgICB0aGlzLl9lb2wgPSBlLmVvbDtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVTdGFydHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVwZGF0ZSBteSBsaW5lc1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZS5jaGFuZ2VzO1xuICAgICAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLl9hY2NlcHREZWxldGVSYW5nZShjaGFuZ2UucmFuZ2UpO1xuICAgICAgICAgICAgdGhpcy5fYWNjZXB0SW5zZXJ0VGV4dChuZXcgUG9zaXRpb24oY2hhbmdlLnJhbmdlLnN0YXJ0TGluZU51bWJlciwgY2hhbmdlLnJhbmdlLnN0YXJ0Q29sdW1uKSwgY2hhbmdlLnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ZlcnNpb25JZCA9IGUudmVyc2lvbklkO1xuICAgICAgICB0aGlzLl9jYWNoZWRUZXh0VmFsdWUgPSBudWxsO1xuICAgIH1cbiAgICBfZW5zdXJlTGluZVN0YXJ0cygpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9saW5lU3RhcnRzKSB7XG4gICAgICAgICAgICBjb25zdCBlb2xMZW5ndGggPSB0aGlzLl9lb2wubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgbGluZXNMZW5ndGggPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCBsaW5lU3RhcnRWYWx1ZXMgPSBuZXcgVWludDMyQXJyYXkobGluZXNMZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lc0xlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGluZVN0YXJ0VmFsdWVzW2ldID0gdGhpcy5fbGluZXNbaV0ubGVuZ3RoICsgZW9sTGVuZ3RoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cyA9IG5ldyBQcmVmaXhTdW1Db21wdXRlcihsaW5lU3RhcnRWYWx1ZXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFsbCBjaGFuZ2VzIHRvIGEgbGluZSdzIHRleHQgZ28gdGhyb3VnaCB0aGlzIG1ldGhvZFxuICAgICAqL1xuICAgIF9zZXRMaW5lVGV4dChsaW5lSW5kZXgsIG5ld1ZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2xpbmVzW2xpbmVJbmRleF0gPSBuZXdWYWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmVmaXggc3VtXG4gICAgICAgICAgICB0aGlzLl9saW5lU3RhcnRzLnNldFZhbHVlKGxpbmVJbmRleCwgdGhpcy5fbGluZXNbbGluZUluZGV4XS5sZW5ndGggKyB0aGlzLl9lb2wubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWNjZXB0RGVsZXRlUmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0TGluZU51bWJlciA9PT0gcmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0Q29sdW1uID09PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RoaW5nIHRvIGRlbGV0ZVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERlbGV0ZSB0ZXh0IG9uIHRoZSBhZmZlY3RlZCBsaW5lXG4gICAgICAgICAgICB0aGlzLl9zZXRMaW5lVGV4dChyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxLCB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnRDb2x1bW4gLSAxKVxuICAgICAgICAgICAgICAgICsgdGhpcy5fbGluZXNbcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKHJhbmdlLmVuZENvbHVtbiAtIDEpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBUYWtlIHJlbWFpbmluZyB0ZXh0IG9uIGxhc3QgbGluZSBhbmQgYXBwZW5kIGl0IHRvIHJlbWFpbmluZyB0ZXh0IG9uIGZpcnN0IGxpbmVcbiAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMSwgdGhpcy5fbGluZXNbcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0Q29sdW1uIC0gMSlcbiAgICAgICAgICAgICsgdGhpcy5fbGluZXNbcmFuZ2UuZW5kTGluZU51bWJlciAtIDFdLnN1YnN0cmluZyhyYW5nZS5lbmRDb2x1bW4gLSAxKSk7XG4gICAgICAgIC8vIERlbGV0ZSBtaWRkbGUgbGluZXNcbiAgICAgICAgdGhpcy5fbGluZXMuc3BsaWNlKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2UuZW5kTGluZU51bWJlciAtIHJhbmdlLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIGlmICh0aGlzLl9saW5lU3RhcnRzKSB7XG4gICAgICAgICAgICAvLyB1cGRhdGUgcHJlZml4IHN1bVxuICAgICAgICAgICAgdGhpcy5fbGluZVN0YXJ0cy5yZW1vdmVWYWx1ZXMocmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyIC0gcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfYWNjZXB0SW5zZXJ0VGV4dChwb3NpdGlvbiwgaW5zZXJ0VGV4dCkge1xuICAgICAgICBpZiAoaW5zZXJ0VGV4dC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vdGhpbmcgdG8gaW5zZXJ0XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5zZXJ0TGluZXMgPSBzcGxpdExpbmVzKGluc2VydFRleHQpO1xuICAgICAgICBpZiAoaW5zZXJ0TGluZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAvLyBJbnNlcnRpbmcgdGV4dCBvbiBvbmUgbGluZVxuICAgICAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocG9zaXRpb24ubGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcoMCwgcG9zaXRpb24uY29sdW1uIC0gMSlcbiAgICAgICAgICAgICAgICArIGluc2VydExpbmVzWzBdXG4gICAgICAgICAgICAgICAgKyB0aGlzLl9saW5lc1twb3NpdGlvbi5saW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKHBvc2l0aW9uLmNvbHVtbiAtIDEpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBcHBlbmQgb3ZlcmZsb3dpbmcgdGV4dCBmcm9tIGZpcnN0IGxpbmUgdG8gdGhlIGVuZCBvZiB0ZXh0IHRvIGluc2VydFxuICAgICAgICBpbnNlcnRMaW5lc1tpbnNlcnRMaW5lcy5sZW5ndGggLSAxXSArPSB0aGlzLl9saW5lc1twb3NpdGlvbi5saW5lTnVtYmVyIC0gMV0uc3Vic3RyaW5nKHBvc2l0aW9uLmNvbHVtbiAtIDEpO1xuICAgICAgICAvLyBEZWxldGUgb3ZlcmZsb3dpbmcgdGV4dCBmcm9tIGZpcnN0IGxpbmUgYW5kIGluc2VydCB0ZXh0IG9uIGZpcnN0IGxpbmVcbiAgICAgICAgdGhpcy5fc2V0TGluZVRleHQocG9zaXRpb24ubGluZU51bWJlciAtIDEsIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcoMCwgcG9zaXRpb24uY29sdW1uIC0gMSlcbiAgICAgICAgICAgICsgaW5zZXJ0TGluZXNbMF0pO1xuICAgICAgICAvLyBJbnNlcnQgbmV3IGxpbmVzICYgc3RvcmUgbGVuZ3Roc1xuICAgICAgICBjb25zdCBuZXdMZW5ndGhzID0gbmV3IFVpbnQzMkFycmF5KGluc2VydExpbmVzLmxlbmd0aCAtIDEpO1xuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IGluc2VydExpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLl9saW5lcy5zcGxpY2UocG9zaXRpb24ubGluZU51bWJlciArIGkgLSAxLCAwLCBpbnNlcnRMaW5lc1tpXSk7XG4gICAgICAgICAgICBuZXdMZW5ndGhzW2kgLSAxXSA9IGluc2VydExpbmVzW2ldLmxlbmd0aCArIHRoaXMuX2VvbC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2xpbmVTdGFydHMpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcmVmaXggc3VtXG4gICAgICAgICAgICB0aGlzLl9saW5lU3RhcnRzLmluc2VydFZhbHVlcyhwb3NpdGlvbi5saW5lTnVtYmVyLCBuZXdMZW5ndGhzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgSXRlcmFibGUgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9pdGVyYXRvci5qcyc7XG5pbXBvcnQgeyBMaW5rZWRMaXN0IH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vbGlua2VkTGlzdC5qcyc7XG5leHBvcnQgY29uc3QgVVNVQUxfV09SRF9TRVBBUkFUT1JTID0gJ2B+IUAjJCVeJiooKS09K1t7XX1cXFxcfDs6XFwnXCIsLjw+Lz8nO1xuLyoqXG4gKiBDcmVhdGUgYSB3b3JkIGRlZmluaXRpb24gcmVndWxhciBleHByZXNzaW9uIGJhc2VkIG9uIGRlZmF1bHQgd29yZCBzZXBhcmF0b3JzLlxuICogT3B0aW9uYWxseSBwcm92aWRlIGFsbG93ZWQgc2VwYXJhdG9ycyB0aGF0IHNob3VsZCBiZSBpbmNsdWRlZCBpbiB3b3Jkcy5cbiAqXG4gKiBUaGUgZGVmYXVsdCB3b3VsZCBsb29rIGxpa2UgdGhpczpcbiAqIC8oLT9cXGQqXFwuXFxkXFx3Kil8KFteXFxgXFx+XFwhXFxAXFwjXFwkXFwlXFxeXFwmXFwqXFwoXFwpXFwtXFw9XFwrXFxbXFx7XFxdXFx9XFxcXFxcfFxcO1xcOlxcJ1xcXCJcXCxcXC5cXDxcXD5cXC9cXD9cXHNdKykvZ1xuICovXG5mdW5jdGlvbiBjcmVhdGVXb3JkUmVnRXhwKGFsbG93SW5Xb3JkcyA9ICcnKSB7XG4gICAgbGV0IHNvdXJjZSA9ICcoLT9cXFxcZCpcXFxcLlxcXFxkXFxcXHcqKXwoW14nO1xuICAgIGZvciAoY29uc3Qgc2VwIG9mIFVTVUFMX1dPUkRfU0VQQVJBVE9SUykge1xuICAgICAgICBpZiAoYWxsb3dJbldvcmRzLmluZGV4T2Yoc2VwKSA+PSAwKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBzb3VyY2UgKz0gJ1xcXFwnICsgc2VwO1xuICAgIH1cbiAgICBzb3VyY2UgKz0gJ1xcXFxzXSspJztcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChzb3VyY2UsICdnJyk7XG59XG4vLyBjYXRjaGVzIG51bWJlcnMgKGluY2x1ZGluZyBmbG9hdGluZyBudW1iZXJzKSBpbiB0aGUgZmlyc3QgZ3JvdXAsIGFuZCBhbHBoYW51bSBpbiB0aGUgc2Vjb25kXG5leHBvcnQgY29uc3QgREVGQVVMVF9XT1JEX1JFR0VYUCA9IGNyZWF0ZVdvcmRSZWdFeHAoKTtcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uKHdvcmREZWZpbml0aW9uKSB7XG4gICAgbGV0IHJlc3VsdCA9IERFRkFVTFRfV09SRF9SRUdFWFA7XG4gICAgaWYgKHdvcmREZWZpbml0aW9uICYmICh3b3JkRGVmaW5pdGlvbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcbiAgICAgICAgaWYgKCF3b3JkRGVmaW5pdGlvbi5nbG9iYWwpIHtcbiAgICAgICAgICAgIGxldCBmbGFncyA9ICdnJztcbiAgICAgICAgICAgIGlmICh3b3JkRGVmaW5pdGlvbi5pZ25vcmVDYXNlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgKz0gJ2knO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHdvcmREZWZpbml0aW9uLm11bHRpbGluZSkge1xuICAgICAgICAgICAgICAgIGZsYWdzICs9ICdtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3b3JkRGVmaW5pdGlvbi51bmljb2RlKSB7XG4gICAgICAgICAgICAgICAgZmxhZ3MgKz0gJ3UnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gbmV3IFJlZ0V4cCh3b3JkRGVmaW5pdGlvbi5zb3VyY2UsIGZsYWdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHdvcmREZWZpbml0aW9uO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0SW5kZXggPSAwO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5jb25zdCBfZGVmYXVsdENvbmZpZyA9IG5ldyBMaW5rZWRMaXN0KCk7XG5fZGVmYXVsdENvbmZpZy51bnNoaWZ0KHtcbiAgICBtYXhMZW46IDEwMDAsXG4gICAgd2luZG93U2l6ZTogMTUsXG4gICAgdGltZUJ1ZGdldDogMTUwXG59KTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3JkQXRUZXh0KGNvbHVtbiwgd29yZERlZmluaXRpb24sIHRleHQsIHRleHRPZmZzZXQsIGNvbmZpZykge1xuICAgIC8vIEVuc3VyZSB0aGUgcmVnZXggaGFzIHRoZSAnZycgZmxhZywgb3RoZXJ3aXNlIHRoaXMgd2lsbCBsb29wIGZvcmV2ZXJcbiAgICB3b3JkRGVmaW5pdGlvbiA9IGVuc3VyZVZhbGlkV29yZERlZmluaXRpb24od29yZERlZmluaXRpb24pO1xuICAgIGlmICghY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IEl0ZXJhYmxlLmZpcnN0KF9kZWZhdWx0Q29uZmlnKTtcbiAgICB9XG4gICAgaWYgKHRleHQubGVuZ3RoID4gY29uZmlnLm1heExlbikge1xuICAgICAgICAvLyBkb24ndCB0aHJvdyBzdHJpbmdzIHRoYXQgbG9uZyBhdCB0aGUgcmVnZXhwXG4gICAgICAgIC8vIGJ1dCB1c2UgYSBzdWItc3RyaW5nIGluIHdoaWNoIGEgd29yZCBtdXN0IG9jY3VyXG4gICAgICAgIGxldCBzdGFydCA9IGNvbHVtbiAtIGNvbmZpZy5tYXhMZW4gLyAyO1xuICAgICAgICBpZiAoc3RhcnQgPCAwKSB7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0ZXh0T2Zmc2V0ICs9IHN0YXJ0O1xuICAgICAgICB9XG4gICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgY29sdW1uICsgY29uZmlnLm1heExlbiAvIDIpO1xuICAgICAgICByZXR1cm4gZ2V0V29yZEF0VGV4dChjb2x1bW4sIHdvcmREZWZpbml0aW9uLCB0ZXh0LCB0ZXh0T2Zmc2V0LCBjb25maWcpO1xuICAgIH1cbiAgICBjb25zdCB0MSA9IERhdGUubm93KCk7XG4gICAgY29uc3QgcG9zID0gY29sdW1uIC0gMSAtIHRleHRPZmZzZXQ7XG4gICAgbGV0IHByZXZSZWdleEluZGV4ID0gLTE7XG4gICAgbGV0IG1hdGNoID0gbnVsbDtcbiAgICBmb3IgKGxldCBpID0gMTs7IGkrKykge1xuICAgICAgICAvLyBjaGVjayB0aW1lIGJ1ZGdldFxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHQxID49IGNvbmZpZy50aW1lQnVkZ2V0KSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICAvLyByZXNldCB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIHJlZ2V4cCBzaG91bGQgc3RhcnQgbWF0Y2hpbmcsIGFsc28ga25vdyB3aGVyZSBpdFxuICAgICAgICAvLyBzaG91bGQgc3RvcCBzbyB0aGF0IHN1YnNlcXVlbnQgc2VhcmNoIGRvbid0IHJlcGVhdCBwcmV2aW91cyBzZWFyY2hlc1xuICAgICAgICBjb25zdCByZWdleEluZGV4ID0gcG9zIC0gY29uZmlnLndpbmRvd1NpemUgKiBpO1xuICAgICAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSBNYXRoLm1heCgwLCByZWdleEluZGV4KTtcbiAgICAgICAgY29uc3QgdGhpc01hdGNoID0gX2ZpbmRSZWdleE1hdGNoRW5jbG9zaW5nUG9zaXRpb24od29yZERlZmluaXRpb24sIHRleHQsIHBvcywgcHJldlJlZ2V4SW5kZXgpO1xuICAgICAgICBpZiAoIXRoaXNNYXRjaCAmJiBtYXRjaCkge1xuICAgICAgICAgICAgLy8gc3RvcDogd2UgaGF2ZSBzb21ldGhpbmdcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hdGNoID0gdGhpc01hdGNoO1xuICAgICAgICAvLyBzdG9wOiBzZWFyY2hlZCBhdCBzdGFydFxuICAgICAgICBpZiAocmVnZXhJbmRleCA8PSAwKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBwcmV2UmVnZXhJbmRleCA9IHJlZ2V4SW5kZXg7XG4gICAgfVxuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgICAgICB3b3JkOiBtYXRjaFswXSxcbiAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIG1hdGNoLmluZGV4LFxuICAgICAgICAgICAgZW5kQ29sdW1uOiB0ZXh0T2Zmc2V0ICsgMSArIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIHdvcmREZWZpbml0aW9uLmxhc3RJbmRleCA9IDA7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gX2ZpbmRSZWdleE1hdGNoRW5jbG9zaW5nUG9zaXRpb24od29yZERlZmluaXRpb24sIHRleHQsIHBvcywgc3RvcFBvcykge1xuICAgIGxldCBtYXRjaDtcbiAgICB3aGlsZSAobWF0Y2ggPSB3b3JkRGVmaW5pdGlvbi5leGVjKHRleHQpKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoSW5kZXggPSBtYXRjaC5pbmRleCB8fCAwO1xuICAgICAgICBpZiAobWF0Y2hJbmRleCA8PSBwb3MgJiYgd29yZERlZmluaXRpb24ubGFzdEluZGV4ID49IHBvcykge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHN0b3BQb3MgPiAwICYmIG1hdGNoSW5kZXggPiBzdG9wUG9zKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgdG9VaW50OCB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3VpbnQuanMnO1xuLyoqXG4gKiBBIGZhc3QgY2hhcmFjdGVyIGNsYXNzaWZpZXIgdGhhdCB1c2VzIGEgY29tcGFjdCBhcnJheSBmb3IgQVNDSUkgdmFsdWVzLlxuICovXG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyQ2xhc3NpZmllciB7XG4gICAgY29uc3RydWN0b3IoX2RlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSB0b1VpbnQ4KF9kZWZhdWx0VmFsdWUpO1xuICAgICAgICB0aGlzLl9kZWZhdWx0VmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIHRoaXMuX2FzY2lpTWFwID0gQ2hhcmFjdGVyQ2xhc3NpZmllci5fY3JlYXRlQXNjaWlNYXAoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZUFzY2lpTWFwKGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjb25zdCBhc2NpaU1hcCA9IG5ldyBVaW50OEFycmF5KDI1Nik7XG4gICAgICAgIGFzY2lpTWFwLmZpbGwoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgcmV0dXJuIGFzY2lpTWFwO1xuICAgIH1cbiAgICBzZXQoY2hhckNvZGUsIF92YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRvVWludDgoX3ZhbHVlKTtcbiAgICAgICAgaWYgKGNoYXJDb2RlID49IDAgJiYgY2hhckNvZGUgPCAyNTYpIHtcbiAgICAgICAgICAgIHRoaXMuX2FzY2lpTWFwW2NoYXJDb2RlXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChjaGFyQ29kZSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldChjaGFyQ29kZSkge1xuICAgICAgICBpZiAoY2hhckNvZGUgPj0gMCAmJiBjaGFyQ29kZSA8IDI1Nikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2FzY2lpTWFwW2NoYXJDb2RlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5fbWFwLmdldChjaGFyQ29kZSkgfHwgdGhpcy5fZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fYXNjaWlNYXAuZmlsbCh0aGlzLl9kZWZhdWx0VmFsdWUpO1xuICAgICAgICB0aGlzLl9tYXAuY2xlYXIoKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ2hhcmFjdGVyU2V0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fYWN0dWFsID0gbmV3IENoYXJhY3RlckNsYXNzaWZpZXIoMCAvKiBCb29sZWFuLkZhbHNlICovKTtcbiAgICB9XG4gICAgYWRkKGNoYXJDb2RlKSB7XG4gICAgICAgIHRoaXMuX2FjdHVhbC5zZXQoY2hhckNvZGUsIDEgLyogQm9vbGVhbi5UcnVlICovKTtcbiAgICB9XG4gICAgaGFzKGNoYXJDb2RlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5fYWN0dWFsLmdldChjaGFyQ29kZSkgPT09IDEgLyogQm9vbGVhbi5UcnVlICovKTtcbiAgICB9XG4gICAgY2xlYXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hY3R1YWwuY2xlYXIoKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IENoYXJhY3RlckNsYXNzaWZpZXIgfSBmcm9tICcuLi9jb3JlL2NoYXJhY3RlckNsYXNzaWZpZXIuanMnO1xuY2xhc3MgVWludDhNYXRyaXgge1xuICAgIGNvbnN0cnVjdG9yKHJvd3MsIGNvbHMsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkocm93cyAqIGNvbHMpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcm93cyAqIGNvbHM7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgZGF0YVtpXSA9IGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5jb2xzID0gY29scztcbiAgICB9XG4gICAgZ2V0KHJvdywgY29sKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kYXRhW3JvdyAqIHRoaXMuY29scyArIGNvbF07XG4gICAgfVxuICAgIHNldChyb3csIGNvbCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fZGF0YVtyb3cgKiB0aGlzLmNvbHMgKyBjb2xdID0gdmFsdWU7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFN0YXRlTWFjaGluZSB7XG4gICAgY29uc3RydWN0b3IoZWRnZXMpIHtcbiAgICAgICAgbGV0IG1heENoYXJDb2RlID0gMDtcbiAgICAgICAgbGV0IG1heFN0YXRlID0gMCAvKiBTdGF0ZS5JbnZhbGlkICovO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gZWRnZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IFtmcm9tLCBjaENvZGUsIHRvXSA9IGVkZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKGNoQ29kZSA+IG1heENoYXJDb2RlKSB7XG4gICAgICAgICAgICAgICAgbWF4Q2hhckNvZGUgPSBjaENvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZnJvbSA+IG1heFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgbWF4U3RhdGUgPSBmcm9tO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRvID4gbWF4U3RhdGUpIHtcbiAgICAgICAgICAgICAgICBtYXhTdGF0ZSA9IHRvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG1heENoYXJDb2RlKys7XG4gICAgICAgIG1heFN0YXRlKys7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IG5ldyBVaW50OE1hdHJpeChtYXhTdGF0ZSwgbWF4Q2hhckNvZGUsIDAgLyogU3RhdGUuSW52YWxpZCAqLyk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBlZGdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY29uc3QgW2Zyb20sIGNoQ29kZSwgdG9dID0gZWRnZXNbaV07XG4gICAgICAgICAgICBzdGF0ZXMuc2V0KGZyb20sIGNoQ29kZSwgdG8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRlcyA9IHN0YXRlcztcbiAgICAgICAgdGhpcy5fbWF4Q2hhckNvZGUgPSBtYXhDaGFyQ29kZTtcbiAgICB9XG4gICAgbmV4dFN0YXRlKGN1cnJlbnRTdGF0ZSwgY2hDb2RlKSB7XG4gICAgICAgIGlmIChjaENvZGUgPCAwIHx8IGNoQ29kZSA+PSB0aGlzLl9tYXhDaGFyQ29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogU3RhdGUuSW52YWxpZCAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGVzLmdldChjdXJyZW50U3RhdGUsIGNoQ29kZSk7XG4gICAgfVxufVxuLy8gU3RhdGUgbWFjaGluZSBmb3IgaHR0cDovLyBvciBodHRwczovLyBvciBmaWxlOi8vXG5sZXQgX3N0YXRlTWFjaGluZSA9IG51bGw7XG5mdW5jdGlvbiBnZXRTdGF0ZU1hY2hpbmUoKSB7XG4gICAgaWYgKF9zdGF0ZU1hY2hpbmUgPT09IG51bGwpIHtcbiAgICAgICAgX3N0YXRlTWFjaGluZSA9IG5ldyBTdGF0ZU1hY2hpbmUoW1xuICAgICAgICAgICAgWzEgLyogU3RhdGUuU3RhcnQgKi8sIDEwNCAvKiBDaGFyQ29kZS5oICovLCAyIC8qIFN0YXRlLkggKi9dLFxuICAgICAgICAgICAgWzEgLyogU3RhdGUuU3RhcnQgKi8sIDcyIC8qIENoYXJDb2RlLkggKi8sIDIgLyogU3RhdGUuSCAqL10sXG4gICAgICAgICAgICBbMSAvKiBTdGF0ZS5TdGFydCAqLywgMTAyIC8qIENoYXJDb2RlLmYgKi8sIDYgLyogU3RhdGUuRiAqL10sXG4gICAgICAgICAgICBbMSAvKiBTdGF0ZS5TdGFydCAqLywgNzAgLyogQ2hhckNvZGUuRiAqLywgNiAvKiBTdGF0ZS5GICovXSxcbiAgICAgICAgICAgIFsyIC8qIFN0YXRlLkggKi8sIDExNiAvKiBDaGFyQ29kZS50ICovLCAzIC8qIFN0YXRlLkhUICovXSxcbiAgICAgICAgICAgIFsyIC8qIFN0YXRlLkggKi8sIDg0IC8qIENoYXJDb2RlLlQgKi8sIDMgLyogU3RhdGUuSFQgKi9dLFxuICAgICAgICAgICAgWzMgLyogU3RhdGUuSFQgKi8sIDExNiAvKiBDaGFyQ29kZS50ICovLCA0IC8qIFN0YXRlLkhUVCAqL10sXG4gICAgICAgICAgICBbMyAvKiBTdGF0ZS5IVCAqLywgODQgLyogQ2hhckNvZGUuVCAqLywgNCAvKiBTdGF0ZS5IVFQgKi9dLFxuICAgICAgICAgICAgWzQgLyogU3RhdGUuSFRUICovLCAxMTIgLyogQ2hhckNvZGUucCAqLywgNSAvKiBTdGF0ZS5IVFRQICovXSxcbiAgICAgICAgICAgIFs0IC8qIFN0YXRlLkhUVCAqLywgODAgLyogQ2hhckNvZGUuUCAqLywgNSAvKiBTdGF0ZS5IVFRQICovXSxcbiAgICAgICAgICAgIFs1IC8qIFN0YXRlLkhUVFAgKi8sIDExNSAvKiBDaGFyQ29kZS5zICovLCA5IC8qIFN0YXRlLkJlZm9yZUNvbG9uICovXSxcbiAgICAgICAgICAgIFs1IC8qIFN0YXRlLkhUVFAgKi8sIDgzIC8qIENoYXJDb2RlLlMgKi8sIDkgLyogU3RhdGUuQmVmb3JlQ29sb24gKi9dLFxuICAgICAgICAgICAgWzUgLyogU3RhdGUuSFRUUCAqLywgNTggLyogQ2hhckNvZGUuQ29sb24gKi8sIDEwIC8qIFN0YXRlLkFmdGVyQ29sb24gKi9dLFxuICAgICAgICAgICAgWzYgLyogU3RhdGUuRiAqLywgMTA1IC8qIENoYXJDb2RlLmkgKi8sIDcgLyogU3RhdGUuRkkgKi9dLFxuICAgICAgICAgICAgWzYgLyogU3RhdGUuRiAqLywgNzMgLyogQ2hhckNvZGUuSSAqLywgNyAvKiBTdGF0ZS5GSSAqL10sXG4gICAgICAgICAgICBbNyAvKiBTdGF0ZS5GSSAqLywgMTA4IC8qIENoYXJDb2RlLmwgKi8sIDggLyogU3RhdGUuRklMICovXSxcbiAgICAgICAgICAgIFs3IC8qIFN0YXRlLkZJICovLCA3NiAvKiBDaGFyQ29kZS5MICovLCA4IC8qIFN0YXRlLkZJTCAqL10sXG4gICAgICAgICAgICBbOCAvKiBTdGF0ZS5GSUwgKi8sIDEwMSAvKiBDaGFyQ29kZS5lICovLCA5IC8qIFN0YXRlLkJlZm9yZUNvbG9uICovXSxcbiAgICAgICAgICAgIFs4IC8qIFN0YXRlLkZJTCAqLywgNjkgLyogQ2hhckNvZGUuRSAqLywgOSAvKiBTdGF0ZS5CZWZvcmVDb2xvbiAqL10sXG4gICAgICAgICAgICBbOSAvKiBTdGF0ZS5CZWZvcmVDb2xvbiAqLywgNTggLyogQ2hhckNvZGUuQ29sb24gKi8sIDEwIC8qIFN0YXRlLkFmdGVyQ29sb24gKi9dLFxuICAgICAgICAgICAgWzEwIC8qIFN0YXRlLkFmdGVyQ29sb24gKi8sIDQ3IC8qIENoYXJDb2RlLlNsYXNoICovLCAxMSAvKiBTdGF0ZS5BbG1vc3RUaGVyZSAqL10sXG4gICAgICAgICAgICBbMTEgLyogU3RhdGUuQWxtb3N0VGhlcmUgKi8sIDQ3IC8qIENoYXJDb2RlLlNsYXNoICovLCAxMiAvKiBTdGF0ZS5FbmQgKi9dLFxuICAgICAgICBdKTtcbiAgICB9XG4gICAgcmV0dXJuIF9zdGF0ZU1hY2hpbmU7XG59XG5sZXQgX2NsYXNzaWZpZXIgPSBudWxsO1xuZnVuY3Rpb24gZ2V0Q2xhc3NpZmllcigpIHtcbiAgICBpZiAoX2NsYXNzaWZpZXIgPT09IG51bGwpIHtcbiAgICAgICAgX2NsYXNzaWZpZXIgPSBuZXcgQ2hhcmFjdGVyQ2xhc3NpZmllcigwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi8pO1xuICAgICAgICAvLyBhbGxvdy1hbnktdW5pY29kZS1uZXh0LWxpbmVcbiAgICAgICAgY29uc3QgRk9SQ0VfVEVSTUlOQVRJT05fQ0hBUkFDVEVSUyA9ICcgXFx0PD5cXCdcXFwi44CB44CC772h772k77yM77yO77ya77yb4oCY44CI44CM44CO44CU77yI77y7772b772i772j772d77y977yJ44CV44CP44CN44CJ4oCZ772A772e4oCmJztcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBGT1JDRV9URVJNSU5BVElPTl9DSEFSQUNURVJTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfY2xhc3NpZmllci5zZXQoRk9SQ0VfVEVSTUlOQVRJT05fQ0hBUkFDVEVSUy5jaGFyQ29kZUF0KGkpLCAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IENBTk5PVF9FTkRfV0lUSF9DSEFSQUNURVJTID0gJy4sOzonO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IENBTk5PVF9FTkRfV0lUSF9DSEFSQUNURVJTLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBfY2xhc3NpZmllci5zZXQoQ0FOTk9UX0VORF9XSVRIX0NIQVJBQ1RFUlMuY2hhckNvZGVBdChpKSwgMiAvKiBDaGFyYWN0ZXJDbGFzcy5DYW5ub3RFbmRJbiAqLyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIF9jbGFzc2lmaWVyO1xufVxuZXhwb3J0IGNsYXNzIExpbmtDb21wdXRlciB7XG4gICAgc3RhdGljIF9jcmVhdGVMaW5rKGNsYXNzaWZpZXIsIGxpbmUsIGxpbmVOdW1iZXIsIGxpbmtCZWdpbkluZGV4LCBsaW5rRW5kSW5kZXgpIHtcbiAgICAgICAgLy8gRG8gbm90IGFsbG93IHRvIGVuZCBsaW5rIGluIGNlcnRhaW4gY2hhcmFjdGVycy4uLlxuICAgICAgICBsZXQgbGFzdEluY2x1ZGVkQ2hhckluZGV4ID0gbGlua0VuZEluZGV4IC0gMTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgY29uc3QgY2hDb2RlID0gbGluZS5jaGFyQ29kZUF0KGxhc3RJbmNsdWRlZENoYXJJbmRleCk7XG4gICAgICAgICAgICBjb25zdCBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcbiAgICAgICAgICAgIGlmIChjaENsYXNzICE9PSAyIC8qIENoYXJhY3RlckNsYXNzLkNhbm5vdEVuZEluICovKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0SW5jbHVkZWRDaGFySW5kZXgtLTtcbiAgICAgICAgfSB3aGlsZSAobGFzdEluY2x1ZGVkQ2hhckluZGV4ID4gbGlua0JlZ2luSW5kZXgpO1xuICAgICAgICAvLyBIYW5kbGUgbGlua3MgZW5jbG9zZWQgaW4gcGFyZW5zLCBzcXVhcmUgYnJhY2tldHMgYW5kIGN1cmx5cy5cbiAgICAgICAgaWYgKGxpbmtCZWdpbkluZGV4ID4gMCkge1xuICAgICAgICAgICAgY29uc3QgY2hhckNvZGVCZWZvcmVMaW5rID0gbGluZS5jaGFyQ29kZUF0KGxpbmtCZWdpbkluZGV4IC0gMSk7XG4gICAgICAgICAgICBjb25zdCBsYXN0Q2hhckNvZGVJbkxpbmsgPSBsaW5lLmNoYXJDb2RlQXQobGFzdEluY2x1ZGVkQ2hhckluZGV4KTtcbiAgICAgICAgICAgIGlmICgoY2hhckNvZGVCZWZvcmVMaW5rID09PSA0MCAvKiBDaGFyQ29kZS5PcGVuUGFyZW4gKi8gJiYgbGFzdENoYXJDb2RlSW5MaW5rID09PSA0MSAvKiBDaGFyQ29kZS5DbG9zZVBhcmVuICovKVxuICAgICAgICAgICAgICAgIHx8IChjaGFyQ29kZUJlZm9yZUxpbmsgPT09IDkxIC8qIENoYXJDb2RlLk9wZW5TcXVhcmVCcmFja2V0ICovICYmIGxhc3RDaGFyQ29kZUluTGluayA9PT0gOTMgLyogQ2hhckNvZGUuQ2xvc2VTcXVhcmVCcmFja2V0ICovKVxuICAgICAgICAgICAgICAgIHx8IChjaGFyQ29kZUJlZm9yZUxpbmsgPT09IDEyMyAvKiBDaGFyQ29kZS5PcGVuQ3VybHlCcmFjZSAqLyAmJiBsYXN0Q2hhckNvZGVJbkxpbmsgPT09IDEyNSAvKiBDaGFyQ29kZS5DbG9zZUN1cmx5QnJhY2UgKi8pKSB7XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGVuZCBpbiApIGlmICggaXMgYmVmb3JlIHRoZSBsaW5rIHN0YXJ0XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGVuZCBpbiBdIGlmIFsgaXMgYmVmb3JlIHRoZSBsaW5rIHN0YXJ0XG4gICAgICAgICAgICAgICAgLy8gRG8gbm90IGVuZCBpbiB9IGlmIHsgaXMgYmVmb3JlIHRoZSBsaW5rIHN0YXJ0XG4gICAgICAgICAgICAgICAgbGFzdEluY2x1ZGVkQ2hhckluZGV4LS07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlOiB7XG4gICAgICAgICAgICAgICAgc3RhcnRMaW5lTnVtYmVyOiBsaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiBsaW5rQmVnaW5JbmRleCArIDEsXG4gICAgICAgICAgICAgICAgZW5kTGluZU51bWJlcjogbGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IGxhc3RJbmNsdWRlZENoYXJJbmRleCArIDJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB1cmw6IGxpbmUuc3Vic3RyaW5nKGxpbmtCZWdpbkluZGV4LCBsYXN0SW5jbHVkZWRDaGFySW5kZXggKyAxKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgY29tcHV0ZUxpbmtzKG1vZGVsLCBzdGF0ZU1hY2hpbmUgPSBnZXRTdGF0ZU1hY2hpbmUoKSkge1xuICAgICAgICBjb25zdCBjbGFzc2lmaWVyID0gZ2V0Q2xhc3NpZmllcigpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDEsIGxpbmVDb3VudCA9IG1vZGVsLmdldExpbmVDb3VudCgpOyBpIDw9IGxpbmVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoaSk7XG4gICAgICAgICAgICBjb25zdCBsZW4gPSBsaW5lLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCBqID0gMDtcbiAgICAgICAgICAgIGxldCBsaW5rQmVnaW5JbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgbGlua0JlZ2luQ2hDb2RlID0gMDtcbiAgICAgICAgICAgIGxldCBzdGF0ZSA9IDEgLyogU3RhdGUuU3RhcnQgKi87XG4gICAgICAgICAgICBsZXQgaGFzT3BlblBhcmVucyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGhhc09wZW5TcXVhcmVCcmFja2V0ID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaW5TcXVhcmVCcmFja2V0cyA9IGZhbHNlO1xuICAgICAgICAgICAgbGV0IGhhc09wZW5DdXJseUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgbGVuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc2V0U3RhdGVNYWNoaW5lID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hDb2RlID0gbGluZS5jaGFyQ29kZUF0KGopO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMTMgLyogU3RhdGUuQWNjZXB0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBjaENsYXNzO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGNoQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0MCAvKiBDaGFyQ29kZS5PcGVuUGFyZW4gKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzT3BlblBhcmVucyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IDAgLyogQ2hhcmFjdGVyQ2xhc3MuTm9uZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDEgLyogQ2hhckNvZGUuQ2xvc2VQYXJlbiAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5QYXJlbnMgPyAwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi8gOiAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5MSAvKiBDaGFyQ29kZS5PcGVuU3F1YXJlQnJhY2tldCAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpblNxdWFyZUJyYWNrZXRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNPcGVuU3F1YXJlQnJhY2tldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IDAgLyogQ2hhcmFjdGVyQ2xhc3MuTm9uZSAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTMgLyogQ2hhckNvZGUuQ2xvc2VTcXVhcmVCcmFja2V0ICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluU3F1YXJlQnJhY2tldHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGhhc09wZW5TcXVhcmVCcmFja2V0ID8gMCAvKiBDaGFyYWN0ZXJDbGFzcy5Ob25lICovIDogMSAvKiBDaGFyYWN0ZXJDbGFzcy5Gb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTIzIC8qIENoYXJDb2RlLk9wZW5DdXJseUJyYWNlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc09wZW5DdXJseUJyYWNrZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNSAvKiBDaGFyQ29kZS5DbG9zZUN1cmx5QnJhY2UgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IChoYXNPcGVuQ3VybHlCcmFja2V0ID8gMCAvKiBDaGFyYWN0ZXJDbGFzcy5Ob25lICovIDogMSAvKiBDaGFyYWN0ZXJDbGFzcy5Gb3JjZVRlcm1pbmF0aW9uICovKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgdGhyZWUgcnVsZXMgbWFrZSBpdCB0aGF0ICcgb3IgXCIgb3IgYCBhcmUgYWxsb3dlZCBpbnNpZGUgbGlua3NcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgaWYgdGhlIGxpbmsgaXMgd3JhcHBlZCBieSBzb21lIG90aGVyIHF1b3RlIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOSAvKiBDaGFyQ29kZS5TaW5nbGVRdW90ZSAqLzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzQgLyogQ2hhckNvZGUuRG91YmxlUXVvdGUgKi86XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk2IC8qIENoYXJDb2RlLkJhY2tUaWNrICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5rQmVnaW5DaENvZGUgPT09IGNoQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gMSAvKiBDaGFyYWN0ZXJDbGFzcy5Gb3JjZVRlcm1pbmF0aW9uICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsaW5rQmVnaW5DaENvZGUgPT09IDM5IC8qIENoYXJDb2RlLlNpbmdsZVF1b3RlICovIHx8IGxpbmtCZWdpbkNoQ29kZSA9PT0gMzQgLyogQ2hhckNvZGUuRG91YmxlUXVvdGUgKi8gfHwgbGlua0JlZ2luQ2hDb2RlID09PSA5NiAvKiBDaGFyQ29kZS5CYWNrVGljayAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gMCAvKiBDaGFyYWN0ZXJDbGFzcy5Ob25lICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IDEgLyogQ2hhcmFjdGVyQ2xhc3MuRm9yY2VUZXJtaW5hdGlvbiAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQyIC8qIENoYXJDb2RlLkFzdGVyaXNrICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGAqYCB0ZXJtaW5hdGVzIGEgbGluayBpZiB0aGUgbGluayBiZWdhbiB3aXRoIGAqYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAobGlua0JlZ2luQ2hDb2RlID09PSA0MiAvKiBDaGFyQ29kZS5Bc3RlcmlzayAqLykgPyAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8gOiAwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEyNCAvKiBDaGFyQ29kZS5QaXBlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB8YCB0ZXJtaW5hdGVzIGEgbGluayBpZiB0aGUgbGluayBiZWdhbiB3aXRoIGB8YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoQ2xhc3MgPSAobGlua0JlZ2luQ2hDb2RlID09PSAxMjQgLyogQ2hhckNvZGUuUGlwZSAqLykgPyAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8gOiAwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDMyIC8qIENoYXJDb2RlLlNwYWNlICovOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGAgYCBhbGxvdyBzcGFjZSBpbiBiZXR3ZWVuIFsgYW5kIF1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gKGluU3F1YXJlQnJhY2tldHMgPyAwIC8qIENoYXJhY3RlckNsYXNzLk5vbmUgKi8gOiAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gY2xhc3NpZmllci5nZXQoY2hDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjaGFyYWN0ZXIgdGVybWluYXRlcyBsaW5rXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaENsYXNzID09PSAxIC8qIENoYXJhY3RlckNsYXNzLkZvcmNlVGVybWluYXRpb24gKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKExpbmtDb21wdXRlci5fY3JlYXRlTGluayhjbGFzc2lmaWVyLCBsaW5lLCBpLCBsaW5rQmVnaW5JbmRleCwgaikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZU1hY2hpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXRlID09PSAxMiAvKiBTdGF0ZS5FbmQgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNoQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaENvZGUgPT09IDkxIC8qIENoYXJDb2RlLk9wZW5TcXVhcmVCcmFja2V0ICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGxvdyBmb3IgdGhlIGF1dGhvcml0eSBwYXJ0IHRvIGNvbnRhaW4gaXB2NiBhZGRyZXNzZXMgd2hpY2ggY29udGFpbiBbIGFuZCBdXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNPcGVuU3F1YXJlQnJhY2tldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaENsYXNzID0gMCAvKiBDaGFyYWN0ZXJDbGFzcy5Ob25lICovO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hDbGFzcyA9IGNsYXNzaWZpZXIuZ2V0KGNoQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY2hhcmFjdGVyIHRlcm1pbmF0ZXMgbGlua1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hDbGFzcyA9PT0gMSAvKiBDaGFyYWN0ZXJDbGFzcy5Gb3JjZVRlcm1pbmF0aW9uICovKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldFN0YXRlTWFjaGluZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEzIC8qIFN0YXRlLkFjY2VwdCAqLztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBzdGF0ZU1hY2hpbmUubmV4dFN0YXRlKHN0YXRlLCBjaENvZGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdGUgPT09IDAgLyogU3RhdGUuSW52YWxpZCAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRTdGF0ZU1hY2hpbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNldFN0YXRlTWFjaGluZSkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IDEgLyogU3RhdGUuU3RhcnQgKi87XG4gICAgICAgICAgICAgICAgICAgIGhhc09wZW5QYXJlbnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlblNxdWFyZUJyYWNrZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaGFzT3BlbkN1cmx5QnJhY2tldCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZWNvcmQgd2hlcmUgdGhlIGxpbmsgc3RhcnRlZFxuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5JbmRleCA9IGogKyAxO1xuICAgICAgICAgICAgICAgICAgICBsaW5rQmVnaW5DaENvZGUgPSBjaENvZGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMTMgLyogU3RhdGUuQWNjZXB0ICovKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goTGlua0NvbXB1dGVyLl9jcmVhdGVMaW5rKGNsYXNzaWZpZXIsIGxpbmUsIGksIGxpbmtCZWdpbkluZGV4LCBsZW4pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbi8qKlxuICogUmV0dXJucyBhbiBhcnJheSBvZiBhbGwgbGlua3MgY29udGFpbnMgaW4gdGhlIHByb3ZpZGVkXG4gKiBkb2N1bWVudC4gKk5vdGUqIHRoYXQgdGhpcyBvcGVyYXRpb24gaXMgY29tcHV0YXRpb25hbFxuICogZXhwZW5zaXZlIGFuZCBzaG91bGQgbm90IHJ1biBpbiB0aGUgVUkgdGhyZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZUxpbmtzKG1vZGVsKSB7XG4gICAgaWYgKCFtb2RlbCB8fCB0eXBlb2YgbW9kZWwuZ2V0TGluZUNvdW50ICE9PSAnZnVuY3Rpb24nIHx8IHR5cGVvZiBtb2RlbC5nZXRMaW5lQ29udGVudCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVbmtub3duIGNhbGxlciFcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gTGlua0NvbXB1dGVyLmNvbXB1dGVMaW5rcyhtb2RlbCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmV4cG9ydCBjbGFzcyBCYXNpY0lucGxhY2VSZXBsYWNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZGVmYXVsdFZhbHVlU2V0ID0gW1xuICAgICAgICAgICAgWyd0cnVlJywgJ2ZhbHNlJ10sXG4gICAgICAgICAgICBbJ1RydWUnLCAnRmFsc2UnXSxcbiAgICAgICAgICAgIFsnUHJpdmF0ZScsICdQdWJsaWMnLCAnRnJpZW5kJywgJ1JlYWRPbmx5JywgJ1BhcnRpYWwnLCAnUHJvdGVjdGVkJywgJ1dyaXRlT25seSddLFxuICAgICAgICAgICAgWydwdWJsaWMnLCAncHJvdGVjdGVkJywgJ3ByaXZhdGUnXSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgbmF2aWdhdGVWYWx1ZVNldChyYW5nZTEsIHRleHQxLCByYW5nZTIsIHRleHQyLCB1cCkge1xuICAgICAgICBpZiAocmFuZ2UxICYmIHRleHQxKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0MSwgdXApO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiByYW5nZTEsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXN1bHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChyYW5nZTIgJiYgdGV4dDIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuZG9OYXZpZ2F0ZVZhbHVlU2V0KHRleHQyLCB1cCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2U6IHJhbmdlMixcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGRvTmF2aWdhdGVWYWx1ZVNldCh0ZXh0LCB1cCkge1xuICAgICAgICBjb25zdCBudW1iZXJSZXN1bHQgPSB0aGlzLm51bWJlclJlcGxhY2UodGV4dCwgdXApO1xuICAgICAgICBpZiAobnVtYmVyUmVzdWx0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyUmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRleHRSZXBsYWNlKHRleHQsIHVwKTtcbiAgICB9XG4gICAgbnVtYmVyUmVwbGFjZSh2YWx1ZSwgdXApIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gTWF0aC5wb3coMTAsIHZhbHVlLmxlbmd0aCAtICh2YWx1ZS5sYXN0SW5kZXhPZignLicpICsgMSkpO1xuICAgICAgICBsZXQgbjEgPSBOdW1iZXIodmFsdWUpO1xuICAgICAgICBjb25zdCBuMiA9IHBhcnNlRmxvYXQodmFsdWUpO1xuICAgICAgICBpZiAoIWlzTmFOKG4xKSAmJiAhaXNOYU4objIpICYmIG4xID09PSBuMikge1xuICAgICAgICAgICAgaWYgKG4xID09PSAwICYmICF1cCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsOyAvLyBkb24ndCBkbyBuZWdhdGl2ZVxuICAgICAgICAgICAgICAgIC8vXHRcdFx0fSBlbHNlIGlmKG4xID09PSA5ICYmIHVwKSB7XG4gICAgICAgICAgICAgICAgLy9cdFx0XHRcdHJldHVybiBudWxsOyAvLyBkb24ndCBpbnNlcnQgMTAgaW50byBhIG51bWJlclxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbjEgPSBNYXRoLmZsb29yKG4xICogcHJlY2lzaW9uKTtcbiAgICAgICAgICAgICAgICBuMSArPSB1cCA/IHByZWNpc2lvbiA6IC1wcmVjaXNpb247XG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhuMSAvIHByZWNpc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHRleHRSZXBsYWNlKHZhbHVlLCB1cCkge1xuICAgICAgICByZXR1cm4gdGhpcy52YWx1ZVNldHNSZXBsYWNlKHRoaXMuX2RlZmF1bHRWYWx1ZVNldCwgdmFsdWUsIHVwKTtcbiAgICB9XG4gICAgdmFsdWVTZXRzUmVwbGFjZSh2YWx1ZVNldHMsIHZhbHVlLCB1cCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHZhbHVlU2V0cy5sZW5ndGg7IHJlc3VsdCA9PT0gbnVsbCAmJiBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMudmFsdWVTZXRSZXBsYWNlKHZhbHVlU2V0c1tpXSwgdmFsdWUsIHVwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICB2YWx1ZVNldFJlcGxhY2UodmFsdWVTZXQsIHZhbHVlLCB1cCkge1xuICAgICAgICBsZXQgaWR4ID0gdmFsdWVTZXQuaW5kZXhPZih2YWx1ZSk7XG4gICAgICAgIGlmIChpZHggPj0gMCkge1xuICAgICAgICAgICAgaWR4ICs9IHVwID8gKzEgOiAtMTtcbiAgICAgICAgICAgIGlmIChpZHggPCAwKSB7XG4gICAgICAgICAgICAgICAgaWR4ID0gdmFsdWVTZXQubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlkeCAlPSB2YWx1ZVNldC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVTZXRbaWR4XTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5CYXNpY0lucGxhY2VSZXBsYWNlLklOU1RBTkNFID0gbmV3IEJhc2ljSW5wbGFjZVJlcGxhY2UoKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgRW1pdHRlciwgRXZlbnQgfSBmcm9tICcuL2V2ZW50LmpzJztcbmNvbnN0IHNob3J0Y3V0RXZlbnQgPSBPYmplY3QuZnJlZXplKGZ1bmN0aW9uIChjYWxsYmFjaywgY29udGV4dCkge1xuICAgIGNvbnN0IGhhbmRsZSA9IHNldFRpbWVvdXQoY2FsbGJhY2suYmluZChjb250ZXh0KSwgMCk7XG4gICAgcmV0dXJuIHsgZGlzcG9zZSgpIHsgY2xlYXJUaW1lb3V0KGhhbmRsZSk7IH0gfTtcbn0pO1xuZXhwb3J0IHZhciBDYW5jZWxsYXRpb25Ub2tlbjtcbihmdW5jdGlvbiAoQ2FuY2VsbGF0aW9uVG9rZW4pIHtcbiAgICBmdW5jdGlvbiBpc0NhbmNlbGxhdGlvblRva2VuKHRoaW5nKSB7XG4gICAgICAgIGlmICh0aGluZyA9PT0gQ2FuY2VsbGF0aW9uVG9rZW4uTm9uZSB8fCB0aGluZyA9PT0gQ2FuY2VsbGF0aW9uVG9rZW4uQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpbmcgaW5zdGFuY2VvZiBNdXRhYmxlVG9rZW4pIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpbmcgfHwgdHlwZW9mIHRoaW5nICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2YgdGhpbmcuaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQgPT09ICdib29sZWFuJ1xuICAgICAgICAgICAgJiYgdHlwZW9mIHRoaW5nLm9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkID09PSAnZnVuY3Rpb24nO1xuICAgIH1cbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5pc0NhbmNlbGxhdGlvblRva2VuID0gaXNDYW5jZWxsYXRpb25Ub2tlbjtcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5Ob25lID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgICAgIGlzQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiBmYWxzZSxcbiAgICAgICAgb25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6IEV2ZW50Lk5vbmVcbiAgICB9KTtcbiAgICBDYW5jZWxsYXRpb25Ub2tlbi5DYW5jZWxsZWQgPSBPYmplY3QuZnJlZXplKHtcbiAgICAgICAgaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQ6IHRydWUsXG4gICAgICAgIG9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkOiBzaG9ydGN1dEV2ZW50XG4gICAgfSk7XG59KShDYW5jZWxsYXRpb25Ub2tlbiB8fCAoQ2FuY2VsbGF0aW9uVG9rZW4gPSB7fSkpO1xuY2xhc3MgTXV0YWJsZVRva2VuIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5faXNDYW5jZWxsZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZW1pdHRlciA9IG51bGw7XG4gICAgfVxuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9pc0NhbmNlbGxlZCkge1xuICAgICAgICAgICAgdGhpcy5faXNDYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2VtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmZpcmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXNDYW5jZWxsYXRpb25SZXF1ZXN0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0NhbmNlbGxlZDtcbiAgICB9XG4gICAgZ2V0IG9uQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5faXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBzaG9ydGN1dEV2ZW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fZW1pdHRlcikge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlciA9IG5ldyBFbWl0dGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXR0ZXIuZXZlbnQ7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9lbWl0dGVyKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXR0ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENhbmNlbGxhdGlvblRva2VuU291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQpIHtcbiAgICAgICAgdGhpcy5fdG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3BhcmVudExpc3RlbmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9wYXJlbnRMaXN0ZW5lciA9IHBhcmVudCAmJiBwYXJlbnQub25DYW5jZWxsYXRpb25SZXF1ZXN0ZWQodGhpcy5jYW5jZWwsIHRoaXMpO1xuICAgIH1cbiAgICBnZXQgdG9rZW4oKSB7XG4gICAgICAgIGlmICghdGhpcy5fdG9rZW4pIHtcbiAgICAgICAgICAgIC8vIGJlIGxhenkgYW5kIGNyZWF0ZSB0aGUgdG9rZW4gb25seSB3aGVuXG4gICAgICAgICAgICAvLyBhY3R1YWxseSBuZWVkZWRcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gbmV3IE11dGFibGVUb2tlbigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90b2tlbjtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Rva2VuKSB7XG4gICAgICAgICAgICAvLyBzYXZlIGFuIG9iamVjdCBieSByZXR1cm5pbmcgdGhlIGRlZmF1bHRcbiAgICAgICAgICAgIC8vIGNhbmNlbGxlZCB0b2tlbiB3aGVuIGNhbmNlbGxhdGlvbiBoYXBwZW5zXG4gICAgICAgICAgICAvLyBiZWZvcmUgc29tZW9uZSBhc2tzIGZvciB0aGUgdG9rZW5cbiAgICAgICAgICAgIHRoaXMuX3Rva2VuID0gQ2FuY2VsbGF0aW9uVG9rZW4uQ2FuY2VsbGVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX3Rva2VuIGluc3RhbmNlb2YgTXV0YWJsZVRva2VuKSB7XG4gICAgICAgICAgICAvLyBhY3R1YWxseSBjYW5jZWxcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRpc3Bvc2UoY2FuY2VsID0gZmFsc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoY2FuY2VsKSB7XG4gICAgICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIChfYSA9IHRoaXMuX3BhcmVudExpc3RlbmVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlzcG9zZSgpO1xuICAgICAgICBpZiAoIXRoaXMuX3Rva2VuKSB7XG4gICAgICAgICAgICAvLyBlbnN1cmUgdG8gaW5pdGlhbGl6ZSB3aXRoIGFuIGVtcHR5IHRva2VuIGlmIHdlIGhhZCBub25lXG4gICAgICAgICAgICB0aGlzLl90b2tlbiA9IENhbmNlbGxhdGlvblRva2VuLk5vbmU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fdG9rZW4gaW5zdGFuY2VvZiBNdXRhYmxlVG9rZW4pIHtcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGRpc3Bvc2VcbiAgICAgICAgICAgIHRoaXMuX3Rva2VuLmRpc3Bvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuY2xhc3MgS2V5Q29kZVN0ck1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2tleUNvZGVUb1N0ciA9IFtdO1xuICAgICAgICB0aGlzLl9zdHJUb0tleUNvZGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgICBkZWZpbmUoa2V5Q29kZSwgc3RyKSB7XG4gICAgICAgIHRoaXMuX2tleUNvZGVUb1N0cltrZXlDb2RlXSA9IHN0cjtcbiAgICAgICAgdGhpcy5fc3RyVG9LZXlDb2RlW3N0ci50b0xvd2VyQ2FzZSgpXSA9IGtleUNvZGU7XG4gICAgfVxuICAgIGtleUNvZGVUb1N0cihrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXlDb2RlVG9TdHJba2V5Q29kZV07XG4gICAgfVxuICAgIHN0clRvS2V5Q29kZShzdHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0clRvS2V5Q29kZVtzdHIudG9Mb3dlckNhc2UoKV0gfHwgMCAvKiBLZXlDb2RlLlVua25vd24gKi87XG4gICAgfVxufVxuY29uc3QgdWlNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xuY29uc3QgdXNlclNldHRpbmdzVVNNYXAgPSBuZXcgS2V5Q29kZVN0ck1hcCgpO1xuY29uc3QgdXNlclNldHRpbmdzR2VuZXJhbE1hcCA9IG5ldyBLZXlDb2RlU3RyTWFwKCk7XG5leHBvcnQgY29uc3QgRVZFTlRfS0VZX0NPREVfTUFQID0gbmV3IEFycmF5KDIzMCk7XG5leHBvcnQgY29uc3QgTkFUSVZFX1dJTkRPV1NfS0VZX0NPREVfVE9fS0VZX0NPREUgPSB7fTtcbmNvbnN0IHNjYW5Db2RlSW50VG9TdHIgPSBbXTtcbmNvbnN0IHNjYW5Db2RlU3RyVG9JbnQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3Qgc2NhbkNvZGVMb3dlckNhc2VTdHJUb0ludCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKipcbiAqIC0xIGlmIGEgU2NhbkNvZGUgPT4gS2V5Q29kZSBtYXBwaW5nIGRlcGVuZHMgb24ga2IgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3QgSU1NVVRBQkxFX0NPREVfVE9fS0VZX0NPREUgPSBbXTtcbi8qKlxuICogLTEgaWYgYSBLZXlDb2RlID0+IFNjYW5Db2RlIG1hcHBpbmcgZGVwZW5kcyBvbiBrYiBsYXlvdXQuXG4gKi9cbmV4cG9ydCBjb25zdCBJTU1VVEFCTEVfS0VZX0NPREVfVE9fQ09ERSA9IFtdO1xuZm9yIChsZXQgaSA9IDA7IGkgPD0gMTkzIC8qIFNjYW5Db2RlLk1BWF9WQUxVRSAqLzsgaSsrKSB7XG4gICAgSU1NVVRBQkxFX0NPREVfVE9fS0VZX0NPREVbaV0gPSAtMSAvKiBLZXlDb2RlLkRlcGVuZHNPbktiTGF5b3V0ICovO1xufVxuZm9yIChsZXQgaSA9IDA7IGkgPD0gMTMyIC8qIEtleUNvZGUuTUFYX1ZBTFVFICovOyBpKyspIHtcbiAgICBJTU1VVEFCTEVfS0VZX0NPREVfVE9fQ09ERVtpXSA9IC0xIC8qIFNjYW5Db2RlLkRlcGVuZHNPbktiTGF5b3V0ICovO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBTZWUgaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS93aW5kb3dzL2Rlc2t0b3AvZGQzNzU3MzEodj12cy44NSkuYXNweFxuICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L25vZGUtbmF0aXZlLWtleW1hcC9ibG9iLzg4YzBiMGU1L2RlcHMvY2hyb21pdW0va2V5Ym9hcmRfY29kZXNfd2luLmhcbiAgICBjb25zdCBlbXB0eSA9ICcnO1xuICAgIGNvbnN0IG1hcHBpbmdzID0gW1xuICAgICAgICAvLyBpbW11dGFibGUsIHNjYW5Db2RlLCBzY2FuQ29kZVN0ciwga2V5Q29kZSwga2V5Q29kZVN0ciwgZXZlbnRLZXlDb2RlLCB2a2V5LCB1c1VzZXJTZXR0aW5nc0xhYmVsLCBnZW5lcmFsVXNlclNldHRpbmdzTGFiZWxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgJ05vbmUnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgJ3Vua25vd24nLCAwLCAnVktfVU5LTk9XTicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxIC8qIFNjYW5Db2RlLkh5cGVyICovLCAnSHlwZXInLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMiAvKiBTY2FuQ29kZS5TdXBlciAqLywgJ1N1cGVyJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDMgLyogU2NhbkNvZGUuRm4gKi8sICdGbicsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA0IC8qIFNjYW5Db2RlLkZuTG9jayAqLywgJ0ZuTG9jaycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA1IC8qIFNjYW5Db2RlLlN1c3BlbmQgKi8sICdTdXNwZW5kJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDYgLyogU2NhbkNvZGUuUmVzdW1lICovLCAnUmVzdW1lJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDcgLyogU2NhbkNvZGUuVHVyYm8gKi8sICdUdXJibycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA4IC8qIFNjYW5Db2RlLlNsZWVwICovLCAnU2xlZXAnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19TTEVFUCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA5IC8qIFNjYW5Db2RlLldha2VVcCAqLywgJ1dha2VVcCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAxMCAvKiBTY2FuQ29kZS5LZXlBICovLCAnS2V5QScsIDMxIC8qIEtleUNvZGUuS2V5QSAqLywgJ0EnLCA2NSwgJ1ZLX0EnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMTEgLyogU2NhbkNvZGUuS2V5QiAqLywgJ0tleUInLCAzMiAvKiBLZXlDb2RlLktleUIgKi8sICdCJywgNjYsICdWS19CJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDEyIC8qIFNjYW5Db2RlLktleUMgKi8sICdLZXlDJywgMzMgLyogS2V5Q29kZS5LZXlDICovLCAnQycsIDY3LCAnVktfQycsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAxMyAvKiBTY2FuQ29kZS5LZXlEICovLCAnS2V5RCcsIDM0IC8qIEtleUNvZGUuS2V5RCAqLywgJ0QnLCA2OCwgJ1ZLX0QnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMTQgLyogU2NhbkNvZGUuS2V5RSAqLywgJ0tleUUnLCAzNSAvKiBLZXlDb2RlLktleUUgKi8sICdFJywgNjksICdWS19FJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDE1IC8qIFNjYW5Db2RlLktleUYgKi8sICdLZXlGJywgMzYgLyogS2V5Q29kZS5LZXlGICovLCAnRicsIDcwLCAnVktfRicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAxNiAvKiBTY2FuQ29kZS5LZXlHICovLCAnS2V5RycsIDM3IC8qIEtleUNvZGUuS2V5RyAqLywgJ0cnLCA3MSwgJ1ZLX0cnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMTcgLyogU2NhbkNvZGUuS2V5SCAqLywgJ0tleUgnLCAzOCAvKiBLZXlDb2RlLktleUggKi8sICdIJywgNzIsICdWS19IJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDE4IC8qIFNjYW5Db2RlLktleUkgKi8sICdLZXlJJywgMzkgLyogS2V5Q29kZS5LZXlJICovLCAnSScsIDczLCAnVktfSScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAxOSAvKiBTY2FuQ29kZS5LZXlKICovLCAnS2V5SicsIDQwIC8qIEtleUNvZGUuS2V5SiAqLywgJ0onLCA3NCwgJ1ZLX0onLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMjAgLyogU2NhbkNvZGUuS2V5SyAqLywgJ0tleUsnLCA0MSAvKiBLZXlDb2RlLktleUsgKi8sICdLJywgNzUsICdWS19LJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDIxIC8qIFNjYW5Db2RlLktleUwgKi8sICdLZXlMJywgNDIgLyogS2V5Q29kZS5LZXlMICovLCAnTCcsIDc2LCAnVktfTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAyMiAvKiBTY2FuQ29kZS5LZXlNICovLCAnS2V5TScsIDQzIC8qIEtleUNvZGUuS2V5TSAqLywgJ00nLCA3NywgJ1ZLX00nLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMjMgLyogU2NhbkNvZGUuS2V5TiAqLywgJ0tleU4nLCA0NCAvKiBLZXlDb2RlLktleU4gKi8sICdOJywgNzgsICdWS19OJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDI0IC8qIFNjYW5Db2RlLktleU8gKi8sICdLZXlPJywgNDUgLyogS2V5Q29kZS5LZXlPICovLCAnTycsIDc5LCAnVktfTycsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAyNSAvKiBTY2FuQ29kZS5LZXlQICovLCAnS2V5UCcsIDQ2IC8qIEtleUNvZGUuS2V5UCAqLywgJ1AnLCA4MCwgJ1ZLX1AnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMjYgLyogU2NhbkNvZGUuS2V5USAqLywgJ0tleVEnLCA0NyAvKiBLZXlDb2RlLktleVEgKi8sICdRJywgODEsICdWS19RJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDI3IC8qIFNjYW5Db2RlLktleVIgKi8sICdLZXlSJywgNDggLyogS2V5Q29kZS5LZXlSICovLCAnUicsIDgyLCAnVktfUicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAyOCAvKiBTY2FuQ29kZS5LZXlTICovLCAnS2V5UycsIDQ5IC8qIEtleUNvZGUuS2V5UyAqLywgJ1MnLCA4MywgJ1ZLX1MnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMjkgLyogU2NhbkNvZGUuS2V5VCAqLywgJ0tleVQnLCA1MCAvKiBLZXlDb2RlLktleVQgKi8sICdUJywgODQsICdWS19UJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDMwIC8qIFNjYW5Db2RlLktleVUgKi8sICdLZXlVJywgNTEgLyogS2V5Q29kZS5LZXlVICovLCAnVScsIDg1LCAnVktfVScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAzMSAvKiBTY2FuQ29kZS5LZXlWICovLCAnS2V5VicsIDUyIC8qIEtleUNvZGUuS2V5ViAqLywgJ1YnLCA4NiwgJ1ZLX1YnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMzIgLyogU2NhbkNvZGUuS2V5VyAqLywgJ0tleVcnLCA1MyAvKiBLZXlDb2RlLktleVcgKi8sICdXJywgODcsICdWS19XJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDMzIC8qIFNjYW5Db2RlLktleVggKi8sICdLZXlYJywgNTQgLyogS2V5Q29kZS5LZXlYICovLCAnWCcsIDg4LCAnVktfWCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAzNCAvKiBTY2FuQ29kZS5LZXlZICovLCAnS2V5WScsIDU1IC8qIEtleUNvZGUuS2V5WSAqLywgJ1knLCA4OSwgJ1ZLX1knLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMzUgLyogU2NhbkNvZGUuS2V5WiAqLywgJ0tleVonLCA1NiAvKiBLZXlDb2RlLktleVogKi8sICdaJywgOTAsICdWS19aJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDM2IC8qIFNjYW5Db2RlLkRpZ2l0MSAqLywgJ0RpZ2l0MScsIDIyIC8qIEtleUNvZGUuRGlnaXQxICovLCAnMScsIDQ5LCAnVktfMScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAzNyAvKiBTY2FuQ29kZS5EaWdpdDIgKi8sICdEaWdpdDInLCAyMyAvKiBLZXlDb2RlLkRpZ2l0MiAqLywgJzInLCA1MCwgJ1ZLXzInLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMzggLyogU2NhbkNvZGUuRGlnaXQzICovLCAnRGlnaXQzJywgMjQgLyogS2V5Q29kZS5EaWdpdDMgKi8sICczJywgNTEsICdWS18zJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDM5IC8qIFNjYW5Db2RlLkRpZ2l0NCAqLywgJ0RpZ2l0NCcsIDI1IC8qIEtleUNvZGUuRGlnaXQ0ICovLCAnNCcsIDUyLCAnVktfNCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCA0MCAvKiBTY2FuQ29kZS5EaWdpdDUgKi8sICdEaWdpdDUnLCAyNiAvKiBLZXlDb2RlLkRpZ2l0NSAqLywgJzUnLCA1MywgJ1ZLXzUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgNDEgLyogU2NhbkNvZGUuRGlnaXQ2ICovLCAnRGlnaXQ2JywgMjcgLyogS2V5Q29kZS5EaWdpdDYgKi8sICc2JywgNTQsICdWS182JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDQyIC8qIFNjYW5Db2RlLkRpZ2l0NyAqLywgJ0RpZ2l0NycsIDI4IC8qIEtleUNvZGUuRGlnaXQ3ICovLCAnNycsIDU1LCAnVktfNycsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCA0MyAvKiBTY2FuQ29kZS5EaWdpdDggKi8sICdEaWdpdDgnLCAyOSAvKiBLZXlDb2RlLkRpZ2l0OCAqLywgJzgnLCA1NiwgJ1ZLXzgnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgNDQgLyogU2NhbkNvZGUuRGlnaXQ5ICovLCAnRGlnaXQ5JywgMzAgLyogS2V5Q29kZS5EaWdpdDkgKi8sICc5JywgNTcsICdWS185JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDQ1IC8qIFNjYW5Db2RlLkRpZ2l0MCAqLywgJ0RpZ2l0MCcsIDIxIC8qIEtleUNvZGUuRGlnaXQwICovLCAnMCcsIDQ4LCAnVktfMCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA0NiAvKiBTY2FuQ29kZS5FbnRlciAqLywgJ0VudGVyJywgMyAvKiBLZXlDb2RlLkVudGVyICovLCAnRW50ZXInLCAxMywgJ1ZLX1JFVFVSTicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA0NyAvKiBTY2FuQ29kZS5Fc2NhcGUgKi8sICdFc2NhcGUnLCA5IC8qIEtleUNvZGUuRXNjYXBlICovLCAnRXNjYXBlJywgMjcsICdWS19FU0NBUEUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNDggLyogU2NhbkNvZGUuQmFja3NwYWNlICovLCAnQmFja3NwYWNlJywgMSAvKiBLZXlDb2RlLkJhY2tzcGFjZSAqLywgJ0JhY2tzcGFjZScsIDgsICdWS19CQUNLJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDQ5IC8qIFNjYW5Db2RlLlRhYiAqLywgJ1RhYicsIDIgLyogS2V5Q29kZS5UYWIgKi8sICdUYWInLCA5LCAnVktfVEFCJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDUwIC8qIFNjYW5Db2RlLlNwYWNlICovLCAnU3BhY2UnLCAxMCAvKiBLZXlDb2RlLlNwYWNlICovLCAnU3BhY2UnLCAzMiwgJ1ZLX1NQQUNFJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzAsIDUxIC8qIFNjYW5Db2RlLk1pbnVzICovLCAnTWludXMnLCA4OCAvKiBLZXlDb2RlLk1pbnVzICovLCAnLScsIDE4OSwgJ1ZLX09FTV9NSU5VUycsICctJywgJ09FTV9NSU5VUyddLFxuICAgICAgICBbMCwgNTIgLyogU2NhbkNvZGUuRXF1YWwgKi8sICdFcXVhbCcsIDg2IC8qIEtleUNvZGUuRXF1YWwgKi8sICc9JywgMTg3LCAnVktfT0VNX1BMVVMnLCAnPScsICdPRU1fUExVUyddLFxuICAgICAgICBbMCwgNTMgLyogU2NhbkNvZGUuQnJhY2tldExlZnQgKi8sICdCcmFja2V0TGVmdCcsIDkyIC8qIEtleUNvZGUuQnJhY2tldExlZnQgKi8sICdbJywgMjE5LCAnVktfT0VNXzQnLCAnWycsICdPRU1fNCddLFxuICAgICAgICBbMCwgNTQgLyogU2NhbkNvZGUuQnJhY2tldFJpZ2h0ICovLCAnQnJhY2tldFJpZ2h0JywgOTQgLyogS2V5Q29kZS5CcmFja2V0UmlnaHQgKi8sICddJywgMjIxLCAnVktfT0VNXzYnLCAnXScsICdPRU1fNiddLFxuICAgICAgICBbMCwgNTUgLyogU2NhbkNvZGUuQmFja3NsYXNoICovLCAnQmFja3NsYXNoJywgOTMgLyogS2V5Q29kZS5CYWNrc2xhc2ggKi8sICdcXFxcJywgMjIwLCAnVktfT0VNXzUnLCAnXFxcXCcsICdPRU1fNSddLFxuICAgICAgICBbMCwgNTYgLyogU2NhbkNvZGUuSW50bEhhc2ggKi8sICdJbnRsSGFzaCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sIC8vIGhhcyBiZWVuIGRyb3BwZWQgZnJvbSB0aGUgdzNjIHNwZWNcbiAgICAgICAgWzAsIDU3IC8qIFNjYW5Db2RlLlNlbWljb2xvbiAqLywgJ1NlbWljb2xvbicsIDg1IC8qIEtleUNvZGUuU2VtaWNvbG9uICovLCAnOycsIDE4NiwgJ1ZLX09FTV8xJywgJzsnLCAnT0VNXzEnXSxcbiAgICAgICAgWzAsIDU4IC8qIFNjYW5Db2RlLlF1b3RlICovLCAnUXVvdGUnLCA5NSAvKiBLZXlDb2RlLlF1b3RlICovLCAnXFwnJywgMjIyLCAnVktfT0VNXzcnLCAnXFwnJywgJ09FTV83J10sXG4gICAgICAgIFswLCA1OSAvKiBTY2FuQ29kZS5CYWNrcXVvdGUgKi8sICdCYWNrcXVvdGUnLCA5MSAvKiBLZXlDb2RlLkJhY2txdW90ZSAqLywgJ2AnLCAxOTIsICdWS19PRU1fMycsICdgJywgJ09FTV8zJ10sXG4gICAgICAgIFswLCA2MCAvKiBTY2FuQ29kZS5Db21tYSAqLywgJ0NvbW1hJywgODcgLyogS2V5Q29kZS5Db21tYSAqLywgJywnLCAxODgsICdWS19PRU1fQ09NTUEnLCAnLCcsICdPRU1fQ09NTUEnXSxcbiAgICAgICAgWzAsIDYxIC8qIFNjYW5Db2RlLlBlcmlvZCAqLywgJ1BlcmlvZCcsIDg5IC8qIEtleUNvZGUuUGVyaW9kICovLCAnLicsIDE5MCwgJ1ZLX09FTV9QRVJJT0QnLCAnLicsICdPRU1fUEVSSU9EJ10sXG4gICAgICAgIFswLCA2MiAvKiBTY2FuQ29kZS5TbGFzaCAqLywgJ1NsYXNoJywgOTAgLyogS2V5Q29kZS5TbGFzaCAqLywgJy8nLCAxOTEsICdWS19PRU1fMicsICcvJywgJ09FTV8yJ10sXG4gICAgICAgIFsxLCA2MyAvKiBTY2FuQ29kZS5DYXBzTG9jayAqLywgJ0NhcHNMb2NrJywgOCAvKiBLZXlDb2RlLkNhcHNMb2NrICovLCAnQ2Fwc0xvY2snLCAyMCwgJ1ZLX0NBUElUQUwnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNjQgLyogU2NhbkNvZGUuRjEgKi8sICdGMScsIDU5IC8qIEtleUNvZGUuRjEgKi8sICdGMScsIDExMiwgJ1ZLX0YxJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDY1IC8qIFNjYW5Db2RlLkYyICovLCAnRjInLCA2MCAvKiBLZXlDb2RlLkYyICovLCAnRjInLCAxMTMsICdWS19GMicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA2NiAvKiBTY2FuQ29kZS5GMyAqLywgJ0YzJywgNjEgLyogS2V5Q29kZS5GMyAqLywgJ0YzJywgMTE0LCAnVktfRjMnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNjcgLyogU2NhbkNvZGUuRjQgKi8sICdGNCcsIDYyIC8qIEtleUNvZGUuRjQgKi8sICdGNCcsIDExNSwgJ1ZLX0Y0JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDY4IC8qIFNjYW5Db2RlLkY1ICovLCAnRjUnLCA2MyAvKiBLZXlDb2RlLkY1ICovLCAnRjUnLCAxMTYsICdWS19GNScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA2OSAvKiBTY2FuQ29kZS5GNiAqLywgJ0Y2JywgNjQgLyogS2V5Q29kZS5GNiAqLywgJ0Y2JywgMTE3LCAnVktfRjYnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzAgLyogU2NhbkNvZGUuRjcgKi8sICdGNycsIDY1IC8qIEtleUNvZGUuRjcgKi8sICdGNycsIDExOCwgJ1ZLX0Y3JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDcxIC8qIFNjYW5Db2RlLkY4ICovLCAnRjgnLCA2NiAvKiBLZXlDb2RlLkY4ICovLCAnRjgnLCAxMTksICdWS19GOCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA3MiAvKiBTY2FuQ29kZS5GOSAqLywgJ0Y5JywgNjcgLyogS2V5Q29kZS5GOSAqLywgJ0Y5JywgMTIwLCAnVktfRjknLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzMgLyogU2NhbkNvZGUuRjEwICovLCAnRjEwJywgNjggLyogS2V5Q29kZS5GMTAgKi8sICdGMTAnLCAxMjEsICdWS19GMTAnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzQgLyogU2NhbkNvZGUuRjExICovLCAnRjExJywgNjkgLyogS2V5Q29kZS5GMTEgKi8sICdGMTEnLCAxMjIsICdWS19GMTEnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzUgLyogU2NhbkNvZGUuRjEyICovLCAnRjEyJywgNzAgLyogS2V5Q29kZS5GMTIgKi8sICdGMTInLCAxMjMsICdWS19GMTInLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzYgLyogU2NhbkNvZGUuUHJpbnRTY3JlZW4gKi8sICdQcmludFNjcmVlbicsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA3NyAvKiBTY2FuQ29kZS5TY3JvbGxMb2NrICovLCAnU2Nyb2xsTG9jaycsIDg0IC8qIEtleUNvZGUuU2Nyb2xsTG9jayAqLywgJ1Njcm9sbExvY2snLCAxNDUsICdWS19TQ1JPTEwnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzggLyogU2NhbkNvZGUuUGF1c2UgKi8sICdQYXVzZScsIDcgLyogS2V5Q29kZS5QYXVzZUJyZWFrICovLCAnUGF1c2VCcmVhaycsIDE5LCAnVktfUEFVU0UnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgNzkgLyogU2NhbkNvZGUuSW5zZXJ0ICovLCAnSW5zZXJ0JywgMTkgLyogS2V5Q29kZS5JbnNlcnQgKi8sICdJbnNlcnQnLCA0NSwgJ1ZLX0lOU0VSVCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA4MCAvKiBTY2FuQ29kZS5Ib21lICovLCAnSG9tZScsIDE0IC8qIEtleUNvZGUuSG9tZSAqLywgJ0hvbWUnLCAzNiwgJ1ZLX0hPTUUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgODEgLyogU2NhbkNvZGUuUGFnZVVwICovLCAnUGFnZVVwJywgMTEgLyogS2V5Q29kZS5QYWdlVXAgKi8sICdQYWdlVXAnLCAzMywgJ1ZLX1BSSU9SJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDgyIC8qIFNjYW5Db2RlLkRlbGV0ZSAqLywgJ0RlbGV0ZScsIDIwIC8qIEtleUNvZGUuRGVsZXRlICovLCAnRGVsZXRlJywgNDYsICdWS19ERUxFVEUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgODMgLyogU2NhbkNvZGUuRW5kICovLCAnRW5kJywgMTMgLyogS2V5Q29kZS5FbmQgKi8sICdFbmQnLCAzNSwgJ1ZLX0VORCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA4NCAvKiBTY2FuQ29kZS5QYWdlRG93biAqLywgJ1BhZ2VEb3duJywgMTIgLyogS2V5Q29kZS5QYWdlRG93biAqLywgJ1BhZ2VEb3duJywgMzQsICdWS19ORVhUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDg1IC8qIFNjYW5Db2RlLkFycm93UmlnaHQgKi8sICdBcnJvd1JpZ2h0JywgMTcgLyogS2V5Q29kZS5SaWdodEFycm93ICovLCAnUmlnaHRBcnJvdycsIDM5LCAnVktfUklHSFQnLCAnUmlnaHQnLCBlbXB0eV0sXG4gICAgICAgIFsxLCA4NiAvKiBTY2FuQ29kZS5BcnJvd0xlZnQgKi8sICdBcnJvd0xlZnQnLCAxNSAvKiBLZXlDb2RlLkxlZnRBcnJvdyAqLywgJ0xlZnRBcnJvdycsIDM3LCAnVktfTEVGVCcsICdMZWZ0JywgZW1wdHldLFxuICAgICAgICBbMSwgODcgLyogU2NhbkNvZGUuQXJyb3dEb3duICovLCAnQXJyb3dEb3duJywgMTggLyogS2V5Q29kZS5Eb3duQXJyb3cgKi8sICdEb3duQXJyb3cnLCA0MCwgJ1ZLX0RPV04nLCAnRG93bicsIGVtcHR5XSxcbiAgICAgICAgWzEsIDg4IC8qIFNjYW5Db2RlLkFycm93VXAgKi8sICdBcnJvd1VwJywgMTYgLyogS2V5Q29kZS5VcEFycm93ICovLCAnVXBBcnJvdycsIDM4LCAnVktfVVAnLCAnVXAnLCBlbXB0eV0sXG4gICAgICAgIFsxLCA4OSAvKiBTY2FuQ29kZS5OdW1Mb2NrICovLCAnTnVtTG9jaycsIDgzIC8qIEtleUNvZGUuTnVtTG9jayAqLywgJ051bUxvY2snLCAxNDQsICdWS19OVU1MT0NLJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDkwIC8qIFNjYW5Db2RlLk51bXBhZERpdmlkZSAqLywgJ051bXBhZERpdmlkZScsIDExMyAvKiBLZXlDb2RlLk51bXBhZERpdmlkZSAqLywgJ051bVBhZF9EaXZpZGUnLCAxMTEsICdWS19ESVZJREUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgOTEgLyogU2NhbkNvZGUuTnVtcGFkTXVsdGlwbHkgKi8sICdOdW1wYWRNdWx0aXBseScsIDEwOCAvKiBLZXlDb2RlLk51bXBhZE11bHRpcGx5ICovLCAnTnVtUGFkX011bHRpcGx5JywgMTA2LCAnVktfTVVMVElQTFknLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgOTIgLyogU2NhbkNvZGUuTnVtcGFkU3VidHJhY3QgKi8sICdOdW1wYWRTdWJ0cmFjdCcsIDExMSAvKiBLZXlDb2RlLk51bXBhZFN1YnRyYWN0ICovLCAnTnVtUGFkX1N1YnRyYWN0JywgMTA5LCAnVktfU1VCVFJBQ1QnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgOTMgLyogU2NhbkNvZGUuTnVtcGFkQWRkICovLCAnTnVtcGFkQWRkJywgMTA5IC8qIEtleUNvZGUuTnVtcGFkQWRkICovLCAnTnVtUGFkX0FkZCcsIDEwNywgJ1ZLX0FERCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA5NCAvKiBTY2FuQ29kZS5OdW1wYWRFbnRlciAqLywgJ051bXBhZEVudGVyJywgMyAvKiBLZXlDb2RlLkVudGVyICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA5NSAvKiBTY2FuQ29kZS5OdW1wYWQxICovLCAnTnVtcGFkMScsIDk5IC8qIEtleUNvZGUuTnVtcGFkMSAqLywgJ051bVBhZDEnLCA5NywgJ1ZLX05VTVBBRDEnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgOTYgLyogU2NhbkNvZGUuTnVtcGFkMiAqLywgJ051bXBhZDInLCAxMDAgLyogS2V5Q29kZS5OdW1wYWQyICovLCAnTnVtUGFkMicsIDk4LCAnVktfTlVNUEFEMicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCA5NyAvKiBTY2FuQ29kZS5OdW1wYWQzICovLCAnTnVtcGFkMycsIDEwMSAvKiBLZXlDb2RlLk51bXBhZDMgKi8sICdOdW1QYWQzJywgOTksICdWS19OVU1QQUQzJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDk4IC8qIFNjYW5Db2RlLk51bXBhZDQgKi8sICdOdW1wYWQ0JywgMTAyIC8qIEtleUNvZGUuTnVtcGFkNCAqLywgJ051bVBhZDQnLCAxMDAsICdWS19OVU1QQUQ0JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDk5IC8qIFNjYW5Db2RlLk51bXBhZDUgKi8sICdOdW1wYWQ1JywgMTAzIC8qIEtleUNvZGUuTnVtcGFkNSAqLywgJ051bVBhZDUnLCAxMDEsICdWS19OVU1QQUQ1JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEwMCAvKiBTY2FuQ29kZS5OdW1wYWQ2ICovLCAnTnVtcGFkNicsIDEwNCAvKiBLZXlDb2RlLk51bXBhZDYgKi8sICdOdW1QYWQ2JywgMTAyLCAnVktfTlVNUEFENicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMDEgLyogU2NhbkNvZGUuTnVtcGFkNyAqLywgJ051bXBhZDcnLCAxMDUgLyogS2V5Q29kZS5OdW1wYWQ3ICovLCAnTnVtUGFkNycsIDEwMywgJ1ZLX05VTVBBRDcnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTAyIC8qIFNjYW5Db2RlLk51bXBhZDggKi8sICdOdW1wYWQ4JywgMTA2IC8qIEtleUNvZGUuTnVtcGFkOCAqLywgJ051bVBhZDgnLCAxMDQsICdWS19OVU1QQUQ4JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEwMyAvKiBTY2FuQ29kZS5OdW1wYWQ5ICovLCAnTnVtcGFkOScsIDEwNyAvKiBLZXlDb2RlLk51bXBhZDkgKi8sICdOdW1QYWQ5JywgMTA1LCAnVktfTlVNUEFEOScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMDQgLyogU2NhbkNvZGUuTnVtcGFkMCAqLywgJ051bXBhZDAnLCA5OCAvKiBLZXlDb2RlLk51bXBhZDAgKi8sICdOdW1QYWQwJywgOTYsICdWS19OVU1QQUQwJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEwNSAvKiBTY2FuQ29kZS5OdW1wYWREZWNpbWFsICovLCAnTnVtcGFkRGVjaW1hbCcsIDExMiAvKiBLZXlDb2RlLk51bXBhZERlY2ltYWwgKi8sICdOdW1QYWRfRGVjaW1hbCcsIDExMCwgJ1ZLX0RFQ0lNQUwnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMTA2IC8qIFNjYW5Db2RlLkludGxCYWNrc2xhc2ggKi8sICdJbnRsQmFja3NsYXNoJywgOTcgLyogS2V5Q29kZS5JbnRsQmFja3NsYXNoICovLCAnT0VNXzEwMicsIDIyNiwgJ1ZLX09FTV8xMDInLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTA3IC8qIFNjYW5Db2RlLkNvbnRleHRNZW51ICovLCAnQ29udGV4dE1lbnUnLCA1OCAvKiBLZXlDb2RlLkNvbnRleHRNZW51ICovLCAnQ29udGV4dE1lbnUnLCA5MywgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMDggLyogU2NhbkNvZGUuUG93ZXIgKi8sICdQb3dlcicsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMDkgLyogU2NhbkNvZGUuTnVtcGFkRXF1YWwgKi8sICdOdW1wYWRFcXVhbCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMTAgLyogU2NhbkNvZGUuRjEzICovLCAnRjEzJywgNzEgLyogS2V5Q29kZS5GMTMgKi8sICdGMTMnLCAxMjQsICdWS19GMTMnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTExIC8qIFNjYW5Db2RlLkYxNCAqLywgJ0YxNCcsIDcyIC8qIEtleUNvZGUuRjE0ICovLCAnRjE0JywgMTI1LCAnVktfRjE0JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDExMiAvKiBTY2FuQ29kZS5GMTUgKi8sICdGMTUnLCA3MyAvKiBLZXlDb2RlLkYxNSAqLywgJ0YxNScsIDEyNiwgJ1ZLX0YxNScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMTMgLyogU2NhbkNvZGUuRjE2ICovLCAnRjE2JywgNzQgLyogS2V5Q29kZS5GMTYgKi8sICdGMTYnLCAxMjcsICdWS19GMTYnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTE0IC8qIFNjYW5Db2RlLkYxNyAqLywgJ0YxNycsIDc1IC8qIEtleUNvZGUuRjE3ICovLCAnRjE3JywgMTI4LCAnVktfRjE3JywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDExNSAvKiBTY2FuQ29kZS5GMTggKi8sICdGMTgnLCA3NiAvKiBLZXlDb2RlLkYxOCAqLywgJ0YxOCcsIDEyOSwgJ1ZLX0YxOCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMTYgLyogU2NhbkNvZGUuRjE5ICovLCAnRjE5JywgNzcgLyogS2V5Q29kZS5GMTkgKi8sICdGMTknLCAxMzAsICdWS19GMTknLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTE3IC8qIFNjYW5Db2RlLkYyMCAqLywgJ0YyMCcsIDc4IC8qIEtleUNvZGUuRjIwICovLCAnRjIwJywgMTMxLCAnVktfRjIwJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDExOCAvKiBTY2FuQ29kZS5GMjEgKi8sICdGMjEnLCA3OSAvKiBLZXlDb2RlLkYyMSAqLywgJ0YyMScsIDEzMiwgJ1ZLX0YyMScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMTkgLyogU2NhbkNvZGUuRjIyICovLCAnRjIyJywgODAgLyogS2V5Q29kZS5GMjIgKi8sICdGMjInLCAxMzMsICdWS19GMjInLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTIwIC8qIFNjYW5Db2RlLkYyMyAqLywgJ0YyMycsIDgxIC8qIEtleUNvZGUuRjIzICovLCAnRjIzJywgMTM0LCAnVktfRjIzJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEyMSAvKiBTY2FuQ29kZS5GMjQgKi8sICdGMjQnLCA4MiAvKiBLZXlDb2RlLkYyNCAqLywgJ0YyNCcsIDEzNSwgJ1ZLX0YyNCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMjIgLyogU2NhbkNvZGUuT3BlbiAqLywgJ09wZW4nLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTIzIC8qIFNjYW5Db2RlLkhlbHAgKi8sICdIZWxwJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEyNCAvKiBTY2FuQ29kZS5TZWxlY3QgKi8sICdTZWxlY3QnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTI1IC8qIFNjYW5Db2RlLkFnYWluICovLCAnQWdhaW4nLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTI2IC8qIFNjYW5Db2RlLlVuZG8gKi8sICdVbmRvJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEyNyAvKiBTY2FuQ29kZS5DdXQgKi8sICdDdXQnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTI4IC8qIFNjYW5Db2RlLkNvcHkgKi8sICdDb3B5JywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEyOSAvKiBTY2FuQ29kZS5QYXN0ZSAqLywgJ1Bhc3RlJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEzMCAvKiBTY2FuQ29kZS5GaW5kICovLCAnRmluZCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMzEgLyogU2NhbkNvZGUuQXVkaW9Wb2x1bWVNdXRlICovLCAnQXVkaW9Wb2x1bWVNdXRlJywgMTE3IC8qIEtleUNvZGUuQXVkaW9Wb2x1bWVNdXRlICovLCAnQXVkaW9Wb2x1bWVNdXRlJywgMTczLCAnVktfVk9MVU1FX01VVEUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTMyIC8qIFNjYW5Db2RlLkF1ZGlvVm9sdW1lVXAgKi8sICdBdWRpb1ZvbHVtZVVwJywgMTE4IC8qIEtleUNvZGUuQXVkaW9Wb2x1bWVVcCAqLywgJ0F1ZGlvVm9sdW1lVXAnLCAxNzUsICdWS19WT0xVTUVfVVAnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTMzIC8qIFNjYW5Db2RlLkF1ZGlvVm9sdW1lRG93biAqLywgJ0F1ZGlvVm9sdW1lRG93bicsIDExOSAvKiBLZXlDb2RlLkF1ZGlvVm9sdW1lRG93biAqLywgJ0F1ZGlvVm9sdW1lRG93bicsIDE3NCwgJ1ZLX1ZPTFVNRV9ET1dOJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEzNCAvKiBTY2FuQ29kZS5OdW1wYWRDb21tYSAqLywgJ051bXBhZENvbW1hJywgMTEwIC8qIEtleUNvZGUuTlVNUEFEX1NFUEFSQVRPUiAqLywgJ051bVBhZF9TZXBhcmF0b3InLCAxMDgsICdWS19TRVBBUkFUT1InLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMCwgMTM1IC8qIFNjYW5Db2RlLkludGxSbyAqLywgJ0ludGxSbycsIDExNSAvKiBLZXlDb2RlLkFCTlRfQzEgKi8sICdBQk5UX0MxJywgMTkzLCAnVktfQUJOVF9DMScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxMzYgLyogU2NhbkNvZGUuS2FuYU1vZGUgKi8sICdLYW5hTW9kZScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFswLCAxMzcgLyogU2NhbkNvZGUuSW50bFllbiAqLywgJ0ludGxZZW4nLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTM4IC8qIFNjYW5Db2RlLkNvbnZlcnQgKi8sICdDb252ZXJ0JywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDEzOSAvKiBTY2FuQ29kZS5Ob25Db252ZXJ0ICovLCAnTm9uQ29udmVydCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDAgLyogU2NhbkNvZGUuTGFuZzEgKi8sICdMYW5nMScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDEgLyogU2NhbkNvZGUuTGFuZzIgKi8sICdMYW5nMicsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDIgLyogU2NhbkNvZGUuTGFuZzMgKi8sICdMYW5nMycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDMgLyogU2NhbkNvZGUuTGFuZzQgKi8sICdMYW5nNCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDQgLyogU2NhbkNvZGUuTGFuZzUgKi8sICdMYW5nNScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDUgLyogU2NhbkNvZGUuQWJvcnQgKi8sICdBYm9ydCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDYgLyogU2NhbkNvZGUuUHJvcHMgKi8sICdQcm9wcycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDcgLyogU2NhbkNvZGUuTnVtcGFkUGFyZW5MZWZ0ICovLCAnTnVtcGFkUGFyZW5MZWZ0JywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE0OCAvKiBTY2FuQ29kZS5OdW1wYWRQYXJlblJpZ2h0ICovLCAnTnVtcGFkUGFyZW5SaWdodCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNDkgLyogU2NhbkNvZGUuTnVtcGFkQmFja3NwYWNlICovLCAnTnVtcGFkQmFja3NwYWNlJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE1MCAvKiBTY2FuQ29kZS5OdW1wYWRNZW1vcnlTdG9yZSAqLywgJ051bXBhZE1lbW9yeVN0b3JlJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE1MSAvKiBTY2FuQ29kZS5OdW1wYWRNZW1vcnlSZWNhbGwgKi8sICdOdW1wYWRNZW1vcnlSZWNhbGwnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTUyIC8qIFNjYW5Db2RlLk51bXBhZE1lbW9yeUNsZWFyICovLCAnTnVtcGFkTWVtb3J5Q2xlYXInLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTUzIC8qIFNjYW5Db2RlLk51bXBhZE1lbW9yeUFkZCAqLywgJ051bXBhZE1lbW9yeUFkZCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNTQgLyogU2NhbkNvZGUuTnVtcGFkTWVtb3J5U3VidHJhY3QgKi8sICdOdW1wYWRNZW1vcnlTdWJ0cmFjdCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNTUgLyogU2NhbkNvZGUuTnVtcGFkQ2xlYXIgKi8sICdOdW1wYWRDbGVhcicsIDEzMSAvKiBLZXlDb2RlLkNsZWFyICovLCAnQ2xlYXInLCAxMiwgJ1ZLX0NMRUFSJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE1NiAvKiBTY2FuQ29kZS5OdW1wYWRDbGVhckVudHJ5ICovLCAnTnVtcGFkQ2xlYXJFbnRyeScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCA1IC8qIEtleUNvZGUuQ3RybCAqLywgJ0N0cmwnLCAxNywgJ1ZLX0NPTlRST0wnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgNCAvKiBLZXlDb2RlLlNoaWZ0ICovLCAnU2hpZnQnLCAxNiwgJ1ZLX1NISUZUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDYgLyogS2V5Q29kZS5BbHQgKi8sICdBbHQnLCAxOCwgJ1ZLX01FTlUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgNTcgLyogS2V5Q29kZS5NZXRhICovLCAnTWV0YScsIDkxLCAnVktfQ09NTUFORCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNTcgLyogU2NhbkNvZGUuQ29udHJvbExlZnQgKi8sICdDb250cm9sTGVmdCcsIDUgLyogS2V5Q29kZS5DdHJsICovLCBlbXB0eSwgMCwgJ1ZLX0xDT05UUk9MJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE1OCAvKiBTY2FuQ29kZS5TaGlmdExlZnQgKi8sICdTaGlmdExlZnQnLCA0IC8qIEtleUNvZGUuU2hpZnQgKi8sIGVtcHR5LCAwLCAnVktfTFNISUZUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE1OSAvKiBTY2FuQ29kZS5BbHRMZWZ0ICovLCAnQWx0TGVmdCcsIDYgLyogS2V5Q29kZS5BbHQgKi8sIGVtcHR5LCAwLCAnVktfTE1FTlUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTYwIC8qIFNjYW5Db2RlLk1ldGFMZWZ0ICovLCAnTWV0YUxlZnQnLCA1NyAvKiBLZXlDb2RlLk1ldGEgKi8sIGVtcHR5LCAwLCAnVktfTFdJTicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNjEgLyogU2NhbkNvZGUuQ29udHJvbFJpZ2h0ICovLCAnQ29udHJvbFJpZ2h0JywgNSAvKiBLZXlDb2RlLkN0cmwgKi8sIGVtcHR5LCAwLCAnVktfUkNPTlRST0wnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTYyIC8qIFNjYW5Db2RlLlNoaWZ0UmlnaHQgKi8sICdTaGlmdFJpZ2h0JywgNCAvKiBLZXlDb2RlLlNoaWZ0ICovLCBlbXB0eSwgMCwgJ1ZLX1JTSElGVCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNjMgLyogU2NhbkNvZGUuQWx0UmlnaHQgKi8sICdBbHRSaWdodCcsIDYgLyogS2V5Q29kZS5BbHQgKi8sIGVtcHR5LCAwLCAnVktfUk1FTlUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTY0IC8qIFNjYW5Db2RlLk1ldGFSaWdodCAqLywgJ01ldGFSaWdodCcsIDU3IC8qIEtleUNvZGUuTWV0YSAqLywgZW1wdHksIDAsICdWS19SV0lOJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE2NSAvKiBTY2FuQ29kZS5CcmlnaHRuZXNzVXAgKi8sICdCcmlnaHRuZXNzVXAnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTY2IC8qIFNjYW5Db2RlLkJyaWdodG5lc3NEb3duICovLCAnQnJpZ2h0bmVzc0Rvd24nLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTY3IC8qIFNjYW5Db2RlLk1lZGlhUGxheSAqLywgJ01lZGlhUGxheScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNjggLyogU2NhbkNvZGUuTWVkaWFSZWNvcmQgKi8sICdNZWRpYVJlY29yZCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNjkgLyogU2NhbkNvZGUuTWVkaWFGYXN0Rm9yd2FyZCAqLywgJ01lZGlhRmFzdEZvcndhcmQnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTcwIC8qIFNjYW5Db2RlLk1lZGlhUmV3aW5kICovLCAnTWVkaWFSZXdpbmQnLCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsIGVtcHR5LCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTcxIC8qIFNjYW5Db2RlLk1lZGlhVHJhY2tOZXh0ICovLCAnTWVkaWFUcmFja05leHQnLCAxMjQgLyogS2V5Q29kZS5NZWRpYVRyYWNrTmV4dCAqLywgJ01lZGlhVHJhY2tOZXh0JywgMTc2LCAnVktfTUVESUFfTkVYVF9UUkFDSycsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNzIgLyogU2NhbkNvZGUuTWVkaWFUcmFja1ByZXZpb3VzICovLCAnTWVkaWFUcmFja1ByZXZpb3VzJywgMTI1IC8qIEtleUNvZGUuTWVkaWFUcmFja1ByZXZpb3VzICovLCAnTWVkaWFUcmFja1ByZXZpb3VzJywgMTc3LCAnVktfTUVESUFfUFJFVl9UUkFDSycsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNzMgLyogU2NhbkNvZGUuTWVkaWFTdG9wICovLCAnTWVkaWFTdG9wJywgMTI2IC8qIEtleUNvZGUuTWVkaWFTdG9wICovLCAnTWVkaWFTdG9wJywgMTc4LCAnVktfTUVESUFfU1RPUCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNzQgLyogU2NhbkNvZGUuRWplY3QgKi8sICdFamVjdCcsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNzUgLyogU2NhbkNvZGUuTWVkaWFQbGF5UGF1c2UgKi8sICdNZWRpYVBsYXlQYXVzZScsIDEyNyAvKiBLZXlDb2RlLk1lZGlhUGxheVBhdXNlICovLCAnTWVkaWFQbGF5UGF1c2UnLCAxNzksICdWS19NRURJQV9QTEFZX1BBVVNFJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE3NiAvKiBTY2FuQ29kZS5NZWRpYVNlbGVjdCAqLywgJ01lZGlhU2VsZWN0JywgMTI4IC8qIEtleUNvZGUuTGF1bmNoTWVkaWFQbGF5ZXIgKi8sICdMYXVuY2hNZWRpYVBsYXllcicsIDE4MSwgJ1ZLX01FRElBX0xBVU5DSF9NRURJQV9TRUxFQ1QnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTc3IC8qIFNjYW5Db2RlLkxhdW5jaE1haWwgKi8sICdMYXVuY2hNYWlsJywgMTI5IC8qIEtleUNvZGUuTGF1bmNoTWFpbCAqLywgJ0xhdW5jaE1haWwnLCAxODAsICdWS19NRURJQV9MQVVOQ0hfTUFJTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxNzggLyogU2NhbkNvZGUuTGF1bmNoQXBwMiAqLywgJ0xhdW5jaEFwcDInLCAxMzAgLyogS2V5Q29kZS5MYXVuY2hBcHAyICovLCAnTGF1bmNoQXBwMicsIDE4MywgJ1ZLX01FRElBX0xBVU5DSF9BUFAyJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE3OSAvKiBTY2FuQ29kZS5MYXVuY2hBcHAxICovLCAnTGF1bmNoQXBwMScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX01FRElBX0xBVU5DSF9BUFAxJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4MCAvKiBTY2FuQ29kZS5TZWxlY3RUYXNrICovLCAnU2VsZWN0VGFzaycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxODEgLyogU2NhbkNvZGUuTGF1bmNoU2NyZWVuU2F2ZXIgKi8sICdMYXVuY2hTY3JlZW5TYXZlcicsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxODIgLyogU2NhbkNvZGUuQnJvd3NlclNlYXJjaCAqLywgJ0Jyb3dzZXJTZWFyY2gnLCAxMjAgLyogS2V5Q29kZS5Ccm93c2VyU2VhcmNoICovLCAnQnJvd3NlclNlYXJjaCcsIDE3MCwgJ1ZLX0JST1dTRVJfU0VBUkNIJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4MyAvKiBTY2FuQ29kZS5Ccm93c2VySG9tZSAqLywgJ0Jyb3dzZXJIb21lJywgMTIxIC8qIEtleUNvZGUuQnJvd3NlckhvbWUgKi8sICdCcm93c2VySG9tZScsIDE3MiwgJ1ZLX0JST1dTRVJfSE9NRScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxODQgLyogU2NhbkNvZGUuQnJvd3NlckJhY2sgKi8sICdCcm93c2VyQmFjaycsIDEyMiAvKiBLZXlDb2RlLkJyb3dzZXJCYWNrICovLCAnQnJvd3NlckJhY2snLCAxNjYsICdWS19CUk9XU0VSX0JBQ0snLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMTg1IC8qIFNjYW5Db2RlLkJyb3dzZXJGb3J3YXJkICovLCAnQnJvd3NlckZvcndhcmQnLCAxMjMgLyogS2V5Q29kZS5Ccm93c2VyRm9yd2FyZCAqLywgJ0Jyb3dzZXJGb3J3YXJkJywgMTY3LCAnVktfQlJPV1NFUl9GT1JXQVJEJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4NiAvKiBTY2FuQ29kZS5Ccm93c2VyU3RvcCAqLywgJ0Jyb3dzZXJTdG9wJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfQlJPV1NFUl9TVE9QJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4NyAvKiBTY2FuQ29kZS5Ccm93c2VyUmVmcmVzaCAqLywgJ0Jyb3dzZXJSZWZyZXNoJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfQlJPV1NFUl9SRUZSRVNIJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4OCAvKiBTY2FuQ29kZS5Ccm93c2VyRmF2b3JpdGVzICovLCAnQnJvd3NlckZhdm9yaXRlcycsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX0JST1dTRVJfRkFWT1JJVEVTJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE4OSAvKiBTY2FuQ29kZS5ab29tVG9nZ2xlICovLCAnWm9vbVRvZ2dsZScsIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgZW1wdHksIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAxOTAgLyogU2NhbkNvZGUuTWFpbFJlcGx5ICovLCAnTWFpbFJlcGx5JywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE5MSAvKiBTY2FuQ29kZS5NYWlsRm9yd2FyZCAqLywgJ01haWxGb3J3YXJkJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDE5MiAvKiBTY2FuQ29kZS5NYWlsU2VuZCAqLywgJ01haWxTZW5kJywgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vbGlzdHMudzMub3JnL0FyY2hpdmVzL1B1YmxpYy93d3ctZG9tLzIwMTBKdWxTZXAvYXR0LTAxODIva2V5Q29kZS1zcGVjLmh0bWxcbiAgICAgICAgLy8gSWYgYW4gSW5wdXQgTWV0aG9kIEVkaXRvciBpcyBwcm9jZXNzaW5nIGtleSBpbnB1dCBhbmQgdGhlIGV2ZW50IGlzIGtleWRvd24sIHJldHVybiAyMjkuXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAxMTQgLyogS2V5Q29kZS5LRVlfSU5fQ09NUE9TSVRJT04gKi8sICdLZXlJbkNvbXBvc2l0aW9uJywgMjI5LCBlbXB0eSwgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDExNiAvKiBLZXlDb2RlLkFCTlRfQzIgKi8sICdBQk5UX0MyJywgMTk0LCAnVktfQUJOVF9DMicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCA5NiAvKiBLZXlDb2RlLk9FTV84ICovLCAnT0VNXzgnLCAyMjMsICdWS19PRU1fOCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19LQU5BJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX0hBTkdVTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19KVU5KQScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19GSU5BTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19IQU5KQScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19LQU5KSScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19DT05WRVJUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX05PTkNPTlZFUlQnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfQUNDRVBUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX01PREVDSEFOR0UnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfU0VMRUNUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX1BSSU5UJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX0VYRUNVVEUnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfU05BUFNIT1QnLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfSEVMUCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19BUFBTJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX1BST0NFU1NLRVknLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfUEFDS0VUJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX0RCRV9TQkNTQ0hBUicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19EQkVfREJDU0NIQVInLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfQVRUTicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19DUlNFTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19FWFNFTCcsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19FUkVPRicsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19QTEFZJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX1pPT00nLCBlbXB0eSwgZW1wdHldLFxuICAgICAgICBbMSwgMCAvKiBTY2FuQ29kZS5Ob25lICovLCBlbXB0eSwgMCAvKiBLZXlDb2RlLlVua25vd24gKi8sIGVtcHR5LCAwLCAnVktfTk9OQU1FJywgZW1wdHksIGVtcHR5XSxcbiAgICAgICAgWzEsIDAgLyogU2NhbkNvZGUuTm9uZSAqLywgZW1wdHksIDAgLyogS2V5Q29kZS5Vbmtub3duICovLCBlbXB0eSwgMCwgJ1ZLX1BBMScsIGVtcHR5LCBlbXB0eV0sXG4gICAgICAgIFsxLCAwIC8qIFNjYW5Db2RlLk5vbmUgKi8sIGVtcHR5LCAwIC8qIEtleUNvZGUuVW5rbm93biAqLywgZW1wdHksIDAsICdWS19PRU1fQ0xFQVInLCBlbXB0eSwgZW1wdHldLFxuICAgIF07XG4gICAgY29uc3Qgc2VlbktleUNvZGUgPSBbXTtcbiAgICBjb25zdCBzZWVuU2NhbkNvZGUgPSBbXTtcbiAgICBmb3IgKGNvbnN0IG1hcHBpbmcgb2YgbWFwcGluZ3MpIHtcbiAgICAgICAgY29uc3QgW2ltbXV0YWJsZSwgc2NhbkNvZGUsIHNjYW5Db2RlU3RyLCBrZXlDb2RlLCBrZXlDb2RlU3RyLCBldmVudEtleUNvZGUsIHZrZXksIHVzVXNlclNldHRpbmdzTGFiZWwsIGdlbmVyYWxVc2VyU2V0dGluZ3NMYWJlbF0gPSBtYXBwaW5nO1xuICAgICAgICBpZiAoIXNlZW5TY2FuQ29kZVtzY2FuQ29kZV0pIHtcbiAgICAgICAgICAgIHNlZW5TY2FuQ29kZVtzY2FuQ29kZV0gPSB0cnVlO1xuICAgICAgICAgICAgc2NhbkNvZGVJbnRUb1N0cltzY2FuQ29kZV0gPSBzY2FuQ29kZVN0cjtcbiAgICAgICAgICAgIHNjYW5Db2RlU3RyVG9JbnRbc2NhbkNvZGVTdHJdID0gc2NhbkNvZGU7XG4gICAgICAgICAgICBzY2FuQ29kZUxvd2VyQ2FzZVN0clRvSW50W3NjYW5Db2RlU3RyLnRvTG93ZXJDYXNlKCldID0gc2NhbkNvZGU7XG4gICAgICAgICAgICBpZiAoaW1tdXRhYmxlKSB7XG4gICAgICAgICAgICAgICAgSU1NVVRBQkxFX0NPREVfVE9fS0VZX0NPREVbc2NhbkNvZGVdID0ga2V5Q29kZTtcbiAgICAgICAgICAgICAgICBpZiAoKGtleUNvZGUgIT09IDAgLyogS2V5Q29kZS5Vbmtub3duICovKVxuICAgICAgICAgICAgICAgICAgICAmJiAoa2V5Q29kZSAhPT0gMyAvKiBLZXlDb2RlLkVudGVyICovKVxuICAgICAgICAgICAgICAgICAgICAmJiAoa2V5Q29kZSAhPT0gNSAvKiBLZXlDb2RlLkN0cmwgKi8pXG4gICAgICAgICAgICAgICAgICAgICYmIChrZXlDb2RlICE9PSA0IC8qIEtleUNvZGUuU2hpZnQgKi8pXG4gICAgICAgICAgICAgICAgICAgICYmIChrZXlDb2RlICE9PSA2IC8qIEtleUNvZGUuQWx0ICovKVxuICAgICAgICAgICAgICAgICAgICAmJiAoa2V5Q29kZSAhPT0gNTcgLyogS2V5Q29kZS5NZXRhICovKSkge1xuICAgICAgICAgICAgICAgICAgICBJTU1VVEFCTEVfS0VZX0NPREVfVE9fQ09ERVtrZXlDb2RlXSA9IHNjYW5Db2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNlZW5LZXlDb2RlW2tleUNvZGVdKSB7XG4gICAgICAgICAgICBzZWVuS2V5Q29kZVtrZXlDb2RlXSA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWtleUNvZGVTdHIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmluZyByZXByZXNlbnRhdGlvbiBtaXNzaW5nIGZvciBrZXkgY29kZSAke2tleUNvZGV9IGFyb3VuZCBzY2FuIGNvZGUgJHtzY2FuQ29kZVN0cn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHVpTWFwLmRlZmluZShrZXlDb2RlLCBrZXlDb2RlU3RyKTtcbiAgICAgICAgICAgIHVzZXJTZXR0aW5nc1VTTWFwLmRlZmluZShrZXlDb2RlLCB1c1VzZXJTZXR0aW5nc0xhYmVsIHx8IGtleUNvZGVTdHIpO1xuICAgICAgICAgICAgdXNlclNldHRpbmdzR2VuZXJhbE1hcC5kZWZpbmUoa2V5Q29kZSwgZ2VuZXJhbFVzZXJTZXR0aW5nc0xhYmVsIHx8IHVzVXNlclNldHRpbmdzTGFiZWwgfHwga2V5Q29kZVN0cik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50S2V5Q29kZSkge1xuICAgICAgICAgICAgRVZFTlRfS0VZX0NPREVfTUFQW2V2ZW50S2V5Q29kZV0gPSBrZXlDb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2a2V5KSB7XG4gICAgICAgICAgICBOQVRJVkVfV0lORE9XU19LRVlfQ09ERV9UT19LRVlfQ09ERVt2a2V5XSA9IGtleUNvZGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWFudWFsbHkgYWRkZWQgZHVlIHRvIHRoZSBleGNsdXNpb24gYWJvdmUgKGR1ZSB0byBkdXBsaWNhdGlvbiB3aXRoIE51bXBhZEVudGVyKVxuICAgIElNTVVUQUJMRV9LRVlfQ09ERV9UT19DT0RFWzMgLyogS2V5Q29kZS5FbnRlciAqL10gPSA0NiAvKiBTY2FuQ29kZS5FbnRlciAqLztcbn0pKCk7XG5leHBvcnQgdmFyIEtleUNvZGVVdGlscztcbihmdW5jdGlvbiAoS2V5Q29kZVV0aWxzKSB7XG4gICAgZnVuY3Rpb24gdG9TdHJpbmcoa2V5Q29kZSkge1xuICAgICAgICByZXR1cm4gdWlNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBmdW5jdGlvbiBmcm9tU3RyaW5nKGtleSkge1xuICAgICAgICByZXR1cm4gdWlNYXAuc3RyVG9LZXlDb2RlKGtleSk7XG4gICAgfVxuICAgIEtleUNvZGVVdGlscy5mcm9tU3RyaW5nID0gZnJvbVN0cmluZztcbiAgICBmdW5jdGlvbiB0b1VzZXJTZXR0aW5nc1VTKGtleUNvZGUpIHtcbiAgICAgICAgcmV0dXJuIHVzZXJTZXR0aW5nc1VTTWFwLmtleUNvZGVUb1N0cihrZXlDb2RlKTtcbiAgICB9XG4gICAgS2V5Q29kZVV0aWxzLnRvVXNlclNldHRpbmdzVVMgPSB0b1VzZXJTZXR0aW5nc1VTO1xuICAgIGZ1bmN0aW9uIHRvVXNlclNldHRpbmdzR2VuZXJhbChrZXlDb2RlKSB7XG4gICAgICAgIHJldHVybiB1c2VyU2V0dGluZ3NHZW5lcmFsTWFwLmtleUNvZGVUb1N0cihrZXlDb2RlKTtcbiAgICB9XG4gICAgS2V5Q29kZVV0aWxzLnRvVXNlclNldHRpbmdzR2VuZXJhbCA9IHRvVXNlclNldHRpbmdzR2VuZXJhbDtcbiAgICBmdW5jdGlvbiBmcm9tVXNlclNldHRpbmdzKGtleSkge1xuICAgICAgICByZXR1cm4gdXNlclNldHRpbmdzVVNNYXAuc3RyVG9LZXlDb2RlKGtleSkgfHwgdXNlclNldHRpbmdzR2VuZXJhbE1hcC5zdHJUb0tleUNvZGUoa2V5KTtcbiAgICB9XG4gICAgS2V5Q29kZVV0aWxzLmZyb21Vc2VyU2V0dGluZ3MgPSBmcm9tVXNlclNldHRpbmdzO1xuICAgIGZ1bmN0aW9uIHRvRWxlY3Ryb25BY2NlbGVyYXRvcihrZXlDb2RlKSB7XG4gICAgICAgIGlmIChrZXlDb2RlID49IDk4IC8qIEtleUNvZGUuTnVtcGFkMCAqLyAmJiBrZXlDb2RlIDw9IDExMyAvKiBLZXlDb2RlLk51bXBhZERpdmlkZSAqLykge1xuICAgICAgICAgICAgLy8gW0VsZWN0cm9uIEFjY2VsZXJhdG9yc10gRWxlY3Ryb24gaXMgYWJsZSB0byBwYXJzZSBudW1wYWQga2V5cywgYnV0IHVuZm9ydHVuYXRlbHkgaXRcbiAgICAgICAgICAgIC8vIHJlbmRlcnMgdGhlbSBqdXN0IGFzIHJlZ3VsYXIga2V5cyBpbiBtZW51cy4gRm9yIGV4YW1wbGUsIG51bTAgaXMgcmVuZGVyZWQgYXMgXCIwXCIsXG4gICAgICAgICAgICAvLyBudW1kaXYgaXMgcmVuZGVyZWQgYXMgXCIvXCIsIG51bXN1YiBpcyByZW5kZXJlZCBhcyBcIi1cIi5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBsZWFkIHRvIGluY3JlZGlibGUgY29uZnVzaW9uLCBhcyBpdCBtYWtlcyBudW1wYWQgYmFzZWQga2V5YmluZGluZ3MgaW5kaXN0aW5ndWlzaGFibGVcbiAgICAgICAgICAgIC8vIGZyb20ga2V5YmluZGluZ3MgYmFzZWQgb24gcmVndWxhciBrZXlzLlxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFdlIHRoZXJlZm9yZSBuZWVkIHRvIGZhbGwgYmFjayB0byBjdXN0b20gcmVuZGVyaW5nIGZvciBudW1wYWQga2V5cy5cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoa2V5Q29kZSkge1xuICAgICAgICAgICAgY2FzZSAxNiAvKiBLZXlDb2RlLlVwQXJyb3cgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuICdVcCc7XG4gICAgICAgICAgICBjYXNlIDE4IC8qIEtleUNvZGUuRG93bkFycm93ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiAnRG93bic7XG4gICAgICAgICAgICBjYXNlIDE1IC8qIEtleUNvZGUuTGVmdEFycm93ICovOlxuICAgICAgICAgICAgICAgIHJldHVybiAnTGVmdCc7XG4gICAgICAgICAgICBjYXNlIDE3IC8qIEtleUNvZGUuUmlnaHRBcnJvdyAqLzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ1JpZ2h0JztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdWlNYXAua2V5Q29kZVRvU3RyKGtleUNvZGUpO1xuICAgIH1cbiAgICBLZXlDb2RlVXRpbHMudG9FbGVjdHJvbkFjY2VsZXJhdG9yID0gdG9FbGVjdHJvbkFjY2VsZXJhdG9yO1xufSkoS2V5Q29kZVV0aWxzIHx8IChLZXlDb2RlVXRpbHMgPSB7fSkpO1xuZXhwb3J0IGZ1bmN0aW9uIEtleUNob3JkKGZpcnN0UGFydCwgc2Vjb25kUGFydCkge1xuICAgIGNvbnN0IGNob3JkUGFydCA9ICgoc2Vjb25kUGFydCAmIDB4MDAwMEZGRkYpIDw8IDE2KSA+Pj4gMDtcbiAgICByZXR1cm4gKGZpcnN0UGFydCB8IGNob3JkUGFydCkgPj4+IDA7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UuanMnO1xuLyoqXG4gKiBBIHNlbGVjdGlvbiBpbiB0aGUgZWRpdG9yLlxuICogVGhlIHNlbGVjdGlvbiBpcyBhIHJhbmdlIHRoYXQgaGFzIGFuIG9yaWVudGF0aW9uLlxuICovXG5leHBvcnQgY2xhc3MgU2VsZWN0aW9uIGV4dGVuZHMgUmFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgc2VsZWN0aW9uU3RhcnRDb2x1bW4sIHBvc2l0aW9uTGluZU51bWJlciwgcG9zaXRpb25Db2x1bW4pIHtcbiAgICAgICAgc3VwZXIoc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyLCBzZWxlY3Rpb25TdGFydENvbHVtbiwgcG9zaXRpb25MaW5lTnVtYmVyLCBwb3NpdGlvbkNvbHVtbik7XG4gICAgICAgIHRoaXMuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyID0gc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLnNlbGVjdGlvblN0YXJ0Q29sdW1uID0gc2VsZWN0aW9uU3RhcnRDb2x1bW47XG4gICAgICAgIHRoaXMucG9zaXRpb25MaW5lTnVtYmVyID0gcG9zaXRpb25MaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLnBvc2l0aW9uQ29sdW1uID0gcG9zaXRpb25Db2x1bW47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYW5zZm9ybSB0byBhIGh1bWFuLXJlYWRhYmxlIHJlcHJlc2VudGF0aW9uLlxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ1snICsgdGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLnNlbGVjdGlvblN0YXJ0Q29sdW1uICsgJyAtPiAnICsgdGhpcy5wb3NpdGlvbkxpbmVOdW1iZXIgKyAnLCcgKyB0aGlzLnBvc2l0aW9uQ29sdW1uICsgJ10nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGVxdWFscyBvdGhlciBzZWxlY3Rpb24uXG4gICAgICovXG4gICAgZXF1YWxzU2VsZWN0aW9uKG90aGVyKSB7XG4gICAgICAgIHJldHVybiAoU2VsZWN0aW9uLnNlbGVjdGlvbnNFcXVhbCh0aGlzLCBvdGhlcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIHRoZSB0d28gc2VsZWN0aW9ucyBhcmUgZXF1YWwuXG4gICAgICovXG4gICAgc3RhdGljIHNlbGVjdGlvbnNFcXVhbChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYS5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPT09IGIuc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyICYmXG4gICAgICAgICAgICBhLnNlbGVjdGlvblN0YXJ0Q29sdW1uID09PSBiLnNlbGVjdGlvblN0YXJ0Q29sdW1uICYmXG4gICAgICAgICAgICBhLnBvc2l0aW9uTGluZU51bWJlciA9PT0gYi5wb3NpdGlvbkxpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIGEucG9zaXRpb25Db2x1bW4gPT09IGIucG9zaXRpb25Db2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZGlyZWN0aW9ucyAoTFRSIG9yIFJUTCkuXG4gICAgICovXG4gICAgZ2V0RGlyZWN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb25TdGFydExpbmVOdW1iZXIgPT09IHRoaXMuc3RhcnRMaW5lTnVtYmVyICYmIHRoaXMuc2VsZWN0aW9uU3RhcnRDb2x1bW4gPT09IHRoaXMuc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJldHVybiAwIC8qIFNlbGVjdGlvbkRpcmVjdGlvbi5MVFIgKi87XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDEgLyogU2VsZWN0aW9uRGlyZWN0aW9uLlJUTCAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IHNlbGVjdGlvbiB3aXRoIGEgZGlmZmVyZW50IGBwb3NpdGlvbkxpbmVOdW1iZXJgIGFuZCBgcG9zaXRpb25Db2x1bW5gLlxuICAgICAqL1xuICAgIHNldEVuZFBvc2l0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbikge1xuICAgICAgICBpZiAodGhpcy5nZXREaXJlY3Rpb24oKSA9PT0gMCAvKiBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbih0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5zdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4sIHRoaXMuc3RhcnRMaW5lTnVtYmVyLCB0aGlzLnN0YXJ0Q29sdW1uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBwb3NpdGlvbiBhdCBgcG9zaXRpb25MaW5lTnVtYmVyYCBhbmQgYHBvc2l0aW9uQ29sdW1uYC5cbiAgICAgKi9cbiAgICBnZXRQb3NpdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLnBvc2l0aW9uTGluZU51bWJlciwgdGhpcy5wb3NpdGlvbkNvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgcG9zaXRpb24gYXQgdGhlIHN0YXJ0IG9mIHRoZSBzZWxlY3Rpb24uXG4gICAgKi9cbiAgICBnZXRTZWxlY3Rpb25TdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgdGhpcy5zZWxlY3Rpb25TdGFydENvbHVtbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBzZWxlY3Rpb24gd2l0aCBhIGRpZmZlcmVudCBgc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyYCBhbmQgYHNlbGVjdGlvblN0YXJ0Q29sdW1uYC5cbiAgICAgKi9cbiAgICBzZXRTdGFydFBvc2l0aW9uKHN0YXJ0TGluZU51bWJlciwgc3RhcnRDb2x1bW4pIHtcbiAgICAgICAgaWYgKHRoaXMuZ2V0RGlyZWN0aW9uKCkgPT09IDAgLyogU2VsZWN0aW9uRGlyZWN0aW9uLkxUUiAqLykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgdGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24odGhpcy5lbmRMaW5lTnVtYmVyLCB0aGlzLmVuZENvbHVtbiwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbik7XG4gICAgfVxuICAgIC8vIC0tLS1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBgU2VsZWN0aW9uYCBmcm9tIG9uZSBvciB0d28gcG9zaXRpb25zXG4gICAgICovXG4gICAgc3RhdGljIGZyb21Qb3NpdGlvbnMoc3RhcnQsIGVuZCA9IHN0YXJ0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKHN0YXJ0LmxpbmVOdW1iZXIsIHN0YXJ0LmNvbHVtbiwgZW5kLmxpbmVOdW1iZXIsIGVuZC5jb2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYFNlbGVjdGlvbmAgZnJvbSBhIHJhbmdlLCBnaXZlbiBhIGRpcmVjdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJhbmdlKHJhbmdlLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCAvKiBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uLCByYW5nZS5lbmRMaW5lTnVtYmVyLCByYW5nZS5lbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ocmFuZ2UuZW5kTGluZU51bWJlciwgcmFuZ2UuZW5kQ29sdW1uLCByYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLnN0YXJ0Q29sdW1uKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBgU2VsZWN0aW9uYCBmcm9tIGFuIGBJU2VsZWN0aW9uYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgbGlmdFNlbGVjdGlvbihzZWwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oc2VsLnNlbGVjdGlvblN0YXJ0TGluZU51bWJlciwgc2VsLnNlbGVjdGlvblN0YXJ0Q29sdW1uLCBzZWwucG9zaXRpb25MaW5lTnVtYmVyLCBzZWwucG9zaXRpb25Db2x1bW4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBgYWAgZXF1YWxzIGBiYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgc2VsZWN0aW9uc0FyckVxdWFsKGEsIGIpIHtcbiAgICAgICAgaWYgKGEgJiYgIWIgfHwgIWEgJiYgYikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYSAmJiAhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uc0VxdWFsKGFbaV0sIGJbaV0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXN0IGlmIGBvYmpgIGlzIGFuIGBJU2VsZWN0aW9uYC5cbiAgICAgKi9cbiAgICBzdGF0aWMgaXNJU2VsZWN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gKG9ialxuICAgICAgICAgICAgJiYgKHR5cGVvZiBvYmouc2VsZWN0aW9uU3RhcnRMaW5lTnVtYmVyID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnNlbGVjdGlvblN0YXJ0Q29sdW1uID09PSAnbnVtYmVyJylcbiAgICAgICAgICAgICYmICh0eXBlb2Ygb2JqLnBvc2l0aW9uTGluZU51bWJlciA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAmJiAodHlwZW9mIG9iai5wb3NpdGlvbkNvbHVtbiA9PT0gJ251bWJlcicpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHdpdGggYSBkaXJlY3Rpb24uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZVdpdGhEaXJlY3Rpb24oc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbiwgZW5kTGluZU51bWJlciwgZW5kQ29sdW1uLCBkaXJlY3Rpb24pIHtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PT0gMCAvKiBTZWxlY3Rpb25EaXJlY3Rpb24uTFRSICovKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNlbGVjdGlvbihzdGFydExpbmVOdW1iZXIsIHN0YXJ0Q29sdW1uLCBlbmRMaW5lTnVtYmVyLCBlbmRDb2x1bW4pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2VsZWN0aW9uKGVuZExpbmVOdW1iZXIsIGVuZENvbHVtbiwgc3RhcnRMaW5lTnVtYmVyLCBzdGFydENvbHVtbik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgaXNTdHJpbmcgfSBmcm9tICcuL3R5cGVzLmpzJztcbmNvbnN0IF9jb2RpY29uRm9udENoYXJhY3RlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuZnVuY3Rpb24gcmVnaXN0ZXIoaWQsIGZvbnRDaGFyYWN0ZXIpIHtcbiAgICBpZiAoaXNTdHJpbmcoZm9udENoYXJhY3RlcikpIHtcbiAgICAgICAgY29uc3QgdmFsID0gX2NvZGljb25Gb250Q2hhcmFjdGVyc1tmb250Q2hhcmFjdGVyXTtcbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7aWR9IHJlZmVyZW5jZXMgYW4gdW5rbm93biBjb2RpY29uOiAke2ZvbnRDaGFyYWN0ZXJ9YCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9udENoYXJhY3RlciA9IHZhbDtcbiAgICB9XG4gICAgX2NvZGljb25Gb250Q2hhcmFjdGVyc1tpZF0gPSBmb250Q2hhcmFjdGVyO1xuICAgIHJldHVybiB7IGlkIH07XG59XG4vKipcbiAqIE9ubHkgdG8gYmUgdXNlZCBieSB0aGUgaWNvblJlZ2lzdHJ5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29kaWNvbkZvbnRDaGFyYWN0ZXJzKCkge1xuICAgIHJldHVybiBfY29kaWNvbkZvbnRDaGFyYWN0ZXJzO1xufVxuLyoqXG4gKiBUaGUgQ29kaWNvbiBsaWJyYXJ5IGlzIGEgc2V0IG9mIGRlZmF1bHQgaWNvbnMgdGhhdCBhcmUgYnVpbHQtaW4gaW4gVlMgQ29kZS5cbiAqXG4gKiBJbiB0aGUgcHJvZHVjdCAob3V0c2lkZSBvZiBiYXNlKSBDb2RpY29ucyBzaG91bGQgb25seSBiZSB1c2VkIGFzIGRlZmF1bHRzLiBJbiBvcmRlciB0byBoYXZlIGFsbCBpY29ucyBpbiBWUyBDb2RlXG4gKiB0aGVtZWFibGUsIGNvbXBvbmVudCBzaG91bGQgZGVmaW5lIG5ldywgVUkgY29tcG9uZW50IHNwZWNpZmljIGljb25zIHVzaW5nIGBpY29uUmVnaXN0cnkucmVnaXN0ZXJJY29uYC5cbiAqIEluIHRoYXQgY2FsbCBhIENvZGljb24gY2FuIGJlIG5hbWVkIGFzIGRlZmF1bHQuXG4gKi9cbmV4cG9ydCBjb25zdCBDb2RpY29uID0ge1xuICAgIC8vIGJ1aWx0LWluIGljb25zLCB3aXRoIGltYWdlIG5hbWVcbiAgICBhZGQ6IHJlZ2lzdGVyKCdhZGQnLCAweGVhNjApLFxuICAgIHBsdXM6IHJlZ2lzdGVyKCdwbHVzJywgMHhlYTYwKSxcbiAgICBnaXN0TmV3OiByZWdpc3RlcignZ2lzdC1uZXcnLCAweGVhNjApLFxuICAgIHJlcG9DcmVhdGU6IHJlZ2lzdGVyKCdyZXBvLWNyZWF0ZScsIDB4ZWE2MCksXG4gICAgbGlnaHRidWxiOiByZWdpc3RlcignbGlnaHRidWxiJywgMHhlYTYxKSxcbiAgICBsaWdodEJ1bGI6IHJlZ2lzdGVyKCdsaWdodC1idWxiJywgMHhlYTYxKSxcbiAgICByZXBvOiByZWdpc3RlcigncmVwbycsIDB4ZWE2MiksXG4gICAgcmVwb0RlbGV0ZTogcmVnaXN0ZXIoJ3JlcG8tZGVsZXRlJywgMHhlYTYyKSxcbiAgICBnaXN0Rm9yazogcmVnaXN0ZXIoJ2dpc3QtZm9yaycsIDB4ZWE2MyksXG4gICAgcmVwb0ZvcmtlZDogcmVnaXN0ZXIoJ3JlcG8tZm9ya2VkJywgMHhlYTYzKSxcbiAgICBnaXRQdWxsUmVxdWVzdDogcmVnaXN0ZXIoJ2dpdC1wdWxsLXJlcXVlc3QnLCAweGVhNjQpLFxuICAgIGdpdFB1bGxSZXF1ZXN0QWJhbmRvbmVkOiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1hYmFuZG9uZWQnLCAweGVhNjQpLFxuICAgIHJlY29yZEtleXM6IHJlZ2lzdGVyKCdyZWNvcmQta2V5cycsIDB4ZWE2NSksXG4gICAga2V5Ym9hcmQ6IHJlZ2lzdGVyKCdrZXlib2FyZCcsIDB4ZWE2NSksXG4gICAgdGFnOiByZWdpc3RlcigndGFnJywgMHhlYTY2KSxcbiAgICB0YWdBZGQ6IHJlZ2lzdGVyKCd0YWctYWRkJywgMHhlYTY2KSxcbiAgICB0YWdSZW1vdmU6IHJlZ2lzdGVyKCd0YWctcmVtb3ZlJywgMHhlYTY2KSxcbiAgICBnaXRQdWxsUmVxdWVzdExhYmVsOiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1sYWJlbCcsIDB4ZWE2NiksXG4gICAgcGVyc29uOiByZWdpc3RlcigncGVyc29uJywgMHhlYTY3KSxcbiAgICBwZXJzb25Gb2xsb3c6IHJlZ2lzdGVyKCdwZXJzb24tZm9sbG93JywgMHhlYTY3KSxcbiAgICBwZXJzb25PdXRsaW5lOiByZWdpc3RlcigncGVyc29uLW91dGxpbmUnLCAweGVhNjcpLFxuICAgIHBlcnNvbkZpbGxlZDogcmVnaXN0ZXIoJ3BlcnNvbi1maWxsZWQnLCAweGVhNjcpLFxuICAgIGdpdEJyYW5jaDogcmVnaXN0ZXIoJ2dpdC1icmFuY2gnLCAweGVhNjgpLFxuICAgIGdpdEJyYW5jaENyZWF0ZTogcmVnaXN0ZXIoJ2dpdC1icmFuY2gtY3JlYXRlJywgMHhlYTY4KSxcbiAgICBnaXRCcmFuY2hEZWxldGU6IHJlZ2lzdGVyKCdnaXQtYnJhbmNoLWRlbGV0ZScsIDB4ZWE2OCksXG4gICAgc291cmNlQ29udHJvbDogcmVnaXN0ZXIoJ3NvdXJjZS1jb250cm9sJywgMHhlYTY4KSxcbiAgICBtaXJyb3I6IHJlZ2lzdGVyKCdtaXJyb3InLCAweGVhNjkpLFxuICAgIG1pcnJvclB1YmxpYzogcmVnaXN0ZXIoJ21pcnJvci1wdWJsaWMnLCAweGVhNjkpLFxuICAgIHN0YXI6IHJlZ2lzdGVyKCdzdGFyJywgMHhlYTZhKSxcbiAgICBzdGFyQWRkOiByZWdpc3Rlcignc3Rhci1hZGQnLCAweGVhNmEpLFxuICAgIHN0YXJEZWxldGU6IHJlZ2lzdGVyKCdzdGFyLWRlbGV0ZScsIDB4ZWE2YSksXG4gICAgc3RhckVtcHR5OiByZWdpc3Rlcignc3Rhci1lbXB0eScsIDB4ZWE2YSksXG4gICAgY29tbWVudDogcmVnaXN0ZXIoJ2NvbW1lbnQnLCAweGVhNmIpLFxuICAgIGNvbW1lbnRBZGQ6IHJlZ2lzdGVyKCdjb21tZW50LWFkZCcsIDB4ZWE2YiksXG4gICAgYWxlcnQ6IHJlZ2lzdGVyKCdhbGVydCcsIDB4ZWE2YyksXG4gICAgd2FybmluZzogcmVnaXN0ZXIoJ3dhcm5pbmcnLCAweGVhNmMpLFxuICAgIHNlYXJjaDogcmVnaXN0ZXIoJ3NlYXJjaCcsIDB4ZWE2ZCksXG4gICAgc2VhcmNoU2F2ZTogcmVnaXN0ZXIoJ3NlYXJjaC1zYXZlJywgMHhlYTZkKSxcbiAgICBsb2dPdXQ6IHJlZ2lzdGVyKCdsb2ctb3V0JywgMHhlYTZlKSxcbiAgICBzaWduT3V0OiByZWdpc3Rlcignc2lnbi1vdXQnLCAweGVhNmUpLFxuICAgIGxvZ0luOiByZWdpc3RlcignbG9nLWluJywgMHhlYTZmKSxcbiAgICBzaWduSW46IHJlZ2lzdGVyKCdzaWduLWluJywgMHhlYTZmKSxcbiAgICBleWU6IHJlZ2lzdGVyKCdleWUnLCAweGVhNzApLFxuICAgIGV5ZVVud2F0Y2g6IHJlZ2lzdGVyKCdleWUtdW53YXRjaCcsIDB4ZWE3MCksXG4gICAgZXllV2F0Y2g6IHJlZ2lzdGVyKCdleWUtd2F0Y2gnLCAweGVhNzApLFxuICAgIGNpcmNsZUZpbGxlZDogcmVnaXN0ZXIoJ2NpcmNsZS1maWxsZWQnLCAweGVhNzEpLFxuICAgIHByaW1pdGl2ZURvdDogcmVnaXN0ZXIoJ3ByaW1pdGl2ZS1kb3QnLCAweGVhNzEpLFxuICAgIGNsb3NlRGlydHk6IHJlZ2lzdGVyKCdjbG9zZS1kaXJ0eScsIDB4ZWE3MSksXG4gICAgZGVidWdCcmVha3BvaW50OiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludCcsIDB4ZWE3MSksXG4gICAgZGVidWdCcmVha3BvaW50RGlzYWJsZWQ6IHJlZ2lzdGVyKCdkZWJ1Zy1icmVha3BvaW50LWRpc2FibGVkJywgMHhlYTcxKSxcbiAgICBkZWJ1Z0hpbnQ6IHJlZ2lzdGVyKCdkZWJ1Zy1oaW50JywgMHhlYTcxKSxcbiAgICBwcmltaXRpdmVTcXVhcmU6IHJlZ2lzdGVyKCdwcmltaXRpdmUtc3F1YXJlJywgMHhlYTcyKSxcbiAgICBlZGl0OiByZWdpc3RlcignZWRpdCcsIDB4ZWE3MyksXG4gICAgcGVuY2lsOiByZWdpc3RlcigncGVuY2lsJywgMHhlYTczKSxcbiAgICBpbmZvOiByZWdpc3RlcignaW5mbycsIDB4ZWE3NCksXG4gICAgaXNzdWVPcGVuZWQ6IHJlZ2lzdGVyKCdpc3N1ZS1vcGVuZWQnLCAweGVhNzQpLFxuICAgIGdpc3RQcml2YXRlOiByZWdpc3RlcignZ2lzdC1wcml2YXRlJywgMHhlYTc1KSxcbiAgICBnaXRGb3JrUHJpdmF0ZTogcmVnaXN0ZXIoJ2dpdC1mb3JrLXByaXZhdGUnLCAweGVhNzUpLFxuICAgIGxvY2s6IHJlZ2lzdGVyKCdsb2NrJywgMHhlYTc1KSxcbiAgICBtaXJyb3JQcml2YXRlOiByZWdpc3RlcignbWlycm9yLXByaXZhdGUnLCAweGVhNzUpLFxuICAgIGNsb3NlOiByZWdpc3RlcignY2xvc2UnLCAweGVhNzYpLFxuICAgIHJlbW92ZUNsb3NlOiByZWdpc3RlcigncmVtb3ZlLWNsb3NlJywgMHhlYTc2KSxcbiAgICB4OiByZWdpc3RlcigneCcsIDB4ZWE3NiksXG4gICAgcmVwb1N5bmM6IHJlZ2lzdGVyKCdyZXBvLXN5bmMnLCAweGVhNzcpLFxuICAgIHN5bmM6IHJlZ2lzdGVyKCdzeW5jJywgMHhlYTc3KSxcbiAgICBjbG9uZTogcmVnaXN0ZXIoJ2Nsb25lJywgMHhlYTc4KSxcbiAgICBkZXNrdG9wRG93bmxvYWQ6IHJlZ2lzdGVyKCdkZXNrdG9wLWRvd25sb2FkJywgMHhlYTc4KSxcbiAgICBiZWFrZXI6IHJlZ2lzdGVyKCdiZWFrZXInLCAweGVhNzkpLFxuICAgIG1pY3Jvc2NvcGU6IHJlZ2lzdGVyKCdtaWNyb3Njb3BlJywgMHhlYTc5KSxcbiAgICB2bTogcmVnaXN0ZXIoJ3ZtJywgMHhlYTdhKSxcbiAgICBkZXZpY2VEZXNrdG9wOiByZWdpc3RlcignZGV2aWNlLWRlc2t0b3AnLCAweGVhN2EpLFxuICAgIGZpbGU6IHJlZ2lzdGVyKCdmaWxlJywgMHhlYTdiKSxcbiAgICBmaWxlVGV4dDogcmVnaXN0ZXIoJ2ZpbGUtdGV4dCcsIDB4ZWE3YiksXG4gICAgbW9yZTogcmVnaXN0ZXIoJ21vcmUnLCAweGVhN2MpLFxuICAgIGVsbGlwc2lzOiByZWdpc3RlcignZWxsaXBzaXMnLCAweGVhN2MpLFxuICAgIGtlYmFiSG9yaXpvbnRhbDogcmVnaXN0ZXIoJ2tlYmFiLWhvcml6b250YWwnLCAweGVhN2MpLFxuICAgIG1haWxSZXBseTogcmVnaXN0ZXIoJ21haWwtcmVwbHknLCAweGVhN2QpLFxuICAgIHJlcGx5OiByZWdpc3RlcigncmVwbHknLCAweGVhN2QpLFxuICAgIG9yZ2FuaXphdGlvbjogcmVnaXN0ZXIoJ29yZ2FuaXphdGlvbicsIDB4ZWE3ZSksXG4gICAgb3JnYW5pemF0aW9uRmlsbGVkOiByZWdpc3Rlcignb3JnYW5pemF0aW9uLWZpbGxlZCcsIDB4ZWE3ZSksXG4gICAgb3JnYW5pemF0aW9uT3V0bGluZTogcmVnaXN0ZXIoJ29yZ2FuaXphdGlvbi1vdXRsaW5lJywgMHhlYTdlKSxcbiAgICBuZXdGaWxlOiByZWdpc3RlcignbmV3LWZpbGUnLCAweGVhN2YpLFxuICAgIGZpbGVBZGQ6IHJlZ2lzdGVyKCdmaWxlLWFkZCcsIDB4ZWE3ZiksXG4gICAgbmV3Rm9sZGVyOiByZWdpc3RlcignbmV3LWZvbGRlcicsIDB4ZWE4MCksXG4gICAgZmlsZURpcmVjdG9yeUNyZWF0ZTogcmVnaXN0ZXIoJ2ZpbGUtZGlyZWN0b3J5LWNyZWF0ZScsIDB4ZWE4MCksXG4gICAgdHJhc2g6IHJlZ2lzdGVyKCd0cmFzaCcsIDB4ZWE4MSksXG4gICAgdHJhc2hjYW46IHJlZ2lzdGVyKCd0cmFzaGNhbicsIDB4ZWE4MSksXG4gICAgaGlzdG9yeTogcmVnaXN0ZXIoJ2hpc3RvcnknLCAweGVhODIpLFxuICAgIGNsb2NrOiByZWdpc3RlcignY2xvY2snLCAweGVhODIpLFxuICAgIGZvbGRlcjogcmVnaXN0ZXIoJ2ZvbGRlcicsIDB4ZWE4MyksXG4gICAgZmlsZURpcmVjdG9yeTogcmVnaXN0ZXIoJ2ZpbGUtZGlyZWN0b3J5JywgMHhlYTgzKSxcbiAgICBzeW1ib2xGb2xkZXI6IHJlZ2lzdGVyKCdzeW1ib2wtZm9sZGVyJywgMHhlYTgzKSxcbiAgICBsb2dvR2l0aHViOiByZWdpc3RlcignbG9nby1naXRodWInLCAweGVhODQpLFxuICAgIG1hcmtHaXRodWI6IHJlZ2lzdGVyKCdtYXJrLWdpdGh1YicsIDB4ZWE4NCksXG4gICAgZ2l0aHViOiByZWdpc3RlcignZ2l0aHViJywgMHhlYTg0KSxcbiAgICB0ZXJtaW5hbDogcmVnaXN0ZXIoJ3Rlcm1pbmFsJywgMHhlYTg1KSxcbiAgICBjb25zb2xlOiByZWdpc3RlcignY29uc29sZScsIDB4ZWE4NSksXG4gICAgcmVwbDogcmVnaXN0ZXIoJ3JlcGwnLCAweGVhODUpLFxuICAgIHphcDogcmVnaXN0ZXIoJ3phcCcsIDB4ZWE4NiksXG4gICAgc3ltYm9sRXZlbnQ6IHJlZ2lzdGVyKCdzeW1ib2wtZXZlbnQnLCAweGVhODYpLFxuICAgIGVycm9yOiByZWdpc3RlcignZXJyb3InLCAweGVhODcpLFxuICAgIHN0b3A6IHJlZ2lzdGVyKCdzdG9wJywgMHhlYTg3KSxcbiAgICB2YXJpYWJsZTogcmVnaXN0ZXIoJ3ZhcmlhYmxlJywgMHhlYTg4KSxcbiAgICBzeW1ib2xWYXJpYWJsZTogcmVnaXN0ZXIoJ3N5bWJvbC12YXJpYWJsZScsIDB4ZWE4OCksXG4gICAgYXJyYXk6IHJlZ2lzdGVyKCdhcnJheScsIDB4ZWE4YSksXG4gICAgc3ltYm9sQXJyYXk6IHJlZ2lzdGVyKCdzeW1ib2wtYXJyYXknLCAweGVhOGEpLFxuICAgIHN5bWJvbE1vZHVsZTogcmVnaXN0ZXIoJ3N5bWJvbC1tb2R1bGUnLCAweGVhOGIpLFxuICAgIHN5bWJvbFBhY2thZ2U6IHJlZ2lzdGVyKCdzeW1ib2wtcGFja2FnZScsIDB4ZWE4YiksXG4gICAgc3ltYm9sTmFtZXNwYWNlOiByZWdpc3Rlcignc3ltYm9sLW5hbWVzcGFjZScsIDB4ZWE4YiksXG4gICAgc3ltYm9sT2JqZWN0OiByZWdpc3Rlcignc3ltYm9sLW9iamVjdCcsIDB4ZWE4YiksXG4gICAgc3ltYm9sTWV0aG9kOiByZWdpc3Rlcignc3ltYm9sLW1ldGhvZCcsIDB4ZWE4YyksXG4gICAgc3ltYm9sRnVuY3Rpb246IHJlZ2lzdGVyKCdzeW1ib2wtZnVuY3Rpb24nLCAweGVhOGMpLFxuICAgIHN5bWJvbENvbnN0cnVjdG9yOiByZWdpc3Rlcignc3ltYm9sLWNvbnN0cnVjdG9yJywgMHhlYThjKSxcbiAgICBzeW1ib2xCb29sZWFuOiByZWdpc3Rlcignc3ltYm9sLWJvb2xlYW4nLCAweGVhOGYpLFxuICAgIHN5bWJvbE51bGw6IHJlZ2lzdGVyKCdzeW1ib2wtbnVsbCcsIDB4ZWE4ZiksXG4gICAgc3ltYm9sTnVtZXJpYzogcmVnaXN0ZXIoJ3N5bWJvbC1udW1lcmljJywgMHhlYTkwKSxcbiAgICBzeW1ib2xOdW1iZXI6IHJlZ2lzdGVyKCdzeW1ib2wtbnVtYmVyJywgMHhlYTkwKSxcbiAgICBzeW1ib2xTdHJ1Y3R1cmU6IHJlZ2lzdGVyKCdzeW1ib2wtc3RydWN0dXJlJywgMHhlYTkxKSxcbiAgICBzeW1ib2xTdHJ1Y3Q6IHJlZ2lzdGVyKCdzeW1ib2wtc3RydWN0JywgMHhlYTkxKSxcbiAgICBzeW1ib2xQYXJhbWV0ZXI6IHJlZ2lzdGVyKCdzeW1ib2wtcGFyYW1ldGVyJywgMHhlYTkyKSxcbiAgICBzeW1ib2xUeXBlUGFyYW1ldGVyOiByZWdpc3Rlcignc3ltYm9sLXR5cGUtcGFyYW1ldGVyJywgMHhlYTkyKSxcbiAgICBzeW1ib2xLZXk6IHJlZ2lzdGVyKCdzeW1ib2wta2V5JywgMHhlYTkzKSxcbiAgICBzeW1ib2xUZXh0OiByZWdpc3Rlcignc3ltYm9sLXRleHQnLCAweGVhOTMpLFxuICAgIHN5bWJvbFJlZmVyZW5jZTogcmVnaXN0ZXIoJ3N5bWJvbC1yZWZlcmVuY2UnLCAweGVhOTQpLFxuICAgIGdvVG9GaWxlOiByZWdpc3RlcignZ28tdG8tZmlsZScsIDB4ZWE5NCksXG4gICAgc3ltYm9sRW51bTogcmVnaXN0ZXIoJ3N5bWJvbC1lbnVtJywgMHhlYTk1KSxcbiAgICBzeW1ib2xWYWx1ZTogcmVnaXN0ZXIoJ3N5bWJvbC12YWx1ZScsIDB4ZWE5NSksXG4gICAgc3ltYm9sUnVsZXI6IHJlZ2lzdGVyKCdzeW1ib2wtcnVsZXInLCAweGVhOTYpLFxuICAgIHN5bWJvbFVuaXQ6IHJlZ2lzdGVyKCdzeW1ib2wtdW5pdCcsIDB4ZWE5NiksXG4gICAgYWN0aXZhdGVCcmVha3BvaW50czogcmVnaXN0ZXIoJ2FjdGl2YXRlLWJyZWFrcG9pbnRzJywgMHhlYTk3KSxcbiAgICBhcmNoaXZlOiByZWdpc3RlcignYXJjaGl2ZScsIDB4ZWE5OCksXG4gICAgYXJyb3dCb3RoOiByZWdpc3RlcignYXJyb3ctYm90aCcsIDB4ZWE5OSksXG4gICAgYXJyb3dEb3duOiByZWdpc3RlcignYXJyb3ctZG93bicsIDB4ZWE5YSksXG4gICAgYXJyb3dMZWZ0OiByZWdpc3RlcignYXJyb3ctbGVmdCcsIDB4ZWE5YiksXG4gICAgYXJyb3dSaWdodDogcmVnaXN0ZXIoJ2Fycm93LXJpZ2h0JywgMHhlYTljKSxcbiAgICBhcnJvd1NtYWxsRG93bjogcmVnaXN0ZXIoJ2Fycm93LXNtYWxsLWRvd24nLCAweGVhOWQpLFxuICAgIGFycm93U21hbGxMZWZ0OiByZWdpc3RlcignYXJyb3ctc21hbGwtbGVmdCcsIDB4ZWE5ZSksXG4gICAgYXJyb3dTbWFsbFJpZ2h0OiByZWdpc3RlcignYXJyb3ctc21hbGwtcmlnaHQnLCAweGVhOWYpLFxuICAgIGFycm93U21hbGxVcDogcmVnaXN0ZXIoJ2Fycm93LXNtYWxsLXVwJywgMHhlYWEwKSxcbiAgICBhcnJvd1VwOiByZWdpc3RlcignYXJyb3ctdXAnLCAweGVhYTEpLFxuICAgIGJlbGw6IHJlZ2lzdGVyKCdiZWxsJywgMHhlYWEyKSxcbiAgICBib2xkOiByZWdpc3RlcignYm9sZCcsIDB4ZWFhMyksXG4gICAgYm9vazogcmVnaXN0ZXIoJ2Jvb2snLCAweGVhYTQpLFxuICAgIGJvb2ttYXJrOiByZWdpc3RlcignYm9va21hcmsnLCAweGVhYTUpLFxuICAgIGRlYnVnQnJlYWtwb2ludENvbmRpdGlvbmFsVW52ZXJpZmllZDogcmVnaXN0ZXIoJ2RlYnVnLWJyZWFrcG9pbnQtY29uZGl0aW9uYWwtdW52ZXJpZmllZCcsIDB4ZWFhNiksXG4gICAgZGVidWdCcmVha3BvaW50Q29uZGl0aW9uYWw6IHJlZ2lzdGVyKCdkZWJ1Zy1icmVha3BvaW50LWNvbmRpdGlvbmFsJywgMHhlYWE3KSxcbiAgICBkZWJ1Z0JyZWFrcG9pbnRDb25kaXRpb25hbERpc2FibGVkOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1jb25kaXRpb25hbC1kaXNhYmxlZCcsIDB4ZWFhNyksXG4gICAgZGVidWdCcmVha3BvaW50RGF0YVVudmVyaWZpZWQ6IHJlZ2lzdGVyKCdkZWJ1Zy1icmVha3BvaW50LWRhdGEtdW52ZXJpZmllZCcsIDB4ZWFhOCksXG4gICAgZGVidWdCcmVha3BvaW50RGF0YTogcmVnaXN0ZXIoJ2RlYnVnLWJyZWFrcG9pbnQtZGF0YScsIDB4ZWFhOSksXG4gICAgZGVidWdCcmVha3BvaW50RGF0YURpc2FibGVkOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1kYXRhLWRpc2FibGVkJywgMHhlYWE5KSxcbiAgICBkZWJ1Z0JyZWFrcG9pbnRMb2dVbnZlcmlmaWVkOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1sb2ctdW52ZXJpZmllZCcsIDB4ZWFhYSksXG4gICAgZGVidWdCcmVha3BvaW50TG9nOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1sb2cnLCAweGVhYWIpLFxuICAgIGRlYnVnQnJlYWtwb2ludExvZ0Rpc2FibGVkOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1sb2ctZGlzYWJsZWQnLCAweGVhYWIpLFxuICAgIGJyaWVmY2FzZTogcmVnaXN0ZXIoJ2JyaWVmY2FzZScsIDB4ZWFhYyksXG4gICAgYnJvYWRjYXN0OiByZWdpc3RlcignYnJvYWRjYXN0JywgMHhlYWFkKSxcbiAgICBicm93c2VyOiByZWdpc3RlcignYnJvd3NlcicsIDB4ZWFhZSksXG4gICAgYnVnOiByZWdpc3RlcignYnVnJywgMHhlYWFmKSxcbiAgICBjYWxlbmRhcjogcmVnaXN0ZXIoJ2NhbGVuZGFyJywgMHhlYWIwKSxcbiAgICBjYXNlU2Vuc2l0aXZlOiByZWdpc3RlcignY2FzZS1zZW5zaXRpdmUnLCAweGVhYjEpLFxuICAgIGNoZWNrOiByZWdpc3RlcignY2hlY2snLCAweGVhYjIpLFxuICAgIGNoZWNrbGlzdDogcmVnaXN0ZXIoJ2NoZWNrbGlzdCcsIDB4ZWFiMyksXG4gICAgY2hldnJvbkRvd246IHJlZ2lzdGVyKCdjaGV2cm9uLWRvd24nLCAweGVhYjQpLFxuICAgIGRyb3BEb3duQnV0dG9uOiByZWdpc3RlcignZHJvcC1kb3duLWJ1dHRvbicsIDB4ZWFiNCksXG4gICAgY2hldnJvbkxlZnQ6IHJlZ2lzdGVyKCdjaGV2cm9uLWxlZnQnLCAweGVhYjUpLFxuICAgIGNoZXZyb25SaWdodDogcmVnaXN0ZXIoJ2NoZXZyb24tcmlnaHQnLCAweGVhYjYpLFxuICAgIGNoZXZyb25VcDogcmVnaXN0ZXIoJ2NoZXZyb24tdXAnLCAweGVhYjcpLFxuICAgIGNocm9tZUNsb3NlOiByZWdpc3RlcignY2hyb21lLWNsb3NlJywgMHhlYWI4KSxcbiAgICBjaHJvbWVNYXhpbWl6ZTogcmVnaXN0ZXIoJ2Nocm9tZS1tYXhpbWl6ZScsIDB4ZWFiOSksXG4gICAgY2hyb21lTWluaW1pemU6IHJlZ2lzdGVyKCdjaHJvbWUtbWluaW1pemUnLCAweGVhYmEpLFxuICAgIGNocm9tZVJlc3RvcmU6IHJlZ2lzdGVyKCdjaHJvbWUtcmVzdG9yZScsIDB4ZWFiYiksXG4gICAgY2lyY2xlOiByZWdpc3RlcignY2lyY2xlJywgMHhlYWJjKSxcbiAgICBjaXJjbGVPdXRsaW5lOiByZWdpc3RlcignY2lyY2xlLW91dGxpbmUnLCAweGVhYmMpLFxuICAgIGRlYnVnQnJlYWtwb2ludFVudmVyaWZpZWQ6IHJlZ2lzdGVyKCdkZWJ1Zy1icmVha3BvaW50LXVudmVyaWZpZWQnLCAweGVhYmMpLFxuICAgIGNpcmNsZVNsYXNoOiByZWdpc3RlcignY2lyY2xlLXNsYXNoJywgMHhlYWJkKSxcbiAgICBjaXJjdWl0Qm9hcmQ6IHJlZ2lzdGVyKCdjaXJjdWl0LWJvYXJkJywgMHhlYWJlKSxcbiAgICBjbGVhckFsbDogcmVnaXN0ZXIoJ2NsZWFyLWFsbCcsIDB4ZWFiZiksXG4gICAgY2xpcHB5OiByZWdpc3RlcignY2xpcHB5JywgMHhlYWMwKSxcbiAgICBjbG9zZUFsbDogcmVnaXN0ZXIoJ2Nsb3NlLWFsbCcsIDB4ZWFjMSksXG4gICAgY2xvdWREb3dubG9hZDogcmVnaXN0ZXIoJ2Nsb3VkLWRvd25sb2FkJywgMHhlYWMyKSxcbiAgICBjbG91ZFVwbG9hZDogcmVnaXN0ZXIoJ2Nsb3VkLXVwbG9hZCcsIDB4ZWFjMyksXG4gICAgY29kZTogcmVnaXN0ZXIoJ2NvZGUnLCAweGVhYzQpLFxuICAgIGNvbGxhcHNlQWxsOiByZWdpc3RlcignY29sbGFwc2UtYWxsJywgMHhlYWM1KSxcbiAgICBjb2xvck1vZGU6IHJlZ2lzdGVyKCdjb2xvci1tb2RlJywgMHhlYWM2KSxcbiAgICBjb21tZW50RGlzY3Vzc2lvbjogcmVnaXN0ZXIoJ2NvbW1lbnQtZGlzY3Vzc2lvbicsIDB4ZWFjNyksXG4gICAgY29tcGFyZUNoYW5nZXM6IHJlZ2lzdGVyKCdjb21wYXJlLWNoYW5nZXMnLCAweGVhZmQpLFxuICAgIGNyZWRpdENhcmQ6IHJlZ2lzdGVyKCdjcmVkaXQtY2FyZCcsIDB4ZWFjOSksXG4gICAgZGFzaDogcmVnaXN0ZXIoJ2Rhc2gnLCAweGVhY2MpLFxuICAgIGRhc2hib2FyZDogcmVnaXN0ZXIoJ2Rhc2hib2FyZCcsIDB4ZWFjZCksXG4gICAgZGF0YWJhc2U6IHJlZ2lzdGVyKCdkYXRhYmFzZScsIDB4ZWFjZSksXG4gICAgZGVidWdDb250aW51ZTogcmVnaXN0ZXIoJ2RlYnVnLWNvbnRpbnVlJywgMHhlYWNmKSxcbiAgICBkZWJ1Z0Rpc2Nvbm5lY3Q6IHJlZ2lzdGVyKCdkZWJ1Zy1kaXNjb25uZWN0JywgMHhlYWQwKSxcbiAgICBkZWJ1Z1BhdXNlOiByZWdpc3RlcignZGVidWctcGF1c2UnLCAweGVhZDEpLFxuICAgIGRlYnVnUmVzdGFydDogcmVnaXN0ZXIoJ2RlYnVnLXJlc3RhcnQnLCAweGVhZDIpLFxuICAgIGRlYnVnU3RhcnQ6IHJlZ2lzdGVyKCdkZWJ1Zy1zdGFydCcsIDB4ZWFkMyksXG4gICAgZGVidWdTdGVwSW50bzogcmVnaXN0ZXIoJ2RlYnVnLXN0ZXAtaW50bycsIDB4ZWFkNCksXG4gICAgZGVidWdTdGVwT3V0OiByZWdpc3RlcignZGVidWctc3RlcC1vdXQnLCAweGVhZDUpLFxuICAgIGRlYnVnU3RlcE92ZXI6IHJlZ2lzdGVyKCdkZWJ1Zy1zdGVwLW92ZXInLCAweGVhZDYpLFxuICAgIGRlYnVnU3RvcDogcmVnaXN0ZXIoJ2RlYnVnLXN0b3AnLCAweGVhZDcpLFxuICAgIGRlYnVnOiByZWdpc3RlcignZGVidWcnLCAweGVhZDgpLFxuICAgIGRldmljZUNhbWVyYVZpZGVvOiByZWdpc3RlcignZGV2aWNlLWNhbWVyYS12aWRlbycsIDB4ZWFkOSksXG4gICAgZGV2aWNlQ2FtZXJhOiByZWdpc3RlcignZGV2aWNlLWNhbWVyYScsIDB4ZWFkYSksXG4gICAgZGV2aWNlTW9iaWxlOiByZWdpc3RlcignZGV2aWNlLW1vYmlsZScsIDB4ZWFkYiksXG4gICAgZGlmZkFkZGVkOiByZWdpc3RlcignZGlmZi1hZGRlZCcsIDB4ZWFkYyksXG4gICAgZGlmZklnbm9yZWQ6IHJlZ2lzdGVyKCdkaWZmLWlnbm9yZWQnLCAweGVhZGQpLFxuICAgIGRpZmZNb2RpZmllZDogcmVnaXN0ZXIoJ2RpZmYtbW9kaWZpZWQnLCAweGVhZGUpLFxuICAgIGRpZmZSZW1vdmVkOiByZWdpc3RlcignZGlmZi1yZW1vdmVkJywgMHhlYWRmKSxcbiAgICBkaWZmUmVuYW1lZDogcmVnaXN0ZXIoJ2RpZmYtcmVuYW1lZCcsIDB4ZWFlMCksXG4gICAgZGlmZjogcmVnaXN0ZXIoJ2RpZmYnLCAweGVhZTEpLFxuICAgIGRpc2NhcmQ6IHJlZ2lzdGVyKCdkaXNjYXJkJywgMHhlYWUyKSxcbiAgICBlZGl0b3JMYXlvdXQ6IHJlZ2lzdGVyKCdlZGl0b3ItbGF5b3V0JywgMHhlYWUzKSxcbiAgICBlbXB0eVdpbmRvdzogcmVnaXN0ZXIoJ2VtcHR5LXdpbmRvdycsIDB4ZWFlNCksXG4gICAgZXhjbHVkZTogcmVnaXN0ZXIoJ2V4Y2x1ZGUnLCAweGVhZTUpLFxuICAgIGV4dGVuc2lvbnM6IHJlZ2lzdGVyKCdleHRlbnNpb25zJywgMHhlYWU2KSxcbiAgICBleWVDbG9zZWQ6IHJlZ2lzdGVyKCdleWUtY2xvc2VkJywgMHhlYWU3KSxcbiAgICBmaWxlQmluYXJ5OiByZWdpc3RlcignZmlsZS1iaW5hcnknLCAweGVhZTgpLFxuICAgIGZpbGVDb2RlOiByZWdpc3RlcignZmlsZS1jb2RlJywgMHhlYWU5KSxcbiAgICBmaWxlTWVkaWE6IHJlZ2lzdGVyKCdmaWxlLW1lZGlhJywgMHhlYWVhKSxcbiAgICBmaWxlUGRmOiByZWdpc3RlcignZmlsZS1wZGYnLCAweGVhZWIpLFxuICAgIGZpbGVTdWJtb2R1bGU6IHJlZ2lzdGVyKCdmaWxlLXN1Ym1vZHVsZScsIDB4ZWFlYyksXG4gICAgZmlsZVN5bWxpbmtEaXJlY3Rvcnk6IHJlZ2lzdGVyKCdmaWxlLXN5bWxpbmstZGlyZWN0b3J5JywgMHhlYWVkKSxcbiAgICBmaWxlU3ltbGlua0ZpbGU6IHJlZ2lzdGVyKCdmaWxlLXN5bWxpbmstZmlsZScsIDB4ZWFlZSksXG4gICAgZmlsZVppcDogcmVnaXN0ZXIoJ2ZpbGUtemlwJywgMHhlYWVmKSxcbiAgICBmaWxlczogcmVnaXN0ZXIoJ2ZpbGVzJywgMHhlYWYwKSxcbiAgICBmaWx0ZXI6IHJlZ2lzdGVyKCdmaWx0ZXInLCAweGVhZjEpLFxuICAgIGZsYW1lOiByZWdpc3RlcignZmxhbWUnLCAweGVhZjIpLFxuICAgIGZvbGREb3duOiByZWdpc3RlcignZm9sZC1kb3duJywgMHhlYWYzKSxcbiAgICBmb2xkVXA6IHJlZ2lzdGVyKCdmb2xkLXVwJywgMHhlYWY0KSxcbiAgICBmb2xkOiByZWdpc3RlcignZm9sZCcsIDB4ZWFmNSksXG4gICAgZm9sZGVyQWN0aXZlOiByZWdpc3RlcignZm9sZGVyLWFjdGl2ZScsIDB4ZWFmNiksXG4gICAgZm9sZGVyT3BlbmVkOiByZWdpc3RlcignZm9sZGVyLW9wZW5lZCcsIDB4ZWFmNyksXG4gICAgZ2VhcjogcmVnaXN0ZXIoJ2dlYXInLCAweGVhZjgpLFxuICAgIGdpZnQ6IHJlZ2lzdGVyKCdnaWZ0JywgMHhlYWY5KSxcbiAgICBnaXN0U2VjcmV0OiByZWdpc3RlcignZ2lzdC1zZWNyZXQnLCAweGVhZmEpLFxuICAgIGdpc3Q6IHJlZ2lzdGVyKCdnaXN0JywgMHhlYWZiKSxcbiAgICBnaXRDb21taXQ6IHJlZ2lzdGVyKCdnaXQtY29tbWl0JywgMHhlYWZjKSxcbiAgICBnaXRDb21wYXJlOiByZWdpc3RlcignZ2l0LWNvbXBhcmUnLCAweGVhZmQpLFxuICAgIGdpdE1lcmdlOiByZWdpc3RlcignZ2l0LW1lcmdlJywgMHhlYWZlKSxcbiAgICBnaXRodWJBY3Rpb246IHJlZ2lzdGVyKCdnaXRodWItYWN0aW9uJywgMHhlYWZmKSxcbiAgICBnaXRodWJBbHQ6IHJlZ2lzdGVyKCdnaXRodWItYWx0JywgMHhlYjAwKSxcbiAgICBnbG9iZTogcmVnaXN0ZXIoJ2dsb2JlJywgMHhlYjAxKSxcbiAgICBncmFiYmVyOiByZWdpc3RlcignZ3JhYmJlcicsIDB4ZWIwMiksXG4gICAgZ3JhcGg6IHJlZ2lzdGVyKCdncmFwaCcsIDB4ZWIwMyksXG4gICAgZ3JpcHBlcjogcmVnaXN0ZXIoJ2dyaXBwZXInLCAweGViMDQpLFxuICAgIGhlYXJ0OiByZWdpc3RlcignaGVhcnQnLCAweGViMDUpLFxuICAgIGhvbWU6IHJlZ2lzdGVyKCdob21lJywgMHhlYjA2KSxcbiAgICBob3Jpem9udGFsUnVsZTogcmVnaXN0ZXIoJ2hvcml6b250YWwtcnVsZScsIDB4ZWIwNyksXG4gICAgaHVib3Q6IHJlZ2lzdGVyKCdodWJvdCcsIDB4ZWIwOCksXG4gICAgaW5ib3g6IHJlZ2lzdGVyKCdpbmJveCcsIDB4ZWIwOSksXG4gICAgaXNzdWVDbG9zZWQ6IHJlZ2lzdGVyKCdpc3N1ZS1jbG9zZWQnLCAweGViYTQpLFxuICAgIGlzc3VlUmVvcGVuZWQ6IHJlZ2lzdGVyKCdpc3N1ZS1yZW9wZW5lZCcsIDB4ZWIwYiksXG4gICAgaXNzdWVzOiByZWdpc3RlcignaXNzdWVzJywgMHhlYjBjKSxcbiAgICBpdGFsaWM6IHJlZ2lzdGVyKCdpdGFsaWMnLCAweGViMGQpLFxuICAgIGplcnNleTogcmVnaXN0ZXIoJ2plcnNleScsIDB4ZWIwZSksXG4gICAganNvbjogcmVnaXN0ZXIoJ2pzb24nLCAweGViMGYpLFxuICAgIGJyYWNrZXQ6IHJlZ2lzdGVyKCdicmFja2V0JywgMHhlYjBmKSxcbiAgICBrZWJhYlZlcnRpY2FsOiByZWdpc3Rlcigna2ViYWItdmVydGljYWwnLCAweGViMTApLFxuICAgIGtleTogcmVnaXN0ZXIoJ2tleScsIDB4ZWIxMSksXG4gICAgbGF3OiByZWdpc3RlcignbGF3JywgMHhlYjEyKSxcbiAgICBsaWdodGJ1bGJBdXRvZml4OiByZWdpc3RlcignbGlnaHRidWxiLWF1dG9maXgnLCAweGViMTMpLFxuICAgIGxpbmtFeHRlcm5hbDogcmVnaXN0ZXIoJ2xpbmstZXh0ZXJuYWwnLCAweGViMTQpLFxuICAgIGxpbms6IHJlZ2lzdGVyKCdsaW5rJywgMHhlYjE1KSxcbiAgICBsaXN0T3JkZXJlZDogcmVnaXN0ZXIoJ2xpc3Qtb3JkZXJlZCcsIDB4ZWIxNiksXG4gICAgbGlzdFVub3JkZXJlZDogcmVnaXN0ZXIoJ2xpc3QtdW5vcmRlcmVkJywgMHhlYjE3KSxcbiAgICBsaXZlU2hhcmU6IHJlZ2lzdGVyKCdsaXZlLXNoYXJlJywgMHhlYjE4KSxcbiAgICBsb2FkaW5nOiByZWdpc3RlcignbG9hZGluZycsIDB4ZWIxOSksXG4gICAgbG9jYXRpb246IHJlZ2lzdGVyKCdsb2NhdGlvbicsIDB4ZWIxYSksXG4gICAgbWFpbFJlYWQ6IHJlZ2lzdGVyKCdtYWlsLXJlYWQnLCAweGViMWIpLFxuICAgIG1haWw6IHJlZ2lzdGVyKCdtYWlsJywgMHhlYjFjKSxcbiAgICBtYXJrZG93bjogcmVnaXN0ZXIoJ21hcmtkb3duJywgMHhlYjFkKSxcbiAgICBtZWdhcGhvbmU6IHJlZ2lzdGVyKCdtZWdhcGhvbmUnLCAweGViMWUpLFxuICAgIG1lbnRpb246IHJlZ2lzdGVyKCdtZW50aW9uJywgMHhlYjFmKSxcbiAgICBtaWxlc3RvbmU6IHJlZ2lzdGVyKCdtaWxlc3RvbmUnLCAweGViMjApLFxuICAgIGdpdFB1bGxSZXF1ZXN0TWlsZXN0b25lOiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1taWxlc3RvbmUnLCAweGViMjApLFxuICAgIG1vcnRhckJvYXJkOiByZWdpc3RlcignbW9ydGFyLWJvYXJkJywgMHhlYjIxKSxcbiAgICBtb3ZlOiByZWdpc3RlcignbW92ZScsIDB4ZWIyMiksXG4gICAgbXVsdGlwbGVXaW5kb3dzOiByZWdpc3RlcignbXVsdGlwbGUtd2luZG93cycsIDB4ZWIyMyksXG4gICAgbXV0ZTogcmVnaXN0ZXIoJ211dGUnLCAweGViMjQpLFxuICAgIG5vTmV3bGluZTogcmVnaXN0ZXIoJ25vLW5ld2xpbmUnLCAweGViMjUpLFxuICAgIG5vdGU6IHJlZ2lzdGVyKCdub3RlJywgMHhlYjI2KSxcbiAgICBvY3RvZmFjZTogcmVnaXN0ZXIoJ29jdG9mYWNlJywgMHhlYjI3KSxcbiAgICBvcGVuUHJldmlldzogcmVnaXN0ZXIoJ29wZW4tcHJldmlldycsIDB4ZWIyOCksXG4gICAgcGFja2FnZTogcmVnaXN0ZXIoJ3BhY2thZ2UnLCAweGViMjkpLFxuICAgIHBhaW50Y2FuOiByZWdpc3RlcigncGFpbnRjYW4nLCAweGViMmEpLFxuICAgIHBpbjogcmVnaXN0ZXIoJ3BpbicsIDB4ZWIyYiksXG4gICAgcGxheTogcmVnaXN0ZXIoJ3BsYXknLCAweGViMmMpLFxuICAgIHJ1bjogcmVnaXN0ZXIoJ3J1bicsIDB4ZWIyYyksXG4gICAgcGx1ZzogcmVnaXN0ZXIoJ3BsdWcnLCAweGViMmQpLFxuICAgIHByZXNlcnZlQ2FzZTogcmVnaXN0ZXIoJ3ByZXNlcnZlLWNhc2UnLCAweGViMmUpLFxuICAgIHByZXZpZXc6IHJlZ2lzdGVyKCdwcmV2aWV3JywgMHhlYjJmKSxcbiAgICBwcm9qZWN0OiByZWdpc3RlcigncHJvamVjdCcsIDB4ZWIzMCksXG4gICAgcHVsc2U6IHJlZ2lzdGVyKCdwdWxzZScsIDB4ZWIzMSksXG4gICAgcXVlc3Rpb246IHJlZ2lzdGVyKCdxdWVzdGlvbicsIDB4ZWIzMiksXG4gICAgcXVvdGU6IHJlZ2lzdGVyKCdxdW90ZScsIDB4ZWIzMyksXG4gICAgcmFkaW9Ub3dlcjogcmVnaXN0ZXIoJ3JhZGlvLXRvd2VyJywgMHhlYjM0KSxcbiAgICByZWFjdGlvbnM6IHJlZ2lzdGVyKCdyZWFjdGlvbnMnLCAweGViMzUpLFxuICAgIHJlZmVyZW5jZXM6IHJlZ2lzdGVyKCdyZWZlcmVuY2VzJywgMHhlYjM2KSxcbiAgICByZWZyZXNoOiByZWdpc3RlcigncmVmcmVzaCcsIDB4ZWIzNyksXG4gICAgcmVnZXg6IHJlZ2lzdGVyKCdyZWdleCcsIDB4ZWIzOCksXG4gICAgcmVtb3RlRXhwbG9yZXI6IHJlZ2lzdGVyKCdyZW1vdGUtZXhwbG9yZXInLCAweGViMzkpLFxuICAgIHJlbW90ZTogcmVnaXN0ZXIoJ3JlbW90ZScsIDB4ZWIzYSksXG4gICAgcmVtb3ZlOiByZWdpc3RlcigncmVtb3ZlJywgMHhlYjNiKSxcbiAgICByZXBsYWNlQWxsOiByZWdpc3RlcigncmVwbGFjZS1hbGwnLCAweGViM2MpLFxuICAgIHJlcGxhY2U6IHJlZ2lzdGVyKCdyZXBsYWNlJywgMHhlYjNkKSxcbiAgICByZXBvQ2xvbmU6IHJlZ2lzdGVyKCdyZXBvLWNsb25lJywgMHhlYjNlKSxcbiAgICByZXBvRm9yY2VQdXNoOiByZWdpc3RlcigncmVwby1mb3JjZS1wdXNoJywgMHhlYjNmKSxcbiAgICByZXBvUHVsbDogcmVnaXN0ZXIoJ3JlcG8tcHVsbCcsIDB4ZWI0MCksXG4gICAgcmVwb1B1c2g6IHJlZ2lzdGVyKCdyZXBvLXB1c2gnLCAweGViNDEpLFxuICAgIHJlcG9ydDogcmVnaXN0ZXIoJ3JlcG9ydCcsIDB4ZWI0MiksXG4gICAgcmVxdWVzdENoYW5nZXM6IHJlZ2lzdGVyKCdyZXF1ZXN0LWNoYW5nZXMnLCAweGViNDMpLFxuICAgIHJvY2tldDogcmVnaXN0ZXIoJ3JvY2tldCcsIDB4ZWI0NCksXG4gICAgcm9vdEZvbGRlck9wZW5lZDogcmVnaXN0ZXIoJ3Jvb3QtZm9sZGVyLW9wZW5lZCcsIDB4ZWI0NSksXG4gICAgcm9vdEZvbGRlcjogcmVnaXN0ZXIoJ3Jvb3QtZm9sZGVyJywgMHhlYjQ2KSxcbiAgICByc3M6IHJlZ2lzdGVyKCdyc3MnLCAweGViNDcpLFxuICAgIHJ1Ynk6IHJlZ2lzdGVyKCdydWJ5JywgMHhlYjQ4KSxcbiAgICBzYXZlQWxsOiByZWdpc3Rlcignc2F2ZS1hbGwnLCAweGViNDkpLFxuICAgIHNhdmVBczogcmVnaXN0ZXIoJ3NhdmUtYXMnLCAweGViNGEpLFxuICAgIHNhdmU6IHJlZ2lzdGVyKCdzYXZlJywgMHhlYjRiKSxcbiAgICBzY3JlZW5GdWxsOiByZWdpc3Rlcignc2NyZWVuLWZ1bGwnLCAweGViNGMpLFxuICAgIHNjcmVlbk5vcm1hbDogcmVnaXN0ZXIoJ3NjcmVlbi1ub3JtYWwnLCAweGViNGQpLFxuICAgIHNlYXJjaFN0b3A6IHJlZ2lzdGVyKCdzZWFyY2gtc3RvcCcsIDB4ZWI0ZSksXG4gICAgc2VydmVyOiByZWdpc3Rlcignc2VydmVyJywgMHhlYjUwKSxcbiAgICBzZXR0aW5nc0dlYXI6IHJlZ2lzdGVyKCdzZXR0aW5ncy1nZWFyJywgMHhlYjUxKSxcbiAgICBzZXR0aW5nczogcmVnaXN0ZXIoJ3NldHRpbmdzJywgMHhlYjUyKSxcbiAgICBzaGllbGQ6IHJlZ2lzdGVyKCdzaGllbGQnLCAweGViNTMpLFxuICAgIHNtaWxleTogcmVnaXN0ZXIoJ3NtaWxleScsIDB4ZWI1NCksXG4gICAgc29ydFByZWNlZGVuY2U6IHJlZ2lzdGVyKCdzb3J0LXByZWNlZGVuY2UnLCAweGViNTUpLFxuICAgIHNwbGl0SG9yaXpvbnRhbDogcmVnaXN0ZXIoJ3NwbGl0LWhvcml6b250YWwnLCAweGViNTYpLFxuICAgIHNwbGl0VmVydGljYWw6IHJlZ2lzdGVyKCdzcGxpdC12ZXJ0aWNhbCcsIDB4ZWI1NyksXG4gICAgc3F1aXJyZWw6IHJlZ2lzdGVyKCdzcXVpcnJlbCcsIDB4ZWI1OCksXG4gICAgc3RhckZ1bGw6IHJlZ2lzdGVyKCdzdGFyLWZ1bGwnLCAweGViNTkpLFxuICAgIHN0YXJIYWxmOiByZWdpc3Rlcignc3Rhci1oYWxmJywgMHhlYjVhKSxcbiAgICBzeW1ib2xDbGFzczogcmVnaXN0ZXIoJ3N5bWJvbC1jbGFzcycsIDB4ZWI1YiksXG4gICAgc3ltYm9sQ29sb3I6IHJlZ2lzdGVyKCdzeW1ib2wtY29sb3InLCAweGViNWMpLFxuICAgIHN5bWJvbEN1c3RvbUNvbG9yOiByZWdpc3Rlcignc3ltYm9sLWN1c3RvbWNvbG9yJywgMHhlYjVjKSxcbiAgICBzeW1ib2xDb25zdGFudDogcmVnaXN0ZXIoJ3N5bWJvbC1jb25zdGFudCcsIDB4ZWI1ZCksXG4gICAgc3ltYm9sRW51bU1lbWJlcjogcmVnaXN0ZXIoJ3N5bWJvbC1lbnVtLW1lbWJlcicsIDB4ZWI1ZSksXG4gICAgc3ltYm9sRmllbGQ6IHJlZ2lzdGVyKCdzeW1ib2wtZmllbGQnLCAweGViNWYpLFxuICAgIHN5bWJvbEZpbGU6IHJlZ2lzdGVyKCdzeW1ib2wtZmlsZScsIDB4ZWI2MCksXG4gICAgc3ltYm9sSW50ZXJmYWNlOiByZWdpc3Rlcignc3ltYm9sLWludGVyZmFjZScsIDB4ZWI2MSksXG4gICAgc3ltYm9sS2V5d29yZDogcmVnaXN0ZXIoJ3N5bWJvbC1rZXl3b3JkJywgMHhlYjYyKSxcbiAgICBzeW1ib2xNaXNjOiByZWdpc3Rlcignc3ltYm9sLW1pc2MnLCAweGViNjMpLFxuICAgIHN5bWJvbE9wZXJhdG9yOiByZWdpc3Rlcignc3ltYm9sLW9wZXJhdG9yJywgMHhlYjY0KSxcbiAgICBzeW1ib2xQcm9wZXJ0eTogcmVnaXN0ZXIoJ3N5bWJvbC1wcm9wZXJ0eScsIDB4ZWI2NSksXG4gICAgd3JlbmNoOiByZWdpc3Rlcignd3JlbmNoJywgMHhlYjY1KSxcbiAgICB3cmVuY2hTdWJhY3Rpb246IHJlZ2lzdGVyKCd3cmVuY2gtc3ViYWN0aW9uJywgMHhlYjY1KSxcbiAgICBzeW1ib2xTbmlwcGV0OiByZWdpc3Rlcignc3ltYm9sLXNuaXBwZXQnLCAweGViNjYpLFxuICAgIHRhc2tsaXN0OiByZWdpc3RlcigndGFza2xpc3QnLCAweGViNjcpLFxuICAgIHRlbGVzY29wZTogcmVnaXN0ZXIoJ3RlbGVzY29wZScsIDB4ZWI2OCksXG4gICAgdGV4dFNpemU6IHJlZ2lzdGVyKCd0ZXh0LXNpemUnLCAweGViNjkpLFxuICAgIHRocmVlQmFyczogcmVnaXN0ZXIoJ3RocmVlLWJhcnMnLCAweGViNmEpLFxuICAgIHRodW1ic2Rvd246IHJlZ2lzdGVyKCd0aHVtYnNkb3duJywgMHhlYjZiKSxcbiAgICB0aHVtYnN1cDogcmVnaXN0ZXIoJ3RodW1ic3VwJywgMHhlYjZjKSxcbiAgICB0b29sczogcmVnaXN0ZXIoJ3Rvb2xzJywgMHhlYjZkKSxcbiAgICB0cmlhbmdsZURvd246IHJlZ2lzdGVyKCd0cmlhbmdsZS1kb3duJywgMHhlYjZlKSxcbiAgICB0cmlhbmdsZUxlZnQ6IHJlZ2lzdGVyKCd0cmlhbmdsZS1sZWZ0JywgMHhlYjZmKSxcbiAgICB0cmlhbmdsZVJpZ2h0OiByZWdpc3RlcigndHJpYW5nbGUtcmlnaHQnLCAweGViNzApLFxuICAgIHRyaWFuZ2xlVXA6IHJlZ2lzdGVyKCd0cmlhbmdsZS11cCcsIDB4ZWI3MSksXG4gICAgdHdpdHRlcjogcmVnaXN0ZXIoJ3R3aXR0ZXInLCAweGViNzIpLFxuICAgIHVuZm9sZDogcmVnaXN0ZXIoJ3VuZm9sZCcsIDB4ZWI3MyksXG4gICAgdW5sb2NrOiByZWdpc3RlcigndW5sb2NrJywgMHhlYjc0KSxcbiAgICB1bm11dGU6IHJlZ2lzdGVyKCd1bm11dGUnLCAweGViNzUpLFxuICAgIHVudmVyaWZpZWQ6IHJlZ2lzdGVyKCd1bnZlcmlmaWVkJywgMHhlYjc2KSxcbiAgICB2ZXJpZmllZDogcmVnaXN0ZXIoJ3ZlcmlmaWVkJywgMHhlYjc3KSxcbiAgICB2ZXJzaW9uczogcmVnaXN0ZXIoJ3ZlcnNpb25zJywgMHhlYjc4KSxcbiAgICB2bUFjdGl2ZTogcmVnaXN0ZXIoJ3ZtLWFjdGl2ZScsIDB4ZWI3OSksXG4gICAgdm1PdXRsaW5lOiByZWdpc3Rlcigndm0tb3V0bGluZScsIDB4ZWI3YSksXG4gICAgdm1SdW5uaW5nOiByZWdpc3Rlcigndm0tcnVubmluZycsIDB4ZWI3YiksXG4gICAgd2F0Y2g6IHJlZ2lzdGVyKCd3YXRjaCcsIDB4ZWI3YyksXG4gICAgd2hpdGVzcGFjZTogcmVnaXN0ZXIoJ3doaXRlc3BhY2UnLCAweGViN2QpLFxuICAgIHdob2xlV29yZDogcmVnaXN0ZXIoJ3dob2xlLXdvcmQnLCAweGViN2UpLFxuICAgIHdpbmRvdzogcmVnaXN0ZXIoJ3dpbmRvdycsIDB4ZWI3ZiksXG4gICAgd29yZFdyYXA6IHJlZ2lzdGVyKCd3b3JkLXdyYXAnLCAweGViODApLFxuICAgIHpvb21JbjogcmVnaXN0ZXIoJ3pvb20taW4nLCAweGViODEpLFxuICAgIHpvb21PdXQ6IHJlZ2lzdGVyKCd6b29tLW91dCcsIDB4ZWI4MiksXG4gICAgbGlzdEZpbHRlcjogcmVnaXN0ZXIoJ2xpc3QtZmlsdGVyJywgMHhlYjgzKSxcbiAgICBsaXN0RmxhdDogcmVnaXN0ZXIoJ2xpc3QtZmxhdCcsIDB4ZWI4NCksXG4gICAgbGlzdFNlbGVjdGlvbjogcmVnaXN0ZXIoJ2xpc3Qtc2VsZWN0aW9uJywgMHhlYjg1KSxcbiAgICBzZWxlY3Rpb246IHJlZ2lzdGVyKCdzZWxlY3Rpb24nLCAweGViODUpLFxuICAgIGxpc3RUcmVlOiByZWdpc3RlcignbGlzdC10cmVlJywgMHhlYjg2KSxcbiAgICBkZWJ1Z0JyZWFrcG9pbnRGdW5jdGlvblVudmVyaWZpZWQ6IHJlZ2lzdGVyKCdkZWJ1Zy1icmVha3BvaW50LWZ1bmN0aW9uLXVudmVyaWZpZWQnLCAweGViODcpLFxuICAgIGRlYnVnQnJlYWtwb2ludEZ1bmN0aW9uOiByZWdpc3RlcignZGVidWctYnJlYWtwb2ludC1mdW5jdGlvbicsIDB4ZWI4OCksXG4gICAgZGVidWdCcmVha3BvaW50RnVuY3Rpb25EaXNhYmxlZDogcmVnaXN0ZXIoJ2RlYnVnLWJyZWFrcG9pbnQtZnVuY3Rpb24tZGlzYWJsZWQnLCAweGViODgpLFxuICAgIGRlYnVnU3RhY2tmcmFtZUFjdGl2ZTogcmVnaXN0ZXIoJ2RlYnVnLXN0YWNrZnJhbWUtYWN0aXZlJywgMHhlYjg5KSxcbiAgICBjaXJjbGVTbWFsbEZpbGxlZDogcmVnaXN0ZXIoJ2NpcmNsZS1zbWFsbC1maWxsZWQnLCAweGViOGEpLFxuICAgIGRlYnVnU3RhY2tmcmFtZURvdDogcmVnaXN0ZXIoJ2RlYnVnLXN0YWNrZnJhbWUtZG90JywgMHhlYjhhKSxcbiAgICBkZWJ1Z1N0YWNrZnJhbWU6IHJlZ2lzdGVyKCdkZWJ1Zy1zdGFja2ZyYW1lJywgMHhlYjhiKSxcbiAgICBkZWJ1Z1N0YWNrZnJhbWVGb2N1c2VkOiByZWdpc3RlcignZGVidWctc3RhY2tmcmFtZS1mb2N1c2VkJywgMHhlYjhiKSxcbiAgICBkZWJ1Z0JyZWFrcG9pbnRVbnN1cHBvcnRlZDogcmVnaXN0ZXIoJ2RlYnVnLWJyZWFrcG9pbnQtdW5zdXBwb3J0ZWQnLCAweGViOGMpLFxuICAgIHN5bWJvbFN0cmluZzogcmVnaXN0ZXIoJ3N5bWJvbC1zdHJpbmcnLCAweGViOGQpLFxuICAgIGRlYnVnUmV2ZXJzZUNvbnRpbnVlOiByZWdpc3RlcignZGVidWctcmV2ZXJzZS1jb250aW51ZScsIDB4ZWI4ZSksXG4gICAgZGVidWdTdGVwQmFjazogcmVnaXN0ZXIoJ2RlYnVnLXN0ZXAtYmFjaycsIDB4ZWI4ZiksXG4gICAgZGVidWdSZXN0YXJ0RnJhbWU6IHJlZ2lzdGVyKCdkZWJ1Zy1yZXN0YXJ0LWZyYW1lJywgMHhlYjkwKSxcbiAgICBjYWxsSW5jb21pbmc6IHJlZ2lzdGVyKCdjYWxsLWluY29taW5nJywgMHhlYjkyKSxcbiAgICBjYWxsT3V0Z29pbmc6IHJlZ2lzdGVyKCdjYWxsLW91dGdvaW5nJywgMHhlYjkzKSxcbiAgICBtZW51OiByZWdpc3RlcignbWVudScsIDB4ZWI5NCksXG4gICAgZXhwYW5kQWxsOiByZWdpc3RlcignZXhwYW5kLWFsbCcsIDB4ZWI5NSksXG4gICAgZmVlZGJhY2s6IHJlZ2lzdGVyKCdmZWVkYmFjaycsIDB4ZWI5NiksXG4gICAgZ2l0UHVsbFJlcXVlc3RSZXZpZXdlcjogcmVnaXN0ZXIoJ2dpdC1wdWxsLXJlcXVlc3QtcmV2aWV3ZXInLCAweGViOTYpLFxuICAgIGdyb3VwQnlSZWZUeXBlOiByZWdpc3RlcignZ3JvdXAtYnktcmVmLXR5cGUnLCAweGViOTcpLFxuICAgIHVuZ3JvdXBCeVJlZlR5cGU6IHJlZ2lzdGVyKCd1bmdyb3VwLWJ5LXJlZi10eXBlJywgMHhlYjk4KSxcbiAgICBhY2NvdW50OiByZWdpc3RlcignYWNjb3VudCcsIDB4ZWI5OSksXG4gICAgZ2l0UHVsbFJlcXVlc3RBc3NpZ25lZTogcmVnaXN0ZXIoJ2dpdC1wdWxsLXJlcXVlc3QtYXNzaWduZWUnLCAweGViOTkpLFxuICAgIGJlbGxEb3Q6IHJlZ2lzdGVyKCdiZWxsLWRvdCcsIDB4ZWI5YSksXG4gICAgZGVidWdDb25zb2xlOiByZWdpc3RlcignZGVidWctY29uc29sZScsIDB4ZWI5YiksXG4gICAgbGlicmFyeTogcmVnaXN0ZXIoJ2xpYnJhcnknLCAweGViOWMpLFxuICAgIG91dHB1dDogcmVnaXN0ZXIoJ291dHB1dCcsIDB4ZWI5ZCksXG4gICAgcnVuQWxsOiByZWdpc3RlcigncnVuLWFsbCcsIDB4ZWI5ZSksXG4gICAgc3luY0lnbm9yZWQ6IHJlZ2lzdGVyKCdzeW5jLWlnbm9yZWQnLCAweGViOWYpLFxuICAgIHBpbm5lZDogcmVnaXN0ZXIoJ3Bpbm5lZCcsIDB4ZWJhMCksXG4gICAgZ2l0aHViSW52ZXJ0ZWQ6IHJlZ2lzdGVyKCdnaXRodWItaW52ZXJ0ZWQnLCAweGViYTEpLFxuICAgIGRlYnVnQWx0OiByZWdpc3RlcignZGVidWctYWx0JywgMHhlYjkxKSxcbiAgICBzZXJ2ZXJQcm9jZXNzOiByZWdpc3Rlcignc2VydmVyLXByb2Nlc3MnLCAweGViYTIpLFxuICAgIHNlcnZlckVudmlyb25tZW50OiByZWdpc3Rlcignc2VydmVyLWVudmlyb25tZW50JywgMHhlYmEzKSxcbiAgICBwYXNzOiByZWdpc3RlcigncGFzcycsIDB4ZWJhNCksXG4gICAgc3RvcENpcmNsZTogcmVnaXN0ZXIoJ3N0b3AtY2lyY2xlJywgMHhlYmE1KSxcbiAgICBwbGF5Q2lyY2xlOiByZWdpc3RlcigncGxheS1jaXJjbGUnLCAweGViYTYpLFxuICAgIHJlY29yZDogcmVnaXN0ZXIoJ3JlY29yZCcsIDB4ZWJhNyksXG4gICAgZGVidWdBbHRTbWFsbDogcmVnaXN0ZXIoJ2RlYnVnLWFsdC1zbWFsbCcsIDB4ZWJhOCksXG4gICAgdm1Db25uZWN0OiByZWdpc3Rlcigndm0tY29ubmVjdCcsIDB4ZWJhOSksXG4gICAgY2xvdWQ6IHJlZ2lzdGVyKCdjbG91ZCcsIDB4ZWJhYSksXG4gICAgbWVyZ2U6IHJlZ2lzdGVyKCdtZXJnZScsIDB4ZWJhYiksXG4gICAgZXhwb3J0SWNvbjogcmVnaXN0ZXIoJ2V4cG9ydCcsIDB4ZWJhYyksXG4gICAgZ3JhcGhMZWZ0OiByZWdpc3RlcignZ3JhcGgtbGVmdCcsIDB4ZWJhZCksXG4gICAgbWFnbmV0OiByZWdpc3RlcignbWFnbmV0JywgMHhlYmFlKSxcbiAgICBub3RlYm9vazogcmVnaXN0ZXIoJ25vdGVib29rJywgMHhlYmFmKSxcbiAgICByZWRvOiByZWdpc3RlcigncmVkbycsIDB4ZWJiMCksXG4gICAgY2hlY2tBbGw6IHJlZ2lzdGVyKCdjaGVjay1hbGwnLCAweGViYjEpLFxuICAgIHBpbm5lZERpcnR5OiByZWdpc3RlcigncGlubmVkLWRpcnR5JywgMHhlYmIyKSxcbiAgICBwYXNzRmlsbGVkOiByZWdpc3RlcigncGFzcy1maWxsZWQnLCAweGViYjMpLFxuICAgIGNpcmNsZUxhcmdlRmlsbGVkOiByZWdpc3RlcignY2lyY2xlLWxhcmdlLWZpbGxlZCcsIDB4ZWJiNCksXG4gICAgY2lyY2xlTGFyZ2U6IHJlZ2lzdGVyKCdjaXJjbGUtbGFyZ2UnLCAweGViYjUpLFxuICAgIGNpcmNsZUxhcmdlT3V0bGluZTogcmVnaXN0ZXIoJ2NpcmNsZS1sYXJnZS1vdXRsaW5lJywgMHhlYmI1KSxcbiAgICBjb21iaW5lOiByZWdpc3RlcignY29tYmluZScsIDB4ZWJiNiksXG4gICAgZ2F0aGVyOiByZWdpc3RlcignZ2F0aGVyJywgMHhlYmI2KSxcbiAgICB0YWJsZTogcmVnaXN0ZXIoJ3RhYmxlJywgMHhlYmI3KSxcbiAgICB2YXJpYWJsZUdyb3VwOiByZWdpc3RlcigndmFyaWFibGUtZ3JvdXAnLCAweGViYjgpLFxuICAgIHR5cGVIaWVyYXJjaHk6IHJlZ2lzdGVyKCd0eXBlLWhpZXJhcmNoeScsIDB4ZWJiOSksXG4gICAgdHlwZUhpZXJhcmNoeVN1YjogcmVnaXN0ZXIoJ3R5cGUtaGllcmFyY2h5LXN1YicsIDB4ZWJiYSksXG4gICAgdHlwZUhpZXJhcmNoeVN1cGVyOiByZWdpc3RlcigndHlwZS1oaWVyYXJjaHktc3VwZXInLCAweGViYmIpLFxuICAgIGdpdFB1bGxSZXF1ZXN0Q3JlYXRlOiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1jcmVhdGUnLCAweGViYmMpLFxuICAgIHJ1bkFib3ZlOiByZWdpc3RlcigncnVuLWFib3ZlJywgMHhlYmJkKSxcbiAgICBydW5CZWxvdzogcmVnaXN0ZXIoJ3J1bi1iZWxvdycsIDB4ZWJiZSksXG4gICAgbm90ZWJvb2tUZW1wbGF0ZTogcmVnaXN0ZXIoJ25vdGVib29rLXRlbXBsYXRlJywgMHhlYmJmKSxcbiAgICBkZWJ1Z1JlcnVuOiByZWdpc3RlcignZGVidWctcmVydW4nLCAweGViYzApLFxuICAgIHdvcmtzcGFjZVRydXN0ZWQ6IHJlZ2lzdGVyKCd3b3Jrc3BhY2UtdHJ1c3RlZCcsIDB4ZWJjMSksXG4gICAgd29ya3NwYWNlVW50cnVzdGVkOiByZWdpc3Rlcignd29ya3NwYWNlLXVudHJ1c3RlZCcsIDB4ZWJjMiksXG4gICAgd29ya3NwYWNlVW5zcGVjaWZpZWQ6IHJlZ2lzdGVyKCd3b3Jrc3BhY2UtdW5zcGVjaWZpZWQnLCAweGViYzMpLFxuICAgIHRlcm1pbmFsQ21kOiByZWdpc3RlcigndGVybWluYWwtY21kJywgMHhlYmM0KSxcbiAgICB0ZXJtaW5hbERlYmlhbjogcmVnaXN0ZXIoJ3Rlcm1pbmFsLWRlYmlhbicsIDB4ZWJjNSksXG4gICAgdGVybWluYWxMaW51eDogcmVnaXN0ZXIoJ3Rlcm1pbmFsLWxpbnV4JywgMHhlYmM2KSxcbiAgICB0ZXJtaW5hbFBvd2Vyc2hlbGw6IHJlZ2lzdGVyKCd0ZXJtaW5hbC1wb3dlcnNoZWxsJywgMHhlYmM3KSxcbiAgICB0ZXJtaW5hbFRtdXg6IHJlZ2lzdGVyKCd0ZXJtaW5hbC10bXV4JywgMHhlYmM4KSxcbiAgICB0ZXJtaW5hbFVidW50dTogcmVnaXN0ZXIoJ3Rlcm1pbmFsLXVidW50dScsIDB4ZWJjOSksXG4gICAgdGVybWluYWxCYXNoOiByZWdpc3RlcigndGVybWluYWwtYmFzaCcsIDB4ZWJjYSksXG4gICAgYXJyb3dTd2FwOiByZWdpc3RlcignYXJyb3ctc3dhcCcsIDB4ZWJjYiksXG4gICAgY29weTogcmVnaXN0ZXIoJ2NvcHknLCAweGViY2MpLFxuICAgIHBlcnNvbkFkZDogcmVnaXN0ZXIoJ3BlcnNvbi1hZGQnLCAweGViY2QpLFxuICAgIGZpbHRlckZpbGxlZDogcmVnaXN0ZXIoJ2ZpbHRlci1maWxsZWQnLCAweGViY2UpLFxuICAgIHdhbmQ6IHJlZ2lzdGVyKCd3YW5kJywgMHhlYmNmKSxcbiAgICBkZWJ1Z0xpbmVCeUxpbmU6IHJlZ2lzdGVyKCdkZWJ1Zy1saW5lLWJ5LWxpbmUnLCAweGViZDApLFxuICAgIGluc3BlY3Q6IHJlZ2lzdGVyKCdpbnNwZWN0JywgMHhlYmQxKSxcbiAgICBsYXllcnM6IHJlZ2lzdGVyKCdsYXllcnMnLCAweGViZDIpLFxuICAgIGxheWVyc0RvdDogcmVnaXN0ZXIoJ2xheWVycy1kb3QnLCAweGViZDMpLFxuICAgIGxheWVyc0FjdGl2ZTogcmVnaXN0ZXIoJ2xheWVycy1hY3RpdmUnLCAweGViZDQpLFxuICAgIGNvbXBhc3M6IHJlZ2lzdGVyKCdjb21wYXNzJywgMHhlYmQ1KSxcbiAgICBjb21wYXNzRG90OiByZWdpc3RlcignY29tcGFzcy1kb3QnLCAweGViZDYpLFxuICAgIGNvbXBhc3NBY3RpdmU6IHJlZ2lzdGVyKCdjb21wYXNzLWFjdGl2ZScsIDB4ZWJkNyksXG4gICAgYXp1cmU6IHJlZ2lzdGVyKCdhenVyZScsIDB4ZWJkOCksXG4gICAgaXNzdWVEcmFmdDogcmVnaXN0ZXIoJ2lzc3VlLWRyYWZ0JywgMHhlYmQ5KSxcbiAgICBnaXRQdWxsUmVxdWVzdENsb3NlZDogcmVnaXN0ZXIoJ2dpdC1wdWxsLXJlcXVlc3QtY2xvc2VkJywgMHhlYmRhKSxcbiAgICBnaXRQdWxsUmVxdWVzdERyYWZ0OiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1kcmFmdCcsIDB4ZWJkYiksXG4gICAgZGVidWdBbGw6IHJlZ2lzdGVyKCdkZWJ1Zy1hbGwnLCAweGViZGMpLFxuICAgIGRlYnVnQ292ZXJhZ2U6IHJlZ2lzdGVyKCdkZWJ1Zy1jb3ZlcmFnZScsIDB4ZWJkZCksXG4gICAgcnVuRXJyb3JzOiByZWdpc3RlcigncnVuLWVycm9ycycsIDB4ZWJkZSksXG4gICAgZm9sZGVyTGlicmFyeTogcmVnaXN0ZXIoJ2ZvbGRlci1saWJyYXJ5JywgMHhlYmRmKSxcbiAgICBkZWJ1Z0NvbnRpbnVlU21hbGw6IHJlZ2lzdGVyKCdkZWJ1Zy1jb250aW51ZS1zbWFsbCcsIDB4ZWJlMCksXG4gICAgYmVha2VyU3RvcDogcmVnaXN0ZXIoJ2JlYWtlci1zdG9wJywgMHhlYmUxKSxcbiAgICBncmFwaExpbmU6IHJlZ2lzdGVyKCdncmFwaC1saW5lJywgMHhlYmUyKSxcbiAgICBncmFwaFNjYXR0ZXI6IHJlZ2lzdGVyKCdncmFwaC1zY2F0dGVyJywgMHhlYmUzKSxcbiAgICBwaWVDaGFydDogcmVnaXN0ZXIoJ3BpZS1jaGFydCcsIDB4ZWJlNCksXG4gICAgYnJhY2tldERvdDogcmVnaXN0ZXIoJ2JyYWNrZXQtZG90JywgMHhlYmU1KSxcbiAgICBicmFja2V0RXJyb3I6IHJlZ2lzdGVyKCdicmFja2V0LWVycm9yJywgMHhlYmU2KSxcbiAgICBsb2NrU21hbGw6IHJlZ2lzdGVyKCdsb2NrLXNtYWxsJywgMHhlYmU3KSxcbiAgICBhenVyZURldm9wczogcmVnaXN0ZXIoJ2F6dXJlLWRldm9wcycsIDB4ZWJlOCksXG4gICAgdmVyaWZpZWRGaWxsZWQ6IHJlZ2lzdGVyKCd2ZXJpZmllZC1maWxsZWQnLCAweGViZTkpLFxuICAgIG5ld0xpbmU6IHJlZ2lzdGVyKCduZXdsaW5lJywgMHhlYmVhKSxcbiAgICBsYXlvdXQ6IHJlZ2lzdGVyKCdsYXlvdXQnLCAweGViZWIpLFxuICAgIGxheW91dEFjdGl2aXR5YmFyTGVmdDogcmVnaXN0ZXIoJ2xheW91dC1hY3Rpdml0eWJhci1sZWZ0JywgMHhlYmVjKSxcbiAgICBsYXlvdXRBY3Rpdml0eWJhclJpZ2h0OiByZWdpc3RlcignbGF5b3V0LWFjdGl2aXR5YmFyLXJpZ2h0JywgMHhlYmVkKSxcbiAgICBsYXlvdXRQYW5lbExlZnQ6IHJlZ2lzdGVyKCdsYXlvdXQtcGFuZWwtbGVmdCcsIDB4ZWJlZSksXG4gICAgbGF5b3V0UGFuZWxDZW50ZXI6IHJlZ2lzdGVyKCdsYXlvdXQtcGFuZWwtY2VudGVyJywgMHhlYmVmKSxcbiAgICBsYXlvdXRQYW5lbEp1c3RpZnk6IHJlZ2lzdGVyKCdsYXlvdXQtcGFuZWwtanVzdGlmeScsIDB4ZWJmMCksXG4gICAgbGF5b3V0UGFuZWxSaWdodDogcmVnaXN0ZXIoJ2xheW91dC1wYW5lbC1yaWdodCcsIDB4ZWJmMSksXG4gICAgbGF5b3V0UGFuZWw6IHJlZ2lzdGVyKCdsYXlvdXQtcGFuZWwnLCAweGViZjIpLFxuICAgIGxheW91dFNpZGViYXJMZWZ0OiByZWdpc3RlcignbGF5b3V0LXNpZGViYXItbGVmdCcsIDB4ZWJmMyksXG4gICAgbGF5b3V0U2lkZWJhclJpZ2h0OiByZWdpc3RlcignbGF5b3V0LXNpZGViYXItcmlnaHQnLCAweGViZjQpLFxuICAgIGxheW91dFN0YXR1c2JhcjogcmVnaXN0ZXIoJ2xheW91dC1zdGF0dXNiYXInLCAweGViZjUpLFxuICAgIGxheW91dE1lbnViYXI6IHJlZ2lzdGVyKCdsYXlvdXQtbWVudWJhcicsIDB4ZWJmNiksXG4gICAgbGF5b3V0Q2VudGVyZWQ6IHJlZ2lzdGVyKCdsYXlvdXQtY2VudGVyZWQnLCAweGViZjcpLFxuICAgIGxheW91dFNpZGViYXJSaWdodE9mZjogcmVnaXN0ZXIoJ2xheW91dC1zaWRlYmFyLXJpZ2h0LW9mZicsIDB4ZWMwMCksXG4gICAgbGF5b3V0UGFuZWxPZmY6IHJlZ2lzdGVyKCdsYXlvdXQtcGFuZWwtb2ZmJywgMHhlYzAxKSxcbiAgICBsYXlvdXRTaWRlYmFyTGVmdE9mZjogcmVnaXN0ZXIoJ2xheW91dC1zaWRlYmFyLWxlZnQtb2ZmJywgMHhlYzAyKSxcbiAgICB0YXJnZXQ6IHJlZ2lzdGVyKCd0YXJnZXQnLCAweGViZjgpLFxuICAgIGluZGVudDogcmVnaXN0ZXIoJ2luZGVudCcsIDB4ZWJmOSksXG4gICAgcmVjb3JkU21hbGw6IHJlZ2lzdGVyKCdyZWNvcmQtc21hbGwnLCAweGViZmEpLFxuICAgIGVycm9yU21hbGw6IHJlZ2lzdGVyKCdlcnJvci1zbWFsbCcsIDB4ZWJmYiksXG4gICAgYXJyb3dDaXJjbGVEb3duOiByZWdpc3RlcignYXJyb3ctY2lyY2xlLWRvd24nLCAweGViZmMpLFxuICAgIGFycm93Q2lyY2xlTGVmdDogcmVnaXN0ZXIoJ2Fycm93LWNpcmNsZS1sZWZ0JywgMHhlYmZkKSxcbiAgICBhcnJvd0NpcmNsZVJpZ2h0OiByZWdpc3RlcignYXJyb3ctY2lyY2xlLXJpZ2h0JywgMHhlYmZlKSxcbiAgICBhcnJvd0NpcmNsZVVwOiByZWdpc3RlcignYXJyb3ctY2lyY2xlLXVwJywgMHhlYmZmKSxcbiAgICBoZWFydEZpbGxlZDogcmVnaXN0ZXIoJ2hlYXJ0LWZpbGxlZCcsIDB4ZWMwNCksXG4gICAgbWFwOiByZWdpc3RlcignbWFwJywgMHhlYzA1KSxcbiAgICBtYXBGaWxsZWQ6IHJlZ2lzdGVyKCdtYXAtZmlsbGVkJywgMHhlYzA2KSxcbiAgICBjaXJjbGVTbWFsbDogcmVnaXN0ZXIoJ2NpcmNsZS1zbWFsbCcsIDB4ZWMwNyksXG4gICAgYmVsbFNsYXNoOiByZWdpc3RlcignYmVsbC1zbGFzaCcsIDB4ZWMwOCksXG4gICAgYmVsbFNsYXNoRG90OiByZWdpc3RlcignYmVsbC1zbGFzaC1kb3QnLCAweGVjMDkpLFxuICAgIGNvbW1lbnRVbnJlc29sdmVkOiByZWdpc3RlcignY29tbWVudC11bnJlc29sdmVkJywgMHhlYzBhKSxcbiAgICBnaXRQdWxsUmVxdWVzdEdvVG9DaGFuZ2VzOiByZWdpc3RlcignZ2l0LXB1bGwtcmVxdWVzdC1nby10by1jaGFuZ2VzJywgMHhlYzBiKSxcbiAgICBnaXRQdWxsUmVxdWVzdE5ld0NoYW5nZXM6IHJlZ2lzdGVyKCdnaXQtcHVsbC1yZXF1ZXN0LW5ldy1jaGFuZ2VzJywgMHhlYzBjKSxcbiAgICBzZWFyY2hGdXp6eTogcmVnaXN0ZXIoJ3NlYXJjaC1mdXp6eScsIDB4ZWMwZCksXG4gICAgY29tbWVudERyYWZ0OiByZWdpc3RlcignY29tbWVudC1kcmFmdCcsIDB4ZWMwZSksXG4gICAgc2VuZDogcmVnaXN0ZXIoJ3NlbmQnLCAweGVjMGYpLFxuICAgIHNwYXJrbGU6IHJlZ2lzdGVyKCdzcGFya2xlJywgMHhlYzEwKSxcbiAgICBpbnNlcnQ6IHJlZ2lzdGVyKCdpbnNlcnQnLCAweGVjMTEpLFxuICAgIG1pYzogcmVnaXN0ZXIoJ21pYycsIDB4ZWMxMiksXG4gICAgdGh1bWJzRG93bkZpbGxlZDogcmVnaXN0ZXIoJ3RodW1ic2Rvd24tZmlsbGVkJywgMHhlYzEzKSxcbiAgICB0aHVtYnNVcEZpbGxlZDogcmVnaXN0ZXIoJ3RodW1ic3VwLWZpbGxlZCcsIDB4ZWMxNCksXG4gICAgY29mZmVlOiByZWdpc3RlcignY29mZmVlJywgMHhlYzE1KSxcbiAgICBzbmFrZTogcmVnaXN0ZXIoJ3NuYWtlJywgMHhlYzE2KSxcbiAgICBnYW1lOiByZWdpc3RlcignZ2FtZScsIDB4ZWMxNyksXG4gICAgdnI6IHJlZ2lzdGVyKCd2cicsIDB4ZWMxOCksXG4gICAgY2hpcDogcmVnaXN0ZXIoJ2NoaXAnLCAweGVjMTkpLFxuICAgIHBpYW5vOiByZWdpc3RlcigncGlhbm8nLCAweGVjMWEpLFxuICAgIG11c2ljOiByZWdpc3RlcignbXVzaWMnLCAweGVjMWIpLFxuICAgIG1pY0ZpbGxlZDogcmVnaXN0ZXIoJ21pYy1maWxsZWQnLCAweGVjMWMpLFxuICAgIGdpdEZldGNoOiByZWdpc3RlcignZ2l0LWZldGNoJywgMHhlYzFkKSxcbiAgICBjb3BpbG90OiByZWdpc3RlcignY29waWxvdCcsIDB4ZWMxZSksXG4gICAgbGlnaHRidWxiU3BhcmtsZTogcmVnaXN0ZXIoJ2xpZ2h0YnVsYi1zcGFya2xlJywgMHhlYzFmKSxcbiAgICBsaWdodGJ1bGJTcGFya2xlQXV0b2ZpeDogcmVnaXN0ZXIoJ2xpZ2h0YnVsYi1zcGFya2xlLWF1dG9maXgnLCAweGVjMWYpLFxuICAgIHJvYm90OiByZWdpc3Rlcigncm9ib3QnLCAweGVjMjApLFxuICAgIHNwYXJrbGVGaWxsZWQ6IHJlZ2lzdGVyKCdzcGFya2xlLWZpbGxlZCcsIDB4ZWMyMSksXG4gICAgZGlmZlNpbmdsZTogcmVnaXN0ZXIoJ2RpZmYtc2luZ2xlJywgMHhlYzIyKSxcbiAgICBkaWZmTXVsdGlwbGU6IHJlZ2lzdGVyKCdkaWZmLW11bHRpcGxlJywgMHhlYzIzKSxcbiAgICAvLyBkZXJpdmVkIGljb25zLCB0aGF0IGNvdWxkIGJlY29tZSBzZXBhcmF0ZSBpY29uc1xuICAgIGRpYWxvZ0Vycm9yOiByZWdpc3RlcignZGlhbG9nLWVycm9yJywgJ2Vycm9yJyksXG4gICAgZGlhbG9nV2FybmluZzogcmVnaXN0ZXIoJ2RpYWxvZy13YXJuaW5nJywgJ3dhcm5pbmcnKSxcbiAgICBkaWFsb2dJbmZvOiByZWdpc3RlcignZGlhbG9nLWluZm8nLCAnaW5mbycpLFxuICAgIGRpYWxvZ0Nsb3NlOiByZWdpc3RlcignZGlhbG9nLWNsb3NlJywgJ2Nsb3NlJyksXG4gICAgdHJlZUl0ZW1FeHBhbmRlZDogcmVnaXN0ZXIoJ3RyZWUtaXRlbS1leHBhbmRlZCcsICdjaGV2cm9uLWRvd24nKSwgLy8gY29sbGFwc2VkIGlzIGRvbmUgd2l0aCByb3RhdGlvblxuICAgIHRyZWVGaWx0ZXJPblR5cGVPbjogcmVnaXN0ZXIoJ3RyZWUtZmlsdGVyLW9uLXR5cGUtb24nLCAnbGlzdC1maWx0ZXInKSxcbiAgICB0cmVlRmlsdGVyT25UeXBlT2ZmOiByZWdpc3RlcigndHJlZS1maWx0ZXItb24tdHlwZS1vZmYnLCAnbGlzdC1zZWxlY3Rpb24nKSxcbiAgICB0cmVlRmlsdGVyQ2xlYXI6IHJlZ2lzdGVyKCd0cmVlLWZpbHRlci1jbGVhcicsICdjbG9zZScpLFxuICAgIHRyZWVJdGVtTG9hZGluZzogcmVnaXN0ZXIoJ3RyZWUtaXRlbS1sb2FkaW5nJywgJ2xvYWRpbmcnKSxcbiAgICBtZW51U2VsZWN0aW9uOiByZWdpc3RlcignbWVudS1zZWxlY3Rpb24nLCAnY2hlY2snKSxcbiAgICBtZW51U3VibWVudTogcmVnaXN0ZXIoJ21lbnUtc3VibWVudScsICdjaGV2cm9uLXJpZ2h0JyksXG4gICAgbWVudUJhck1vcmU6IHJlZ2lzdGVyKCdtZW51YmFyLW1vcmUnLCAnbW9yZScpLFxuICAgIHNjcm9sbGJhckJ1dHRvbkxlZnQ6IHJlZ2lzdGVyKCdzY3JvbGxiYXItYnV0dG9uLWxlZnQnLCAndHJpYW5nbGUtbGVmdCcpLFxuICAgIHNjcm9sbGJhckJ1dHRvblJpZ2h0OiByZWdpc3Rlcignc2Nyb2xsYmFyLWJ1dHRvbi1yaWdodCcsICd0cmlhbmdsZS1yaWdodCcpLFxuICAgIHNjcm9sbGJhckJ1dHRvblVwOiByZWdpc3Rlcignc2Nyb2xsYmFyLWJ1dHRvbi11cCcsICd0cmlhbmdsZS11cCcpLFxuICAgIHNjcm9sbGJhckJ1dHRvbkRvd246IHJlZ2lzdGVyKCdzY3JvbGxiYXItYnV0dG9uLWRvd24nLCAndHJpYW5nbGUtZG93bicpLFxuICAgIHRvb2xCYXJNb3JlOiByZWdpc3RlcigndG9vbGJhci1tb3JlJywgJ21vcmUnKSxcbiAgICBxdWlja0lucHV0QmFjazogcmVnaXN0ZXIoJ3F1aWNrLWlucHV0LWJhY2snLCAnYXJyb3ctbGVmdCcpXG59O1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBFbWl0dGVyIH0gZnJvbSAnLi4vLi4vYmFzZS9jb21tb24vZXZlbnQuanMnO1xuaW1wb3J0IHsgRGlzcG9zYWJsZSwgdG9EaXNwb3NhYmxlIH0gZnJvbSAnLi4vLi4vYmFzZS9jb21tb24vbGlmZWN5Y2xlLmpzJztcbmV4cG9ydCBjbGFzcyBUb2tlbml6YXRpb25SZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnRzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9mYWN0b3JpZXMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX29uRGlkQ2hhbmdlID0gbmV3IEVtaXR0ZXIoKTtcbiAgICAgICAgdGhpcy5vbkRpZENoYW5nZSA9IHRoaXMuX29uRGlkQ2hhbmdlLmV2ZW50O1xuICAgICAgICB0aGlzLl9jb2xvck1hcCA9IG51bGw7XG4gICAgfVxuICAgIGhhbmRsZUNoYW5nZShsYW5ndWFnZUlkcykge1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHtcbiAgICAgICAgICAgIGNoYW5nZWRMYW5ndWFnZXM6IGxhbmd1YWdlSWRzLFxuICAgICAgICAgICAgY2hhbmdlZENvbG9yTWFwOiBmYWxzZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVnaXN0ZXIobGFuZ3VhZ2VJZCwgc3VwcG9ydCkge1xuICAgICAgICB0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0cy5zZXQobGFuZ3VhZ2VJZCwgc3VwcG9ydCk7XG4gICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKFtsYW5ndWFnZUlkXSk7XG4gICAgICAgIHJldHVybiB0b0Rpc3Bvc2FibGUoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnRzLmdldChsYW5ndWFnZUlkKSAhPT0gc3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnRzLmRlbGV0ZShsYW5ndWFnZUlkKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlQ2hhbmdlKFtsYW5ndWFnZUlkXSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQobGFuZ3VhZ2VJZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdG9rZW5pemF0aW9uU3VwcG9ydHMuZ2V0KGxhbmd1YWdlSWQpIHx8IG51bGw7XG4gICAgfVxuICAgIHJlZ2lzdGVyRmFjdG9yeShsYW5ndWFnZUlkLCBmYWN0b3J5KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gdGhpcy5fZmFjdG9yaWVzLmdldChsYW5ndWFnZUlkKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRpc3Bvc2UoKTtcbiAgICAgICAgY29uc3QgbXlEYXRhID0gbmV3IFRva2VuaXphdGlvblN1cHBvcnRGYWN0b3J5RGF0YSh0aGlzLCBsYW5ndWFnZUlkLCBmYWN0b3J5KTtcbiAgICAgICAgdGhpcy5fZmFjdG9yaWVzLnNldChsYW5ndWFnZUlkLCBteURhdGEpO1xuICAgICAgICByZXR1cm4gdG9EaXNwb3NhYmxlKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSB0aGlzLl9mYWN0b3JpZXMuZ2V0KGxhbmd1YWdlSWQpO1xuICAgICAgICAgICAgaWYgKCF2IHx8IHYgIT09IG15RGF0YSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2ZhY3Rvcmllcy5kZWxldGUobGFuZ3VhZ2VJZCk7XG4gICAgICAgICAgICB2LmRpc3Bvc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGdldE9yQ3JlYXRlKGxhbmd1YWdlSWQpIHtcbiAgICAgICAgLy8gY2hlY2sgZmlyc3QgaWYgdGhlIHN1cHBvcnQgaXMgYWxyZWFkeSBzZXRcbiAgICAgICAgY29uc3QgdG9rZW5pemF0aW9uU3VwcG9ydCA9IHRoaXMuZ2V0KGxhbmd1YWdlSWQpO1xuICAgICAgICBpZiAodG9rZW5pemF0aW9uU3VwcG9ydCkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuaXphdGlvblN1cHBvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmFjdG9yeSA9IHRoaXMuX2ZhY3Rvcmllcy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgICAgIGlmICghZmFjdG9yeSB8fCBmYWN0b3J5LmlzUmVzb2x2ZWQpIHtcbiAgICAgICAgICAgIC8vIG5vIGZhY3Rvcnkgb3IgZmFjdG9yeS5yZXNvbHZlIGFscmVhZHkgZmluaXNoZWRcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IGZhY3RvcnkucmVzb2x2ZSgpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgfVxuICAgIGlzUmVzb2x2ZWQobGFuZ3VhZ2VJZCkge1xuICAgICAgICBjb25zdCB0b2tlbml6YXRpb25TdXBwb3J0ID0gdGhpcy5nZXQobGFuZ3VhZ2VJZCk7XG4gICAgICAgIGlmICh0b2tlbml6YXRpb25TdXBwb3J0KSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5fZmFjdG9yaWVzLmdldChsYW5ndWFnZUlkKTtcbiAgICAgICAgaWYgKCFmYWN0b3J5IHx8IGZhY3RvcnkuaXNSZXNvbHZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzZXRDb2xvck1hcChjb2xvck1hcCkge1xuICAgICAgICB0aGlzLl9jb2xvck1hcCA9IGNvbG9yTWFwO1xuICAgICAgICB0aGlzLl9vbkRpZENoYW5nZS5maXJlKHtcbiAgICAgICAgICAgIGNoYW5nZWRMYW5ndWFnZXM6IEFycmF5LmZyb20odGhpcy5fdG9rZW5pemF0aW9uU3VwcG9ydHMua2V5cygpKSxcbiAgICAgICAgICAgIGNoYW5nZWRDb2xvck1hcDogdHJ1ZVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0Q29sb3JNYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2xvck1hcDtcbiAgICB9XG4gICAgZ2V0RGVmYXVsdEJhY2tncm91bmQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jb2xvck1hcCAmJiB0aGlzLl9jb2xvck1hcC5sZW5ndGggPiAyIC8qIENvbG9ySWQuRGVmYXVsdEJhY2tncm91bmQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb2xvck1hcFsyIC8qIENvbG9ySWQuRGVmYXVsdEJhY2tncm91bmQgKi9dO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbmNsYXNzIFRva2VuaXphdGlvblN1cHBvcnRGYWN0b3J5RGF0YSBleHRlbmRzIERpc3Bvc2FibGUge1xuICAgIGdldCBpc1Jlc29sdmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNSZXNvbHZlZDtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoX3JlZ2lzdHJ5LCBfbGFuZ3VhZ2VJZCwgX2ZhY3RvcnkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0cnkgPSBfcmVnaXN0cnk7XG4gICAgICAgIHRoaXMuX2xhbmd1YWdlSWQgPSBfbGFuZ3VhZ2VJZDtcbiAgICAgICAgdGhpcy5fZmFjdG9yeSA9IF9mYWN0b3J5O1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVQcm9taXNlID0gbnVsbDtcbiAgICAgICAgdGhpcy5faXNSZXNvbHZlZCA9IGZhbHNlO1xuICAgIH1cbiAgICBkaXNwb3NlKCkge1xuICAgICAgICB0aGlzLl9pc0Rpc3Bvc2VkID0gdHJ1ZTtcbiAgICAgICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICBhc3luYyByZXNvbHZlKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3Jlc29sdmVQcm9taXNlKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXNvbHZlUHJvbWlzZSA9IHRoaXMuX2NyZWF0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZXNvbHZlUHJvbWlzZTtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCB0aGlzLl9mYWN0b3J5LnRva2VuaXphdGlvblN1cHBvcnQ7XG4gICAgICAgIHRoaXMuX2lzUmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodmFsdWUgJiYgIXRoaXMuX2lzRGlzcG9zZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyKHRoaXMuX3JlZ2lzdHJ5LnJlZ2lzdGVyKHRoaXMuX2xhbmd1YWdlSWQsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyBDb2RpY29uIH0gZnJvbSAnLi4vLi4vYmFzZS9jb21tb24vY29kaWNvbnMuanMnO1xuaW1wb3J0IHsgVVJJIH0gZnJvbSAnLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IFRva2VuaXphdGlvblJlZ2lzdHJ5IGFzIFRva2VuaXphdGlvblJlZ2lzdHJ5SW1wbCB9IGZyb20gJy4vdG9rZW5pemF0aW9uUmVnaXN0cnkuanMnO1xuaW1wb3J0IHsgbG9jYWxpemUgfSBmcm9tICcuLi8uLi9ubHMuanMnO1xuZXhwb3J0IGNsYXNzIFRva2VuIHtcbiAgICBjb25zdHJ1Y3RvcihvZmZzZXQsIHR5cGUsIGxhbmd1YWdlKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgIHRoaXMuX3Rva2VuQnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJygnICsgdGhpcy5vZmZzZXQgKyAnLCAnICsgdGhpcy50eXBlICsgJyknO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2tlbml6YXRpb25SZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHRva2VucywgZW5kU3RhdGUpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMuZW5kU3RhdGUgPSBlbmRTdGF0ZTtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uUmVzdWx0QnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIEVuY29kZWRUb2tlbml6YXRpb25SZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSB0b2tlbnMgaW4gYmluYXJ5IGZvcm1hdC4gRWFjaCB0b2tlbiBvY2N1cGllcyB0d28gYXJyYXkgaW5kaWNlcy4gRm9yIHRva2VuIGk6XG4gICAgICogIC0gYXQgb2Zmc2V0IDIqaSA9PiBzdGFydEluZGV4XG4gICAgICogIC0gYXQgb2Zmc2V0IDIqaSArIDEgPT4gbWV0YWRhdGFcbiAgICAgKlxuICAgICAqL1xuICAgIHRva2VucywgZW5kU3RhdGUpIHtcbiAgICAgICAgdGhpcy50b2tlbnMgPSB0b2tlbnM7XG4gICAgICAgIHRoaXMuZW5kU3RhdGUgPSBlbmRTdGF0ZTtcbiAgICAgICAgdGhpcy5fZW5jb2RlZFRva2VuaXphdGlvblJlc3VsdEJyYW5kID0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB2YXIgQ29tcGxldGlvbkl0ZW1LaW5kcztcbihmdW5jdGlvbiAoQ29tcGxldGlvbkl0ZW1LaW5kcykge1xuICAgIGNvbnN0IGJ5S2luZCA9IG5ldyBNYXAoKTtcbiAgICBieUtpbmQuc2V0KDAgLyogQ29tcGxldGlvbkl0ZW1LaW5kLk1ldGhvZCAqLywgQ29kaWNvbi5zeW1ib2xNZXRob2QpO1xuICAgIGJ5S2luZC5zZXQoMSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb24gKi8sIENvZGljb24uc3ltYm9sRnVuY3Rpb24pO1xuICAgIGJ5S2luZC5zZXQoMiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuQ29uc3RydWN0b3IgKi8sIENvZGljb24uc3ltYm9sQ29uc3RydWN0b3IpO1xuICAgIGJ5S2luZC5zZXQoMyAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRmllbGQgKi8sIENvZGljb24uc3ltYm9sRmllbGQpO1xuICAgIGJ5S2luZC5zZXQoNCAvKiBDb21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGUgKi8sIENvZGljb24uc3ltYm9sVmFyaWFibGUpO1xuICAgIGJ5S2luZC5zZXQoNSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuQ2xhc3MgKi8sIENvZGljb24uc3ltYm9sQ2xhc3MpO1xuICAgIGJ5S2luZC5zZXQoNiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuU3RydWN0ICovLCBDb2RpY29uLnN5bWJvbFN0cnVjdCk7XG4gICAgYnlLaW5kLnNldCg3IC8qIENvbXBsZXRpb25JdGVtS2luZC5JbnRlcmZhY2UgKi8sIENvZGljb24uc3ltYm9sSW50ZXJmYWNlKTtcbiAgICBieUtpbmQuc2V0KDggLyogQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZSAqLywgQ29kaWNvbi5zeW1ib2xNb2R1bGUpO1xuICAgIGJ5S2luZC5zZXQoOSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHkgKi8sIENvZGljb24uc3ltYm9sUHJvcGVydHkpO1xuICAgIGJ5S2luZC5zZXQoMTAgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkV2ZW50ICovLCBDb2RpY29uLnN5bWJvbEV2ZW50KTtcbiAgICBieUtpbmQuc2V0KDExIC8qIENvbXBsZXRpb25JdGVtS2luZC5PcGVyYXRvciAqLywgQ29kaWNvbi5zeW1ib2xPcGVyYXRvcik7XG4gICAgYnlLaW5kLnNldCgxMiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuVW5pdCAqLywgQ29kaWNvbi5zeW1ib2xVbml0KTtcbiAgICBieUtpbmQuc2V0KDEzIC8qIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZSAqLywgQ29kaWNvbi5zeW1ib2xWYWx1ZSk7XG4gICAgYnlLaW5kLnNldCgxNSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRW51bSAqLywgQ29kaWNvbi5zeW1ib2xFbnVtKTtcbiAgICBieUtpbmQuc2V0KDE0IC8qIENvbXBsZXRpb25JdGVtS2luZC5Db25zdGFudCAqLywgQ29kaWNvbi5zeW1ib2xDb25zdGFudCk7XG4gICAgYnlLaW5kLnNldCgxNSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRW51bSAqLywgQ29kaWNvbi5zeW1ib2xFbnVtKTtcbiAgICBieUtpbmQuc2V0KDE2IC8qIENvbXBsZXRpb25JdGVtS2luZC5FbnVtTWVtYmVyICovLCBDb2RpY29uLnN5bWJvbEVudW1NZW1iZXIpO1xuICAgIGJ5S2luZC5zZXQoMTcgLyogQ29tcGxldGlvbkl0ZW1LaW5kLktleXdvcmQgKi8sIENvZGljb24uc3ltYm9sS2V5d29yZCk7XG4gICAgYnlLaW5kLnNldCgyNyAvKiBDb21wbGV0aW9uSXRlbUtpbmQuU25pcHBldCAqLywgQ29kaWNvbi5zeW1ib2xTbmlwcGV0KTtcbiAgICBieUtpbmQuc2V0KDE4IC8qIENvbXBsZXRpb25JdGVtS2luZC5UZXh0ICovLCBDb2RpY29uLnN5bWJvbFRleHQpO1xuICAgIGJ5S2luZC5zZXQoMTkgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkNvbG9yICovLCBDb2RpY29uLnN5bWJvbENvbG9yKTtcbiAgICBieUtpbmQuc2V0KDIwIC8qIENvbXBsZXRpb25JdGVtS2luZC5GaWxlICovLCBDb2RpY29uLnN5bWJvbEZpbGUpO1xuICAgIGJ5S2luZC5zZXQoMjEgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlJlZmVyZW5jZSAqLywgQ29kaWNvbi5zeW1ib2xSZWZlcmVuY2UpO1xuICAgIGJ5S2luZC5zZXQoMjIgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkN1c3RvbWNvbG9yICovLCBDb2RpY29uLnN5bWJvbEN1c3RvbUNvbG9yKTtcbiAgICBieUtpbmQuc2V0KDIzIC8qIENvbXBsZXRpb25JdGVtS2luZC5Gb2xkZXIgKi8sIENvZGljb24uc3ltYm9sRm9sZGVyKTtcbiAgICBieUtpbmQuc2V0KDI0IC8qIENvbXBsZXRpb25JdGVtS2luZC5UeXBlUGFyYW1ldGVyICovLCBDb2RpY29uLnN5bWJvbFR5cGVQYXJhbWV0ZXIpO1xuICAgIGJ5S2luZC5zZXQoMjUgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlVzZXIgKi8sIENvZGljb24uYWNjb3VudCk7XG4gICAgYnlLaW5kLnNldCgyNiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuSXNzdWUgKi8sIENvZGljb24uaXNzdWVzKTtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0ljb24oa2luZCkge1xuICAgICAgICBsZXQgY29kaWNvbiA9IGJ5S2luZC5nZXQoa2luZCk7XG4gICAgICAgIGlmICghY29kaWNvbikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdObyBjb2RpY29uIGZvdW5kIGZvciBDb21wbGV0aW9uSXRlbUtpbmQgJyArIGtpbmQpO1xuICAgICAgICAgICAgY29kaWNvbiA9IENvZGljb24uc3ltYm9sUHJvcGVydHk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvZGljb247XG4gICAgfVxuICAgIENvbXBsZXRpb25JdGVtS2luZHMudG9JY29uID0gdG9JY29uO1xuICAgIGNvbnN0IGRhdGEgPSBuZXcgTWFwKCk7XG4gICAgZGF0YS5zZXQoJ21ldGhvZCcsIDAgLyogQ29tcGxldGlvbkl0ZW1LaW5kLk1ldGhvZCAqLyk7XG4gICAgZGF0YS5zZXQoJ2Z1bmN0aW9uJywgMSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRnVuY3Rpb24gKi8pO1xuICAgIGRhdGEuc2V0KCdjb25zdHJ1Y3RvcicsIDIgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkNvbnN0cnVjdG9yICovKTtcbiAgICBkYXRhLnNldCgnZmllbGQnLCAzIC8qIENvbXBsZXRpb25JdGVtS2luZC5GaWVsZCAqLyk7XG4gICAgZGF0YS5zZXQoJ3ZhcmlhYmxlJywgNCAvKiBDb21wbGV0aW9uSXRlbUtpbmQuVmFyaWFibGUgKi8pO1xuICAgIGRhdGEuc2V0KCdjbGFzcycsIDUgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkNsYXNzICovKTtcbiAgICBkYXRhLnNldCgnc3RydWN0JywgNiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuU3RydWN0ICovKTtcbiAgICBkYXRhLnNldCgnaW50ZXJmYWNlJywgNyAvKiBDb21wbGV0aW9uSXRlbUtpbmQuSW50ZXJmYWNlICovKTtcbiAgICBkYXRhLnNldCgnbW9kdWxlJywgOCAvKiBDb21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlICovKTtcbiAgICBkYXRhLnNldCgncHJvcGVydHknLCA5IC8qIENvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eSAqLyk7XG4gICAgZGF0YS5zZXQoJ2V2ZW50JywgMTAgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkV2ZW50ICovKTtcbiAgICBkYXRhLnNldCgnb3BlcmF0b3InLCAxMSAvKiBDb21wbGV0aW9uSXRlbUtpbmQuT3BlcmF0b3IgKi8pO1xuICAgIGRhdGEuc2V0KCd1bml0JywgMTIgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlVuaXQgKi8pO1xuICAgIGRhdGEuc2V0KCd2YWx1ZScsIDEzIC8qIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZSAqLyk7XG4gICAgZGF0YS5zZXQoJ2NvbnN0YW50JywgMTQgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkNvbnN0YW50ICovKTtcbiAgICBkYXRhLnNldCgnZW51bScsIDE1IC8qIENvbXBsZXRpb25JdGVtS2luZC5FbnVtICovKTtcbiAgICBkYXRhLnNldCgnZW51bS1tZW1iZXInLCAxNiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRW51bU1lbWJlciAqLyk7XG4gICAgZGF0YS5zZXQoJ2VudW1NZW1iZXInLCAxNiAvKiBDb21wbGV0aW9uSXRlbUtpbmQuRW51bU1lbWJlciAqLyk7XG4gICAgZGF0YS5zZXQoJ2tleXdvcmQnLCAxNyAvKiBDb21wbGV0aW9uSXRlbUtpbmQuS2V5d29yZCAqLyk7XG4gICAgZGF0YS5zZXQoJ3NuaXBwZXQnLCAyNyAvKiBDb21wbGV0aW9uSXRlbUtpbmQuU25pcHBldCAqLyk7XG4gICAgZGF0YS5zZXQoJ3RleHQnLCAxOCAvKiBDb21wbGV0aW9uSXRlbUtpbmQuVGV4dCAqLyk7XG4gICAgZGF0YS5zZXQoJ2NvbG9yJywgMTkgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkNvbG9yICovKTtcbiAgICBkYXRhLnNldCgnZmlsZScsIDIwIC8qIENvbXBsZXRpb25JdGVtS2luZC5GaWxlICovKTtcbiAgICBkYXRhLnNldCgncmVmZXJlbmNlJywgMjEgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlJlZmVyZW5jZSAqLyk7XG4gICAgZGF0YS5zZXQoJ2N1c3RvbWNvbG9yJywgMjIgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkN1c3RvbWNvbG9yICovKTtcbiAgICBkYXRhLnNldCgnZm9sZGVyJywgMjMgLyogQ29tcGxldGlvbkl0ZW1LaW5kLkZvbGRlciAqLyk7XG4gICAgZGF0YS5zZXQoJ3R5cGUtcGFyYW1ldGVyJywgMjQgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlR5cGVQYXJhbWV0ZXIgKi8pO1xuICAgIGRhdGEuc2V0KCd0eXBlUGFyYW1ldGVyJywgMjQgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlR5cGVQYXJhbWV0ZXIgKi8pO1xuICAgIGRhdGEuc2V0KCdhY2NvdW50JywgMjUgLyogQ29tcGxldGlvbkl0ZW1LaW5kLlVzZXIgKi8pO1xuICAgIGRhdGEuc2V0KCdpc3N1ZScsIDI2IC8qIENvbXBsZXRpb25JdGVtS2luZC5Jc3N1ZSAqLyk7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVN0cmluZyh2YWx1ZSwgc3RyaWN0KSB7XG4gICAgICAgIGxldCByZXMgPSBkYXRhLmdldCh2YWx1ZSk7XG4gICAgICAgIGlmICh0eXBlb2YgcmVzID09PSAndW5kZWZpbmVkJyAmJiAhc3RyaWN0KSB7XG4gICAgICAgICAgICByZXMgPSA5IC8qIENvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eSAqLztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICBDb21wbGV0aW9uSXRlbUtpbmRzLmZyb21TdHJpbmcgPSBmcm9tU3RyaW5nO1xufSkoQ29tcGxldGlvbkl0ZW1LaW5kcyB8fCAoQ29tcGxldGlvbkl0ZW1LaW5kcyA9IHt9KSk7XG4vKipcbiAqIEhvdyBhbiB7QGxpbmsgSW5saW5lQ29tcGxldGlvbnNQcm92aWRlciBpbmxpbmUgY29tcGxldGlvbiBwcm92aWRlcn0gd2FzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IHZhciBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQ7XG4oZnVuY3Rpb24gKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCkge1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRpb24gd2FzIHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IHdoaWxlIGVkaXRpbmcuXG4gICAgICogSXQgaXMgc3VmZmljaWVudCB0byByZXR1cm4gYSBzaW5nbGUgY29tcGxldGlvbiBpdGVtIGluIHRoaXMgY2FzZS5cbiAgICAgKi9cbiAgICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmRbSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiQXV0b21hdGljXCJdID0gMF0gPSBcIkF1dG9tYXRpY1wiO1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRpb24gd2FzIHRyaWdnZXJlZCBleHBsaWNpdGx5IGJ5IGEgdXNlciBnZXN0dXJlLlxuICAgICAqIFJldHVybiBtdWx0aXBsZSBjb21wbGV0aW9uIGl0ZW1zIHRvIGVuYWJsZSBjeWNsaW5nIHRocm91Z2ggdGhlbS5cbiAgICAgKi9cbiAgICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmRbSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiRXhwbGljaXRcIl0gPSAxXSA9IFwiRXhwbGljaXRcIjtcbn0pKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCB8fCAoSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kID0ge30pKTtcbmV4cG9ydCBjbGFzcyBTZWxlY3RlZFN1Z2dlc3Rpb25JbmZvIHtcbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgdGV4dCwgY29tcGxldGlvbktpbmQsIGlzU25pcHBldFRleHQpIHtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25LaW5kID0gY29tcGxldGlvbktpbmQ7XG4gICAgICAgIHRoaXMuaXNTbmlwcGV0VGV4dCA9IGlzU25pcHBldFRleHQ7XG4gICAgfVxuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gUmFuZ2UubGlmdCh0aGlzLnJhbmdlKS5lcXVhbHNSYW5nZShvdGhlci5yYW5nZSlcbiAgICAgICAgICAgICYmIHRoaXMudGV4dCA9PT0gb3RoZXIudGV4dFxuICAgICAgICAgICAgJiYgdGhpcy5jb21wbGV0aW9uS2luZCA9PT0gb3RoZXIuY29tcGxldGlvbktpbmRcbiAgICAgICAgICAgICYmIHRoaXMuaXNTbmlwcGV0VGV4dCA9PT0gb3RoZXIuaXNTbmlwcGV0VGV4dDtcbiAgICB9XG59XG5leHBvcnQgdmFyIFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZDtcbihmdW5jdGlvbiAoU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kKSB7XG4gICAgU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1NpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtcIkludm9rZVwiXSA9IDFdID0gXCJJbnZva2VcIjtcbiAgICBTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmRbU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1wiVHJpZ2dlckNoYXJhY3RlclwiXSA9IDJdID0gXCJUcmlnZ2VyQ2hhcmFjdGVyXCI7XG4gICAgU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1NpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtcIkNvbnRlbnRDaGFuZ2VcIl0gPSAzXSA9IFwiQ29udGVudENoYW5nZVwiO1xufSkoU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kIHx8IChTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQgPSB7fSkpO1xuLyoqXG4gKiBBIGRvY3VtZW50IGhpZ2hsaWdodCBraW5kLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0S2luZDtcbihmdW5jdGlvbiAoRG9jdW1lbnRIaWdobGlnaHRLaW5kKSB7XG4gICAgLyoqXG4gICAgICogQSB0ZXh0dWFsIG9jY3VycmVuY2UuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kW0RvY3VtZW50SGlnaGxpZ2h0S2luZFtcIlRleHRcIl0gPSAwXSA9IFwiVGV4dFwiO1xuICAgIC8qKlxuICAgICAqIFJlYWQtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHJlYWRpbmcgYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmRbRG9jdW1lbnRIaWdobGlnaHRLaW5kW1wiUmVhZFwiXSA9IDFdID0gXCJSZWFkXCI7XG4gICAgLyoqXG4gICAgICogV3JpdGUtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHdyaXRpbmcgdG8gYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmRbRG9jdW1lbnRIaWdobGlnaHRLaW5kW1wiV3JpdGVcIl0gPSAyXSA9IFwiV3JpdGVcIjtcbn0pKERvY3VtZW50SGlnaGxpZ2h0S2luZCB8fCAoRG9jdW1lbnRIaWdobGlnaHRLaW5kID0ge30pKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xvY2F0aW9uTGluayh0aGluZykge1xuICAgIHJldHVybiB0aGluZ1xuICAgICAgICAmJiBVUkkuaXNVcmkodGhpbmcudXJpKVxuICAgICAgICAmJiBSYW5nZS5pc0lSYW5nZSh0aGluZy5yYW5nZSlcbiAgICAgICAgJiYgKFJhbmdlLmlzSVJhbmdlKHRoaW5nLm9yaWdpblNlbGVjdGlvblJhbmdlKSB8fCBSYW5nZS5pc0lSYW5nZSh0aGluZy50YXJnZXRTZWxlY3Rpb25SYW5nZSkpO1xufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IHN5bWJvbEtpbmROYW1lcyA9IHtcbiAgICBbMTcgLyogU3ltYm9sS2luZC5BcnJheSAqL106IGxvY2FsaXplKCdBcnJheScsIFwiYXJyYXlcIiksXG4gICAgWzE2IC8qIFN5bWJvbEtpbmQuQm9vbGVhbiAqL106IGxvY2FsaXplKCdCb29sZWFuJywgXCJib29sZWFuXCIpLFxuICAgIFs0IC8qIFN5bWJvbEtpbmQuQ2xhc3MgKi9dOiBsb2NhbGl6ZSgnQ2xhc3MnLCBcImNsYXNzXCIpLFxuICAgIFsxMyAvKiBTeW1ib2xLaW5kLkNvbnN0YW50ICovXTogbG9jYWxpemUoJ0NvbnN0YW50JywgXCJjb25zdGFudFwiKSxcbiAgICBbOCAvKiBTeW1ib2xLaW5kLkNvbnN0cnVjdG9yICovXTogbG9jYWxpemUoJ0NvbnN0cnVjdG9yJywgXCJjb25zdHJ1Y3RvclwiKSxcbiAgICBbOSAvKiBTeW1ib2xLaW5kLkVudW0gKi9dOiBsb2NhbGl6ZSgnRW51bScsIFwiZW51bWVyYXRpb25cIiksXG4gICAgWzIxIC8qIFN5bWJvbEtpbmQuRW51bU1lbWJlciAqL106IGxvY2FsaXplKCdFbnVtTWVtYmVyJywgXCJlbnVtZXJhdGlvbiBtZW1iZXJcIiksXG4gICAgWzIzIC8qIFN5bWJvbEtpbmQuRXZlbnQgKi9dOiBsb2NhbGl6ZSgnRXZlbnQnLCBcImV2ZW50XCIpLFxuICAgIFs3IC8qIFN5bWJvbEtpbmQuRmllbGQgKi9dOiBsb2NhbGl6ZSgnRmllbGQnLCBcImZpZWxkXCIpLFxuICAgIFswIC8qIFN5bWJvbEtpbmQuRmlsZSAqL106IGxvY2FsaXplKCdGaWxlJywgXCJmaWxlXCIpLFxuICAgIFsxMSAvKiBTeW1ib2xLaW5kLkZ1bmN0aW9uICovXTogbG9jYWxpemUoJ0Z1bmN0aW9uJywgXCJmdW5jdGlvblwiKSxcbiAgICBbMTAgLyogU3ltYm9sS2luZC5JbnRlcmZhY2UgKi9dOiBsb2NhbGl6ZSgnSW50ZXJmYWNlJywgXCJpbnRlcmZhY2VcIiksXG4gICAgWzE5IC8qIFN5bWJvbEtpbmQuS2V5ICovXTogbG9jYWxpemUoJ0tleScsIFwia2V5XCIpLFxuICAgIFs1IC8qIFN5bWJvbEtpbmQuTWV0aG9kICovXTogbG9jYWxpemUoJ01ldGhvZCcsIFwibWV0aG9kXCIpLFxuICAgIFsxIC8qIFN5bWJvbEtpbmQuTW9kdWxlICovXTogbG9jYWxpemUoJ01vZHVsZScsIFwibW9kdWxlXCIpLFxuICAgIFsyIC8qIFN5bWJvbEtpbmQuTmFtZXNwYWNlICovXTogbG9jYWxpemUoJ05hbWVzcGFjZScsIFwibmFtZXNwYWNlXCIpLFxuICAgIFsyMCAvKiBTeW1ib2xLaW5kLk51bGwgKi9dOiBsb2NhbGl6ZSgnTnVsbCcsIFwibnVsbFwiKSxcbiAgICBbMTUgLyogU3ltYm9sS2luZC5OdW1iZXIgKi9dOiBsb2NhbGl6ZSgnTnVtYmVyJywgXCJudW1iZXJcIiksXG4gICAgWzE4IC8qIFN5bWJvbEtpbmQuT2JqZWN0ICovXTogbG9jYWxpemUoJ09iamVjdCcsIFwib2JqZWN0XCIpLFxuICAgIFsyNCAvKiBTeW1ib2xLaW5kLk9wZXJhdG9yICovXTogbG9jYWxpemUoJ09wZXJhdG9yJywgXCJvcGVyYXRvclwiKSxcbiAgICBbMyAvKiBTeW1ib2xLaW5kLlBhY2thZ2UgKi9dOiBsb2NhbGl6ZSgnUGFja2FnZScsIFwicGFja2FnZVwiKSxcbiAgICBbNiAvKiBTeW1ib2xLaW5kLlByb3BlcnR5ICovXTogbG9jYWxpemUoJ1Byb3BlcnR5JywgXCJwcm9wZXJ0eVwiKSxcbiAgICBbMTQgLyogU3ltYm9sS2luZC5TdHJpbmcgKi9dOiBsb2NhbGl6ZSgnU3RyaW5nJywgXCJzdHJpbmdcIiksXG4gICAgWzIyIC8qIFN5bWJvbEtpbmQuU3RydWN0ICovXTogbG9jYWxpemUoJ1N0cnVjdCcsIFwic3RydWN0XCIpLFxuICAgIFsyNSAvKiBTeW1ib2xLaW5kLlR5cGVQYXJhbWV0ZXIgKi9dOiBsb2NhbGl6ZSgnVHlwZVBhcmFtZXRlcicsIFwidHlwZSBwYXJhbWV0ZXJcIiksXG4gICAgWzEyIC8qIFN5bWJvbEtpbmQuVmFyaWFibGUgKi9dOiBsb2NhbGl6ZSgnVmFyaWFibGUnLCBcInZhcmlhYmxlXCIpLFxufTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBcmlhTGFiZWxGb3JTeW1ib2woc3ltYm9sTmFtZSwga2luZCkge1xuICAgIHJldHVybiBsb2NhbGl6ZSgnc3ltYm9sQXJpYUxhYmVsJywgJ3swfSAoezF9KScsIHN5bWJvbE5hbWUsIHN5bWJvbEtpbmROYW1lc1traW5kXSk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgdmFyIFN5bWJvbEtpbmRzO1xuKGZ1bmN0aW9uIChTeW1ib2xLaW5kcykge1xuICAgIGNvbnN0IGJ5S2luZCA9IG5ldyBNYXAoKTtcbiAgICBieUtpbmQuc2V0KDAgLyogU3ltYm9sS2luZC5GaWxlICovLCBDb2RpY29uLnN5bWJvbEZpbGUpO1xuICAgIGJ5S2luZC5zZXQoMSAvKiBTeW1ib2xLaW5kLk1vZHVsZSAqLywgQ29kaWNvbi5zeW1ib2xNb2R1bGUpO1xuICAgIGJ5S2luZC5zZXQoMiAvKiBTeW1ib2xLaW5kLk5hbWVzcGFjZSAqLywgQ29kaWNvbi5zeW1ib2xOYW1lc3BhY2UpO1xuICAgIGJ5S2luZC5zZXQoMyAvKiBTeW1ib2xLaW5kLlBhY2thZ2UgKi8sIENvZGljb24uc3ltYm9sUGFja2FnZSk7XG4gICAgYnlLaW5kLnNldCg0IC8qIFN5bWJvbEtpbmQuQ2xhc3MgKi8sIENvZGljb24uc3ltYm9sQ2xhc3MpO1xuICAgIGJ5S2luZC5zZXQoNSAvKiBTeW1ib2xLaW5kLk1ldGhvZCAqLywgQ29kaWNvbi5zeW1ib2xNZXRob2QpO1xuICAgIGJ5S2luZC5zZXQoNiAvKiBTeW1ib2xLaW5kLlByb3BlcnR5ICovLCBDb2RpY29uLnN5bWJvbFByb3BlcnR5KTtcbiAgICBieUtpbmQuc2V0KDcgLyogU3ltYm9sS2luZC5GaWVsZCAqLywgQ29kaWNvbi5zeW1ib2xGaWVsZCk7XG4gICAgYnlLaW5kLnNldCg4IC8qIFN5bWJvbEtpbmQuQ29uc3RydWN0b3IgKi8sIENvZGljb24uc3ltYm9sQ29uc3RydWN0b3IpO1xuICAgIGJ5S2luZC5zZXQoOSAvKiBTeW1ib2xLaW5kLkVudW0gKi8sIENvZGljb24uc3ltYm9sRW51bSk7XG4gICAgYnlLaW5kLnNldCgxMCAvKiBTeW1ib2xLaW5kLkludGVyZmFjZSAqLywgQ29kaWNvbi5zeW1ib2xJbnRlcmZhY2UpO1xuICAgIGJ5S2luZC5zZXQoMTEgLyogU3ltYm9sS2luZC5GdW5jdGlvbiAqLywgQ29kaWNvbi5zeW1ib2xGdW5jdGlvbik7XG4gICAgYnlLaW5kLnNldCgxMiAvKiBTeW1ib2xLaW5kLlZhcmlhYmxlICovLCBDb2RpY29uLnN5bWJvbFZhcmlhYmxlKTtcbiAgICBieUtpbmQuc2V0KDEzIC8qIFN5bWJvbEtpbmQuQ29uc3RhbnQgKi8sIENvZGljb24uc3ltYm9sQ29uc3RhbnQpO1xuICAgIGJ5S2luZC5zZXQoMTQgLyogU3ltYm9sS2luZC5TdHJpbmcgKi8sIENvZGljb24uc3ltYm9sU3RyaW5nKTtcbiAgICBieUtpbmQuc2V0KDE1IC8qIFN5bWJvbEtpbmQuTnVtYmVyICovLCBDb2RpY29uLnN5bWJvbE51bWJlcik7XG4gICAgYnlLaW5kLnNldCgxNiAvKiBTeW1ib2xLaW5kLkJvb2xlYW4gKi8sIENvZGljb24uc3ltYm9sQm9vbGVhbik7XG4gICAgYnlLaW5kLnNldCgxNyAvKiBTeW1ib2xLaW5kLkFycmF5ICovLCBDb2RpY29uLnN5bWJvbEFycmF5KTtcbiAgICBieUtpbmQuc2V0KDE4IC8qIFN5bWJvbEtpbmQuT2JqZWN0ICovLCBDb2RpY29uLnN5bWJvbE9iamVjdCk7XG4gICAgYnlLaW5kLnNldCgxOSAvKiBTeW1ib2xLaW5kLktleSAqLywgQ29kaWNvbi5zeW1ib2xLZXkpO1xuICAgIGJ5S2luZC5zZXQoMjAgLyogU3ltYm9sS2luZC5OdWxsICovLCBDb2RpY29uLnN5bWJvbE51bGwpO1xuICAgIGJ5S2luZC5zZXQoMjEgLyogU3ltYm9sS2luZC5FbnVtTWVtYmVyICovLCBDb2RpY29uLnN5bWJvbEVudW1NZW1iZXIpO1xuICAgIGJ5S2luZC5zZXQoMjIgLyogU3ltYm9sS2luZC5TdHJ1Y3QgKi8sIENvZGljb24uc3ltYm9sU3RydWN0KTtcbiAgICBieUtpbmQuc2V0KDIzIC8qIFN5bWJvbEtpbmQuRXZlbnQgKi8sIENvZGljb24uc3ltYm9sRXZlbnQpO1xuICAgIGJ5S2luZC5zZXQoMjQgLyogU3ltYm9sS2luZC5PcGVyYXRvciAqLywgQ29kaWNvbi5zeW1ib2xPcGVyYXRvcik7XG4gICAgYnlLaW5kLnNldCgyNSAvKiBTeW1ib2xLaW5kLlR5cGVQYXJhbWV0ZXIgKi8sIENvZGljb24uc3ltYm9sVHlwZVBhcmFtZXRlcik7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9JY29uKGtpbmQpIHtcbiAgICAgICAgbGV0IGljb24gPSBieUtpbmQuZ2V0KGtpbmQpO1xuICAgICAgICBpZiAoIWljb24pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnTm8gY29kaWNvbiBmb3VuZCBmb3IgU3ltYm9sS2luZCAnICsga2luZCk7XG4gICAgICAgICAgICBpY29uID0gQ29kaWNvbi5zeW1ib2xQcm9wZXJ0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWNvbjtcbiAgICB9XG4gICAgU3ltYm9sS2luZHMudG9JY29uID0gdG9JY29uO1xufSkoU3ltYm9sS2luZHMgfHwgKFN5bWJvbEtpbmRzID0ge30pKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjbGFzcyBUZXh0RWRpdCB7XG59XG5leHBvcnQgY2xhc3MgRm9sZGluZ1JhbmdlS2luZCB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHtAbGluayBGb2xkaW5nUmFuZ2VLaW5kfSBmb3IgdGhlIGdpdmVuIHZhbHVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIG9mIHRoZSBraW5kLlxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tVmFsdWUodmFsdWUpIHtcbiAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSAnY29tbWVudCc6IHJldHVybiBGb2xkaW5nUmFuZ2VLaW5kLkNvbW1lbnQ7XG4gICAgICAgICAgICBjYXNlICdpbXBvcnRzJzogcmV0dXJuIEZvbGRpbmdSYW5nZUtpbmQuSW1wb3J0cztcbiAgICAgICAgICAgIGNhc2UgJ3JlZ2lvbic6IHJldHVybiBGb2xkaW5nUmFuZ2VLaW5kLlJlZ2lvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEZvbGRpbmdSYW5nZUtpbmQodmFsdWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHtAbGluayBGb2xkaW5nUmFuZ2VLaW5kfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSBvZiB0aGUga2luZC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxufVxuLyoqXG4gKiBLaW5kIGZvciBmb2xkaW5nIHJhbmdlIHJlcHJlc2VudGluZyBhIGNvbW1lbnQuIFRoZSB2YWx1ZSBvZiB0aGUga2luZCBpcyAnY29tbWVudCcuXG4gKi9cbkZvbGRpbmdSYW5nZUtpbmQuQ29tbWVudCA9IG5ldyBGb2xkaW5nUmFuZ2VLaW5kKCdjb21tZW50Jyk7XG4vKipcbiAqIEtpbmQgZm9yIGZvbGRpbmcgcmFuZ2UgcmVwcmVzZW50aW5nIGEgaW1wb3J0LiBUaGUgdmFsdWUgb2YgdGhlIGtpbmQgaXMgJ2ltcG9ydHMnLlxuICovXG5Gb2xkaW5nUmFuZ2VLaW5kLkltcG9ydHMgPSBuZXcgRm9sZGluZ1JhbmdlS2luZCgnaW1wb3J0cycpO1xuLyoqXG4gKiBLaW5kIGZvciBmb2xkaW5nIHJhbmdlIHJlcHJlc2VudGluZyByZWdpb25zIChmb3IgZXhhbXBsZSBtYXJrZWQgYnkgYCNyZWdpb25gLCBgI2VuZHJlZ2lvbmApLlxuICogVGhlIHZhbHVlIG9mIHRoZSBraW5kIGlzICdyZWdpb24nLlxuICovXG5Gb2xkaW5nUmFuZ2VLaW5kLlJlZ2lvbiA9IG5ldyBGb2xkaW5nUmFuZ2VLaW5kKCdyZWdpb24nKTtcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCB2YXIgQ29tbWFuZDtcbihmdW5jdGlvbiAoQ29tbWFuZCkge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzKG9iaikge1xuICAgICAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqLmlkID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgICAgdHlwZW9mIG9iai50aXRsZSA9PT0gJ3N0cmluZyc7XG4gICAgfVxuICAgIENvbW1hbmQuaXMgPSBpcztcbn0pKENvbW1hbmQgfHwgKENvbW1hbmQgPSB7fSkpO1xuZXhwb3J0IHZhciBJbmxheUhpbnRLaW5kO1xuKGZ1bmN0aW9uIChJbmxheUhpbnRLaW5kKSB7XG4gICAgSW5sYXlIaW50S2luZFtJbmxheUhpbnRLaW5kW1wiVHlwZVwiXSA9IDFdID0gXCJUeXBlXCI7XG4gICAgSW5sYXlIaW50S2luZFtJbmxheUhpbnRLaW5kW1wiUGFyYW1ldGVyXCJdID0gMl0gPSBcIlBhcmFtZXRlclwiO1xufSkoSW5sYXlIaW50S2luZCB8fCAoSW5sYXlIaW50S2luZCA9IHt9KSk7XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgTGF6eVRva2VuaXphdGlvblN1cHBvcnQge1xuICAgIGNvbnN0cnVjdG9yKGNyZWF0ZVN1cHBvcnQpIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTdXBwb3J0ID0gY3JlYXRlU3VwcG9ydDtcbiAgICAgICAgdGhpcy5fdG9rZW5pemF0aW9uU3VwcG9ydCA9IG51bGw7XG4gICAgfVxuICAgIGRpc3Bvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0LnRoZW4oKHN1cHBvcnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBwb3J0LmRpc3Bvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdG9rZW5pemF0aW9uU3VwcG9ydCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0KSB7XG4gICAgICAgICAgICB0aGlzLl90b2tlbml6YXRpb25TdXBwb3J0ID0gdGhpcy5jcmVhdGVTdXBwb3J0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rva2VuaXphdGlvblN1cHBvcnQ7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNvbnN0IFRva2VuaXphdGlvblJlZ2lzdHJ5ID0gbmV3IFRva2VuaXphdGlvblJlZ2lzdHJ5SW1wbCgpO1xuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG4vLyBUSElTIElTIEEgR0VORVJBVEVEIEZJTEUuIERPIE5PVCBFRElUIERJUkVDVExZLlxuZXhwb3J0IHZhciBBY2Nlc3NpYmlsaXR5U3VwcG9ydDtcbihmdW5jdGlvbiAoQWNjZXNzaWJpbGl0eVN1cHBvcnQpIHtcbiAgICAvKipcbiAgICAgKiBUaGlzIHNob3VsZCBiZSB0aGUgYnJvd3NlciBjYXNlIHdoZXJlIGl0IGlzIG5vdCBrbm93biBpZiBhIHNjcmVlbiByZWFkZXIgaXMgYXR0YWNoZWQgb3Igbm8uXG4gICAgICovXG4gICAgQWNjZXNzaWJpbGl0eVN1cHBvcnRbQWNjZXNzaWJpbGl0eVN1cHBvcnRbXCJVbmtub3duXCJdID0gMF0gPSBcIlVua25vd25cIjtcbiAgICBBY2Nlc3NpYmlsaXR5U3VwcG9ydFtBY2Nlc3NpYmlsaXR5U3VwcG9ydFtcIkRpc2FibGVkXCJdID0gMV0gPSBcIkRpc2FibGVkXCI7XG4gICAgQWNjZXNzaWJpbGl0eVN1cHBvcnRbQWNjZXNzaWJpbGl0eVN1cHBvcnRbXCJFbmFibGVkXCJdID0gMl0gPSBcIkVuYWJsZWRcIjtcbn0pKEFjY2Vzc2liaWxpdHlTdXBwb3J0IHx8IChBY2Nlc3NpYmlsaXR5U3VwcG9ydCA9IHt9KSk7XG5leHBvcnQgdmFyIENvZGVBY3Rpb25UcmlnZ2VyVHlwZTtcbihmdW5jdGlvbiAoQ29kZUFjdGlvblRyaWdnZXJUeXBlKSB7XG4gICAgQ29kZUFjdGlvblRyaWdnZXJUeXBlW0NvZGVBY3Rpb25UcmlnZ2VyVHlwZVtcIkludm9rZVwiXSA9IDFdID0gXCJJbnZva2VcIjtcbiAgICBDb2RlQWN0aW9uVHJpZ2dlclR5cGVbQ29kZUFjdGlvblRyaWdnZXJUeXBlW1wiQXV0b1wiXSA9IDJdID0gXCJBdXRvXCI7XG59KShDb2RlQWN0aW9uVHJpZ2dlclR5cGUgfHwgKENvZGVBY3Rpb25UcmlnZ2VyVHlwZSA9IHt9KSk7XG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtSW5zZXJ0VGV4dFJ1bGU7XG4oZnVuY3Rpb24gKENvbXBsZXRpb25JdGVtSW5zZXJ0VGV4dFJ1bGUpIHtcbiAgICBDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlW0NvbXBsZXRpb25JdGVtSW5zZXJ0VGV4dFJ1bGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBBZGp1c3Qgd2hpdGVzcGFjZS9pbmRlbnRhdGlvbiBvZiBtdWx0aWxpbmUgaW5zZXJ0IHRleHRzIHRvXG4gICAgICogbWF0Y2ggdGhlIGN1cnJlbnQgbGluZSBpbmRlbnRhdGlvbi5cbiAgICAgKi9cbiAgICBDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlW0NvbXBsZXRpb25JdGVtSW5zZXJ0VGV4dFJ1bGVbXCJLZWVwV2hpdGVzcGFjZVwiXSA9IDFdID0gXCJLZWVwV2hpdGVzcGFjZVwiO1xuICAgIC8qKlxuICAgICAqIGBpbnNlcnRUZXh0YCBpcyBhIHNuaXBwZXQuXG4gICAgICovXG4gICAgQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZVtDb21wbGV0aW9uSXRlbUluc2VydFRleHRSdWxlW1wiSW5zZXJ0QXNTbmlwcGV0XCJdID0gNF0gPSBcIkluc2VydEFzU25pcHBldFwiO1xufSkoQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZSB8fCAoQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZSA9IHt9KSk7XG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtS2luZDtcbihmdW5jdGlvbiAoQ29tcGxldGlvbkl0ZW1LaW5kKSB7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIk1ldGhvZFwiXSA9IDBdID0gXCJNZXRob2RcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRnVuY3Rpb25cIl0gPSAxXSA9IFwiRnVuY3Rpb25cIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ29uc3RydWN0b3JcIl0gPSAyXSA9IFwiQ29uc3RydWN0b3JcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRmllbGRcIl0gPSAzXSA9IFwiRmllbGRcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiVmFyaWFibGVcIl0gPSA0XSA9IFwiVmFyaWFibGVcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiQ2xhc3NcIl0gPSA1XSA9IFwiQ2xhc3NcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiU3RydWN0XCJdID0gNl0gPSBcIlN0cnVjdFwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJJbnRlcmZhY2VcIl0gPSA3XSA9IFwiSW50ZXJmYWNlXCI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIk1vZHVsZVwiXSA9IDhdID0gXCJNb2R1bGVcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiUHJvcGVydHlcIl0gPSA5XSA9IFwiUHJvcGVydHlcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRXZlbnRcIl0gPSAxMF0gPSBcIkV2ZW50XCI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIk9wZXJhdG9yXCJdID0gMTFdID0gXCJPcGVyYXRvclwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJVbml0XCJdID0gMTJdID0gXCJVbml0XCI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIlZhbHVlXCJdID0gMTNdID0gXCJWYWx1ZVwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJDb25zdGFudFwiXSA9IDE0XSA9IFwiQ29uc3RhbnRcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRW51bVwiXSA9IDE1XSA9IFwiRW51bVwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJFbnVtTWVtYmVyXCJdID0gMTZdID0gXCJFbnVtTWVtYmVyXCI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIktleXdvcmRcIl0gPSAxN10gPSBcIktleXdvcmRcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiVGV4dFwiXSA9IDE4XSA9IFwiVGV4dFwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJDb2xvclwiXSA9IDE5XSA9IFwiQ29sb3JcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRmlsZVwiXSA9IDIwXSA9IFwiRmlsZVwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJSZWZlcmVuY2VcIl0gPSAyMV0gPSBcIlJlZmVyZW5jZVwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJDdXN0b21jb2xvclwiXSA9IDIyXSA9IFwiQ3VzdG9tY29sb3JcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiRm9sZGVyXCJdID0gMjNdID0gXCJGb2xkZXJcIjtcbiAgICBDb21wbGV0aW9uSXRlbUtpbmRbQ29tcGxldGlvbkl0ZW1LaW5kW1wiVHlwZVBhcmFtZXRlclwiXSA9IDI0XSA9IFwiVHlwZVBhcmFtZXRlclwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJVc2VyXCJdID0gMjVdID0gXCJVc2VyXCI7XG4gICAgQ29tcGxldGlvbkl0ZW1LaW5kW0NvbXBsZXRpb25JdGVtS2luZFtcIklzc3VlXCJdID0gMjZdID0gXCJJc3N1ZVwiO1xuICAgIENvbXBsZXRpb25JdGVtS2luZFtDb21wbGV0aW9uSXRlbUtpbmRbXCJTbmlwcGV0XCJdID0gMjddID0gXCJTbmlwcGV0XCI7XG59KShDb21wbGV0aW9uSXRlbUtpbmQgfHwgKENvbXBsZXRpb25JdGVtS2luZCA9IHt9KSk7XG5leHBvcnQgdmFyIENvbXBsZXRpb25JdGVtVGFnO1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uSXRlbVRhZykge1xuICAgIENvbXBsZXRpb25JdGVtVGFnW0NvbXBsZXRpb25JdGVtVGFnW1wiRGVwcmVjYXRlZFwiXSA9IDFdID0gXCJEZXByZWNhdGVkXCI7XG59KShDb21wbGV0aW9uSXRlbVRhZyB8fCAoQ29tcGxldGlvbkl0ZW1UYWcgPSB7fSkpO1xuLyoqXG4gKiBIb3cgYSBzdWdnZXN0IHByb3ZpZGVyIHdhcyB0cmlnZ2VyZWQuXG4gKi9cbmV4cG9ydCB2YXIgQ29tcGxldGlvblRyaWdnZXJLaW5kO1xuKGZ1bmN0aW9uIChDb21wbGV0aW9uVHJpZ2dlcktpbmQpIHtcbiAgICBDb21wbGV0aW9uVHJpZ2dlcktpbmRbQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiSW52b2tlXCJdID0gMF0gPSBcIkludm9rZVwiO1xuICAgIENvbXBsZXRpb25UcmlnZ2VyS2luZFtDb21wbGV0aW9uVHJpZ2dlcktpbmRbXCJUcmlnZ2VyQ2hhcmFjdGVyXCJdID0gMV0gPSBcIlRyaWdnZXJDaGFyYWN0ZXJcIjtcbiAgICBDb21wbGV0aW9uVHJpZ2dlcktpbmRbQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiVHJpZ2dlckZvckluY29tcGxldGVDb21wbGV0aW9uc1wiXSA9IDJdID0gXCJUcmlnZ2VyRm9ySW5jb21wbGV0ZUNvbXBsZXRpb25zXCI7XG59KShDb21wbGV0aW9uVHJpZ2dlcktpbmQgfHwgKENvbXBsZXRpb25UcmlnZ2VyS2luZCA9IHt9KSk7XG4vKipcbiAqIEEgcG9zaXRpb25pbmcgcHJlZmVyZW5jZSBmb3IgcmVuZGVyaW5nIGNvbnRlbnQgd2lkZ2V0cy5cbiAqL1xuZXhwb3J0IHZhciBDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlO1xuKGZ1bmN0aW9uIChDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlKSB7XG4gICAgLyoqXG4gICAgICogUGxhY2UgdGhlIGNvbnRlbnQgd2lkZ2V0IGV4YWN0bHkgYXQgYSBwb3NpdGlvblxuICAgICAqL1xuICAgIENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtcIkVYQUNUXCJdID0gMF0gPSBcIkVYQUNUXCI7XG4gICAgLyoqXG4gICAgICogUGxhY2UgdGhlIGNvbnRlbnQgd2lkZ2V0IGFib3ZlIGEgcG9zaXRpb25cbiAgICAgKi9cbiAgICBDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW0NvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2VbXCJBQk9WRVwiXSA9IDFdID0gXCJBQk9WRVwiO1xuICAgIC8qKlxuICAgICAqIFBsYWNlIHRoZSBjb250ZW50IHdpZGdldCBiZWxvdyBhIHBvc2l0aW9uXG4gICAgICovXG4gICAgQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtDb250ZW50V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW1wiQkVMT1dcIl0gPSAyXSA9IFwiQkVMT1dcIjtcbn0pKENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UgfHwgKENvbnRlbnRXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIHJlYXNvbiB0aGUgY3Vyc29yIGhhcyBjaGFuZ2VkIGl0cyBwb3NpdGlvbi5cbiAqL1xuZXhwb3J0IHZhciBDdXJzb3JDaGFuZ2VSZWFzb247XG4oZnVuY3Rpb24gKEN1cnNvckNoYW5nZVJlYXNvbikge1xuICAgIC8qKlxuICAgICAqIFVua25vd24gb3Igbm90IHNldC5cbiAgICAgKi9cbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiTm90U2V0XCJdID0gMF0gPSBcIk5vdFNldFwiO1xuICAgIC8qKlxuICAgICAqIEEgYG1vZGVsLnNldFZhbHVlKClgIHdhcyBjYWxsZWQuXG4gICAgICovXG4gICAgQ3Vyc29yQ2hhbmdlUmVhc29uW0N1cnNvckNoYW5nZVJlYXNvbltcIkNvbnRlbnRGbHVzaFwiXSA9IDFdID0gXCJDb250ZW50Rmx1c2hcIjtcbiAgICAvKipcbiAgICAgKiBUaGUgYG1vZGVsYCBoYXMgYmVlbiBjaGFuZ2VkIG91dHNpZGUgb2YgdGhpcyBjdXJzb3IgYW5kIHRoZSBjdXJzb3IgcmVjb3ZlcnMgaXRzIHBvc2l0aW9uIGZyb20gYXNzb2NpYXRlZCBtYXJrZXJzLlxuICAgICAqL1xuICAgIEN1cnNvckNoYW5nZVJlYXNvbltDdXJzb3JDaGFuZ2VSZWFzb25bXCJSZWNvdmVyRnJvbU1hcmtlcnNcIl0gPSAyXSA9IFwiUmVjb3ZlckZyb21NYXJrZXJzXCI7XG4gICAgLyoqXG4gICAgICogVGhlcmUgd2FzIGFuIGV4cGxpY2l0IHVzZXIgZ2VzdHVyZS5cbiAgICAgKi9cbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiRXhwbGljaXRcIl0gPSAzXSA9IFwiRXhwbGljaXRcIjtcbiAgICAvKipcbiAgICAgKiBUaGVyZSB3YXMgYSBQYXN0ZS5cbiAgICAgKi9cbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiUGFzdGVcIl0gPSA0XSA9IFwiUGFzdGVcIjtcbiAgICAvKipcbiAgICAgKiBUaGVyZSB3YXMgYW4gVW5kby5cbiAgICAgKi9cbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiVW5kb1wiXSA9IDVdID0gXCJVbmRvXCI7XG4gICAgLyoqXG4gICAgICogVGhlcmUgd2FzIGEgUmVkby5cbiAgICAgKi9cbiAgICBDdXJzb3JDaGFuZ2VSZWFzb25bQ3Vyc29yQ2hhbmdlUmVhc29uW1wiUmVkb1wiXSA9IDZdID0gXCJSZWRvXCI7XG59KShDdXJzb3JDaGFuZ2VSZWFzb24gfHwgKEN1cnNvckNoYW5nZVJlYXNvbiA9IHt9KSk7XG4vKipcbiAqIFRoZSBkZWZhdWx0IGVuZCBvZiBsaW5lIHRvIHVzZSB3aGVuIGluc3RhbnRpYXRpbmcgbW9kZWxzLlxuICovXG5leHBvcnQgdmFyIERlZmF1bHRFbmRPZkxpbmU7XG4oZnVuY3Rpb24gKERlZmF1bHRFbmRPZkxpbmUpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgbGluZSBmZWVkIChcXG4pIGFzIHRoZSBlbmQgb2YgbGluZSBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgRGVmYXVsdEVuZE9mTGluZVtEZWZhdWx0RW5kT2ZMaW5lW1wiTEZcIl0gPSAxXSA9IFwiTEZcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgY2FycmlhZ2UgcmV0dXJuIGFuZCBsaW5lIGZlZWQgKFxcclxcbikgYXMgdGhlIGVuZCBvZiBsaW5lIGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBEZWZhdWx0RW5kT2ZMaW5lW0RlZmF1bHRFbmRPZkxpbmVbXCJDUkxGXCJdID0gMl0gPSBcIkNSTEZcIjtcbn0pKERlZmF1bHRFbmRPZkxpbmUgfHwgKERlZmF1bHRFbmRPZkxpbmUgPSB7fSkpO1xuLyoqXG4gKiBBIGRvY3VtZW50IGhpZ2hsaWdodCBraW5kLlxuICovXG5leHBvcnQgdmFyIERvY3VtZW50SGlnaGxpZ2h0S2luZDtcbihmdW5jdGlvbiAoRG9jdW1lbnRIaWdobGlnaHRLaW5kKSB7XG4gICAgLyoqXG4gICAgICogQSB0ZXh0dWFsIG9jY3VycmVuY2UuXG4gICAgICovXG4gICAgRG9jdW1lbnRIaWdobGlnaHRLaW5kW0RvY3VtZW50SGlnaGxpZ2h0S2luZFtcIlRleHRcIl0gPSAwXSA9IFwiVGV4dFwiO1xuICAgIC8qKlxuICAgICAqIFJlYWQtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHJlYWRpbmcgYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmRbRG9jdW1lbnRIaWdobGlnaHRLaW5kW1wiUmVhZFwiXSA9IDFdID0gXCJSZWFkXCI7XG4gICAgLyoqXG4gICAgICogV3JpdGUtYWNjZXNzIG9mIGEgc3ltYm9sLCBsaWtlIHdyaXRpbmcgdG8gYSB2YXJpYWJsZS5cbiAgICAgKi9cbiAgICBEb2N1bWVudEhpZ2hsaWdodEtpbmRbRG9jdW1lbnRIaWdobGlnaHRLaW5kW1wiV3JpdGVcIl0gPSAyXSA9IFwiV3JpdGVcIjtcbn0pKERvY3VtZW50SGlnaGxpZ2h0S2luZCB8fCAoRG9jdW1lbnRIaWdobGlnaHRLaW5kID0ge30pKTtcbi8qKlxuICogQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBhdXRvIGluZGVudGF0aW9uIGluIHRoZSBlZGl0b3JcbiAqL1xuZXhwb3J0IHZhciBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3k7XG4oZnVuY3Rpb24gKEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneSkge1xuICAgIEVkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICBFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3lbRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W1wiS2VlcFwiXSA9IDFdID0gXCJLZWVwXCI7XG4gICAgRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W0VkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtcIkJyYWNrZXRzXCJdID0gMl0gPSBcIkJyYWNrZXRzXCI7XG4gICAgRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W0VkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtcIkFkdmFuY2VkXCJdID0gM10gPSBcIkFkdmFuY2VkXCI7XG4gICAgRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5W0VkaXRvckF1dG9JbmRlbnRTdHJhdGVneVtcIkZ1bGxcIl0gPSA0XSA9IFwiRnVsbFwiO1xufSkoRWRpdG9yQXV0b0luZGVudFN0cmF0ZWd5IHx8IChFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kgPSB7fSkpO1xuZXhwb3J0IHZhciBFZGl0b3JPcHRpb247XG4oZnVuY3Rpb24gKEVkaXRvck9wdGlvbikge1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhY2NlcHRTdWdnZXN0aW9uT25Db21taXRDaGFyYWN0ZXJcIl0gPSAwXSA9IFwiYWNjZXB0U3VnZ2VzdGlvbk9uQ29tbWl0Q2hhcmFjdGVyXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImFjY2VwdFN1Z2dlc3Rpb25PbkVudGVyXCJdID0gMV0gPSBcImFjY2VwdFN1Z2dlc3Rpb25PbkVudGVyXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImFjY2Vzc2liaWxpdHlTdXBwb3J0XCJdID0gMl0gPSBcImFjY2Vzc2liaWxpdHlTdXBwb3J0XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImFjY2Vzc2liaWxpdHlQYWdlU2l6ZVwiXSA9IDNdID0gXCJhY2Nlc3NpYmlsaXR5UGFnZVNpemVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiYXJpYUxhYmVsXCJdID0gNF0gPSBcImFyaWFMYWJlbFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhcmlhUmVxdWlyZWRcIl0gPSA1XSA9IFwiYXJpYVJlcXVpcmVkXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9DbG9zaW5nQnJhY2tldHNcIl0gPSA2XSA9IFwiYXV0b0Nsb3NpbmdCcmFja2V0c1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvQ2xvc2luZ0NvbW1lbnRzXCJdID0gN10gPSBcImF1dG9DbG9zaW5nQ29tbWVudHNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2NyZWVuUmVhZGVyQW5ub3VuY2VJbmxpbmVTdWdnZXN0aW9uXCJdID0gOF0gPSBcInNjcmVlblJlYWRlckFubm91bmNlSW5saW5lU3VnZ2VzdGlvblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvQ2xvc2luZ0RlbGV0ZVwiXSA9IDldID0gXCJhdXRvQ2xvc2luZ0RlbGV0ZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvQ2xvc2luZ092ZXJ0eXBlXCJdID0gMTBdID0gXCJhdXRvQ2xvc2luZ092ZXJ0eXBlXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9DbG9zaW5nUXVvdGVzXCJdID0gMTFdID0gXCJhdXRvQ2xvc2luZ1F1b3Rlc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJhdXRvSW5kZW50XCJdID0gMTJdID0gXCJhdXRvSW5kZW50XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9tYXRpY0xheW91dFwiXSA9IDEzXSA9IFwiYXV0b21hdGljTGF5b3V0XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImF1dG9TdXJyb3VuZFwiXSA9IDE0XSA9IFwiYXV0b1N1cnJvdW5kXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImJyYWNrZXRQYWlyQ29sb3JpemF0aW9uXCJdID0gMTVdID0gXCJicmFja2V0UGFpckNvbG9yaXphdGlvblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJndWlkZXNcIl0gPSAxNl0gPSBcImd1aWRlc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb2RlTGVuc1wiXSA9IDE3XSA9IFwiY29kZUxlbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29kZUxlbnNGb250RmFtaWx5XCJdID0gMThdID0gXCJjb2RlTGVuc0ZvbnRGYW1pbHlcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29kZUxlbnNGb250U2l6ZVwiXSA9IDE5XSA9IFwiY29kZUxlbnNGb250U2l6ZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb2xvckRlY29yYXRvcnNcIl0gPSAyMF0gPSBcImNvbG9yRGVjb3JhdG9yc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb2xvckRlY29yYXRvcnNMaW1pdFwiXSA9IDIxXSA9IFwiY29sb3JEZWNvcmF0b3JzTGltaXRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29sdW1uU2VsZWN0aW9uXCJdID0gMjJdID0gXCJjb2x1bW5TZWxlY3Rpb25cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29tbWVudHNcIl0gPSAyM10gPSBcImNvbW1lbnRzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImNvbnRleHRtZW51XCJdID0gMjRdID0gXCJjb250ZXh0bWVudVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjb3B5V2l0aFN5bnRheEhpZ2hsaWdodGluZ1wiXSA9IDI1XSA9IFwiY29weVdpdGhTeW50YXhIaWdobGlnaHRpbmdcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY3Vyc29yQmxpbmtpbmdcIl0gPSAyNl0gPSBcImN1cnNvckJsaW5raW5nXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImN1cnNvclNtb290aENhcmV0QW5pbWF0aW9uXCJdID0gMjddID0gXCJjdXJzb3JTbW9vdGhDYXJldEFuaW1hdGlvblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjdXJzb3JTdHlsZVwiXSA9IDI4XSA9IFwiY3Vyc29yU3R5bGVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY3Vyc29yU3Vycm91bmRpbmdMaW5lc1wiXSA9IDI5XSA9IFwiY3Vyc29yU3Vycm91bmRpbmdMaW5lc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjdXJzb3JTdXJyb3VuZGluZ0xpbmVzU3R5bGVcIl0gPSAzMF0gPSBcImN1cnNvclN1cnJvdW5kaW5nTGluZXNTdHlsZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJjdXJzb3JXaWR0aFwiXSA9IDMxXSA9IFwiY3Vyc29yV2lkdGhcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZGlzYWJsZUxheWVySGludGluZ1wiXSA9IDMyXSA9IFwiZGlzYWJsZUxheWVySGludGluZ1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJkaXNhYmxlTW9ub3NwYWNlT3B0aW1pemF0aW9uc1wiXSA9IDMzXSA9IFwiZGlzYWJsZU1vbm9zcGFjZU9wdGltaXphdGlvbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZG9tUmVhZE9ubHlcIl0gPSAzNF0gPSBcImRvbVJlYWRPbmx5XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImRyYWdBbmREcm9wXCJdID0gMzVdID0gXCJkcmFnQW5kRHJvcFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJkcm9wSW50b0VkaXRvclwiXSA9IDM2XSA9IFwiZHJvcEludG9FZGl0b3JcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZW1wdHlTZWxlY3Rpb25DbGlwYm9hcmRcIl0gPSAzN10gPSBcImVtcHR5U2VsZWN0aW9uQ2xpcGJvYXJkXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImV4cGVyaW1lbnRhbFdoaXRlc3BhY2VSZW5kZXJpbmdcIl0gPSAzOF0gPSBcImV4cGVyaW1lbnRhbFdoaXRlc3BhY2VSZW5kZXJpbmdcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZXh0cmFFZGl0b3JDbGFzc05hbWVcIl0gPSAzOV0gPSBcImV4dHJhRWRpdG9yQ2xhc3NOYW1lXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZhc3RTY3JvbGxTZW5zaXRpdml0eVwiXSA9IDQwXSA9IFwiZmFzdFNjcm9sbFNlbnNpdGl2aXR5XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZpbmRcIl0gPSA0MV0gPSBcImZpbmRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZml4ZWRPdmVyZmxvd1dpZGdldHNcIl0gPSA0Ml0gPSBcImZpeGVkT3ZlcmZsb3dXaWRnZXRzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImZvbGRpbmdcIl0gPSA0M10gPSBcImZvbGRpbmdcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9sZGluZ1N0cmF0ZWd5XCJdID0gNDRdID0gXCJmb2xkaW5nU3RyYXRlZ3lcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9sZGluZ0hpZ2hsaWdodFwiXSA9IDQ1XSA9IFwiZm9sZGluZ0hpZ2hsaWdodFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb2xkaW5nSW1wb3J0c0J5RGVmYXVsdFwiXSA9IDQ2XSA9IFwiZm9sZGluZ0ltcG9ydHNCeURlZmF1bHRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9sZGluZ01heGltdW1SZWdpb25zXCJdID0gNDddID0gXCJmb2xkaW5nTWF4aW11bVJlZ2lvbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1widW5mb2xkT25DbGlja0FmdGVyRW5kT2ZMaW5lXCJdID0gNDhdID0gXCJ1bmZvbGRPbkNsaWNrQWZ0ZXJFbmRPZkxpbmVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9udEZhbWlseVwiXSA9IDQ5XSA9IFwiZm9udEZhbWlseVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb250SW5mb1wiXSA9IDUwXSA9IFwiZm9udEluZm9cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9udExpZ2F0dXJlc1wiXSA9IDUxXSA9IFwiZm9udExpZ2F0dXJlc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb250U2l6ZVwiXSA9IDUyXSA9IFwiZm9udFNpemVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9udFdlaWdodFwiXSA9IDUzXSA9IFwiZm9udFdlaWdodFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb250VmFyaWF0aW9uc1wiXSA9IDU0XSA9IFwiZm9udFZhcmlhdGlvbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZm9ybWF0T25QYXN0ZVwiXSA9IDU1XSA9IFwiZm9ybWF0T25QYXN0ZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJmb3JtYXRPblR5cGVcIl0gPSA1Nl0gPSBcImZvcm1hdE9uVHlwZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJnbHlwaE1hcmdpblwiXSA9IDU3XSA9IFwiZ2x5cGhNYXJnaW5cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZ290b0xvY2F0aW9uXCJdID0gNThdID0gXCJnb3RvTG9jYXRpb25cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiaGlkZUN1cnNvckluT3ZlcnZpZXdSdWxlclwiXSA9IDU5XSA9IFwiaGlkZUN1cnNvckluT3ZlcnZpZXdSdWxlclwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJob3ZlclwiXSA9IDYwXSA9IFwiaG92ZXJcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiaW5EaWZmRWRpdG9yXCJdID0gNjFdID0gXCJpbkRpZmZFZGl0b3JcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiaW5saW5lU3VnZ2VzdFwiXSA9IDYyXSA9IFwiaW5saW5lU3VnZ2VzdFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsZXR0ZXJTcGFjaW5nXCJdID0gNjNdID0gXCJsZXR0ZXJTcGFjaW5nXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImxpZ2h0YnVsYlwiXSA9IDY0XSA9IFwibGlnaHRidWxiXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImxpbmVEZWNvcmF0aW9uc1dpZHRoXCJdID0gNjVdID0gXCJsaW5lRGVjb3JhdGlvbnNXaWR0aFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsaW5lSGVpZ2h0XCJdID0gNjZdID0gXCJsaW5lSGVpZ2h0XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImxpbmVOdW1iZXJzXCJdID0gNjddID0gXCJsaW5lTnVtYmVyc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsaW5lTnVtYmVyc01pbkNoYXJzXCJdID0gNjhdID0gXCJsaW5lTnVtYmVyc01pbkNoYXJzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcImxpbmtlZEVkaXRpbmdcIl0gPSA2OV0gPSBcImxpbmtlZEVkaXRpbmdcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibGlua3NcIl0gPSA3MF0gPSBcImxpbmtzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm1hdGNoQnJhY2tldHNcIl0gPSA3MV0gPSBcIm1hdGNoQnJhY2tldHNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibWluaW1hcFwiXSA9IDcyXSA9IFwibWluaW1hcFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJtb3VzZVN0eWxlXCJdID0gNzNdID0gXCJtb3VzZVN0eWxlXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm1vdXNlV2hlZWxTY3JvbGxTZW5zaXRpdml0eVwiXSA9IDc0XSA9IFwibW91c2VXaGVlbFNjcm9sbFNlbnNpdGl2aXR5XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm1vdXNlV2hlZWxab29tXCJdID0gNzVdID0gXCJtb3VzZVdoZWVsWm9vbVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJtdWx0aUN1cnNvck1lcmdlT3ZlcmxhcHBpbmdcIl0gPSA3Nl0gPSBcIm11bHRpQ3Vyc29yTWVyZ2VPdmVybGFwcGluZ1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJtdWx0aUN1cnNvck1vZGlmaWVyXCJdID0gNzddID0gXCJtdWx0aUN1cnNvck1vZGlmaWVyXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIm11bHRpQ3Vyc29yUGFzdGVcIl0gPSA3OF0gPSBcIm11bHRpQ3Vyc29yUGFzdGVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wibXVsdGlDdXJzb3JMaW1pdFwiXSA9IDc5XSA9IFwibXVsdGlDdXJzb3JMaW1pdFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJvY2N1cnJlbmNlc0hpZ2hsaWdodFwiXSA9IDgwXSA9IFwib2NjdXJyZW5jZXNIaWdobGlnaHRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wib3ZlcnZpZXdSdWxlckJvcmRlclwiXSA9IDgxXSA9IFwib3ZlcnZpZXdSdWxlckJvcmRlclwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJvdmVydmlld1J1bGVyTGFuZXNcIl0gPSA4Ml0gPSBcIm92ZXJ2aWV3UnVsZXJMYW5lc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJwYWRkaW5nXCJdID0gODNdID0gXCJwYWRkaW5nXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInBhc3RlQXNcIl0gPSA4NF0gPSBcInBhc3RlQXNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicGFyYW1ldGVySGludHNcIl0gPSA4NV0gPSBcInBhcmFtZXRlckhpbnRzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInBlZWtXaWRnZXREZWZhdWx0Rm9jdXNcIl0gPSA4Nl0gPSBcInBlZWtXaWRnZXREZWZhdWx0Rm9jdXNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZGVmaW5pdGlvbkxpbmtPcGVuc0luUGVla1wiXSA9IDg3XSA9IFwiZGVmaW5pdGlvbkxpbmtPcGVuc0luUGVla1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJxdWlja1N1Z2dlc3Rpb25zXCJdID0gODhdID0gXCJxdWlja1N1Z2dlc3Rpb25zXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInF1aWNrU3VnZ2VzdGlvbnNEZWxheVwiXSA9IDg5XSA9IFwicXVpY2tTdWdnZXN0aW9uc0RlbGF5XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJlYWRPbmx5XCJdID0gOTBdID0gXCJyZWFkT25seVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZWFkT25seU1lc3NhZ2VcIl0gPSA5MV0gPSBcInJlYWRPbmx5TWVzc2FnZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5hbWVPblR5cGVcIl0gPSA5Ml0gPSBcInJlbmFtZU9uVHlwZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5kZXJDb250cm9sQ2hhcmFjdGVyc1wiXSA9IDkzXSA9IFwicmVuZGVyQ29udHJvbENoYXJhY3RlcnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyRmluYWxOZXdsaW5lXCJdID0gOTRdID0gXCJyZW5kZXJGaW5hbE5ld2xpbmVcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyTGluZUhpZ2hsaWdodFwiXSA9IDk1XSA9IFwicmVuZGVyTGluZUhpZ2hsaWdodFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZW5kZXJMaW5lSGlnaGxpZ2h0T25seVdoZW5Gb2N1c1wiXSA9IDk2XSA9IFwicmVuZGVyTGluZUhpZ2hsaWdodE9ubHlXaGVuRm9jdXNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyVmFsaWRhdGlvbkRlY29yYXRpb25zXCJdID0gOTddID0gXCJyZW5kZXJWYWxpZGF0aW9uRGVjb3JhdGlvbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wicmVuZGVyV2hpdGVzcGFjZVwiXSA9IDk4XSA9IFwicmVuZGVyV2hpdGVzcGFjZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJyZXZlYWxIb3Jpem9udGFsUmlnaHRQYWRkaW5nXCJdID0gOTldID0gXCJyZXZlYWxIb3Jpem9udGFsUmlnaHRQYWRkaW5nXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJvdW5kZWRTZWxlY3Rpb25cIl0gPSAxMDBdID0gXCJyb3VuZGVkU2VsZWN0aW9uXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInJ1bGVyc1wiXSA9IDEwMV0gPSBcInJ1bGVyc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzY3JvbGxiYXJcIl0gPSAxMDJdID0gXCJzY3JvbGxiYXJcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2Nyb2xsQmV5b25kTGFzdENvbHVtblwiXSA9IDEwM10gPSBcInNjcm9sbEJleW9uZExhc3RDb2x1bW5cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2Nyb2xsQmV5b25kTGFzdExpbmVcIl0gPSAxMDRdID0gXCJzY3JvbGxCZXlvbmRMYXN0TGluZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzY3JvbGxQcmVkb21pbmFudEF4aXNcIl0gPSAxMDVdID0gXCJzY3JvbGxQcmVkb21pbmFudEF4aXNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic2VsZWN0aW9uQ2xpcGJvYXJkXCJdID0gMTA2XSA9IFwic2VsZWN0aW9uQ2xpcGJvYXJkXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNlbGVjdGlvbkhpZ2hsaWdodFwiXSA9IDEwN10gPSBcInNlbGVjdGlvbkhpZ2hsaWdodFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzZWxlY3RPbkxpbmVOdW1iZXJzXCJdID0gMTA4XSA9IFwic2VsZWN0T25MaW5lTnVtYmVyc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzaG93Rm9sZGluZ0NvbnRyb2xzXCJdID0gMTA5XSA9IFwic2hvd0ZvbGRpbmdDb250cm9sc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzaG93VW51c2VkXCJdID0gMTEwXSA9IFwic2hvd1VudXNlZFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzbmlwcGV0U3VnZ2VzdGlvbnNcIl0gPSAxMTFdID0gXCJzbmlwcGV0U3VnZ2VzdGlvbnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic21hcnRTZWxlY3RcIl0gPSAxMTJdID0gXCJzbWFydFNlbGVjdFwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzbW9vdGhTY3JvbGxpbmdcIl0gPSAxMTNdID0gXCJzbW9vdGhTY3JvbGxpbmdcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3RpY2t5U2Nyb2xsXCJdID0gMTE0XSA9IFwic3RpY2t5U2Nyb2xsXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInN0aWNreVRhYlN0b3BzXCJdID0gMTE1XSA9IFwic3RpY2t5VGFiU3RvcHNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3RvcFJlbmRlcmluZ0xpbmVBZnRlclwiXSA9IDExNl0gPSBcInN0b3BSZW5kZXJpbmdMaW5lQWZ0ZXJcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3VnZ2VzdFwiXSA9IDExN10gPSBcInN1Z2dlc3RcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3VnZ2VzdEZvbnRTaXplXCJdID0gMTE4XSA9IFwic3VnZ2VzdEZvbnRTaXplXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInN1Z2dlc3RMaW5lSGVpZ2h0XCJdID0gMTE5XSA9IFwic3VnZ2VzdExpbmVIZWlnaHRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wic3VnZ2VzdE9uVHJpZ2dlckNoYXJhY3RlcnNcIl0gPSAxMjBdID0gXCJzdWdnZXN0T25UcmlnZ2VyQ2hhcmFjdGVyc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJzdWdnZXN0U2VsZWN0aW9uXCJdID0gMTIxXSA9IFwic3VnZ2VzdFNlbGVjdGlvblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ0YWJDb21wbGV0aW9uXCJdID0gMTIyXSA9IFwidGFiQ29tcGxldGlvblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ0YWJJbmRleFwiXSA9IDEyM10gPSBcInRhYkluZGV4XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInVuaWNvZGVIaWdobGlnaHRpbmdcIl0gPSAxMjRdID0gXCJ1bmljb2RlSGlnaGxpZ2h0aW5nXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInVudXN1YWxMaW5lVGVybWluYXRvcnNcIl0gPSAxMjVdID0gXCJ1bnVzdWFsTGluZVRlcm1pbmF0b3JzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInVzZVNoYWRvd0RPTVwiXSA9IDEyNl0gPSBcInVzZVNoYWRvd0RPTVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ1c2VUYWJTdG9wc1wiXSA9IDEyN10gPSBcInVzZVRhYlN0b3BzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndvcmRCcmVha1wiXSA9IDEyOF0gPSBcIndvcmRCcmVha1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3b3JkU2VwYXJhdG9yc1wiXSA9IDEyOV0gPSBcIndvcmRTZXBhcmF0b3JzXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndvcmRXcmFwXCJdID0gMTMwXSA9IFwid29yZFdyYXBcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid29yZFdyYXBCcmVha0FmdGVyQ2hhcmFjdGVyc1wiXSA9IDEzMV0gPSBcIndvcmRXcmFwQnJlYWtBZnRlckNoYXJhY3RlcnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid29yZFdyYXBCcmVha0JlZm9yZUNoYXJhY3RlcnNcIl0gPSAxMzJdID0gXCJ3b3JkV3JhcEJyZWFrQmVmb3JlQ2hhcmFjdGVyc1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3b3JkV3JhcENvbHVtblwiXSA9IDEzM10gPSBcIndvcmRXcmFwQ29sdW1uXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndvcmRXcmFwT3ZlcnJpZGUxXCJdID0gMTM0XSA9IFwid29yZFdyYXBPdmVycmlkZTFcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wid29yZFdyYXBPdmVycmlkZTJcIl0gPSAxMzVdID0gXCJ3b3JkV3JhcE92ZXJyaWRlMlwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3cmFwcGluZ0luZGVudFwiXSA9IDEzNl0gPSBcIndyYXBwaW5nSW5kZW50XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcIndyYXBwaW5nU3RyYXRlZ3lcIl0gPSAxMzddID0gXCJ3cmFwcGluZ1N0cmF0ZWd5XCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInNob3dEZXByZWNhdGVkXCJdID0gMTM4XSA9IFwic2hvd0RlcHJlY2F0ZWRcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiaW5sYXlIaW50c1wiXSA9IDEzOV0gPSBcImlubGF5SGludHNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZWRpdG9yQ2xhc3NOYW1lXCJdID0gMTQwXSA9IFwiZWRpdG9yQ2xhc3NOYW1lXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInBpeGVsUmF0aW9cIl0gPSAxNDFdID0gXCJwaXhlbFJhdGlvXCI7XG4gICAgRWRpdG9yT3B0aW9uW0VkaXRvck9wdGlvbltcInRhYkZvY3VzTW9kZVwiXSA9IDE0Ml0gPSBcInRhYkZvY3VzTW9kZVwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJsYXlvdXRJbmZvXCJdID0gMTQzXSA9IFwibGF5b3V0SW5mb1wiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJ3cmFwcGluZ0luZm9cIl0gPSAxNDRdID0gXCJ3cmFwcGluZ0luZm9cIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiZGVmYXVsdENvbG9yRGVjb3JhdG9yc1wiXSA9IDE0NV0gPSBcImRlZmF1bHRDb2xvckRlY29yYXRvcnNcIjtcbiAgICBFZGl0b3JPcHRpb25bRWRpdG9yT3B0aW9uW1wiY29sb3JEZWNvcmF0b3JzQWN0aXZhdGVkT25cIl0gPSAxNDZdID0gXCJjb2xvckRlY29yYXRvcnNBY3RpdmF0ZWRPblwiO1xuICAgIEVkaXRvck9wdGlvbltFZGl0b3JPcHRpb25bXCJpbmxpbmVDb21wbGV0aW9uc0FjY2Vzc2liaWxpdHlWZXJib3NlXCJdID0gMTQ3XSA9IFwiaW5saW5lQ29tcGxldGlvbnNBY2Nlc3NpYmlsaXR5VmVyYm9zZVwiO1xufSkoRWRpdG9yT3B0aW9uIHx8IChFZGl0b3JPcHRpb24gPSB7fSkpO1xuLyoqXG4gKiBFbmQgb2YgbGluZSBjaGFyYWN0ZXIgcHJlZmVyZW5jZS5cbiAqL1xuZXhwb3J0IHZhciBFbmRPZkxpbmVQcmVmZXJlbmNlO1xuKGZ1bmN0aW9uIChFbmRPZkxpbmVQcmVmZXJlbmNlKSB7XG4gICAgLyoqXG4gICAgICogVXNlIHRoZSBlbmQgb2YgbGluZSBjaGFyYWN0ZXIgaWRlbnRpZmllZCBpbiB0aGUgdGV4dCBidWZmZXIuXG4gICAgICovXG4gICAgRW5kT2ZMaW5lUHJlZmVyZW5jZVtFbmRPZkxpbmVQcmVmZXJlbmNlW1wiVGV4dERlZmluZWRcIl0gPSAwXSA9IFwiVGV4dERlZmluZWRcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgbGluZSBmZWVkIChcXG4pIGFzIHRoZSBlbmQgb2YgbGluZSBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgRW5kT2ZMaW5lUHJlZmVyZW5jZVtFbmRPZkxpbmVQcmVmZXJlbmNlW1wiTEZcIl0gPSAxXSA9IFwiTEZcIjtcbiAgICAvKipcbiAgICAgKiBVc2UgY2FycmlhZ2UgcmV0dXJuIGFuZCBsaW5lIGZlZWQgKFxcclxcbikgYXMgdGhlIGVuZCBvZiBsaW5lIGNoYXJhY3Rlci5cbiAgICAgKi9cbiAgICBFbmRPZkxpbmVQcmVmZXJlbmNlW0VuZE9mTGluZVByZWZlcmVuY2VbXCJDUkxGXCJdID0gMl0gPSBcIkNSTEZcIjtcbn0pKEVuZE9mTGluZVByZWZlcmVuY2UgfHwgKEVuZE9mTGluZVByZWZlcmVuY2UgPSB7fSkpO1xuLyoqXG4gKiBFbmQgb2YgbGluZSBjaGFyYWN0ZXIgcHJlZmVyZW5jZS5cbiAqL1xuZXhwb3J0IHZhciBFbmRPZkxpbmVTZXF1ZW5jZTtcbihmdW5jdGlvbiAoRW5kT2ZMaW5lU2VxdWVuY2UpIHtcbiAgICAvKipcbiAgICAgKiBVc2UgbGluZSBmZWVkIChcXG4pIGFzIHRoZSBlbmQgb2YgbGluZSBjaGFyYWN0ZXIuXG4gICAgICovXG4gICAgRW5kT2ZMaW5lU2VxdWVuY2VbRW5kT2ZMaW5lU2VxdWVuY2VbXCJMRlwiXSA9IDBdID0gXCJMRlwiO1xuICAgIC8qKlxuICAgICAqIFVzZSBjYXJyaWFnZSByZXR1cm4gYW5kIGxpbmUgZmVlZCAoXFxyXFxuKSBhcyB0aGUgZW5kIG9mIGxpbmUgY2hhcmFjdGVyLlxuICAgICAqL1xuICAgIEVuZE9mTGluZVNlcXVlbmNlW0VuZE9mTGluZVNlcXVlbmNlW1wiQ1JMRlwiXSA9IDFdID0gXCJDUkxGXCI7XG59KShFbmRPZkxpbmVTZXF1ZW5jZSB8fCAoRW5kT2ZMaW5lU2VxdWVuY2UgPSB7fSkpO1xuLyoqXG4gKiBWZXJ0aWNhbCBMYW5lIGluIHRoZSBnbHlwaCBtYXJnaW4gb2YgdGhlIGVkaXRvci5cbiAqL1xuZXhwb3J0IHZhciBHbHlwaE1hcmdpbkxhbmU7XG4oZnVuY3Rpb24gKEdseXBoTWFyZ2luTGFuZSkge1xuICAgIEdseXBoTWFyZ2luTGFuZVtHbHlwaE1hcmdpbkxhbmVbXCJMZWZ0XCJdID0gMV0gPSBcIkxlZnRcIjtcbiAgICBHbHlwaE1hcmdpbkxhbmVbR2x5cGhNYXJnaW5MYW5lW1wiUmlnaHRcIl0gPSAyXSA9IFwiUmlnaHRcIjtcbn0pKEdseXBoTWFyZ2luTGFuZSB8fCAoR2x5cGhNYXJnaW5MYW5lID0ge30pKTtcbi8qKlxuICogRGVzY3JpYmVzIHdoYXQgdG8gZG8gd2l0aCB0aGUgaW5kZW50YXRpb24gd2hlbiBwcmVzc2luZyBFbnRlci5cbiAqL1xuZXhwb3J0IHZhciBJbmRlbnRBY3Rpb247XG4oZnVuY3Rpb24gKEluZGVudEFjdGlvbikge1xuICAgIC8qKlxuICAgICAqIEluc2VydCBuZXcgbGluZSBhbmQgY29weSB0aGUgcHJldmlvdXMgbGluZSdzIGluZGVudGF0aW9uLlxuICAgICAqL1xuICAgIEluZGVudEFjdGlvbltJbmRlbnRBY3Rpb25bXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgbmV3IGxpbmUgYW5kIGluZGVudCBvbmNlIChyZWxhdGl2ZSB0byB0aGUgcHJldmlvdXMgbGluZSdzIGluZGVudGF0aW9uKS5cbiAgICAgKi9cbiAgICBJbmRlbnRBY3Rpb25bSW5kZW50QWN0aW9uW1wiSW5kZW50XCJdID0gMV0gPSBcIkluZGVudFwiO1xuICAgIC8qKlxuICAgICAqIEluc2VydCB0d28gbmV3IGxpbmVzOlxuICAgICAqICAtIHRoZSBmaXJzdCBvbmUgaW5kZW50ZWQgd2hpY2ggd2lsbCBob2xkIHRoZSBjdXJzb3JcbiAgICAgKiAgLSB0aGUgc2Vjb25kIG9uZSBhdCB0aGUgc2FtZSBpbmRlbnRhdGlvbiBsZXZlbFxuICAgICAqL1xuICAgIEluZGVudEFjdGlvbltJbmRlbnRBY3Rpb25bXCJJbmRlbnRPdXRkZW50XCJdID0gMl0gPSBcIkluZGVudE91dGRlbnRcIjtcbiAgICAvKipcbiAgICAgKiBJbnNlcnQgbmV3IGxpbmUgYW5kIG91dGRlbnQgb25jZSAocmVsYXRpdmUgdG8gdGhlIHByZXZpb3VzIGxpbmUncyBpbmRlbnRhdGlvbikuXG4gICAgICovXG4gICAgSW5kZW50QWN0aW9uW0luZGVudEFjdGlvbltcIk91dGRlbnRcIl0gPSAzXSA9IFwiT3V0ZGVudFwiO1xufSkoSW5kZW50QWN0aW9uIHx8IChJbmRlbnRBY3Rpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBJbmplY3RlZFRleHRDdXJzb3JTdG9wcztcbihmdW5jdGlvbiAoSW5qZWN0ZWRUZXh0Q3Vyc29yU3RvcHMpIHtcbiAgICBJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tcIkJvdGhcIl0gPSAwXSA9IFwiQm90aFwiO1xuICAgIEluamVjdGVkVGV4dEN1cnNvclN0b3BzW0luamVjdGVkVGV4dEN1cnNvclN0b3BzW1wiUmlnaHRcIl0gPSAxXSA9IFwiUmlnaHRcIjtcbiAgICBJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tcIkxlZnRcIl0gPSAyXSA9IFwiTGVmdFwiO1xuICAgIEluamVjdGVkVGV4dEN1cnNvclN0b3BzW0luamVjdGVkVGV4dEN1cnNvclN0b3BzW1wiTm9uZVwiXSA9IDNdID0gXCJOb25lXCI7XG59KShJbmplY3RlZFRleHRDdXJzb3JTdG9wcyB8fCAoSW5qZWN0ZWRUZXh0Q3Vyc29yU3RvcHMgPSB7fSkpO1xuZXhwb3J0IHZhciBJbmxheUhpbnRLaW5kO1xuKGZ1bmN0aW9uIChJbmxheUhpbnRLaW5kKSB7XG4gICAgSW5sYXlIaW50S2luZFtJbmxheUhpbnRLaW5kW1wiVHlwZVwiXSA9IDFdID0gXCJUeXBlXCI7XG4gICAgSW5sYXlIaW50S2luZFtJbmxheUhpbnRLaW5kW1wiUGFyYW1ldGVyXCJdID0gMl0gPSBcIlBhcmFtZXRlclwiO1xufSkoSW5sYXlIaW50S2luZCB8fCAoSW5sYXlIaW50S2luZCA9IHt9KSk7XG4vKipcbiAqIEhvdyBhbiB7QGxpbmsgSW5saW5lQ29tcGxldGlvbnNQcm92aWRlciBpbmxpbmUgY29tcGxldGlvbiBwcm92aWRlcn0gd2FzIHRyaWdnZXJlZC5cbiAqL1xuZXhwb3J0IHZhciBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmQ7XG4oZnVuY3Rpb24gKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCkge1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRpb24gd2FzIHRyaWdnZXJlZCBhdXRvbWF0aWNhbGx5IHdoaWxlIGVkaXRpbmcuXG4gICAgICogSXQgaXMgc3VmZmljaWVudCB0byByZXR1cm4gYSBzaW5nbGUgY29tcGxldGlvbiBpdGVtIGluIHRoaXMgY2FzZS5cbiAgICAgKi9cbiAgICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmRbSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiQXV0b21hdGljXCJdID0gMF0gPSBcIkF1dG9tYXRpY1wiO1xuICAgIC8qKlxuICAgICAqIENvbXBsZXRpb24gd2FzIHRyaWdnZXJlZCBleHBsaWNpdGx5IGJ5IGEgdXNlciBnZXN0dXJlLlxuICAgICAqIFJldHVybiBtdWx0aXBsZSBjb21wbGV0aW9uIGl0ZW1zIHRvIGVuYWJsZSBjeWNsaW5nIHRocm91Z2ggdGhlbS5cbiAgICAgKi9cbiAgICBJbmxpbmVDb21wbGV0aW9uVHJpZ2dlcktpbmRbSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kW1wiRXhwbGljaXRcIl0gPSAxXSA9IFwiRXhwbGljaXRcIjtcbn0pKElubGluZUNvbXBsZXRpb25UcmlnZ2VyS2luZCB8fCAoSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kID0ge30pKTtcbi8qKlxuICogVmlydHVhbCBLZXkgQ29kZXMsIHRoZSB2YWx1ZSBkb2VzIG5vdCBob2xkIGFueSBpbmhlcmVudCBtZWFuaW5nLlxuICogSW5zcGlyZWQgc29tZXdoYXQgZnJvbSBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L3dpbmRvd3MvZGVza3RvcC9kZDM3NTczMSh2PXZzLjg1KS5hc3B4XG4gKiBCdXQgdGhlc2UgYXJlIFwibW9yZSBnZW5lcmFsXCIsIGFzIHRoZXkgc2hvdWxkIHdvcmsgYWNyb3NzIGJyb3dzZXJzICYgT1Ngcy5cbiAqL1xuZXhwb3J0IHZhciBLZXlDb2RlO1xuKGZ1bmN0aW9uIChLZXlDb2RlKSB7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGVwZW5kc09uS2JMYXlvdXRcIl0gPSAtMV0gPSBcIkRlcGVuZHNPbktiTGF5b3V0XCI7XG4gICAgLyoqXG4gICAgICogUGxhY2VkIGZpcnN0IHRvIGNvdmVyIHRoZSAwIHZhbHVlIG9mIHRoZSBlbnVtLlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlVua25vd25cIl0gPSAwXSA9IFwiVW5rbm93blwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJhY2tzcGFjZVwiXSA9IDFdID0gXCJCYWNrc3BhY2VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJUYWJcIl0gPSAyXSA9IFwiVGFiXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRW50ZXJcIl0gPSAzXSA9IFwiRW50ZXJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTaGlmdFwiXSA9IDRdID0gXCJTaGlmdFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkN0cmxcIl0gPSA1XSA9IFwiQ3RybFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFsdFwiXSA9IDZdID0gXCJBbHRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYXVzZUJyZWFrXCJdID0gN10gPSBcIlBhdXNlQnJlYWtcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDYXBzTG9ja1wiXSA9IDhdID0gXCJDYXBzTG9ja1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVzY2FwZVwiXSA9IDldID0gXCJFc2NhcGVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTcGFjZVwiXSA9IDEwXSA9IFwiU3BhY2VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJQYWdlVXBcIl0gPSAxMV0gPSBcIlBhZ2VVcFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlBhZ2VEb3duXCJdID0gMTJdID0gXCJQYWdlRG93blwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkVuZFwiXSA9IDEzXSA9IFwiRW5kXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiSG9tZVwiXSA9IDE0XSA9IFwiSG9tZVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkxlZnRBcnJvd1wiXSA9IDE1XSA9IFwiTGVmdEFycm93XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiVXBBcnJvd1wiXSA9IDE2XSA9IFwiVXBBcnJvd1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlJpZ2h0QXJyb3dcIl0gPSAxN10gPSBcIlJpZ2h0QXJyb3dcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEb3duQXJyb3dcIl0gPSAxOF0gPSBcIkRvd25BcnJvd1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkluc2VydFwiXSA9IDE5XSA9IFwiSW5zZXJ0XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGVsZXRlXCJdID0gMjBdID0gXCJEZWxldGVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEaWdpdDBcIl0gPSAyMV0gPSBcIkRpZ2l0MFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRpZ2l0MVwiXSA9IDIyXSA9IFwiRGlnaXQxXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGlnaXQyXCJdID0gMjNdID0gXCJEaWdpdDJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEaWdpdDNcIl0gPSAyNF0gPSBcIkRpZ2l0M1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRpZ2l0NFwiXSA9IDI1XSA9IFwiRGlnaXQ0XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGlnaXQ1XCJdID0gMjZdID0gXCJEaWdpdDVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEaWdpdDZcIl0gPSAyN10gPSBcIkRpZ2l0NlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkRpZ2l0N1wiXSA9IDI4XSA9IFwiRGlnaXQ3XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRGlnaXQ4XCJdID0gMjldID0gXCJEaWdpdDhcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJEaWdpdDlcIl0gPSAzMF0gPSBcIkRpZ2l0OVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleUFcIl0gPSAzMV0gPSBcIktleUFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlCXCJdID0gMzJdID0gXCJLZXlCXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5Q1wiXSA9IDMzXSA9IFwiS2V5Q1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleURcIl0gPSAzNF0gPSBcIktleURcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlFXCJdID0gMzVdID0gXCJLZXlFXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5RlwiXSA9IDM2XSA9IFwiS2V5RlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleUdcIl0gPSAzN10gPSBcIktleUdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlIXCJdID0gMzhdID0gXCJLZXlIXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5SVwiXSA9IDM5XSA9IFwiS2V5SVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleUpcIl0gPSA0MF0gPSBcIktleUpcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlLXCJdID0gNDFdID0gXCJLZXlLXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5TFwiXSA9IDQyXSA9IFwiS2V5TFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleU1cIl0gPSA0M10gPSBcIktleU1cIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlOXCJdID0gNDRdID0gXCJLZXlOXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5T1wiXSA9IDQ1XSA9IFwiS2V5T1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleVBcIl0gPSA0Nl0gPSBcIktleVBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlRXCJdID0gNDddID0gXCJLZXlRXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5UlwiXSA9IDQ4XSA9IFwiS2V5UlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleVNcIl0gPSA0OV0gPSBcIktleVNcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlUXCJdID0gNTBdID0gXCJLZXlUXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5VVwiXSA9IDUxXSA9IFwiS2V5VVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleVZcIl0gPSA1Ml0gPSBcIktleVZcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlXXCJdID0gNTNdID0gXCJLZXlXXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiS2V5WFwiXSA9IDU0XSA9IFwiS2V5WFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktleVlcIl0gPSA1NV0gPSBcIktleVlcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJLZXlaXCJdID0gNTZdID0gXCJLZXlaXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTWV0YVwiXSA9IDU3XSA9IFwiTWV0YVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkNvbnRleHRNZW51XCJdID0gNThdID0gXCJDb250ZXh0TWVudVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxXCJdID0gNTldID0gXCJGMVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYyXCJdID0gNjBdID0gXCJGMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYzXCJdID0gNjFdID0gXCJGM1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY0XCJdID0gNjJdID0gXCJGNFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY1XCJdID0gNjNdID0gXCJGNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY2XCJdID0gNjRdID0gXCJGNlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY3XCJdID0gNjVdID0gXCJGN1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY4XCJdID0gNjZdID0gXCJGOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkY5XCJdID0gNjddID0gXCJGOVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxMFwiXSA9IDY4XSA9IFwiRjEwXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjExXCJdID0gNjldID0gXCJGMTFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTJcIl0gPSA3MF0gPSBcIkYxMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxM1wiXSA9IDcxXSA9IFwiRjEzXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE0XCJdID0gNzJdID0gXCJGMTRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMTVcIl0gPSA3M10gPSBcIkYxNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxNlwiXSA9IDc0XSA9IFwiRjE2XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjE3XCJdID0gNzVdID0gXCJGMTdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMThcIl0gPSA3Nl0gPSBcIkYxOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYxOVwiXSA9IDc3XSA9IFwiRjE5XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjIwXCJdID0gNzhdID0gXCJGMjBcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMjFcIl0gPSA3OV0gPSBcIkYyMVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkYyMlwiXSA9IDgwXSA9IFwiRjIyXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRjIzXCJdID0gODFdID0gXCJGMjNcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJGMjRcIl0gPSA4Ml0gPSBcIkYyNFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bUxvY2tcIl0gPSA4M10gPSBcIk51bUxvY2tcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTY3JvbGxMb2NrXCJdID0gODRdID0gXCJTY3JvbGxMb2NrXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJzs6JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJTZW1pY29sb25cIl0gPSA4NV0gPSBcIlNlbWljb2xvblwiO1xuICAgIC8qKlxuICAgICAqIEZvciBhbnkgY291bnRyeS9yZWdpb24sIHRoZSAnKycga2V5XG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICc9Kycga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiRXF1YWxcIl0gPSA4Nl0gPSBcIkVxdWFsXCI7XG4gICAgLyoqXG4gICAgICogRm9yIGFueSBjb3VudHJ5L3JlZ2lvbiwgdGhlICcsJyBrZXlcbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJyw8JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDb21tYVwiXSA9IDg3XSA9IFwiQ29tbWFcIjtcbiAgICAvKipcbiAgICAgKiBGb3IgYW55IGNvdW50cnkvcmVnaW9uLCB0aGUgJy0nIGtleVxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLV8nIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1pbnVzXCJdID0gODhdID0gXCJNaW51c1wiO1xuICAgIC8qKlxuICAgICAqIEZvciBhbnkgY291bnRyeS9yZWdpb24sIHRoZSAnLicga2V5XG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICcuPicga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiUGVyaW9kXCJdID0gODldID0gXCJQZXJpb2RcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnLz8nIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlNsYXNoXCJdID0gOTBdID0gXCJTbGFzaFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdgficga2V5XG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQmFja3F1b3RlXCJdID0gOTFdID0gXCJCYWNrcXVvdGVcIjtcbiAgICAvKipcbiAgICAgKiBVc2VkIGZvciBtaXNjZWxsYW5lb3VzIGNoYXJhY3RlcnM7IGl0IGNhbiB2YXJ5IGJ5IGtleWJvYXJkLlxuICAgICAqIEZvciB0aGUgVVMgc3RhbmRhcmQga2V5Ym9hcmQsIHRoZSAnW3snIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJyYWNrZXRMZWZ0XCJdID0gOTJdID0gXCJCcmFja2V0TGVmdFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICdcXHwnIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJhY2tzbGFzaFwiXSA9IDkzXSA9IFwiQmFja3NsYXNoXCI7XG4gICAgLyoqXG4gICAgICogVXNlZCBmb3IgbWlzY2VsbGFuZW91cyBjaGFyYWN0ZXJzOyBpdCBjYW4gdmFyeSBieSBrZXlib2FyZC5cbiAgICAgKiBGb3IgdGhlIFVTIHN0YW5kYXJkIGtleWJvYXJkLCB0aGUgJ119JyBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJCcmFja2V0UmlnaHRcIl0gPSA5NF0gPSBcIkJyYWNrZXRSaWdodFwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICogRm9yIHRoZSBVUyBzdGFuZGFyZCBrZXlib2FyZCwgdGhlICcnXCInIGtleVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIlF1b3RlXCJdID0gOTVdID0gXCJRdW90ZVwiO1xuICAgIC8qKlxuICAgICAqIFVzZWQgZm9yIG1pc2NlbGxhbmVvdXMgY2hhcmFjdGVyczsgaXQgY2FuIHZhcnkgYnkga2V5Ym9hcmQuXG4gICAgICovXG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiT0VNXzhcIl0gPSA5Nl0gPSBcIk9FTV84XCI7XG4gICAgLyoqXG4gICAgICogRWl0aGVyIHRoZSBhbmdsZSBicmFja2V0IGtleSBvciB0aGUgYmFja3NsYXNoIGtleSBvbiB0aGUgUlQgMTAyLWtleSBrZXlib2FyZC5cbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJJbnRsQmFja3NsYXNoXCJdID0gOTddID0gXCJJbnRsQmFja3NsYXNoXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkMFwiXSA9IDk4XSA9IFwiTnVtcGFkMFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDFcIl0gPSA5OV0gPSBcIk51bXBhZDFcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQyXCJdID0gMTAwXSA9IFwiTnVtcGFkMlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDNcIl0gPSAxMDFdID0gXCJOdW1wYWQzXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkNFwiXSA9IDEwMl0gPSBcIk51bXBhZDRcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ1XCJdID0gMTAzXSA9IFwiTnVtcGFkNVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDZcIl0gPSAxMDRdID0gXCJOdW1wYWQ2XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkN1wiXSA9IDEwNV0gPSBcIk51bXBhZDdcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJOdW1wYWQ4XCJdID0gMTA2XSA9IFwiTnVtcGFkOFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZDlcIl0gPSAxMDddID0gXCJOdW1wYWQ5XCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkTXVsdGlwbHlcIl0gPSAxMDhdID0gXCJOdW1wYWRNdWx0aXBseVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZEFkZFwiXSA9IDEwOV0gPSBcIk51bXBhZEFkZFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk5VTVBBRF9TRVBBUkFUT1JcIl0gPSAxMTBdID0gXCJOVU1QQURfU0VQQVJBVE9SXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkU3VidHJhY3RcIl0gPSAxMTFdID0gXCJOdW1wYWRTdWJ0cmFjdFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk51bXBhZERlY2ltYWxcIl0gPSAxMTJdID0gXCJOdW1wYWREZWNpbWFsXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTnVtcGFkRGl2aWRlXCJdID0gMTEzXSA9IFwiTnVtcGFkRGl2aWRlXCI7XG4gICAgLyoqXG4gICAgICogQ292ZXIgYWxsIGtleSBjb2RlcyB3aGVuIElNRSBpcyBwcm9jZXNzaW5nIGlucHV0LlxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIktFWV9JTl9DT01QT1NJVElPTlwiXSA9IDExNF0gPSBcIktFWV9JTl9DT01QT1NJVElPTlwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkFCTlRfQzFcIl0gPSAxMTVdID0gXCJBQk5UX0MxXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQUJOVF9DMlwiXSA9IDExNl0gPSBcIkFCTlRfQzJcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBdWRpb1ZvbHVtZU11dGVcIl0gPSAxMTddID0gXCJBdWRpb1ZvbHVtZU11dGVcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJBdWRpb1ZvbHVtZVVwXCJdID0gMTE4XSA9IFwiQXVkaW9Wb2x1bWVVcFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkF1ZGlvVm9sdW1lRG93blwiXSA9IDExOV0gPSBcIkF1ZGlvVm9sdW1lRG93blwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJyb3dzZXJTZWFyY2hcIl0gPSAxMjBdID0gXCJCcm93c2VyU2VhcmNoXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiQnJvd3NlckhvbWVcIl0gPSAxMjFdID0gXCJCcm93c2VySG9tZVwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIkJyb3dzZXJCYWNrXCJdID0gMTIyXSA9IFwiQnJvd3NlckJhY2tcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJCcm93c2VyRm9yd2FyZFwiXSA9IDEyM10gPSBcIkJyb3dzZXJGb3J3YXJkXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTWVkaWFUcmFja05leHRcIl0gPSAxMjRdID0gXCJNZWRpYVRyYWNrTmV4dFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1lZGlhVHJhY2tQcmV2aW91c1wiXSA9IDEyNV0gPSBcIk1lZGlhVHJhY2tQcmV2aW91c1wiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1lZGlhU3RvcFwiXSA9IDEyNl0gPSBcIk1lZGlhU3RvcFwiO1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1lZGlhUGxheVBhdXNlXCJdID0gMTI3XSA9IFwiTWVkaWFQbGF5UGF1c2VcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMYXVuY2hNZWRpYVBsYXllclwiXSA9IDEyOF0gPSBcIkxhdW5jaE1lZGlhUGxheWVyXCI7XG4gICAgS2V5Q29kZVtLZXlDb2RlW1wiTGF1bmNoTWFpbFwiXSA9IDEyOV0gPSBcIkxhdW5jaE1haWxcIjtcbiAgICBLZXlDb2RlW0tleUNvZGVbXCJMYXVuY2hBcHAyXCJdID0gMTMwXSA9IFwiTGF1bmNoQXBwMlwiO1xuICAgIC8qKlxuICAgICAqIFZLX0NMRUFSLCAweDBDLCBDTEVBUiBrZXlcbiAgICAgKi9cbiAgICBLZXlDb2RlW0tleUNvZGVbXCJDbGVhclwiXSA9IDEzMV0gPSBcIkNsZWFyXCI7XG4gICAgLyoqXG4gICAgICogUGxhY2VkIGxhc3QgdG8gY292ZXIgdGhlIGxlbmd0aCBvZiB0aGUgZW51bS5cbiAgICAgKiBQbGVhc2UgZG8gbm90IGRlcGVuZCBvbiB0aGlzIHZhbHVlIVxuICAgICAqL1xuICAgIEtleUNvZGVbS2V5Q29kZVtcIk1BWF9WQUxVRVwiXSA9IDEzMl0gPSBcIk1BWF9WQUxVRVwiO1xufSkoS2V5Q29kZSB8fCAoS2V5Q29kZSA9IHt9KSk7XG5leHBvcnQgdmFyIE1hcmtlclNldmVyaXR5O1xuKGZ1bmN0aW9uIChNYXJrZXJTZXZlcml0eSkge1xuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiSGludFwiXSA9IDFdID0gXCJIaW50XCI7XG4gICAgTWFya2VyU2V2ZXJpdHlbTWFya2VyU2V2ZXJpdHlbXCJJbmZvXCJdID0gMl0gPSBcIkluZm9cIjtcbiAgICBNYXJrZXJTZXZlcml0eVtNYXJrZXJTZXZlcml0eVtcIldhcm5pbmdcIl0gPSA0XSA9IFwiV2FybmluZ1wiO1xuICAgIE1hcmtlclNldmVyaXR5W01hcmtlclNldmVyaXR5W1wiRXJyb3JcIl0gPSA4XSA9IFwiRXJyb3JcIjtcbn0pKE1hcmtlclNldmVyaXR5IHx8IChNYXJrZXJTZXZlcml0eSA9IHt9KSk7XG5leHBvcnQgdmFyIE1hcmtlclRhZztcbihmdW5jdGlvbiAoTWFya2VyVGFnKSB7XG4gICAgTWFya2VyVGFnW01hcmtlclRhZ1tcIlVubmVjZXNzYXJ5XCJdID0gMV0gPSBcIlVubmVjZXNzYXJ5XCI7XG4gICAgTWFya2VyVGFnW01hcmtlclRhZ1tcIkRlcHJlY2F0ZWRcIl0gPSAyXSA9IFwiRGVwcmVjYXRlZFwiO1xufSkoTWFya2VyVGFnIHx8IChNYXJrZXJUYWcgPSB7fSkpO1xuLyoqXG4gKiBQb3NpdGlvbiBpbiB0aGUgbWluaW1hcCB0byByZW5kZXIgdGhlIGRlY29yYXRpb24uXG4gKi9cbmV4cG9ydCB2YXIgTWluaW1hcFBvc2l0aW9uO1xuKGZ1bmN0aW9uIChNaW5pbWFwUG9zaXRpb24pIHtcbiAgICBNaW5pbWFwUG9zaXRpb25bTWluaW1hcFBvc2l0aW9uW1wiSW5saW5lXCJdID0gMV0gPSBcIklubGluZVwiO1xuICAgIE1pbmltYXBQb3NpdGlvbltNaW5pbWFwUG9zaXRpb25bXCJHdXR0ZXJcIl0gPSAyXSA9IFwiR3V0dGVyXCI7XG59KShNaW5pbWFwUG9zaXRpb24gfHwgKE1pbmltYXBQb3NpdGlvbiA9IHt9KSk7XG4vKipcbiAqIFR5cGUgb2YgaGl0IGVsZW1lbnQgd2l0aCB0aGUgbW91c2UgaW4gdGhlIGVkaXRvci5cbiAqL1xuZXhwb3J0IHZhciBNb3VzZVRhcmdldFR5cGU7XG4oZnVuY3Rpb24gKE1vdXNlVGFyZ2V0VHlwZSkge1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiBhbiB1bmtub3duIGVsZW1lbnQuXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIlVOS05PV05cIl0gPSAwXSA9IFwiVU5LTk9XTlwiO1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiB0aGUgdGV4dGFyZWEgdXNlZCBmb3IgaW5wdXQuXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIlRFWFRBUkVBXCJdID0gMV0gPSBcIlRFWFRBUkVBXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSBnbHlwaCBtYXJnaW5cbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiR1VUVEVSX0dMWVBIX01BUkdJTlwiXSA9IDJdID0gXCJHVVRURVJfR0xZUEhfTUFSR0lOXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSBsaW5lIG51bWJlcnNcbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiR1VUVEVSX0xJTkVfTlVNQkVSU1wiXSA9IDNdID0gXCJHVVRURVJfTElORV9OVU1CRVJTXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSBsaW5lIGRlY29yYXRpb25zXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIkdVVFRFUl9MSU5FX0RFQ09SQVRJT05TXCJdID0gNF0gPSBcIkdVVFRFUl9MSU5FX0RFQ09SQVRJT05TXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRoZSB3aGl0ZXNwYWNlIGxlZnQgaW4gdGhlIGd1dHRlciBieSBhIHZpZXcgem9uZS5cbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiR1VUVEVSX1ZJRVdfWk9ORVwiXSA9IDVdID0gXCJHVVRURVJfVklFV19aT05FXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIHRleHQgaW4gdGhlIGNvbnRlbnQuXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIkNPTlRFTlRfVEVYVFwiXSA9IDZdID0gXCJDT05URU5UX1RFWFRcIjtcbiAgICAvKipcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgZW1wdHkgc3BhY2UgaW4gdGhlIGNvbnRlbnQgKGUuZy4gYWZ0ZXIgbGluZSB0ZXh0IG9yIGJlbG93IGxhc3QgbGluZSlcbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiQ09OVEVOVF9FTVBUWVwiXSA9IDddID0gXCJDT05URU5UX0VNUFRZXCI7XG4gICAgLyoqXG4gICAgICogTW91c2UgaXMgb24gdG9wIG9mIGEgdmlldyB6b25lIGluIHRoZSBjb250ZW50LlxuICAgICAqL1xuICAgIE1vdXNlVGFyZ2V0VHlwZVtNb3VzZVRhcmdldFR5cGVbXCJDT05URU5UX1ZJRVdfWk9ORVwiXSA9IDhdID0gXCJDT05URU5UX1ZJRVdfWk9ORVwiO1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiBhIGNvbnRlbnQgd2lkZ2V0LlxuICAgICAqL1xuICAgIE1vdXNlVGFyZ2V0VHlwZVtNb3VzZVRhcmdldFR5cGVbXCJDT05URU5UX1dJREdFVFwiXSA9IDldID0gXCJDT05URU5UX1dJREdFVFwiO1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiB0aGUgZGVjb3JhdGlvbnMgb3ZlcnZpZXcgcnVsZXIuXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIk9WRVJWSUVXX1JVTEVSXCJdID0gMTBdID0gXCJPVkVSVklFV19SVUxFUlwiO1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG9uIHRvcCBvZiBhIHNjcm9sbGJhci5cbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiU0NST0xMQkFSXCJdID0gMTFdID0gXCJTQ1JPTExCQVJcIjtcbiAgICAvKipcbiAgICAgKiBNb3VzZSBpcyBvbiB0b3Agb2YgYW4gb3ZlcmxheSB3aWRnZXQuXG4gICAgICovXG4gICAgTW91c2VUYXJnZXRUeXBlW01vdXNlVGFyZ2V0VHlwZVtcIk9WRVJMQVlfV0lER0VUXCJdID0gMTJdID0gXCJPVkVSTEFZX1dJREdFVFwiO1xuICAgIC8qKlxuICAgICAqIE1vdXNlIGlzIG91dHNpZGUgb2YgdGhlIGVkaXRvci5cbiAgICAgKi9cbiAgICBNb3VzZVRhcmdldFR5cGVbTW91c2VUYXJnZXRUeXBlW1wiT1VUU0lERV9FRElUT1JcIl0gPSAxM10gPSBcIk9VVFNJREVfRURJVE9SXCI7XG59KShNb3VzZVRhcmdldFR5cGUgfHwgKE1vdXNlVGFyZ2V0VHlwZSA9IHt9KSk7XG4vKipcbiAqIEEgcG9zaXRpb25pbmcgcHJlZmVyZW5jZSBmb3IgcmVuZGVyaW5nIG92ZXJsYXkgd2lkZ2V0cy5cbiAqL1xuZXhwb3J0IHZhciBPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlO1xuKGZ1bmN0aW9uIChPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlKSB7XG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gdGhlIG92ZXJsYXkgd2lkZ2V0IGluIHRoZSB0b3AgcmlnaHQgY29ybmVyXG4gICAgICovXG4gICAgT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW1wiVE9QX1JJR0hUX0NPUk5FUlwiXSA9IDBdID0gXCJUT1BfUklHSFRfQ09STkVSXCI7XG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gdGhlIG92ZXJsYXkgd2lkZ2V0IGluIHRoZSBib3R0b20gcmlnaHQgY29ybmVyXG4gICAgICovXG4gICAgT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW1wiQk9UVE9NX1JJR0hUX0NPUk5FUlwiXSA9IDFdID0gXCJCT1RUT01fUklHSFRfQ09STkVSXCI7XG4gICAgLyoqXG4gICAgICogUG9zaXRpb24gdGhlIG92ZXJsYXkgd2lkZ2V0IGluIHRoZSB0b3AgY2VudGVyXG4gICAgICovXG4gICAgT3ZlcmxheVdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZVtPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlW1wiVE9QX0NFTlRFUlwiXSA9IDJdID0gXCJUT1BfQ0VOVEVSXCI7XG59KShPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlIHx8IChPdmVybGF5V2lkZ2V0UG9zaXRpb25QcmVmZXJlbmNlID0ge30pKTtcbi8qKlxuICogVmVydGljYWwgTGFuZSBpbiB0aGUgb3ZlcnZpZXcgcnVsZXIgb2YgdGhlIGVkaXRvci5cbiAqL1xuZXhwb3J0IHZhciBPdmVydmlld1J1bGVyTGFuZTtcbihmdW5jdGlvbiAoT3ZlcnZpZXdSdWxlckxhbmUpIHtcbiAgICBPdmVydmlld1J1bGVyTGFuZVtPdmVydmlld1J1bGVyTGFuZVtcIkxlZnRcIl0gPSAxXSA9IFwiTGVmdFwiO1xuICAgIE92ZXJ2aWV3UnVsZXJMYW5lW092ZXJ2aWV3UnVsZXJMYW5lW1wiQ2VudGVyXCJdID0gMl0gPSBcIkNlbnRlclwiO1xuICAgIE92ZXJ2aWV3UnVsZXJMYW5lW092ZXJ2aWV3UnVsZXJMYW5lW1wiUmlnaHRcIl0gPSA0XSA9IFwiUmlnaHRcIjtcbiAgICBPdmVydmlld1J1bGVyTGFuZVtPdmVydmlld1J1bGVyTGFuZVtcIkZ1bGxcIl0gPSA3XSA9IFwiRnVsbFwiO1xufSkoT3ZlcnZpZXdSdWxlckxhbmUgfHwgKE92ZXJ2aWV3UnVsZXJMYW5lID0ge30pKTtcbmV4cG9ydCB2YXIgUG9zaXRpb25BZmZpbml0eTtcbihmdW5jdGlvbiAoUG9zaXRpb25BZmZpbml0eSkge1xuICAgIC8qKlxuICAgICAqIFByZWZlcnMgdGhlIGxlZnQgbW9zdCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIFBvc2l0aW9uQWZmaW5pdHlbUG9zaXRpb25BZmZpbml0eVtcIkxlZnRcIl0gPSAwXSA9IFwiTGVmdFwiO1xuICAgIC8qKlxuICAgICAqIFByZWZlcnMgdGhlIHJpZ2h0IG1vc3QgcG9zaXRpb24uXG4gICAgKi9cbiAgICBQb3NpdGlvbkFmZmluaXR5W1Bvc2l0aW9uQWZmaW5pdHlbXCJSaWdodFwiXSA9IDFdID0gXCJSaWdodFwiO1xuICAgIC8qKlxuICAgICAqIE5vIHByZWZlcmVuY2UuXG4gICAgKi9cbiAgICBQb3NpdGlvbkFmZmluaXR5W1Bvc2l0aW9uQWZmaW5pdHlbXCJOb25lXCJdID0gMl0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZ2l2ZW4gcG9zaXRpb24gaXMgb24gaW5qZWN0ZWQgdGV4dCwgcHJlZmVycyB0aGUgcG9zaXRpb24gbGVmdCBvZiBpdC5cbiAgICAqL1xuICAgIFBvc2l0aW9uQWZmaW5pdHlbUG9zaXRpb25BZmZpbml0eVtcIkxlZnRPZkluamVjdGVkVGV4dFwiXSA9IDNdID0gXCJMZWZ0T2ZJbmplY3RlZFRleHRcIjtcbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZ2l2ZW4gcG9zaXRpb24gaXMgb24gaW5qZWN0ZWQgdGV4dCwgcHJlZmVycyB0aGUgcG9zaXRpb24gcmlnaHQgb2YgaXQuXG4gICAgKi9cbiAgICBQb3NpdGlvbkFmZmluaXR5W1Bvc2l0aW9uQWZmaW5pdHlbXCJSaWdodE9mSW5qZWN0ZWRUZXh0XCJdID0gNF0gPSBcIlJpZ2h0T2ZJbmplY3RlZFRleHRcIjtcbn0pKFBvc2l0aW9uQWZmaW5pdHkgfHwgKFBvc2l0aW9uQWZmaW5pdHkgPSB7fSkpO1xuZXhwb3J0IHZhciBSZW5kZXJMaW5lTnVtYmVyc1R5cGU7XG4oZnVuY3Rpb24gKFJlbmRlckxpbmVOdW1iZXJzVHlwZSkge1xuICAgIFJlbmRlckxpbmVOdW1iZXJzVHlwZVtSZW5kZXJMaW5lTnVtYmVyc1R5cGVbXCJPZmZcIl0gPSAwXSA9IFwiT2ZmXCI7XG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIk9uXCJdID0gMV0gPSBcIk9uXCI7XG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIlJlbGF0aXZlXCJdID0gMl0gPSBcIlJlbGF0aXZlXCI7XG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIkludGVydmFsXCJdID0gM10gPSBcIkludGVydmFsXCI7XG4gICAgUmVuZGVyTGluZU51bWJlcnNUeXBlW1JlbmRlckxpbmVOdW1iZXJzVHlwZVtcIkN1c3RvbVwiXSA9IDRdID0gXCJDdXN0b21cIjtcbn0pKFJlbmRlckxpbmVOdW1iZXJzVHlwZSB8fCAoUmVuZGVyTGluZU51bWJlcnNUeXBlID0ge30pKTtcbmV4cG9ydCB2YXIgUmVuZGVyTWluaW1hcDtcbihmdW5jdGlvbiAoUmVuZGVyTWluaW1hcCkge1xuICAgIFJlbmRlck1pbmltYXBbUmVuZGVyTWluaW1hcFtcIk5vbmVcIl0gPSAwXSA9IFwiTm9uZVwiO1xuICAgIFJlbmRlck1pbmltYXBbUmVuZGVyTWluaW1hcFtcIlRleHRcIl0gPSAxXSA9IFwiVGV4dFwiO1xuICAgIFJlbmRlck1pbmltYXBbUmVuZGVyTWluaW1hcFtcIkJsb2Nrc1wiXSA9IDJdID0gXCJCbG9ja3NcIjtcbn0pKFJlbmRlck1pbmltYXAgfHwgKFJlbmRlck1pbmltYXAgPSB7fSkpO1xuZXhwb3J0IHZhciBTY3JvbGxUeXBlO1xuKGZ1bmN0aW9uIChTY3JvbGxUeXBlKSB7XG4gICAgU2Nyb2xsVHlwZVtTY3JvbGxUeXBlW1wiU21vb3RoXCJdID0gMF0gPSBcIlNtb290aFwiO1xuICAgIFNjcm9sbFR5cGVbU2Nyb2xsVHlwZVtcIkltbWVkaWF0ZVwiXSA9IDFdID0gXCJJbW1lZGlhdGVcIjtcbn0pKFNjcm9sbFR5cGUgfHwgKFNjcm9sbFR5cGUgPSB7fSkpO1xuZXhwb3J0IHZhciBTY3JvbGxiYXJWaXNpYmlsaXR5O1xuKGZ1bmN0aW9uIChTY3JvbGxiYXJWaXNpYmlsaXR5KSB7XG4gICAgU2Nyb2xsYmFyVmlzaWJpbGl0eVtTY3JvbGxiYXJWaXNpYmlsaXR5W1wiQXV0b1wiXSA9IDFdID0gXCJBdXRvXCI7XG4gICAgU2Nyb2xsYmFyVmlzaWJpbGl0eVtTY3JvbGxiYXJWaXNpYmlsaXR5W1wiSGlkZGVuXCJdID0gMl0gPSBcIkhpZGRlblwiO1xuICAgIFNjcm9sbGJhclZpc2liaWxpdHlbU2Nyb2xsYmFyVmlzaWJpbGl0eVtcIlZpc2libGVcIl0gPSAzXSA9IFwiVmlzaWJsZVwiO1xufSkoU2Nyb2xsYmFyVmlzaWJpbGl0eSB8fCAoU2Nyb2xsYmFyVmlzaWJpbGl0eSA9IHt9KSk7XG4vKipcbiAqIFRoZSBkaXJlY3Rpb24gb2YgYSBzZWxlY3Rpb24uXG4gKi9cbmV4cG9ydCB2YXIgU2VsZWN0aW9uRGlyZWN0aW9uO1xuKGZ1bmN0aW9uIChTZWxlY3Rpb25EaXJlY3Rpb24pIHtcbiAgICAvKipcbiAgICAgKiBUaGUgc2VsZWN0aW9uIHN0YXJ0cyBhYm92ZSB3aGVyZSBpdCBlbmRzLlxuICAgICAqL1xuICAgIFNlbGVjdGlvbkRpcmVjdGlvbltTZWxlY3Rpb25EaXJlY3Rpb25bXCJMVFJcIl0gPSAwXSA9IFwiTFRSXCI7XG4gICAgLyoqXG4gICAgICogVGhlIHNlbGVjdGlvbiBzdGFydHMgYmVsb3cgd2hlcmUgaXQgZW5kcy5cbiAgICAgKi9cbiAgICBTZWxlY3Rpb25EaXJlY3Rpb25bU2VsZWN0aW9uRGlyZWN0aW9uW1wiUlRMXCJdID0gMV0gPSBcIlJUTFwiO1xufSkoU2VsZWN0aW9uRGlyZWN0aW9uIHx8IChTZWxlY3Rpb25EaXJlY3Rpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBTaG93QWlJY29uTW9kZTtcbihmdW5jdGlvbiAoU2hvd0FpSWNvbk1vZGUpIHtcbiAgICBTaG93QWlJY29uTW9kZVtcIk9mZlwiXSA9IFwib2ZmXCI7XG4gICAgU2hvd0FpSWNvbk1vZGVbXCJPbkNvZGVcIl0gPSBcIm9uQ29kZVwiO1xuICAgIFNob3dBaUljb25Nb2RlW1wiT25cIl0gPSBcIm9uXCI7XG59KShTaG93QWlJY29uTW9kZSB8fCAoU2hvd0FpSWNvbk1vZGUgPSB7fSkpO1xuZXhwb3J0IHZhciBTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmQ7XG4oZnVuY3Rpb24gKFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZCkge1xuICAgIFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmRbXCJJbnZva2VcIl0gPSAxXSA9IFwiSW52b2tlXCI7XG4gICAgU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kW1NpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtcIlRyaWdnZXJDaGFyYWN0ZXJcIl0gPSAyXSA9IFwiVHJpZ2dlckNoYXJhY3RlclwiO1xuICAgIFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZFtTaWduYXR1cmVIZWxwVHJpZ2dlcktpbmRbXCJDb250ZW50Q2hhbmdlXCJdID0gM10gPSBcIkNvbnRlbnRDaGFuZ2VcIjtcbn0pKFNpZ25hdHVyZUhlbHBUcmlnZ2VyS2luZCB8fCAoU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kID0ge30pKTtcbi8qKlxuICogQSBzeW1ib2wga2luZC5cbiAqL1xuZXhwb3J0IHZhciBTeW1ib2xLaW5kO1xuKGZ1bmN0aW9uIChTeW1ib2xLaW5kKSB7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiRmlsZVwiXSA9IDBdID0gXCJGaWxlXCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTW9kdWxlXCJdID0gMV0gPSBcIk1vZHVsZVwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIk5hbWVzcGFjZVwiXSA9IDJdID0gXCJOYW1lc3BhY2VcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJQYWNrYWdlXCJdID0gM10gPSBcIlBhY2thZ2VcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJDbGFzc1wiXSA9IDRdID0gXCJDbGFzc1wiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIk1ldGhvZFwiXSA9IDVdID0gXCJNZXRob2RcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJQcm9wZXJ0eVwiXSA9IDZdID0gXCJQcm9wZXJ0eVwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkZpZWxkXCJdID0gN10gPSBcIkZpZWxkXCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiQ29uc3RydWN0b3JcIl0gPSA4XSA9IFwiQ29uc3RydWN0b3JcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJFbnVtXCJdID0gOV0gPSBcIkVudW1cIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJJbnRlcmZhY2VcIl0gPSAxMF0gPSBcIkludGVyZmFjZVwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkZ1bmN0aW9uXCJdID0gMTFdID0gXCJGdW5jdGlvblwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIlZhcmlhYmxlXCJdID0gMTJdID0gXCJWYXJpYWJsZVwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIkNvbnN0YW50XCJdID0gMTNdID0gXCJDb25zdGFudFwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIlN0cmluZ1wiXSA9IDE0XSA9IFwiU3RyaW5nXCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiTnVtYmVyXCJdID0gMTVdID0gXCJOdW1iZXJcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJCb29sZWFuXCJdID0gMTZdID0gXCJCb29sZWFuXCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiQXJyYXlcIl0gPSAxN10gPSBcIkFycmF5XCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiT2JqZWN0XCJdID0gMThdID0gXCJPYmplY3RcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJLZXlcIl0gPSAxOV0gPSBcIktleVwiO1xuICAgIFN5bWJvbEtpbmRbU3ltYm9sS2luZFtcIk51bGxcIl0gPSAyMF0gPSBcIk51bGxcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJFbnVtTWVtYmVyXCJdID0gMjFdID0gXCJFbnVtTWVtYmVyXCI7XG4gICAgU3ltYm9sS2luZFtTeW1ib2xLaW5kW1wiU3RydWN0XCJdID0gMjJdID0gXCJTdHJ1Y3RcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJFdmVudFwiXSA9IDIzXSA9IFwiRXZlbnRcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJPcGVyYXRvclwiXSA9IDI0XSA9IFwiT3BlcmF0b3JcIjtcbiAgICBTeW1ib2xLaW5kW1N5bWJvbEtpbmRbXCJUeXBlUGFyYW1ldGVyXCJdID0gMjVdID0gXCJUeXBlUGFyYW1ldGVyXCI7XG59KShTeW1ib2xLaW5kIHx8IChTeW1ib2xLaW5kID0ge30pKTtcbmV4cG9ydCB2YXIgU3ltYm9sVGFnO1xuKGZ1bmN0aW9uIChTeW1ib2xUYWcpIHtcbiAgICBTeW1ib2xUYWdbU3ltYm9sVGFnW1wiRGVwcmVjYXRlZFwiXSA9IDFdID0gXCJEZXByZWNhdGVkXCI7XG59KShTeW1ib2xUYWcgfHwgKFN5bWJvbFRhZyA9IHt9KSk7XG4vKipcbiAqIFRoZSBraW5kIG9mIGFuaW1hdGlvbiBpbiB3aGljaCB0aGUgZWRpdG9yJ3MgY3Vyc29yIHNob3VsZCBiZSByZW5kZXJlZC5cbiAqL1xuZXhwb3J0IHZhciBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZTtcbihmdW5jdGlvbiAoVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGUpIHtcbiAgICAvKipcbiAgICAgKiBIaWRkZW5cbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtcIkhpZGRlblwiXSA9IDBdID0gXCJIaWRkZW5cIjtcbiAgICAvKipcbiAgICAgKiBCbGlua2luZ1xuICAgICAqL1xuICAgIFRleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1RleHRFZGl0b3JDdXJzb3JCbGlua2luZ1N0eWxlW1wiQmxpbmtcIl0gPSAxXSA9IFwiQmxpbmtcIjtcbiAgICAvKipcbiAgICAgKiBCbGlua2luZyB3aXRoIHNtb290aCBmYWRpbmdcbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtcIlNtb290aFwiXSA9IDJdID0gXCJTbW9vdGhcIjtcbiAgICAvKipcbiAgICAgKiBCbGlua2luZyB3aXRoIHByb2xvbmdlZCBmaWxsZWQgc3RhdGUgYW5kIHNtb290aCBmYWRpbmdcbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtcIlBoYXNlXCJdID0gM10gPSBcIlBoYXNlXCI7XG4gICAgLyoqXG4gICAgICogRXhwYW5kIGNvbGxhcHNlIGFuaW1hdGlvbiBvbiB0aGUgeSBheGlzXG4gICAgICovXG4gICAgVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGVbXCJFeHBhbmRcIl0gPSA0XSA9IFwiRXhwYW5kXCI7XG4gICAgLyoqXG4gICAgICogTm8tQmxpbmtpbmdcbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZVtcIlNvbGlkXCJdID0gNV0gPSBcIlNvbGlkXCI7XG59KShUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZSB8fCAoVGV4dEVkaXRvckN1cnNvckJsaW5raW5nU3R5bGUgPSB7fSkpO1xuLyoqXG4gKiBUaGUgc3R5bGUgaW4gd2hpY2ggdGhlIGVkaXRvcidzIGN1cnNvciBzaG91bGQgYmUgcmVuZGVyZWQuXG4gKi9cbmV4cG9ydCB2YXIgVGV4dEVkaXRvckN1cnNvclN0eWxlO1xuKGZ1bmN0aW9uIChUZXh0RWRpdG9yQ3Vyc29yU3R5bGUpIHtcbiAgICAvKipcbiAgICAgKiBBcyBhIHZlcnRpY2FsIGxpbmUgKHNpdHRpbmcgYmV0d2VlbiB0d28gY2hhcmFjdGVycykuXG4gICAgICovXG4gICAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVtcIkxpbmVcIl0gPSAxXSA9IFwiTGluZVwiO1xuICAgIC8qKlxuICAgICAqIEFzIGEgYmxvY2sgKHNpdHRpbmcgb24gdG9wIG9mIGEgY2hhcmFjdGVyKS5cbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlW1wiQmxvY2tcIl0gPSAyXSA9IFwiQmxvY2tcIjtcbiAgICAvKipcbiAgICAgKiBBcyBhIGhvcml6b250YWwgbGluZSAoc2l0dGluZyB1bmRlciBhIGNoYXJhY3RlcikuXG4gICAgICovXG4gICAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVtcIlVuZGVybGluZVwiXSA9IDNdID0gXCJVbmRlcmxpbmVcIjtcbiAgICAvKipcbiAgICAgKiBBcyBhIHRoaW4gdmVydGljYWwgbGluZSAoc2l0dGluZyBiZXR3ZWVuIHR3byBjaGFyYWN0ZXJzKS5cbiAgICAgKi9cbiAgICBUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbVGV4dEVkaXRvckN1cnNvclN0eWxlW1wiTGluZVRoaW5cIl0gPSA0XSA9IFwiTGluZVRoaW5cIjtcbiAgICAvKipcbiAgICAgKiBBcyBhbiBvdXRsaW5lZCBibG9jayAoc2l0dGluZyBvbiB0b3Agb2YgYSBjaGFyYWN0ZXIpLlxuICAgICAqL1xuICAgIFRleHRFZGl0b3JDdXJzb3JTdHlsZVtUZXh0RWRpdG9yQ3Vyc29yU3R5bGVbXCJCbG9ja091dGxpbmVcIl0gPSA1XSA9IFwiQmxvY2tPdXRsaW5lXCI7XG4gICAgLyoqXG4gICAgICogQXMgYSB0aGluIGhvcml6b250YWwgbGluZSAoc2l0dGluZyB1bmRlciBhIGNoYXJhY3RlcikuXG4gICAgICovXG4gICAgVGV4dEVkaXRvckN1cnNvclN0eWxlW1RleHRFZGl0b3JDdXJzb3JTdHlsZVtcIlVuZGVybGluZVRoaW5cIl0gPSA2XSA9IFwiVW5kZXJsaW5lVGhpblwiO1xufSkoVGV4dEVkaXRvckN1cnNvclN0eWxlIHx8IChUZXh0RWRpdG9yQ3Vyc29yU3R5bGUgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGJlaGF2aW9yIG9mIGRlY29yYXRpb25zIHdoZW4gdHlwaW5nL2VkaXRpbmcgbmVhciB0aGVpciBlZGdlcy5cbiAqIE5vdGU6IFBsZWFzZSBkbyBub3QgZWRpdCB0aGUgdmFsdWVzLCBhcyB0aGV5IHZlcnkgY2FyZWZ1bGx5IG1hdGNoIGBEZWNvcmF0aW9uUmFuZ2VCZWhhdmlvcmBcbiAqL1xuZXhwb3J0IHZhciBUcmFja2VkUmFuZ2VTdGlja2luZXNzO1xuKGZ1bmN0aW9uIChUcmFja2VkUmFuZ2VTdGlja2luZXNzKSB7XG4gICAgVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tUcmFja2VkUmFuZ2VTdGlja2luZXNzW1wiQWx3YXlzR3Jvd3NXaGVuVHlwaW5nQXRFZGdlc1wiXSA9IDBdID0gXCJBbHdheXNHcm93c1doZW5UeXBpbmdBdEVkZ2VzXCI7XG4gICAgVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tUcmFja2VkUmFuZ2VTdGlja2luZXNzW1wiTmV2ZXJHcm93c1doZW5UeXBpbmdBdEVkZ2VzXCJdID0gMV0gPSBcIk5ldmVyR3Jvd3NXaGVuVHlwaW5nQXRFZGdlc1wiO1xuICAgIFRyYWNrZWRSYW5nZVN0aWNraW5lc3NbVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tcIkdyb3dzT25seVdoZW5UeXBpbmdCZWZvcmVcIl0gPSAyXSA9IFwiR3Jvd3NPbmx5V2hlblR5cGluZ0JlZm9yZVwiO1xuICAgIFRyYWNrZWRSYW5nZVN0aWNraW5lc3NbVHJhY2tlZFJhbmdlU3RpY2tpbmVzc1tcIkdyb3dzT25seVdoZW5UeXBpbmdBZnRlclwiXSA9IDNdID0gXCJHcm93c09ubHlXaGVuVHlwaW5nQWZ0ZXJcIjtcbn0pKFRyYWNrZWRSYW5nZVN0aWNraW5lc3MgfHwgKFRyYWNrZWRSYW5nZVN0aWNraW5lc3MgPSB7fSkpO1xuLyoqXG4gKiBEZXNjcmliZXMgaG93IHRvIGluZGVudCB3cmFwcGVkIGxpbmVzLlxuICovXG5leHBvcnQgdmFyIFdyYXBwaW5nSW5kZW50O1xuKGZ1bmN0aW9uIChXcmFwcGluZ0luZGVudCkge1xuICAgIC8qKlxuICAgICAqIE5vIGluZGVudGF0aW9uID0+IHdyYXBwZWQgbGluZXMgYmVnaW4gYXQgY29sdW1uIDEuXG4gICAgICovXG4gICAgV3JhcHBpbmdJbmRlbnRbV3JhcHBpbmdJbmRlbnRbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgICAvKipcbiAgICAgKiBTYW1lID0+IHdyYXBwZWQgbGluZXMgZ2V0IHRoZSBzYW1lIGluZGVudGF0aW9uIGFzIHRoZSBwYXJlbnQuXG4gICAgICovXG4gICAgV3JhcHBpbmdJbmRlbnRbV3JhcHBpbmdJbmRlbnRbXCJTYW1lXCJdID0gMV0gPSBcIlNhbWVcIjtcbiAgICAvKipcbiAgICAgKiBJbmRlbnQgPT4gd3JhcHBlZCBsaW5lcyBnZXQgKzEgaW5kZW50YXRpb24gdG93YXJkIHRoZSBwYXJlbnQuXG4gICAgICovXG4gICAgV3JhcHBpbmdJbmRlbnRbV3JhcHBpbmdJbmRlbnRbXCJJbmRlbnRcIl0gPSAyXSA9IFwiSW5kZW50XCI7XG4gICAgLyoqXG4gICAgICogRGVlcEluZGVudCA9PiB3cmFwcGVkIGxpbmVzIGdldCArMiBpbmRlbnRhdGlvbiB0b3dhcmQgdGhlIHBhcmVudC5cbiAgICAgKi9cbiAgICBXcmFwcGluZ0luZGVudFtXcmFwcGluZ0luZGVudFtcIkRlZXBJbmRlbnRcIl0gPSAzXSA9IFwiRGVlcEluZGVudFwiO1xufSkoV3JhcHBpbmdJbmRlbnQgfHwgKFdyYXBwaW5nSW5kZW50ID0ge30pKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jYW5jZWxsYXRpb24uanMnO1xuaW1wb3J0IHsgRW1pdHRlciB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2V2ZW50LmpzJztcbmltcG9ydCB7IEtleUNob3JkIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24va2V5Q29kZXMuanMnO1xuaW1wb3J0IHsgVVJJIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgU2VsZWN0aW9uIH0gZnJvbSAnLi4vY29yZS9zZWxlY3Rpb24uanMnO1xuaW1wb3J0IHsgVG9rZW4gfSBmcm9tICcuLi9sYW5ndWFnZXMuanMnO1xuaW1wb3J0ICogYXMgc3RhbmRhbG9uZUVudW1zIGZyb20gJy4uL3N0YW5kYWxvbmUvc3RhbmRhbG9uZUVudW1zLmpzJztcbmV4cG9ydCBjbGFzcyBLZXlNb2Qge1xuICAgIHN0YXRpYyBjaG9yZChmaXJzdFBhcnQsIHNlY29uZFBhcnQpIHtcbiAgICAgICAgcmV0dXJuIEtleUNob3JkKGZpcnN0UGFydCwgc2Vjb25kUGFydCk7XG4gICAgfVxufVxuS2V5TW9kLkN0cmxDbWQgPSAyMDQ4IC8qIENvbnN0S2V5TW9kLkN0cmxDbWQgKi87XG5LZXlNb2QuU2hpZnQgPSAxMDI0IC8qIENvbnN0S2V5TW9kLlNoaWZ0ICovO1xuS2V5TW9kLkFsdCA9IDUxMiAvKiBDb25zdEtleU1vZC5BbHQgKi87XG5LZXlNb2QuV2luQ3RybCA9IDI1NiAvKiBDb25zdEtleU1vZC5XaW5DdHJsICovO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1vbmFjb0Jhc2VBUEkoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZWRpdG9yOiB1bmRlZmluZWQsIC8vIHVuZGVmaW5lZCBvdmVycmlkZSBleHBlY3RlZCBoZXJlXG4gICAgICAgIGxhbmd1YWdlczogdW5kZWZpbmVkLCAvLyB1bmRlZmluZWQgb3ZlcnJpZGUgZXhwZWN0ZWQgaGVyZVxuICAgICAgICBDYW5jZWxsYXRpb25Ub2tlblNvdXJjZTogQ2FuY2VsbGF0aW9uVG9rZW5Tb3VyY2UsXG4gICAgICAgIEVtaXR0ZXI6IEVtaXR0ZXIsXG4gICAgICAgIEtleUNvZGU6IHN0YW5kYWxvbmVFbnVtcy5LZXlDb2RlLFxuICAgICAgICBLZXlNb2Q6IEtleU1vZCxcbiAgICAgICAgUG9zaXRpb246IFBvc2l0aW9uLFxuICAgICAgICBSYW5nZTogUmFuZ2UsXG4gICAgICAgIFNlbGVjdGlvbjogU2VsZWN0aW9uLFxuICAgICAgICBTZWxlY3Rpb25EaXJlY3Rpb246IHN0YW5kYWxvbmVFbnVtcy5TZWxlY3Rpb25EaXJlY3Rpb24sXG4gICAgICAgIE1hcmtlclNldmVyaXR5OiBzdGFuZGFsb25lRW51bXMuTWFya2VyU2V2ZXJpdHksXG4gICAgICAgIE1hcmtlclRhZzogc3RhbmRhbG9uZUVudW1zLk1hcmtlclRhZyxcbiAgICAgICAgVXJpOiBVUkksXG4gICAgICAgIFRva2VuOiBUb2tlblxuICAgIH07XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGVxdWFscyB9IGZyb20gJy4uLy4uL2Jhc2UvY29tbW9uL29iamVjdHMuanMnO1xuLyoqXG4gKiBWZXJ0aWNhbCBMYW5lIGluIHRoZSBvdmVydmlldyBydWxlciBvZiB0aGUgZWRpdG9yLlxuICovXG5leHBvcnQgdmFyIE92ZXJ2aWV3UnVsZXJMYW5lO1xuKGZ1bmN0aW9uIChPdmVydmlld1J1bGVyTGFuZSkge1xuICAgIE92ZXJ2aWV3UnVsZXJMYW5lW092ZXJ2aWV3UnVsZXJMYW5lW1wiTGVmdFwiXSA9IDFdID0gXCJMZWZ0XCI7XG4gICAgT3ZlcnZpZXdSdWxlckxhbmVbT3ZlcnZpZXdSdWxlckxhbmVbXCJDZW50ZXJcIl0gPSAyXSA9IFwiQ2VudGVyXCI7XG4gICAgT3ZlcnZpZXdSdWxlckxhbmVbT3ZlcnZpZXdSdWxlckxhbmVbXCJSaWdodFwiXSA9IDRdID0gXCJSaWdodFwiO1xuICAgIE92ZXJ2aWV3UnVsZXJMYW5lW092ZXJ2aWV3UnVsZXJMYW5lW1wiRnVsbFwiXSA9IDddID0gXCJGdWxsXCI7XG59KShPdmVydmlld1J1bGVyTGFuZSB8fCAoT3ZlcnZpZXdSdWxlckxhbmUgPSB7fSkpO1xuLyoqXG4gKiBWZXJ0aWNhbCBMYW5lIGluIHRoZSBnbHlwaCBtYXJnaW4gb2YgdGhlIGVkaXRvci5cbiAqL1xuZXhwb3J0IHZhciBHbHlwaE1hcmdpbkxhbmU7XG4oZnVuY3Rpb24gKEdseXBoTWFyZ2luTGFuZSkge1xuICAgIEdseXBoTWFyZ2luTGFuZVtHbHlwaE1hcmdpbkxhbmVbXCJMZWZ0XCJdID0gMV0gPSBcIkxlZnRcIjtcbiAgICBHbHlwaE1hcmdpbkxhbmVbR2x5cGhNYXJnaW5MYW5lW1wiUmlnaHRcIl0gPSAyXSA9IFwiUmlnaHRcIjtcbn0pKEdseXBoTWFyZ2luTGFuZSB8fCAoR2x5cGhNYXJnaW5MYW5lID0ge30pKTtcbi8qKlxuICogUG9zaXRpb24gaW4gdGhlIG1pbmltYXAgdG8gcmVuZGVyIHRoZSBkZWNvcmF0aW9uLlxuICovXG5leHBvcnQgdmFyIE1pbmltYXBQb3NpdGlvbjtcbihmdW5jdGlvbiAoTWluaW1hcFBvc2l0aW9uKSB7XG4gICAgTWluaW1hcFBvc2l0aW9uW01pbmltYXBQb3NpdGlvbltcIklubGluZVwiXSA9IDFdID0gXCJJbmxpbmVcIjtcbiAgICBNaW5pbWFwUG9zaXRpb25bTWluaW1hcFBvc2l0aW9uW1wiR3V0dGVyXCJdID0gMl0gPSBcIkd1dHRlclwiO1xufSkoTWluaW1hcFBvc2l0aW9uIHx8IChNaW5pbWFwUG9zaXRpb24gPSB7fSkpO1xuZXhwb3J0IHZhciBJbmplY3RlZFRleHRDdXJzb3JTdG9wcztcbihmdW5jdGlvbiAoSW5qZWN0ZWRUZXh0Q3Vyc29yU3RvcHMpIHtcbiAgICBJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tcIkJvdGhcIl0gPSAwXSA9IFwiQm90aFwiO1xuICAgIEluamVjdGVkVGV4dEN1cnNvclN0b3BzW0luamVjdGVkVGV4dEN1cnNvclN0b3BzW1wiUmlnaHRcIl0gPSAxXSA9IFwiUmlnaHRcIjtcbiAgICBJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tJbmplY3RlZFRleHRDdXJzb3JTdG9wc1tcIkxlZnRcIl0gPSAyXSA9IFwiTGVmdFwiO1xuICAgIEluamVjdGVkVGV4dEN1cnNvclN0b3BzW0luamVjdGVkVGV4dEN1cnNvclN0b3BzW1wiTm9uZVwiXSA9IDNdID0gXCJOb25lXCI7XG59KShJbmplY3RlZFRleHRDdXJzb3JTdG9wcyB8fCAoSW5qZWN0ZWRUZXh0Q3Vyc29yU3RvcHMgPSB7fSkpO1xuZXhwb3J0IGNsYXNzIFRleHRNb2RlbFJlc29sdmVkT3B0aW9ucyB7XG4gICAgZ2V0IG9yaWdpbmFsSW5kZW50U2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZGVudFNpemVJc1RhYlNpemUgPyAndGFiU2l6ZScgOiB0aGlzLmluZGVudFNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNyYykge1xuICAgICAgICB0aGlzLl90ZXh0TW9kZWxSZXNvbHZlZE9wdGlvbnNCcmFuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy50YWJTaXplID0gTWF0aC5tYXgoMSwgc3JjLnRhYlNpemUgfCAwKTtcbiAgICAgICAgaWYgKHNyYy5pbmRlbnRTaXplID09PSAndGFiU2l6ZScpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZW50U2l6ZSA9IHRoaXMudGFiU2l6ZTtcbiAgICAgICAgICAgIHRoaXMuX2luZGVudFNpemVJc1RhYlNpemUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pbmRlbnRTaXplID0gTWF0aC5tYXgoMSwgc3JjLmluZGVudFNpemUgfCAwKTtcbiAgICAgICAgICAgIHRoaXMuX2luZGVudFNpemVJc1RhYlNpemUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmluc2VydFNwYWNlcyA9IEJvb2xlYW4oc3JjLmluc2VydFNwYWNlcyk7XG4gICAgICAgIHRoaXMuZGVmYXVsdEVPTCA9IHNyYy5kZWZhdWx0RU9MIHwgMDtcbiAgICAgICAgdGhpcy50cmltQXV0b1doaXRlc3BhY2UgPSBCb29sZWFuKHNyYy50cmltQXV0b1doaXRlc3BhY2UpO1xuICAgICAgICB0aGlzLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucyA9IHNyYy5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGVxdWFscyhvdGhlcikge1xuICAgICAgICByZXR1cm4gKHRoaXMudGFiU2l6ZSA9PT0gb3RoZXIudGFiU2l6ZVxuICAgICAgICAgICAgJiYgdGhpcy5faW5kZW50U2l6ZUlzVGFiU2l6ZSA9PT0gb3RoZXIuX2luZGVudFNpemVJc1RhYlNpemVcbiAgICAgICAgICAgICYmIHRoaXMuaW5kZW50U2l6ZSA9PT0gb3RoZXIuaW5kZW50U2l6ZVxuICAgICAgICAgICAgJiYgdGhpcy5pbnNlcnRTcGFjZXMgPT09IG90aGVyLmluc2VydFNwYWNlc1xuICAgICAgICAgICAgJiYgdGhpcy5kZWZhdWx0RU9MID09PSBvdGhlci5kZWZhdWx0RU9MXG4gICAgICAgICAgICAmJiB0aGlzLnRyaW1BdXRvV2hpdGVzcGFjZSA9PT0gb3RoZXIudHJpbUF1dG9XaGl0ZXNwYWNlXG4gICAgICAgICAgICAmJiBlcXVhbHModGhpcy5icmFja2V0UGFpckNvbG9yaXphdGlvbk9wdGlvbnMsIG90aGVyLmJyYWNrZXRQYWlyQ29sb3JpemF0aW9uT3B0aW9ucykpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjcmVhdGVDaGFuZ2VFdmVudChuZXdPcHRzKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YWJTaXplOiB0aGlzLnRhYlNpemUgIT09IG5ld09wdHMudGFiU2l6ZSxcbiAgICAgICAgICAgIGluZGVudFNpemU6IHRoaXMuaW5kZW50U2l6ZSAhPT0gbmV3T3B0cy5pbmRlbnRTaXplLFxuICAgICAgICAgICAgaW5zZXJ0U3BhY2VzOiB0aGlzLmluc2VydFNwYWNlcyAhPT0gbmV3T3B0cy5pbnNlcnRTcGFjZXMsXG4gICAgICAgICAgICB0cmltQXV0b1doaXRlc3BhY2U6IHRoaXMudHJpbUF1dG9XaGl0ZXNwYWNlICE9PSBuZXdPcHRzLnRyaW1BdXRvV2hpdGVzcGFjZSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgRmluZE1hdGNoIHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgbWF0Y2hlcykge1xuICAgICAgICB0aGlzLl9maW5kTWF0Y2hCcmFuZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0lUZXh0U25hcHNob3Qob2JqKSB7XG4gICAgcmV0dXJuIChvYmogJiYgdHlwZW9mIG9iai5yZWFkID09PSAnZnVuY3Rpb24nKTtcbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBWYWxpZEFubm90YXRlZEVkaXRPcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGlkZW50aWZpZXIsIHJhbmdlLCB0ZXh0LCBmb3JjZU1vdmVNYXJrZXJzLCBpc0F1dG9XaGl0ZXNwYWNlRWRpdCwgX2lzVHJhY2tlZCkge1xuICAgICAgICB0aGlzLmlkZW50aWZpZXIgPSBpZGVudGlmaWVyO1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMuZm9yY2VNb3ZlTWFya2VycyA9IGZvcmNlTW92ZU1hcmtlcnM7XG4gICAgICAgIHRoaXMuaXNBdXRvV2hpdGVzcGFjZUVkaXQgPSBpc0F1dG9XaGl0ZXNwYWNlRWRpdDtcbiAgICAgICAgdGhpcy5faXNUcmFja2VkID0gX2lzVHJhY2tlZDtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU2VhcmNoRGF0YSB7XG4gICAgY29uc3RydWN0b3IocmVnZXgsIHdvcmRTZXBhcmF0b3JzLCBzaW1wbGVTZWFyY2gpIHtcbiAgICAgICAgdGhpcy5yZWdleCA9IHJlZ2V4O1xuICAgICAgICB0aGlzLndvcmRTZXBhcmF0b3JzID0gd29yZFNlcGFyYXRvcnM7XG4gICAgICAgIHRoaXMuc2ltcGxlU2VhcmNoID0gc2ltcGxlU2VhcmNoO1xuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHBseUVkaXRzUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihyZXZlcnNlRWRpdHMsIGNoYW5nZXMsIHRyaW1BdXRvV2hpdGVzcGFjZUxpbmVOdW1iZXJzKSB7XG4gICAgICAgIHRoaXMucmV2ZXJzZUVkaXRzID0gcmV2ZXJzZUVkaXRzO1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgICB0aGlzLnRyaW1BdXRvV2hpdGVzcGFjZUxpbmVOdW1iZXJzID0gdHJpbUF1dG9XaGl0ZXNwYWNlTGluZU51bWJlcnM7XG4gICAgfVxufVxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFN5bmNocm9uaXplTW9kZWwobW9kZWwpIHtcbiAgICByZXR1cm4gKCFtb2RlbC5pc1Rvb0xhcmdlRm9yU3luY2luZygpICYmICFtb2RlbC5pc0ZvclNpbXBsZVdpZGdldCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCAqIGFzIHN0cmluZ3MgZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vc3RyaW5ncy5qcyc7XG5pbXBvcnQgeyBnZXRNYXBGb3JXb3JkU2VwYXJhdG9ycyB9IGZyb20gJy4uL2NvcmUvd29yZENoYXJhY3RlckNsYXNzaWZpZXIuanMnO1xuaW1wb3J0IHsgUG9zaXRpb24gfSBmcm9tICcuLi9jb3JlL3Bvc2l0aW9uLmpzJztcbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBGaW5kTWF0Y2gsIFNlYXJjaERhdGEgfSBmcm9tICcuLi9tb2RlbC5qcyc7XG5jb25zdCBMSU1JVF9GSU5EX0NPVU5UID0gOTk5O1xuZXhwb3J0IGNsYXNzIFNlYXJjaFBhcmFtcyB7XG4gICAgY29uc3RydWN0b3Ioc2VhcmNoU3RyaW5nLCBpc1JlZ2V4LCBtYXRjaENhc2UsIHdvcmRTZXBhcmF0b3JzKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoU3RyaW5nID0gc2VhcmNoU3RyaW5nO1xuICAgICAgICB0aGlzLmlzUmVnZXggPSBpc1JlZ2V4O1xuICAgICAgICB0aGlzLm1hdGNoQ2FzZSA9IG1hdGNoQ2FzZTtcbiAgICAgICAgdGhpcy53b3JkU2VwYXJhdG9ycyA9IHdvcmRTZXBhcmF0b3JzO1xuICAgIH1cbiAgICBwYXJzZVNlYXJjaFJlcXVlc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLnNlYXJjaFN0cmluZyA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRyeSB0byBjcmVhdGUgYSBSZWdFeHAgb3V0IG9mIHRoZSBwYXJhbXNcbiAgICAgICAgbGV0IG11bHRpbGluZTtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWdleCkge1xuICAgICAgICAgICAgbXVsdGlsaW5lID0gaXNNdWx0aWxpbmVSZWdleFNvdXJjZSh0aGlzLnNlYXJjaFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtdWx0aWxpbmUgPSAodGhpcy5zZWFyY2hTdHJpbmcuaW5kZXhPZignXFxuJykgPj0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlZ2V4ID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlZ2V4ID0gc3RyaW5ncy5jcmVhdGVSZWdFeHAodGhpcy5zZWFyY2hTdHJpbmcsIHRoaXMuaXNSZWdleCwge1xuICAgICAgICAgICAgICAgIG1hdGNoQ2FzZTogdGhpcy5tYXRjaENhc2UsXG4gICAgICAgICAgICAgICAgd2hvbGVXb3JkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IG11bHRpbGluZSxcbiAgICAgICAgICAgICAgICBnbG9iYWw6IHRydWUsXG4gICAgICAgICAgICAgICAgdW5pY29kZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZWdleCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNhblVzZVNpbXBsZVNlYXJjaCA9ICghdGhpcy5pc1JlZ2V4ICYmICFtdWx0aWxpbmUpO1xuICAgICAgICBpZiAoY2FuVXNlU2ltcGxlU2VhcmNoICYmIHRoaXMuc2VhcmNoU3RyaW5nLnRvTG93ZXJDYXNlKCkgIT09IHRoaXMuc2VhcmNoU3RyaW5nLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIC8vIGNhc2luZyBtaWdodCBtYWtlIGEgZGlmZmVyZW5jZVxuICAgICAgICAgICAgY2FuVXNlU2ltcGxlU2VhcmNoID0gdGhpcy5tYXRjaENhc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZWFyY2hEYXRhKHJlZ2V4LCB0aGlzLndvcmRTZXBhcmF0b3JzID8gZ2V0TWFwRm9yV29yZFNlcGFyYXRvcnModGhpcy53b3JkU2VwYXJhdG9ycykgOiBudWxsLCBjYW5Vc2VTaW1wbGVTZWFyY2ggPyB0aGlzLnNlYXJjaFN0cmluZyA6IG51bGwpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpbGluZVJlZ2V4U291cmNlKHNlYXJjaFN0cmluZykge1xuICAgIGlmICghc2VhcmNoU3RyaW5nIHx8IHNlYXJjaFN0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gc2VhcmNoU3RyaW5nLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoQ29kZSA9IHNlYXJjaFN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoY2hDb2RlID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoQ29kZSA9PT0gOTIgLyogQ2hhckNvZGUuQmFja3NsYXNoICovKSB7XG4gICAgICAgICAgICAvLyBtb3ZlIHRvIG5leHQgY2hhclxuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPj0gbGVuKSB7XG4gICAgICAgICAgICAgICAgLy8gc3RyaW5nIGVuZHMgd2l0aCBhIFxcXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXh0Q2hDb2RlID0gc2VhcmNoU3RyaW5nLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAobmV4dENoQ29kZSA9PT0gMTEwIC8qIENoYXJDb2RlLm4gKi8gfHwgbmV4dENoQ29kZSA9PT0gMTE0IC8qIENoYXJDb2RlLnIgKi8gfHwgbmV4dENoQ29kZSA9PT0gODcgLyogQ2hhckNvZGUuVyAqLykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVGaW5kTWF0Y2gocmFuZ2UsIHJhd01hdGNoZXMsIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgaWYgKCFjYXB0dXJlTWF0Y2hlcykge1xuICAgICAgICByZXR1cm4gbmV3IEZpbmRNYXRjaChyYW5nZSwgbnVsbCk7XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcmF3TWF0Y2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBtYXRjaGVzW2ldID0gcmF3TWF0Y2hlc1tpXTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBGaW5kTWF0Y2gocmFuZ2UsIG1hdGNoZXMpO1xufVxuY2xhc3MgTGluZUZlZWRDb3VudGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGxpbmVGZWVkc09mZnNldHMgPSBbXTtcbiAgICAgICAgbGV0IGxpbmVGZWVkc09mZnNldHNMZW4gPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgdGV4dExlbiA9IHRleHQubGVuZ3RoOyBpIDwgdGV4dExlbjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGV4dC5jaGFyQ29kZUF0KGkpID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAgICAgICAgIGxpbmVGZWVkc09mZnNldHNbbGluZUZlZWRzT2Zmc2V0c0xlbisrXSA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbGluZUZlZWRzT2Zmc2V0cyA9IGxpbmVGZWVkc09mZnNldHM7XG4gICAgfVxuICAgIGZpbmRMaW5lRmVlZENvdW50QmVmb3JlT2Zmc2V0KG9mZnNldCkge1xuICAgICAgICBjb25zdCBsaW5lRmVlZHNPZmZzZXRzID0gdGhpcy5fbGluZUZlZWRzT2Zmc2V0cztcbiAgICAgICAgbGV0IG1pbiA9IDA7XG4gICAgICAgIGxldCBtYXggPSBsaW5lRmVlZHNPZmZzZXRzLmxlbmd0aCAtIDE7XG4gICAgICAgIGlmIChtYXggPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBubyBsaW5lIGZlZWRzXG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0IDw9IGxpbmVGZWVkc09mZnNldHNbMF0pIHtcbiAgICAgICAgICAgIC8vIGJlZm9yZSBmaXJzdCBsaW5lIGZlZWRcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChtaW4gPCBtYXgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pZCA9IG1pbiArICgobWF4IC0gbWluKSAvIDIgPj4gMCk7XG4gICAgICAgICAgICBpZiAobGluZUZlZWRzT2Zmc2V0c1ttaWRdID49IG9mZnNldCkge1xuICAgICAgICAgICAgICAgIG1heCA9IG1pZCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAobGluZUZlZWRzT2Zmc2V0c1ttaWQgKyAxXSA+PSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYmluZ28hXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IG1pZDtcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gbWlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbWluID0gbWlkICsgMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiArIDE7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFRleHRNb2RlbFNlYXJjaCB7XG4gICAgc3RhdGljIGZpbmRNYXRjaGVzKG1vZGVsLCBzZWFyY2hQYXJhbXMsIHNlYXJjaFJhbmdlLCBjYXB0dXJlTWF0Y2hlcywgbGltaXRSZXN1bHRDb3VudCkge1xuICAgICAgICBjb25zdCBzZWFyY2hEYXRhID0gc2VhcmNoUGFyYW1zLnBhcnNlU2VhcmNoUmVxdWVzdCgpO1xuICAgICAgICBpZiAoIXNlYXJjaERhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VhcmNoRGF0YS5yZWdleC5tdWx0aWxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb0ZpbmRNYXRjaGVzTXVsdGlsaW5lKG1vZGVsLCBzZWFyY2hSYW5nZSwgbmV3IFNlYXJjaGVyKHNlYXJjaERhdGEud29yZFNlcGFyYXRvcnMsIHNlYXJjaERhdGEucmVnZXgpLCBjYXB0dXJlTWF0Y2hlcywgbGltaXRSZXN1bHRDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvRmluZE1hdGNoZXNMaW5lQnlMaW5lKG1vZGVsLCBzZWFyY2hSYW5nZSwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNdWx0aWxpbmUgc2VhcmNoIGFsd2F5cyBleGVjdXRlcyBvbiB0aGUgbGluZXMgY29uY2F0ZW5hdGVkIHdpdGggXFxuLlxuICAgICAqIFdlIG11c3QgdGhlcmVmb3JlIGNvbXBlbnNhdGUgZm9yIHRoZSBjb3VudCBvZiBcXG4gaW4gY2FzZSB0aGUgbW9kZWwgaXMgQ1JMRlxuICAgICAqL1xuICAgIHN0YXRpYyBfZ2V0TXVsdGlsaW5lTWF0Y2hSYW5nZShtb2RlbCwgZGVsdGFPZmZzZXQsIHRleHQsIGxmQ291bnRlciwgbWF0Y2hJbmRleCwgbWF0Y2gwKSB7XG4gICAgICAgIGxldCBzdGFydE9mZnNldDtcbiAgICAgICAgbGV0IGxpbmVGZWVkQ291bnRCZWZvcmVNYXRjaCA9IDA7XG4gICAgICAgIGlmIChsZkNvdW50ZXIpIHtcbiAgICAgICAgICAgIGxpbmVGZWVkQ291bnRCZWZvcmVNYXRjaCA9IGxmQ291bnRlci5maW5kTGluZUZlZWRDb3VudEJlZm9yZU9mZnNldChtYXRjaEluZGV4KTtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gZGVsdGFPZmZzZXQgKyBtYXRjaEluZGV4ICsgbGluZUZlZWRDb3VudEJlZm9yZU1hdGNoIC8qIGFkZCBhcyBtYW55IFxcciBhcyB0aGVyZSB3ZXJlIFxcbiAqLztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN0YXJ0T2Zmc2V0ID0gZGVsdGFPZmZzZXQgKyBtYXRjaEluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGxldCBlbmRPZmZzZXQ7XG4gICAgICAgIGlmIChsZkNvdW50ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVGZWVkQ291bnRCZWZvcmVFbmRPZk1hdGNoID0gbGZDb3VudGVyLmZpbmRMaW5lRmVlZENvdW50QmVmb3JlT2Zmc2V0KG1hdGNoSW5kZXggKyBtYXRjaDAubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVGZWVkQ291bnRJbk1hdGNoID0gbGluZUZlZWRDb3VudEJlZm9yZUVuZE9mTWF0Y2ggLSBsaW5lRmVlZENvdW50QmVmb3JlTWF0Y2g7XG4gICAgICAgICAgICBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIG1hdGNoMC5sZW5ndGggKyBsaW5lRmVlZENvdW50SW5NYXRjaCAvKiBhZGQgYXMgbWFueSBcXHIgYXMgdGhlcmUgd2VyZSBcXG4gKi87XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBlbmRPZmZzZXQgPSBzdGFydE9mZnNldCArIG1hdGNoMC5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IG1vZGVsLmdldFBvc2l0aW9uQXQoc3RhcnRPZmZzZXQpO1xuICAgICAgICBjb25zdCBlbmRQb3NpdGlvbiA9IG1vZGVsLmdldFBvc2l0aW9uQXQoZW5kT2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFBvc2l0aW9uLmxpbmVOdW1iZXIsIHN0YXJ0UG9zaXRpb24uY29sdW1uLCBlbmRQb3NpdGlvbi5saW5lTnVtYmVyLCBlbmRQb3NpdGlvbi5jb2x1bW4pO1xuICAgIH1cbiAgICBzdGF0aWMgX2RvRmluZE1hdGNoZXNNdWx0aWxpbmUobW9kZWwsIHNlYXJjaFJhbmdlLCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgY29uc3QgZGVsdGFPZmZzZXQgPSBtb2RlbC5nZXRPZmZzZXRBdChzZWFyY2hSYW5nZS5nZXRTdGFydFBvc2l0aW9uKCkpO1xuICAgICAgICAvLyBXZSBhbHdheXMgZXhlY3V0ZSBtdWx0aWxpbmUgc2VhcmNoIG92ZXIgdGhlIGxpbmVzIGpvaW5lZCB3aXRoIFxcblxuICAgICAgICAvLyBUaGlzIG1ha2VzIGl0IHRoYXQgXFxuIHdpbGwgbWF0Y2ggdGhlIEVPTCBmb3IgYm90aCBDUkxGIGFuZCBMRiBtb2RlbHNcbiAgICAgICAgLy8gV2UgY29tcGVuc2F0ZSBmb3Igb2Zmc2V0IGVycm9ycyBpbiBgX2dldE11bHRpbGluZU1hdGNoUmFuZ2VgXG4gICAgICAgIGNvbnN0IHRleHQgPSBtb2RlbC5nZXRWYWx1ZUluUmFuZ2Uoc2VhcmNoUmFuZ2UsIDEgLyogRW5kT2ZMaW5lUHJlZmVyZW5jZS5MRiAqLyk7XG4gICAgICAgIGNvbnN0IGxmQ291bnRlciA9IChtb2RlbC5nZXRFT0woKSA9PT0gJ1xcclxcbicgPyBuZXcgTGluZUZlZWRDb3VudGVyKHRleHQpIDogbnVsbCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGxldCBtO1xuICAgICAgICBzZWFyY2hlci5yZXNldCgwKTtcbiAgICAgICAgd2hpbGUgKChtID0gc2VhcmNoZXIubmV4dCh0ZXh0KSkpIHtcbiAgICAgICAgICAgIHJlc3VsdFtjb3VudGVyKytdID0gY3JlYXRlRmluZE1hdGNoKHRoaXMuX2dldE11bHRpbGluZU1hdGNoUmFuZ2UobW9kZWwsIGRlbHRhT2Zmc2V0LCB0ZXh0LCBsZkNvdW50ZXIsIG0uaW5kZXgsIG1bMF0pLCBtLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgICAgICBpZiAoY291bnRlciA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgX2RvRmluZE1hdGNoZXNMaW5lQnlMaW5lKG1vZGVsLCBzZWFyY2hSYW5nZSwgc2VhcmNoRGF0YSwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN1bHRMZW4gPSAwO1xuICAgICAgICAvLyBFYXJseSBjYXNlIGZvciBhIHNlYXJjaCByYW5nZSB0aGF0IHN0YXJ0cyAmIHN0b3BzIG9uIHRoZSBzYW1lIGxpbmUgbnVtYmVyXG4gICAgICAgIGlmIChzZWFyY2hSYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHNlYXJjaFJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChzZWFyY2hSYW5nZS5zdGFydExpbmVOdW1iZXIpLnN1YnN0cmluZyhzZWFyY2hSYW5nZS5zdGFydENvbHVtbiAtIDEsIHNlYXJjaFJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICAgICAgcmVzdWx0TGVuID0gdGhpcy5fZmluZE1hdGNoZXNJbkxpbmUoc2VhcmNoRGF0YSwgdGV4dCwgc2VhcmNoUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCBzZWFyY2hSYW5nZS5zdGFydENvbHVtbiAtIDEsIHJlc3VsdExlbiwgcmVzdWx0LCBjYXB0dXJlTWF0Y2hlcywgbGltaXRSZXN1bHRDb3VudCk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIC8vIENvbGxlY3QgcmVzdWx0cyBmcm9tIGZpcnN0IGxpbmVcbiAgICAgICAgY29uc3QgdGV4dCA9IG1vZGVsLmdldExpbmVDb250ZW50KHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlcikuc3Vic3RyaW5nKHNlYXJjaFJhbmdlLnN0YXJ0Q29sdW1uIC0gMSk7XG4gICAgICAgIHJlc3VsdExlbiA9IHRoaXMuX2ZpbmRNYXRjaGVzSW5MaW5lKHNlYXJjaERhdGEsIHRleHQsIHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlciwgc2VhcmNoUmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByZXN1bHRMZW4sIHJlc3VsdCwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpO1xuICAgICAgICAvLyBDb2xsZWN0IHJlc3VsdHMgZnJvbSBtaWRkbGUgbGluZXNcbiAgICAgICAgZm9yIChsZXQgbGluZU51bWJlciA9IHNlYXJjaFJhbmdlLnN0YXJ0TGluZU51bWJlciArIDE7IGxpbmVOdW1iZXIgPCBzZWFyY2hSYW5nZS5lbmRMaW5lTnVtYmVyICYmIHJlc3VsdExlbiA8IGxpbWl0UmVzdWx0Q291bnQ7IGxpbmVOdW1iZXIrKykge1xuICAgICAgICAgICAgcmVzdWx0TGVuID0gdGhpcy5fZmluZE1hdGNoZXNJbkxpbmUoc2VhcmNoRGF0YSwgbW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZU51bWJlciksIGxpbmVOdW1iZXIsIDAsIHJlc3VsdExlbiwgcmVzdWx0LCBjYXB0dXJlTWF0Y2hlcywgbGltaXRSZXN1bHRDb3VudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQ29sbGVjdCByZXN1bHRzIGZyb20gbGFzdCBsaW5lXG4gICAgICAgIGlmIChyZXN1bHRMZW4gPCBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoc2VhcmNoUmFuZ2UuZW5kTGluZU51bWJlcikuc3Vic3RyaW5nKDAsIHNlYXJjaFJhbmdlLmVuZENvbHVtbiAtIDEpO1xuICAgICAgICAgICAgcmVzdWx0TGVuID0gdGhpcy5fZmluZE1hdGNoZXNJbkxpbmUoc2VhcmNoRGF0YSwgdGV4dCwgc2VhcmNoUmFuZ2UuZW5kTGluZU51bWJlciwgMCwgcmVzdWx0TGVuLCByZXN1bHQsIGNhcHR1cmVNYXRjaGVzLCBsaW1pdFJlc3VsdENvdW50KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgX2ZpbmRNYXRjaGVzSW5MaW5lKHNlYXJjaERhdGEsIHRleHQsIGxpbmVOdW1iZXIsIGRlbHRhT2Zmc2V0LCByZXN1bHRMZW4sIHJlc3VsdCwgY2FwdHVyZU1hdGNoZXMsIGxpbWl0UmVzdWx0Q291bnQpIHtcbiAgICAgICAgY29uc3Qgd29yZFNlcGFyYXRvcnMgPSBzZWFyY2hEYXRhLndvcmRTZXBhcmF0b3JzO1xuICAgICAgICBpZiAoIWNhcHR1cmVNYXRjaGVzICYmIHNlYXJjaERhdGEuc2ltcGxlU2VhcmNoKSB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hTdHJpbmcgPSBzZWFyY2hEYXRhLnNpbXBsZVNlYXJjaDtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFN0cmluZ0xlbiA9IHNlYXJjaFN0cmluZy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgbGFzdE1hdGNoSW5kZXggPSAtc2VhcmNoU3RyaW5nTGVuO1xuICAgICAgICAgICAgd2hpbGUgKChsYXN0TWF0Y2hJbmRleCA9IHRleHQuaW5kZXhPZihzZWFyY2hTdHJpbmcsIGxhc3RNYXRjaEluZGV4ICsgc2VhcmNoU3RyaW5nTGVuKSkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF3b3JkU2VwYXJhdG9ycyB8fCBpc1ZhbGlkTWF0Y2god29yZFNlcGFyYXRvcnMsIHRleHQsIHRleHRMZW5ndGgsIGxhc3RNYXRjaEluZGV4LCBzZWFyY2hTdHJpbmdMZW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRMZW4rK10gPSBuZXcgRmluZE1hdGNoKG5ldyBSYW5nZShsaW5lTnVtYmVyLCBsYXN0TWF0Y2hJbmRleCArIDEgKyBkZWx0YU9mZnNldCwgbGluZU51bWJlciwgbGFzdE1hdGNoSW5kZXggKyAxICsgc2VhcmNoU3RyaW5nTGVuICsgZGVsdGFPZmZzZXQpLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdExlbiA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0TGVuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWFyY2hlciA9IG5ldyBTZWFyY2hlcihzZWFyY2hEYXRhLndvcmRTZXBhcmF0b3JzLCBzZWFyY2hEYXRhLnJlZ2V4KTtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIC8vIFJlc2V0IHJlZ2V4IHRvIHNlYXJjaCBmcm9tIHRoZSBiZWdpbm5pbmdcbiAgICAgICAgc2VhcmNoZXIucmVzZXQoMCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIG0gPSBzZWFyY2hlci5uZXh0KHRleHQpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0TGVuKytdID0gY3JlYXRlRmluZE1hdGNoKG5ldyBSYW5nZShsaW5lTnVtYmVyLCBtLmluZGV4ICsgMSArIGRlbHRhT2Zmc2V0LCBsaW5lTnVtYmVyLCBtLmluZGV4ICsgMSArIG1bMF0ubGVuZ3RoICsgZGVsdGFPZmZzZXQpLCBtLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdExlbiA+PSBsaW1pdFJlc3VsdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRMZW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdExlbjtcbiAgICB9XG4gICAgc3RhdGljIGZpbmROZXh0TWF0Y2gobW9kZWwsIHNlYXJjaFBhcmFtcywgc2VhcmNoU3RhcnQsIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaERhdGEgPSBzZWFyY2hQYXJhbXMucGFyc2VTZWFyY2hSZXF1ZXN0KCk7XG4gICAgICAgIGlmICghc2VhcmNoRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoZXIgPSBuZXcgU2VhcmNoZXIoc2VhcmNoRGF0YS53b3JkU2VwYXJhdG9ycywgc2VhcmNoRGF0YS5yZWdleCk7XG4gICAgICAgIGlmIChzZWFyY2hEYXRhLnJlZ2V4Lm11bHRpbGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvRmluZE5leHRNYXRjaE11bHRpbGluZShtb2RlbCwgc2VhcmNoU3RhcnQsIHNlYXJjaGVyLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RvRmluZE5leHRNYXRjaExpbmVCeUxpbmUobW9kZWwsIHNlYXJjaFN0YXJ0LCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMpO1xuICAgIH1cbiAgICBzdGF0aWMgX2RvRmluZE5leHRNYXRjaE11bHRpbGluZShtb2RlbCwgc2VhcmNoU3RhcnQsIHNlYXJjaGVyLCBjYXB0dXJlTWF0Y2hlcykge1xuICAgICAgICBjb25zdCBzZWFyY2hUZXh0U3RhcnQgPSBuZXcgUG9zaXRpb24oc2VhcmNoU3RhcnQubGluZU51bWJlciwgMSk7XG4gICAgICAgIGNvbnN0IGRlbHRhT2Zmc2V0ID0gbW9kZWwuZ2V0T2Zmc2V0QXQoc2VhcmNoVGV4dFN0YXJ0KTtcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gbW9kZWwuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIC8vIFdlIGFsd2F5cyBleGVjdXRlIG11bHRpbGluZSBzZWFyY2ggb3ZlciB0aGUgbGluZXMgam9pbmVkIHdpdGggXFxuXG4gICAgICAgIC8vIFRoaXMgbWFrZXMgaXQgdGhhdCBcXG4gd2lsbCBtYXRjaCB0aGUgRU9MIGZvciBib3RoIENSTEYgYW5kIExGIG1vZGVsc1xuICAgICAgICAvLyBXZSBjb21wZW5zYXRlIGZvciBvZmZzZXQgZXJyb3JzIGluIGBfZ2V0TXVsdGlsaW5lTWF0Y2hSYW5nZWBcbiAgICAgICAgY29uc3QgdGV4dCA9IG1vZGVsLmdldFZhbHVlSW5SYW5nZShuZXcgUmFuZ2Uoc2VhcmNoVGV4dFN0YXJ0LmxpbmVOdW1iZXIsIHNlYXJjaFRleHRTdGFydC5jb2x1bW4sIGxpbmVDb3VudCwgbW9kZWwuZ2V0TGluZU1heENvbHVtbihsaW5lQ291bnQpKSwgMSAvKiBFbmRPZkxpbmVQcmVmZXJlbmNlLkxGICovKTtcbiAgICAgICAgY29uc3QgbGZDb3VudGVyID0gKG1vZGVsLmdldEVPTCgpID09PSAnXFxyXFxuJyA/IG5ldyBMaW5lRmVlZENvdW50ZXIodGV4dCkgOiBudWxsKTtcbiAgICAgICAgc2VhcmNoZXIucmVzZXQoc2VhcmNoU3RhcnQuY29sdW1uIC0gMSk7XG4gICAgICAgIGNvbnN0IG0gPSBzZWFyY2hlci5uZXh0KHRleHQpO1xuICAgICAgICBpZiAobSkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUZpbmRNYXRjaCh0aGlzLl9nZXRNdWx0aWxpbmVNYXRjaFJhbmdlKG1vZGVsLCBkZWx0YU9mZnNldCwgdGV4dCwgbGZDb3VudGVyLCBtLmluZGV4LCBtWzBdKSwgbSwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWFyY2hTdGFydC5saW5lTnVtYmVyICE9PSAxIHx8IHNlYXJjaFN0YXJ0LmNvbHVtbiAhPT0gMSkge1xuICAgICAgICAgICAgLy8gVHJ5IGFnYWluIGZyb20gdGhlIHRvcFxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvRmluZE5leHRNYXRjaE11bHRpbGluZShtb2RlbCwgbmV3IFBvc2l0aW9uKDEsIDEpLCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgX2RvRmluZE5leHRNYXRjaExpbmVCeUxpbmUobW9kZWwsIHNlYXJjaFN0YXJ0LCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMpIHtcbiAgICAgICAgY29uc3QgbGluZUNvdW50ID0gbW9kZWwuZ2V0TGluZUNvdW50KCk7XG4gICAgICAgIGNvbnN0IHN0YXJ0TGluZU51bWJlciA9IHNlYXJjaFN0YXJ0LmxpbmVOdW1iZXI7XG4gICAgICAgIC8vIExvb2sgaW4gZmlyc3QgbGluZVxuICAgICAgICBjb25zdCB0ZXh0ID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQoc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuX2ZpbmRGaXJzdE1hdGNoSW5MaW5lKHNlYXJjaGVyLCB0ZXh0LCBzdGFydExpbmVOdW1iZXIsIHNlYXJjaFN0YXJ0LmNvbHVtbiwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gbGluZUNvdW50OyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVJbmRleCA9IChzdGFydExpbmVOdW1iZXIgKyBpIC0gMSkgJSBsaW5lQ291bnQ7XG4gICAgICAgICAgICBjb25zdCB0ZXh0ID0gbW9kZWwuZ2V0TGluZUNvbnRlbnQobGluZUluZGV4ICsgMSk7XG4gICAgICAgICAgICBjb25zdCByID0gdGhpcy5fZmluZEZpcnN0TWF0Y2hJbkxpbmUoc2VhcmNoZXIsIHRleHQsIGxpbmVJbmRleCArIDEsIDEsIGNhcHR1cmVNYXRjaGVzKTtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHN0YXRpYyBfZmluZEZpcnN0TWF0Y2hJbkxpbmUoc2VhcmNoZXIsIHRleHQsIGxpbmVOdW1iZXIsIGZyb21Db2x1bW4sIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgICAgIC8vIFNldCByZWdleCB0byBzZWFyY2ggZnJvbSBjb2x1bW5cbiAgICAgICAgc2VhcmNoZXIucmVzZXQoZnJvbUNvbHVtbiAtIDEpO1xuICAgICAgICBjb25zdCBtID0gc2VhcmNoZXIubmV4dCh0ZXh0KTtcbiAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVGaW5kTWF0Y2gobmV3IFJhbmdlKGxpbmVOdW1iZXIsIG0uaW5kZXggKyAxLCBsaW5lTnVtYmVyLCBtLmluZGV4ICsgMSArIG1bMF0ubGVuZ3RoKSwgbSwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgZmluZFByZXZpb3VzTWF0Y2gobW9kZWwsIHNlYXJjaFBhcmFtcywgc2VhcmNoU3RhcnQsIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgICAgIGNvbnN0IHNlYXJjaERhdGEgPSBzZWFyY2hQYXJhbXMucGFyc2VTZWFyY2hSZXF1ZXN0KCk7XG4gICAgICAgIGlmICghc2VhcmNoRGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VhcmNoZXIgPSBuZXcgU2VhcmNoZXIoc2VhcmNoRGF0YS53b3JkU2VwYXJhdG9ycywgc2VhcmNoRGF0YS5yZWdleCk7XG4gICAgICAgIGlmIChzZWFyY2hEYXRhLnJlZ2V4Lm11bHRpbGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RvRmluZFByZXZpb3VzTWF0Y2hNdWx0aWxpbmUobW9kZWwsIHNlYXJjaFN0YXJ0LCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9kb0ZpbmRQcmV2aW91c01hdGNoTGluZUJ5TGluZShtb2RlbCwgc2VhcmNoU3RhcnQsIHNlYXJjaGVyLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgfVxuICAgIHN0YXRpYyBfZG9GaW5kUHJldmlvdXNNYXRjaE11bHRpbGluZShtb2RlbCwgc2VhcmNoU3RhcnQsIHNlYXJjaGVyLCBjYXB0dXJlTWF0Y2hlcykge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gdGhpcy5fZG9GaW5kTWF0Y2hlc011bHRpbGluZShtb2RlbCwgbmV3IFJhbmdlKDEsIDEsIHNlYXJjaFN0YXJ0LmxpbmVOdW1iZXIsIHNlYXJjaFN0YXJ0LmNvbHVtbiksIHNlYXJjaGVyLCBjYXB0dXJlTWF0Y2hlcywgMTAgKiBMSU1JVF9GSU5EX0NPVU5UKTtcbiAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lQ291bnQgPSBtb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgaWYgKHNlYXJjaFN0YXJ0LmxpbmVOdW1iZXIgIT09IGxpbmVDb3VudCB8fCBzZWFyY2hTdGFydC5jb2x1bW4gIT09IG1vZGVsLmdldExpbmVNYXhDb2x1bW4obGluZUNvdW50KSkge1xuICAgICAgICAgICAgLy8gVHJ5IGFnYWluIHdpdGggYWxsIGNvbnRlbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kb0ZpbmRQcmV2aW91c01hdGNoTXVsdGlsaW5lKG1vZGVsLCBuZXcgUG9zaXRpb24obGluZUNvdW50LCBtb2RlbC5nZXRMaW5lTWF4Q29sdW1uKGxpbmVDb3VudCkpLCBzZWFyY2hlciwgY2FwdHVyZU1hdGNoZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgX2RvRmluZFByZXZpb3VzTWF0Y2hMaW5lQnlMaW5lKG1vZGVsLCBzZWFyY2hTdGFydCwgc2VhcmNoZXIsIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgICAgIGNvbnN0IGxpbmVDb3VudCA9IG1vZGVsLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBzdGFydExpbmVOdW1iZXIgPSBzZWFyY2hTdGFydC5saW5lTnVtYmVyO1xuICAgICAgICAvLyBMb29rIGluIGZpcnN0IGxpbmVcbiAgICAgICAgY29uc3QgdGV4dCA9IG1vZGVsLmdldExpbmVDb250ZW50KHN0YXJ0TGluZU51bWJlcikuc3Vic3RyaW5nKDAsIHNlYXJjaFN0YXJ0LmNvbHVtbiAtIDEpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5fZmluZExhc3RNYXRjaEluTGluZShzZWFyY2hlciwgdGV4dCwgc3RhcnRMaW5lTnVtYmVyLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICByZXR1cm4gcjtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8PSBsaW5lQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZUluZGV4ID0gKGxpbmVDb3VudCArIHN0YXJ0TGluZU51bWJlciAtIGkgLSAxKSAlIGxpbmVDb3VudDtcbiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChsaW5lSW5kZXggKyAxKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLl9maW5kTGFzdE1hdGNoSW5MaW5lKHNlYXJjaGVyLCB0ZXh0LCBsaW5lSW5kZXggKyAxLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgX2ZpbmRMYXN0TWF0Y2hJbkxpbmUoc2VhcmNoZXIsIHRleHQsIGxpbmVOdW1iZXIsIGNhcHR1cmVNYXRjaGVzKSB7XG4gICAgICAgIGxldCBiZXN0UmVzdWx0ID0gbnVsbDtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIHNlYXJjaGVyLnJlc2V0KDApO1xuICAgICAgICB3aGlsZSAoKG0gPSBzZWFyY2hlci5uZXh0KHRleHQpKSkge1xuICAgICAgICAgICAgYmVzdFJlc3VsdCA9IGNyZWF0ZUZpbmRNYXRjaChuZXcgUmFuZ2UobGluZU51bWJlciwgbS5pbmRleCArIDEsIGxpbmVOdW1iZXIsIG0uaW5kZXggKyAxICsgbVswXS5sZW5ndGgpLCBtLCBjYXB0dXJlTWF0Y2hlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJlc3RSZXN1bHQ7XG4gICAgfVxufVxuZnVuY3Rpb24gbGVmdElzV29yZEJvdW5kYXkod29yZFNlcGFyYXRvcnMsIHRleHQsIHRleHRMZW5ndGgsIG1hdGNoU3RhcnRJbmRleCwgbWF0Y2hMZW5ndGgpIHtcbiAgICBpZiAobWF0Y2hTdGFydEluZGV4ID09PSAwKSB7XG4gICAgICAgIC8vIE1hdGNoIHN0YXJ0cyBhdCBzdGFydCBvZiBzdHJpbmdcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGNoYXJCZWZvcmUgPSB0ZXh0LmNoYXJDb2RlQXQobWF0Y2hTdGFydEluZGV4IC0gMSk7XG4gICAgaWYgKHdvcmRTZXBhcmF0b3JzLmdldChjaGFyQmVmb3JlKSAhPT0gMCAvKiBXb3JkQ2hhcmFjdGVyQ2xhc3MuUmVndWxhciAqLykge1xuICAgICAgICAvLyBUaGUgY2hhcmFjdGVyIGJlZm9yZSB0aGUgbWF0Y2ggaXMgYSB3b3JkIHNlcGFyYXRvclxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNoYXJCZWZvcmUgPT09IDEzIC8qIENoYXJDb2RlLkNhcnJpYWdlUmV0dXJuICovIHx8IGNoYXJCZWZvcmUgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovKSB7XG4gICAgICAgIC8vIFRoZSBjaGFyYWN0ZXIgYmVmb3JlIHRoZSBtYXRjaCBpcyBsaW5lIGJyZWFrIG9yIGNhcnJpYWdlIHJldHVybi5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChtYXRjaExlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgZmlyc3RDaGFySW5NYXRjaCA9IHRleHQuY2hhckNvZGVBdChtYXRjaFN0YXJ0SW5kZXgpO1xuICAgICAgICBpZiAod29yZFNlcGFyYXRvcnMuZ2V0KGZpcnN0Q2hhckluTWF0Y2gpICE9PSAwIC8qIFdvcmRDaGFyYWN0ZXJDbGFzcy5SZWd1bGFyICovKSB7XG4gICAgICAgICAgICAvLyBUaGUgZmlyc3QgY2hhcmFjdGVyIGluc2lkZSB0aGUgbWF0Y2ggaXMgYSB3b3JkIHNlcGFyYXRvclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gcmlnaHRJc1dvcmRCb3VuZGF5KHdvcmRTZXBhcmF0b3JzLCB0ZXh0LCB0ZXh0TGVuZ3RoLCBtYXRjaFN0YXJ0SW5kZXgsIG1hdGNoTGVuZ3RoKSB7XG4gICAgaWYgKG1hdGNoU3RhcnRJbmRleCArIG1hdGNoTGVuZ3RoID09PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgIC8vIE1hdGNoIGVuZHMgYXQgZW5kIG9mIHN0cmluZ1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3QgY2hhckFmdGVyID0gdGV4dC5jaGFyQ29kZUF0KG1hdGNoU3RhcnRJbmRleCArIG1hdGNoTGVuZ3RoKTtcbiAgICBpZiAod29yZFNlcGFyYXRvcnMuZ2V0KGNoYXJBZnRlcikgIT09IDAgLyogV29yZENoYXJhY3RlckNsYXNzLlJlZ3VsYXIgKi8pIHtcbiAgICAgICAgLy8gVGhlIGNoYXJhY3RlciBhZnRlciB0aGUgbWF0Y2ggaXMgYSB3b3JkIHNlcGFyYXRvclxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNoYXJBZnRlciA9PT0gMTMgLyogQ2hhckNvZGUuQ2FycmlhZ2VSZXR1cm4gKi8gfHwgY2hhckFmdGVyID09PSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLykge1xuICAgICAgICAvLyBUaGUgY2hhcmFjdGVyIGFmdGVyIHRoZSBtYXRjaCBpcyBsaW5lIGJyZWFrIG9yIGNhcnJpYWdlIHJldHVybi5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChtYXRjaExlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgbGFzdENoYXJJbk1hdGNoID0gdGV4dC5jaGFyQ29kZUF0KG1hdGNoU3RhcnRJbmRleCArIG1hdGNoTGVuZ3RoIC0gMSk7XG4gICAgICAgIGlmICh3b3JkU2VwYXJhdG9ycy5nZXQobGFzdENoYXJJbk1hdGNoKSAhPT0gMCAvKiBXb3JkQ2hhcmFjdGVyQ2xhc3MuUmVndWxhciAqLykge1xuICAgICAgICAgICAgLy8gVGhlIGxhc3QgY2hhcmFjdGVyIGluIHRoZSBtYXRjaCBpcyBhIHdvcmQgc2VwYXJhdG9yXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZE1hdGNoKHdvcmRTZXBhcmF0b3JzLCB0ZXh0LCB0ZXh0TGVuZ3RoLCBtYXRjaFN0YXJ0SW5kZXgsIG1hdGNoTGVuZ3RoKSB7XG4gICAgcmV0dXJuIChsZWZ0SXNXb3JkQm91bmRheSh3b3JkU2VwYXJhdG9ycywgdGV4dCwgdGV4dExlbmd0aCwgbWF0Y2hTdGFydEluZGV4LCBtYXRjaExlbmd0aClcbiAgICAgICAgJiYgcmlnaHRJc1dvcmRCb3VuZGF5KHdvcmRTZXBhcmF0b3JzLCB0ZXh0LCB0ZXh0TGVuZ3RoLCBtYXRjaFN0YXJ0SW5kZXgsIG1hdGNoTGVuZ3RoKSk7XG59XG5leHBvcnQgY2xhc3MgU2VhcmNoZXIge1xuICAgIGNvbnN0cnVjdG9yKHdvcmRTZXBhcmF0b3JzLCBzZWFyY2hSZWdleCkge1xuICAgICAgICB0aGlzLl93b3JkU2VwYXJhdG9ycyA9IHdvcmRTZXBhcmF0b3JzO1xuICAgICAgICB0aGlzLl9zZWFyY2hSZWdleCA9IHNlYXJjaFJlZ2V4O1xuICAgICAgICB0aGlzLl9wcmV2TWF0Y2hTdGFydEluZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX3ByZXZNYXRjaExlbmd0aCA9IDA7XG4gICAgfVxuICAgIHJlc2V0KGxhc3RJbmRleCkge1xuICAgICAgICB0aGlzLl9zZWFyY2hSZWdleC5sYXN0SW5kZXggPSBsYXN0SW5kZXg7XG4gICAgICAgIHRoaXMuX3ByZXZNYXRjaFN0YXJ0SW5kZXggPSAtMTtcbiAgICAgICAgdGhpcy5fcHJldk1hdGNoTGVuZ3RoID0gMDtcbiAgICB9XG4gICAgbmV4dCh0ZXh0KSB7XG4gICAgICAgIGNvbnN0IHRleHRMZW5ndGggPSB0ZXh0Lmxlbmd0aDtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2TWF0Y2hTdGFydEluZGV4ICsgdGhpcy5fcHJldk1hdGNoTGVuZ3RoID09PSB0ZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBsaW5lXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtID0gdGhpcy5fc2VhcmNoUmVnZXguZXhlYyh0ZXh0KTtcbiAgICAgICAgICAgIGlmICghbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbWF0Y2hTdGFydEluZGV4ID0gbS5pbmRleDtcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoTGVuZ3RoID0gbVswXS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAobWF0Y2hTdGFydEluZGV4ID09PSB0aGlzLl9wcmV2TWF0Y2hTdGFydEluZGV4ICYmIG1hdGNoTGVuZ3RoID09PSB0aGlzLl9wcmV2TWF0Y2hMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHNlYXJjaCByZXN1bHQgaXMgYW4gZW1wdHkgc3RyaW5nIGFuZCB3b24ndCBhZHZhbmNlIGByZWdleC5sYXN0SW5kZXhgLCBzbyBgcmVnZXguZXhlY2Agd2lsbCBzdHVjayBoZXJlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIGF0dGVtcHQgdG8gcmVjb3ZlciBmcm9tIHRoYXQgYnkgYWR2YW5jaW5nIGJ5IHR3byBpZiBzdXJyb2dhdGUgcGFpciBmb3VuZCBhbmQgYnkgb25lIG90aGVyd2lzZVxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5ncy5nZXROZXh0Q29kZVBvaW50KHRleHQsIHRleHRMZW5ndGgsIHRoaXMuX3NlYXJjaFJlZ2V4Lmxhc3RJbmRleCkgPiAweEZGRkYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlYXJjaFJlZ2V4Lmxhc3RJbmRleCArPSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2VhcmNoUmVnZXgubGFzdEluZGV4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEV4aXQgZWFybHkgaWYgdGhlIHJlZ2V4IG1hdGNoZXMgdGhlIHNhbWUgcmFuZ2UgdHdpY2VcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ByZXZNYXRjaFN0YXJ0SW5kZXggPSBtYXRjaFN0YXJ0SW5kZXg7XG4gICAgICAgICAgICB0aGlzLl9wcmV2TWF0Y2hMZW5ndGggPSBtYXRjaExlbmd0aDtcbiAgICAgICAgICAgIGlmICghdGhpcy5fd29yZFNlcGFyYXRvcnMgfHwgaXNWYWxpZE1hdGNoKHRoaXMuX3dvcmRTZXBhcmF0b3JzLCB0ZXh0LCB0ZXh0TGVuZ3RoLCBtYXRjaFN0YXJ0SW5kZXgsIG1hdGNoTGVuZ3RoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlIChtKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBCdWdJbmRpY2F0aW5nRXJyb3IsIG9uVW5leHBlY3RlZEVycm9yIH0gZnJvbSAnLi9lcnJvcnMuanMnO1xuLyoqXG4gKiBUaHJvd3MgYW4gZXJyb3Igd2l0aCB0aGUgcHJvdmlkZWQgbWVzc2FnZSBpZiB0aGUgcHJvdmlkZWQgdmFsdWUgZG9lcyBub3QgZXZhbHVhdGUgdG8gYSB0cnVlIEphdmFzY3JpcHQgdmFsdWUuXG4gKlxuICogQGRlcHJlY2F0ZWQgVXNlIGBhc3NlcnQoLi4uKWAgaW5zdGVhZC5cbiAqIFRoaXMgbWV0aG9kIGlzIHVzdWFsbHkgdXNlZCBsaWtlIHRoaXM6XG4gKiBgYGB0c1xuICogaW1wb3J0ICogYXMgYXNzZXJ0IGZyb20gJ3ZzL2Jhc2UvY29tbW9uL2Fzc2VydCc7XG4gKiBhc3NlcnQub2soLi4uKTtcbiAqIGBgYFxuICpcbiAqIEhvd2V2ZXIsIGBhc3NlcnRgIGluIHRoYXQgZXhhbXBsZSBpcyBhIHVzZXIgY2hvc2VuIG5hbWUuXG4gKiBUaGVyZSBpcyBubyB0b29saW5nIGZvciBnZW5lcmF0aW5nIHN1Y2ggYW4gaW1wb3J0IHN0YXRlbWVudC5cbiAqIFRodXMsIHRoZSBgYXNzZXJ0KC4uLilgIGZ1bmN0aW9uIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvayh2YWx1ZSwgbWVzc2FnZSkge1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UgPyBgQXNzZXJ0aW9uIGZhaWxlZCAoJHttZXNzYWdlfSlgIDogJ0Fzc2VydGlvbiBGYWlsZWQnKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0TmV2ZXIodmFsdWUsIG1lc3NhZ2UgPSAnVW5yZWFjaGFibGUnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xufVxuLyoqXG4gKiBjb25kaXRpb24gbXVzdCBiZSBzaWRlLWVmZmVjdCBmcmVlIVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0Rm4oY29uZGl0aW9uKSB7XG4gICAgaWYgKCFjb25kaXRpb24oKSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgZGVidWdnZXI7XG4gICAgICAgIC8vIFJlZXZhbHVhdGUgYGNvbmRpdGlvbmAgYWdhaW4gdG8gbWFrZSBkZWJ1Z2dpbmcgZWFzaWVyXG4gICAgICAgIGNvbmRpdGlvbigpO1xuICAgICAgICBvblVuZXhwZWN0ZWRFcnJvcihuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKCdBc3NlcnRpb24gRmFpbGVkJykpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBjaGVja0FkamFjZW50SXRlbXMoaXRlbXMsIHByZWRpY2F0ZSkge1xuICAgIGxldCBpID0gMDtcbiAgICB3aGlsZSAoaSA8IGl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgY29uc3QgYSA9IGl0ZW1zW2ldO1xuICAgICAgICBjb25zdCBiID0gaXRlbXNbaSArIDFdO1xuICAgICAgICBpZiAoIXByZWRpY2F0ZShhLCBiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFJhbmdlIH0gZnJvbSAnLi4vY29yZS9yYW5nZS5qcyc7XG5pbXBvcnQgeyBTZWFyY2hlciB9IGZyb20gJy4uL21vZGVsL3RleHRNb2RlbFNlYXJjaC5qcyc7XG5pbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgYXNzZXJ0TmV2ZXIgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3NlcnQuanMnO1xuaW1wb3J0IHsgREVGQVVMVF9XT1JEX1JFR0VYUCwgZ2V0V29yZEF0VGV4dCB9IGZyb20gJy4uL2NvcmUvd29yZEhlbHBlci5qcyc7XG5leHBvcnQgY2xhc3MgVW5pY29kZVRleHRNb2RlbEhpZ2hsaWdodGVyIHtcbiAgICBzdGF0aWMgY29tcHV0ZVVuaWNvZGVIaWdobGlnaHRzKG1vZGVsLCBvcHRpb25zLCByYW5nZSkge1xuICAgICAgICBjb25zdCBzdGFydExpbmUgPSByYW5nZSA/IHJhbmdlLnN0YXJ0TGluZU51bWJlciA6IDE7XG4gICAgICAgIGNvbnN0IGVuZExpbmUgPSByYW5nZSA/IHJhbmdlLmVuZExpbmVOdW1iZXIgOiBtb2RlbC5nZXRMaW5lQ291bnQoKTtcbiAgICAgICAgY29uc3QgY29kZVBvaW50SGlnaGxpZ2h0ZXIgPSBuZXcgQ29kZVBvaW50SGlnaGxpZ2h0ZXIob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBjb2RlUG9pbnRIaWdobGlnaHRlci5nZXRDYW5kaWRhdGVDb2RlUG9pbnRzKCk7XG4gICAgICAgIGxldCByZWdleDtcbiAgICAgICAgaWYgKGNhbmRpZGF0ZXMgPT09ICdhbGxOb25CYXNpY0FzY2lpJykge1xuICAgICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKCdbXlxcXFx0XFxcXG5cXFxcclxcXFx4MjAtXFxcXHg3RV0nLCAnZycpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVnZXggPSBuZXcgUmVnRXhwKGAke2J1aWxkUmVnRXhwQ2hhckNsYXNzRXhwcihBcnJheS5mcm9tKGNhbmRpZGF0ZXMpKX1gLCAnZycpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlYXJjaGVyID0gbmV3IFNlYXJjaGVyKG51bGwsIHJlZ2V4KTtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gW107XG4gICAgICAgIGxldCBoYXNNb3JlID0gZmFsc2U7XG4gICAgICAgIGxldCBtO1xuICAgICAgICBsZXQgYW1iaWd1b3VzQ2hhcmFjdGVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgaW52aXNpYmxlQ2hhcmFjdGVyQ291bnQgPSAwO1xuICAgICAgICBsZXQgbm9uQmFzaWNBc2NpaUNoYXJhY3RlckNvdW50ID0gMDtcbiAgICAgICAgZm9yTG9vcDogZm9yIChsZXQgbGluZU51bWJlciA9IHN0YXJ0TGluZSwgbGluZUNvdW50ID0gZW5kTGluZTsgbGluZU51bWJlciA8PSBsaW5lQ291bnQ7IGxpbmVOdW1iZXIrKykge1xuICAgICAgICAgICAgY29uc3QgbGluZUNvbnRlbnQgPSBtb2RlbC5nZXRMaW5lQ29udGVudChsaW5lTnVtYmVyKTtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVMZW5ndGggPSBsaW5lQ29udGVudC5sZW5ndGg7XG4gICAgICAgICAgICAvLyBSZXNldCByZWdleCB0byBzZWFyY2ggZnJvbSB0aGUgYmVnaW5uaW5nXG4gICAgICAgICAgICBzZWFyY2hlci5yZXNldCgwKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBtID0gc2VhcmNoZXIubmV4dChsaW5lQ29udGVudCk7XG4gICAgICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBtLmluZGV4O1xuICAgICAgICAgICAgICAgICAgICBsZXQgZW5kSW5kZXggPSBtLmluZGV4ICsgbVswXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dGVuZCByYW5nZSB0byBlbnRpcmUgY29kZSBwb2ludFxuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhcnRJbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYXJDb2RlQmVmb3JlID0gbGluZUNvbnRlbnQuY2hhckNvZGVBdChzdGFydEluZGV4IC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaW5ncy5pc0hpZ2hTdXJyb2dhdGUoY2hhckNvZGVCZWZvcmUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleC0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmRJbmRleCArIDEgPCBsaW5lTGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyQ29kZUJlZm9yZSA9IGxpbmVDb250ZW50LmNoYXJDb2RlQXQoZW5kSW5kZXggLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdHJpbmdzLmlzSGlnaFN1cnJvZ2F0ZShjaGFyQ29kZUJlZm9yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleCsrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0ciA9IGxpbmVDb250ZW50LnN1YnN0cmluZyhzdGFydEluZGV4LCBlbmRJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIGxldCB3b3JkID0gZ2V0V29yZEF0VGV4dChzdGFydEluZGV4ICsgMSwgREVGQVVMVF9XT1JEX1JFR0VYUCwgbGluZUNvbnRlbnQsIDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAod29yZCAmJiB3b3JkLmVuZENvbHVtbiA8PSBzdGFydEluZGV4ICsgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHdvcmQgZG9lcyBub3QgaW5jbHVkZSB0aGUgcHJvYmxlbWF0aWMgY2hhcmFjdGVyLCBpZ25vcmUgdGhlIHdvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hsaWdodFJlYXNvbiA9IGNvZGVQb2ludEhpZ2hsaWdodGVyLnNob3VsZEhpZ2hsaWdodE5vbkJhc2ljQVNDSUkoc3RyLCB3b3JkID8gd29yZC53b3JkIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoaWdobGlnaHRSZWFzb24gIT09IDAgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLk5vbmUgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoaWdobGlnaHRSZWFzb24gPT09IDMgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLkFtYmlndW91cyAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFtYmlndW91c0NoYXJhY3RlckNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChoaWdobGlnaHRSZWFzb24gPT09IDIgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLkludmlzaWJsZSAqLykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmlzaWJsZUNoYXJhY3RlckNvdW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChoaWdobGlnaHRSZWFzb24gPT09IDEgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLk5vbkJhc2ljQVNDSUkgKi8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub25CYXNpY0FzY2lpQ2hhcmFjdGVyQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzc2VydE5ldmVyKGhpZ2hsaWdodFJlYXNvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBNQVhfUkVTVUxUX0xFTkdUSCA9IDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2VzLmxlbmd0aCA+PSBNQVhfUkVTVUxUX0xFTkdUSCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrIGZvckxvb3A7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZXMucHVzaChuZXcgUmFuZ2UobGluZU51bWJlciwgc3RhcnRJbmRleCArIDEsIGxpbmVOdW1iZXIsIGVuZEluZGV4ICsgMSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAobSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJhbmdlcyxcbiAgICAgICAgICAgIGhhc01vcmUsXG4gICAgICAgICAgICBhbWJpZ3VvdXNDaGFyYWN0ZXJDb3VudCxcbiAgICAgICAgICAgIGludmlzaWJsZUNoYXJhY3RlckNvdW50LFxuICAgICAgICAgICAgbm9uQmFzaWNBc2NpaUNoYXJhY3RlckNvdW50XG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBjb21wdXRlVW5pY29kZUhpZ2hsaWdodFJlYXNvbihjaGFyLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvZGVQb2ludEhpZ2hsaWdodGVyID0gbmV3IENvZGVQb2ludEhpZ2hsaWdodGVyKG9wdGlvbnMpO1xuICAgICAgICBjb25zdCByZWFzb24gPSBjb2RlUG9pbnRIaWdobGlnaHRlci5zaG91bGRIaWdobGlnaHROb25CYXNpY0FTQ0lJKGNoYXIsIG51bGwpO1xuICAgICAgICBzd2l0Y2ggKHJlYXNvbikge1xuICAgICAgICAgICAgY2FzZSAwIC8qIFNpbXBsZUhpZ2hsaWdodFJlYXNvbi5Ob25lICovOlxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY2FzZSAyIC8qIFNpbXBsZUhpZ2hsaWdodFJlYXNvbi5JbnZpc2libGUgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsga2luZDogMSAvKiBVbmljb2RlSGlnaGxpZ2h0ZXJSZWFzb25LaW5kLkludmlzaWJsZSAqLyB9O1xuICAgICAgICAgICAgY2FzZSAzIC8qIFNpbXBsZUhpZ2hsaWdodFJlYXNvbi5BbWJpZ3VvdXMgKi86IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlUG9pbnQgPSBjaGFyLmNvZGVQb2ludEF0KDApO1xuICAgICAgICAgICAgICAgIGNvbnN0IHByaW1hcnlDb25mdXNhYmxlID0gY29kZVBvaW50SGlnaGxpZ2h0ZXIuYW1iaWd1b3VzQ2hhcmFjdGVycy5nZXRQcmltYXJ5Q29uZnVzYWJsZShjb2RlUG9pbnQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdEFtYmlndW91c0luTG9jYWxlcyA9IHN0cmluZ3MuQW1iaWd1b3VzQ2hhcmFjdGVycy5nZXRMb2NhbGVzKCkuZmlsdGVyKChsKSA9PiAhc3RyaW5ncy5BbWJpZ3VvdXNDaGFyYWN0ZXJzLmdldEluc3RhbmNlKG5ldyBTZXQoWy4uLm9wdGlvbnMuYWxsb3dlZExvY2FsZXMsIGxdKSkuaXNBbWJpZ3VvdXMoY29kZVBvaW50KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsga2luZDogMCAvKiBVbmljb2RlSGlnaGxpZ2h0ZXJSZWFzb25LaW5kLkFtYmlndW91cyAqLywgY29uZnVzYWJsZVdpdGg6IFN0cmluZy5mcm9tQ29kZVBvaW50KHByaW1hcnlDb25mdXNhYmxlKSwgbm90QW1iaWd1b3VzSW5Mb2NhbGVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIDEgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLk5vbkJhc2ljQVNDSUkgKi86XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsga2luZDogMiAvKiBVbmljb2RlSGlnaGxpZ2h0ZXJSZWFzb25LaW5kLk5vbkJhc2ljQXNjaWkgKi8gfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGJ1aWxkUmVnRXhwQ2hhckNsYXNzRXhwcihjb2RlUG9pbnRzLCBmbGFncykge1xuICAgIGNvbnN0IHNyYyA9IGBbJHtzdHJpbmdzLmVzY2FwZVJlZ0V4cENoYXJhY3RlcnMoY29kZVBvaW50cy5tYXAoKGkpID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KGkpKS5qb2luKCcnKSl9XWA7XG4gICAgcmV0dXJuIHNyYztcbn1cbmNsYXNzIENvZGVQb2ludEhpZ2hsaWdodGVyIHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYWxsb3dlZENvZGVQb2ludHMgPSBuZXcgU2V0KG9wdGlvbnMuYWxsb3dlZENvZGVQb2ludHMpO1xuICAgICAgICB0aGlzLmFtYmlndW91c0NoYXJhY3RlcnMgPSBzdHJpbmdzLkFtYmlndW91c0NoYXJhY3RlcnMuZ2V0SW5zdGFuY2UobmV3IFNldChvcHRpb25zLmFsbG93ZWRMb2NhbGVzKSk7XG4gICAgfVxuICAgIGdldENhbmRpZGF0ZUNvZGVQb2ludHMoKSB7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9uQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgcmV0dXJuICdhbGxOb25CYXNpY0FzY2lpJztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXQgPSBuZXcgU2V0KCk7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW52aXNpYmxlQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjcCBvZiBzdHJpbmdzLkludmlzaWJsZUNoYXJhY3RlcnMuY29kZVBvaW50cykge1xuICAgICAgICAgICAgICAgIGlmICghaXNBbGxvd2VkSW52aXNpYmxlQ2hhcmFjdGVyKFN0cmluZy5mcm9tQ29kZVBvaW50KGNwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0LmFkZChjcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW1iaWd1b3VzQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBjcCBvZiB0aGlzLmFtYmlndW91c0NoYXJhY3RlcnMuZ2V0Q29uZnVzYWJsZUNvZGVQb2ludHMoKSkge1xuICAgICAgICAgICAgICAgIHNldC5hZGQoY3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY3Agb2YgdGhpcy5hbGxvd2VkQ29kZVBvaW50cykge1xuICAgICAgICAgICAgc2V0LmRlbGV0ZShjcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9XG4gICAgc2hvdWxkSGlnaGxpZ2h0Tm9uQmFzaWNBU0NJSShjaGFyYWN0ZXIsIHdvcmRDb250ZXh0KSB7XG4gICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IGNoYXJhY3Rlci5jb2RlUG9pbnRBdCgwKTtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dlZENvZGVQb2ludHMuaGFzKGNvZGVQb2ludCkpIHtcbiAgICAgICAgICAgIHJldHVybiAwIC8qIFNpbXBsZUhpZ2hsaWdodFJlYXNvbi5Ob25lICovO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubm9uQmFzaWNBU0NJSSkge1xuICAgICAgICAgICAgcmV0dXJuIDEgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLk5vbkJhc2ljQVNDSUkgKi87XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGhhc0Jhc2ljQVNDSUlDaGFyYWN0ZXJzID0gZmFsc2U7XG4gICAgICAgIGxldCBoYXNOb25Db25mdXNhYmxlTm9uQmFzaWNBc2NpaUNoYXJhY3RlciA9IGZhbHNlO1xuICAgICAgICBpZiAod29yZENvbnRleHQpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hhciBvZiB3b3JkQ29udGV4dCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvZGVQb2ludCA9IGNoYXIuY29kZVBvaW50QXQoMCk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNCYXNpY0FTQ0lJID0gc3RyaW5ncy5pc0Jhc2ljQVNDSUkoY2hhcik7XG4gICAgICAgICAgICAgICAgaGFzQmFzaWNBU0NJSUNoYXJhY3RlcnMgPSBoYXNCYXNpY0FTQ0lJQ2hhcmFjdGVycyB8fCBpc0Jhc2ljQVNDSUk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc0Jhc2ljQVNDSUkgJiZcbiAgICAgICAgICAgICAgICAgICAgIXRoaXMuYW1iaWd1b3VzQ2hhcmFjdGVycy5pc0FtYmlndW91cyhjb2RlUG9pbnQpICYmXG4gICAgICAgICAgICAgICAgICAgICFzdHJpbmdzLkludmlzaWJsZUNoYXJhY3RlcnMuaXNJbnZpc2libGVDaGFyYWN0ZXIoY29kZVBvaW50KSkge1xuICAgICAgICAgICAgICAgICAgICBoYXNOb25Db25mdXNhYmxlTm9uQmFzaWNBc2NpaUNoYXJhY3RlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChcbiAgICAgICAgLyogRG9uJ3QgYWxsb3cgbWl4aW5nIHdlaXJkIGxvb2tpbmcgY2hhcmFjdGVycyB3aXRoIEFTQ0lJICovICFoYXNCYXNpY0FTQ0lJQ2hhcmFjdGVycyAmJlxuICAgICAgICAgICAgLyogSXMgdGhlcmUgYW4gb2J2aW91c2x5IHdlaXJkIGxvb2tpbmcgY2hhcmFjdGVyPyAqLyBoYXNOb25Db25mdXNhYmxlTm9uQmFzaWNBc2NpaUNoYXJhY3Rlcikge1xuICAgICAgICAgICAgcmV0dXJuIDAgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLk5vbmUgKi87XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5pbnZpc2libGVDaGFyYWN0ZXJzKSB7XG4gICAgICAgICAgICAvLyBUT0RPIGNoZWNrIGZvciBlbW9qaXNcbiAgICAgICAgICAgIGlmICghaXNBbGxvd2VkSW52aXNpYmxlQ2hhcmFjdGVyKGNoYXJhY3RlcikgJiYgc3RyaW5ncy5JbnZpc2libGVDaGFyYWN0ZXJzLmlzSW52aXNpYmxlQ2hhcmFjdGVyKGNvZGVQb2ludCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMiAvKiBTaW1wbGVIaWdobGlnaHRSZWFzb24uSW52aXNpYmxlICovO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW1iaWd1b3VzQ2hhcmFjdGVycykge1xuICAgICAgICAgICAgaWYgKHRoaXMuYW1iaWd1b3VzQ2hhcmFjdGVycy5pc0FtYmlndW91cyhjb2RlUG9pbnQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDMgLyogU2ltcGxlSGlnaGxpZ2h0UmVhc29uLkFtYmlndW91cyAqLztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMCAvKiBTaW1wbGVIaWdobGlnaHRSZWFzb24uTm9uZSAqLztcbiAgICB9XG59XG5mdW5jdGlvbiBpc0FsbG93ZWRJbnZpc2libGVDaGFyYWN0ZXIoY2hhcmFjdGVyKSB7XG4gICAgcmV0dXJuIGNoYXJhY3RlciA9PT0gJyAnIHx8IGNoYXJhY3RlciA9PT0gJ1xcbicgfHwgY2hhcmFjdGVyID09PSAnXFx0Jztcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGNsYXNzIExpbmVzRGlmZiB7XG4gICAgY29uc3RydWN0b3IoY2hhbmdlcywgXG4gICAgLyoqXG4gICAgICogU29ydGVkIGJ5IG9yaWdpbmFsIGxpbmUgcmFuZ2VzLlxuICAgICAqIFRoZSBvcmlnaW5hbCBsaW5lIHJhbmdlcyBhbmQgdGhlIG1vZGlmaWVkIGxpbmUgcmFuZ2VzIG11c3QgYmUgZGlzam9pbnQgKGJ1dCBjYW4gYmUgdG91Y2hpbmcpLlxuICAgICAqL1xuICAgIG1vdmVzLCBcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHRpbWUgb3V0IHdhcyByZWFjaGVkLlxuICAgICAqIEluIHRoYXQgY2FzZSwgdGhlIGRpZmZzIG1pZ2h0IGJlIGFuIGFwcHJveGltYXRpb24gYW5kIHRoZSB1c2VyIHNob3VsZCBiZSBhc2tlZCB0byByZXJ1biB0aGUgZGlmZiB3aXRoIG1vcmUgdGltZS5cbiAgICAgKi9cbiAgICBoaXRUaW1lb3V0KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICAgIHRoaXMubW92ZXMgPSBtb3ZlcztcbiAgICAgICAgdGhpcy5oaXRUaW1lb3V0ID0gaGl0VGltZW91dDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTW92ZWRUZXh0IHtcbiAgICBjb25zdHJ1Y3RvcihsaW5lUmFuZ2VNYXBwaW5nLCBjaGFuZ2VzKSB7XG4gICAgICAgIHRoaXMubGluZVJhbmdlTWFwcGluZyA9IGxpbmVSYW5nZU1hcHBpbmc7XG4gICAgICAgIHRoaXMuY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBCdWdJbmRpY2F0aW5nRXJyb3IgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuLyoqXG4gKiBBIHJhbmdlIG9mIG9mZnNldHMgKDAtYmFzZWQpLlxuKi9cbmV4cG9ydCBjbGFzcyBPZmZzZXRSYW5nZSB7XG4gICAgc3RhdGljIGFkZFJhbmdlKHJhbmdlLCBzb3J0ZWRSYW5nZXMpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHNvcnRlZFJhbmdlcy5sZW5ndGggJiYgc29ydGVkUmFuZ2VzW2ldLmVuZEV4Y2x1c2l2ZSA8IHJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGogPSBpO1xuICAgICAgICB3aGlsZSAoaiA8IHNvcnRlZFJhbmdlcy5sZW5ndGggJiYgc29ydGVkUmFuZ2VzW2pdLnN0YXJ0IDw9IHJhbmdlLmVuZEV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgICBzb3J0ZWRSYW5nZXMuc3BsaWNlKGksIDAsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5taW4ocmFuZ2Uuc3RhcnQsIHNvcnRlZFJhbmdlc1tpXS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1heChyYW5nZS5lbmRFeGNsdXNpdmUsIHNvcnRlZFJhbmdlc1tqIC0gMV0uZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgICAgIHNvcnRlZFJhbmdlcy5zcGxpY2UoaSwgaiAtIGksIG5ldyBPZmZzZXRSYW5nZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIHRyeUNyZWF0ZShzdGFydCwgZW5kRXhjbHVzaXZlKSB7XG4gICAgICAgIGlmIChzdGFydCA+IGVuZEV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9mZnNldFJhbmdlKHN0YXJ0LCBlbmRFeGNsdXNpdmUpO1xuICAgIH1cbiAgICBzdGF0aWMgb2ZMZW5ndGgobGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2Zmc2V0UmFuZ2UoMCwgbGVuZ3RoKTtcbiAgICB9XG4gICAgc3RhdGljIG9mU3RhcnRBbmRMZW5ndGgoc3RhcnQsIGxlbmd0aCkge1xuICAgICAgICByZXR1cm4gbmV3IE9mZnNldFJhbmdlKHN0YXJ0LCBzdGFydCArIGxlbmd0aCk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0LCBlbmRFeGNsdXNpdmUpIHtcbiAgICAgICAgdGhpcy5zdGFydCA9IHN0YXJ0O1xuICAgICAgICB0aGlzLmVuZEV4Y2x1c2l2ZSA9IGVuZEV4Y2x1c2l2ZTtcbiAgICAgICAgaWYgKHN0YXJ0ID4gZW5kRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKGBJbnZhbGlkIHJhbmdlOiAke3RoaXMudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPT09IHRoaXMuZW5kRXhjbHVzaXZlO1xuICAgIH1cbiAgICBkZWx0YShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPZmZzZXRSYW5nZSh0aGlzLnN0YXJ0ICsgb2Zmc2V0LCB0aGlzLmVuZEV4Y2x1c2l2ZSArIG9mZnNldCk7XG4gICAgfVxuICAgIGRlbHRhU3RhcnQob2Zmc2V0KSB7XG4gICAgICAgIHJldHVybiBuZXcgT2Zmc2V0UmFuZ2UodGhpcy5zdGFydCArIG9mZnNldCwgdGhpcy5lbmRFeGNsdXNpdmUpO1xuICAgIH1cbiAgICBkZWx0YUVuZChvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPZmZzZXRSYW5nZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZEV4Y2x1c2l2ZSArIG9mZnNldCk7XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVuZEV4Y2x1c2l2ZSAtIHRoaXMuc3RhcnQ7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYFske3RoaXMuc3RhcnR9LCAke3RoaXMuZW5kRXhjbHVzaXZlfSlgO1xuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPT09IG90aGVyLnN0YXJ0ICYmIHRoaXMuZW5kRXhjbHVzaXZlID09PSBvdGhlci5lbmRFeGNsdXNpdmU7XG4gICAgfVxuICAgIGNvbnRhaW5zUmFuZ2Uob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPD0gb3RoZXIuc3RhcnQgJiYgb3RoZXIuZW5kRXhjbHVzaXZlIDw9IHRoaXMuZW5kRXhjbHVzaXZlO1xuICAgIH1cbiAgICBjb250YWlucyhvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPD0gb2Zmc2V0ICYmIG9mZnNldCA8IHRoaXMuZW5kRXhjbHVzaXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBmb3IgYWxsIG51bWJlcnMgbjogcmFuZ2UxLmNvbnRhaW5zKG4pIG9yIHJhbmdlMi5jb250YWlucyhuKSA9PiByYW5nZTEuam9pbihyYW5nZTIpLmNvbnRhaW5zKG4pXG4gICAgICogVGhlIGpvaW5lZCByYW5nZSBpcyB0aGUgc21hbGxlc3QgcmFuZ2UgdGhhdCBjb250YWlucyBib3RoIHJhbmdlcy5cbiAgICAgKi9cbiAgICBqb2luKG90aGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2Zmc2V0UmFuZ2UoTWF0aC5taW4odGhpcy5zdGFydCwgb3RoZXIuc3RhcnQpLCBNYXRoLm1heCh0aGlzLmVuZEV4Y2x1c2l2ZSwgb3RoZXIuZW5kRXhjbHVzaXZlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGZvciBhbGwgbnVtYmVycyBuOiByYW5nZTEuY29udGFpbnMobikgYW5kIHJhbmdlMi5jb250YWlucyhuKSA8PT4gcmFuZ2UxLmludGVyc2VjdChyYW5nZTIpLmNvbnRhaW5zKG4pXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0aW5nIHJhbmdlIGlzIGVtcHR5IGlmIHRoZSByYW5nZXMgZG8gbm90IGludGVyc2VjdCwgYnV0IHRvdWNoLlxuICAgICAqIElmIHRoZSByYW5nZXMgZG9uJ3QgZXZlbiB0b3VjaCwgdGhlIHJlc3VsdCBpcyB1bmRlZmluZWQuXG4gICAgICovXG4gICAgaW50ZXJzZWN0KG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5tYXgodGhpcy5zdGFydCwgb3RoZXIuc3RhcnQpO1xuICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1pbih0aGlzLmVuZEV4Y2x1c2l2ZSwgb3RoZXIuZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgaWYgKHN0YXJ0IDw9IGVuZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPZmZzZXRSYW5nZShzdGFydCwgZW5kKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpc0JlZm9yZShvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmRFeGNsdXNpdmUgPD0gb3RoZXIuc3RhcnQ7XG4gICAgfVxuICAgIGlzQWZ0ZXIob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQgPj0gb3RoZXIuZW5kRXhjbHVzaXZlO1xuICAgIH1cbiAgICBzbGljZShhcnIpIHtcbiAgICAgICAgcmV0dXJuIGFyci5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLmVuZEV4Y2x1c2l2ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGdpdmVuIHZhbHVlIGlmIGl0IGlzIGNvbnRhaW5lZCBpbiB0aGlzIGluc3RhbmNlLCBvdGhlcndpc2UgdGhlIGNsb3Nlc3QgdmFsdWUgdGhhdCBpcyBjb250YWluZWQuXG4gICAgICogVGhlIHJhbmdlIG11c3Qgbm90IGJlIGVtcHR5LlxuICAgICAqL1xuICAgIGNsaXAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcihgSW52YWxpZCBjbGlwcGluZyByYW5nZTogJHt0aGlzLnRvU3RyaW5nKCl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuc3RhcnQsIE1hdGgubWluKHRoaXMuZW5kRXhjbHVzaXZlIC0gMSwgdmFsdWUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgciA6PSB2YWx1ZSArIGsgKiBsZW5ndGhgIHN1Y2ggdGhhdCBgcmAgaXMgY29udGFpbmVkIGluIHRoaXMgcmFuZ2UuXG4gICAgICogVGhlIHJhbmdlIG11c3Qgbm90IGJlIGVtcHR5LlxuICAgICAqXG4gICAgICogRS5nLiBgWzUsIDEwKS5jbGlwQ3ljbGljKDEwKSA9PT0gNWAsIGBbNSwgMTApLmNsaXBDeWNsaWMoMTEpID09PSA2YCBhbmQgYFs1LCAxMCkuY2xpcEN5Y2xpYyg0KSA9PT0gOWAuXG4gICAgICovXG4gICAgY2xpcEN5Y2xpYyh2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5pc0VtcHR5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKGBJbnZhbGlkIGNsaXBwaW5nIHJhbmdlOiAke3RoaXMudG9TdHJpbmcoKX1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbmRFeGNsdXNpdmUgLSAoKHRoaXMuc3RhcnQgLSB2YWx1ZSkgJSB0aGlzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID49IHRoaXMuZW5kRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGFydCArICgodmFsdWUgLSB0aGlzLnN0YXJ0KSAlIHRoaXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGZvckVhY2goZikge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5zdGFydDsgaSA8IHRoaXMuZW5kRXhjbHVzaXZlOyBpKyspIHtcbiAgICAgICAgICAgIGYoaSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgT2Zmc2V0UmFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9zb3J0ZWRSYW5nZXMgPSBbXTtcbiAgICB9XG4gICAgYWRkUmFuZ2UocmFuZ2UpIHtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRoaXMuX3NvcnRlZFJhbmdlcy5sZW5ndGggJiYgdGhpcy5fc29ydGVkUmFuZ2VzW2ldLmVuZEV4Y2x1c2l2ZSA8IHJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGogPSBpO1xuICAgICAgICB3aGlsZSAoaiA8IHRoaXMuX3NvcnRlZFJhbmdlcy5sZW5ndGggJiYgdGhpcy5fc29ydGVkUmFuZ2VzW2pdLnN0YXJ0IDw9IHJhbmdlLmVuZEV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgaisrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpID09PSBqKSB7XG4gICAgICAgICAgICB0aGlzLl9zb3J0ZWRSYW5nZXMuc3BsaWNlKGksIDAsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gTWF0aC5taW4ocmFuZ2Uuc3RhcnQsIHRoaXMuX3NvcnRlZFJhbmdlc1tpXS5zdGFydCk7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBNYXRoLm1heChyYW5nZS5lbmRFeGNsdXNpdmUsIHRoaXMuX3NvcnRlZFJhbmdlc1tqIC0gMV0uZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgICAgIHRoaXMuX3NvcnRlZFJhbmdlcy5zcGxpY2UoaSwgaiAtIGksIG5ldyBPZmZzZXRSYW5nZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zb3J0ZWRSYW5nZXMubWFwKHIgPT4gci50b1N0cmluZygpKS5qb2luKCcsICcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIG9mIHRoZXJlIGlzIGEgdmFsdWUgdGhhdCBpcyBjb250YWluZWQgaW4gdGhpcyBpbnN0YW5jZSBhbmQgdGhlIGdpdmVuIHJhbmdlLlxuICAgICAqL1xuICAgIGludGVyc2VjdHNTdHJpY3Qob3RoZXIpIHtcbiAgICAgICAgLy8gVE9ETyB1c2UgYmluYXJ5IHNlYXJjaFxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5fc29ydGVkUmFuZ2VzLmxlbmd0aCAmJiB0aGlzLl9zb3J0ZWRSYW5nZXNbaV0uZW5kRXhjbHVzaXZlIDw9IG90aGVyLnN0YXJ0KSB7XG4gICAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGkgPCB0aGlzLl9zb3J0ZWRSYW5nZXMubGVuZ3RoICYmIHRoaXMuX3NvcnRlZFJhbmdlc1tpXS5zdGFydCA8IG90aGVyLmVuZEV4Y2x1c2l2ZTtcbiAgICB9XG4gICAgaW50ZXJzZWN0V2l0aFJhbmdlKG90aGVyKSB7XG4gICAgICAgIC8vIFRPRE8gdXNlIGJpbmFyeSBzZWFyY2ggKyBzbGljZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBuZXcgT2Zmc2V0UmFuZ2VTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiB0aGlzLl9zb3J0ZWRSYW5nZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGludGVyc2VjdGlvbiA9IHJhbmdlLmludGVyc2VjdChvdGhlcik7XG4gICAgICAgICAgICBpZiAoaW50ZXJzZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LmFkZFJhbmdlKGludGVyc2VjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaW50ZXJzZWN0V2l0aFJhbmdlTGVuZ3RoKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludGVyc2VjdFdpdGhSYW5nZShvdGhlcikubGVuZ3RoO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc29ydGVkUmFuZ2VzLnJlZHVjZSgocHJldiwgY3VyKSA9PiBwcmV2ICsgY3VyLmxlbmd0aCwgMCk7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5leHBvcnQgZnVuY3Rpb24gZmluZExhc3QoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUlkeCkge1xuICAgIGNvbnN0IGlkeCA9IGZpbmRMYXN0SWR4KGFycmF5LCBwcmVkaWNhdGUpO1xuICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBhcnJheVtpZHhdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0SWR4KGFycmF5LCBwcmVkaWNhdGUsIGZyb21JbmRleCA9IGFycmF5Lmxlbmd0aCAtIDEpIHtcbiAgICBmb3IgKGxldCBpID0gZnJvbUluZGV4OyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgICAgIGlmIChwcmVkaWNhdGUoZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn1cbi8qKlxuICogRmluZHMgdGhlIGxhc3QgaXRlbSB3aGVyZSBwcmVkaWNhdGUgaXMgdHJ1ZSB1c2luZyBiaW5hcnkgc2VhcmNoLlxuICogYHByZWRpY2F0ZWAgbXVzdCBiZSBtb25vdG9ub3VzLCBpLmUuIGBhcnIubWFwKHByZWRpY2F0ZSlgIG11c3QgYmUgbGlrZSBgW3RydWUsIC4uLiwgdHJ1ZSwgZmFsc2UsIC4uLiwgZmFsc2VdYCFcbiAqXG4gKiBAcmV0dXJucyBgdW5kZWZpbmVkYCBpZiBubyBpdGVtIG1hdGNoZXMsIG90aGVyd2lzZSB0aGUgbGFzdCBpdGVtIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZExhc3RNb25vdG9ub3VzKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICBjb25zdCBpZHggPSBmaW5kTGFzdElkeE1vbm90b25vdXMoYXJyYXksIHByZWRpY2F0ZSk7XG4gICAgcmV0dXJuIGlkeCA9PT0gLTEgPyB1bmRlZmluZWQgOiBhcnJheVtpZHhdO1xufVxuLyoqXG4gKiBGaW5kcyB0aGUgbGFzdCBpdGVtIHdoZXJlIHByZWRpY2F0ZSBpcyB0cnVlIHVzaW5nIGJpbmFyeSBzZWFyY2guXG4gKiBgcHJlZGljYXRlYCBtdXN0IGJlIG1vbm90b25vdXMsIGkuZS4gYGFyci5tYXAocHJlZGljYXRlKWAgbXVzdCBiZSBsaWtlIGBbdHJ1ZSwgLi4uLCB0cnVlLCBmYWxzZSwgLi4uLCBmYWxzZV1gIVxuICpcbiAqIEByZXR1cm5zIGBzdGFydElkeCAtIDFgIGlmIHByZWRpY2F0ZSBpcyBmYWxzZSBmb3IgYWxsIGl0ZW1zLCBvdGhlcndpc2UgdGhlIGluZGV4IG9mIHRoZSBsYXN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBwcmVkaWNhdGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kTGFzdElkeE1vbm90b25vdXMoYXJyYXksIHByZWRpY2F0ZSwgc3RhcnRJZHggPSAwLCBlbmRJZHhFeCA9IGFycmF5Lmxlbmd0aCkge1xuICAgIGxldCBpID0gc3RhcnRJZHg7XG4gICAgbGV0IGogPSBlbmRJZHhFeDtcbiAgICB3aGlsZSAoaSA8IGopIHtcbiAgICAgICAgY29uc3QgayA9IE1hdGguZmxvb3IoKGkgKyBqKSAvIDIpO1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2tdKSkge1xuICAgICAgICAgICAgaSA9IGsgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaiA9IGs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGkgLSAxO1xufVxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgaXRlbSB3aGVyZSBwcmVkaWNhdGUgaXMgdHJ1ZSB1c2luZyBiaW5hcnkgc2VhcmNoLlxuICogYHByZWRpY2F0ZWAgbXVzdCBiZSBtb25vdG9ub3VzLCBpLmUuIGBhcnIubWFwKHByZWRpY2F0ZSlgIG11c3QgYmUgbGlrZSBgW2ZhbHNlLCAuLi4sIGZhbHNlLCB0cnVlLCAuLi4sIHRydWVdYCFcbiAqXG4gKiBAcmV0dXJucyBgdW5kZWZpbmVkYCBpZiBubyBpdGVtIG1hdGNoZXMsIG90aGVyd2lzZSB0aGUgZmlyc3QgaXRlbSB0aGF0IG1hdGNoZXMgdGhlIHByZWRpY2F0ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRGaXJzdE1vbm90b25vdXMoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgIGNvbnN0IGlkeCA9IGZpbmRGaXJzdElkeE1vbm90b25vdXNPckFyckxlbihhcnJheSwgcHJlZGljYXRlKTtcbiAgICByZXR1cm4gaWR4ID09PSBhcnJheS5sZW5ndGggPyB1bmRlZmluZWQgOiBhcnJheVtpZHhdO1xufVxuLyoqXG4gKiBGaW5kcyB0aGUgZmlyc3QgaXRlbSB3aGVyZSBwcmVkaWNhdGUgaXMgdHJ1ZSB1c2luZyBiaW5hcnkgc2VhcmNoLlxuICogYHByZWRpY2F0ZWAgbXVzdCBiZSBtb25vdG9ub3VzLCBpLmUuIGBhcnIubWFwKHByZWRpY2F0ZSlgIG11c3QgYmUgbGlrZSBgW2ZhbHNlLCAuLi4sIGZhbHNlLCB0cnVlLCAuLi4sIHRydWVdYCFcbiAqXG4gKiBAcmV0dXJucyBgZW5kSWR4RXhgIGlmIHByZWRpY2F0ZSBpcyBmYWxzZSBmb3IgYWxsIGl0ZW1zLCBvdGhlcndpc2UgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCBpdGVtIHRoYXQgbWF0Y2hlcyB0aGUgcHJlZGljYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZpcnN0SWR4TW9ub3Rvbm91c09yQXJyTGVuKGFycmF5LCBwcmVkaWNhdGUsIHN0YXJ0SWR4ID0gMCwgZW5kSWR4RXggPSBhcnJheS5sZW5ndGgpIHtcbiAgICBsZXQgaSA9IHN0YXJ0SWR4O1xuICAgIGxldCBqID0gZW5kSWR4RXg7XG4gICAgd2hpbGUgKGkgPCBqKSB7XG4gICAgICAgIGNvbnN0IGsgPSBNYXRoLmZsb29yKChpICsgaikgLyAyKTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtrXSkpIHtcbiAgICAgICAgICAgIGogPSBrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaSA9IGsgKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpO1xufVxuLyoqXG4gKiBVc2UgdGhpcyB3aGVuXG4gKiAqIFlvdSBoYXZlIGEgc29ydGVkIGFycmF5XG4gKiAqIFlvdSBxdWVyeSB0aGlzIGFycmF5IHdpdGggYSBtb25vdG9ub3VzIHByZWRpY2F0ZSB0byBmaW5kIHRoZSBsYXN0IGl0ZW0gdGhhdCBoYXMgYSBjZXJ0YWluIHByb3BlcnR5LlxuICogKiBZb3UgcXVlcnkgdGhpcyBhcnJheSBtdWx0aXBsZSB0aW1lcyB3aXRoIG1vbm90b25vdXMgcHJlZGljYXRlcyB0aGF0IGdldCB3ZWFrZXIgYW5kIHdlYWtlci5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vbm90b25vdXNBcnJheSB7XG4gICAgY29uc3RydWN0b3IoX2FycmF5KSB7XG4gICAgICAgIHRoaXMuX2FycmF5ID0gX2FycmF5O1xuICAgICAgICB0aGlzLl9maW5kTGFzdE1vbm90b25vdXNMYXN0SWR4ID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHByZWRpY2F0ZSBtdXN0IGJlIG1vbm90b25vdXMsIGkuZS4gYGFyci5tYXAocHJlZGljYXRlKWAgbXVzdCBiZSBsaWtlIGBbdHJ1ZSwgLi4uLCB0cnVlLCBmYWxzZSwgLi4uLCBmYWxzZV1gIVxuICAgICAqIEZvciBzdWJzZXF1ZW50IGNhbGxzLCBjdXJyZW50IHByZWRpY2F0ZSBtdXN0IGJlIHdlYWtlciB0aGFuIChvciBlcXVhbCB0bykgdGhlIHByZXZpb3VzIHByZWRpY2F0ZSwgaS5lLiBtb3JlIGVudHJpZXMgbXVzdCBiZSBgdHJ1ZWAuXG4gICAgICovXG4gICAgZmluZExhc3RNb25vdG9ub3VzKHByZWRpY2F0ZSkge1xuICAgICAgICBpZiAoTW9ub3Rvbm91c0FycmF5LmFzc2VydEludmFyaWFudHMpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9wcmV2RmluZExhc3RQcmVkaWNhdGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy5fYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX3ByZXZGaW5kTGFzdFByZWRpY2F0ZShpdGVtKSAmJiAhcHJlZGljYXRlKGl0ZW0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vbm90b25vdXNBcnJheTogY3VycmVudCBwcmVkaWNhdGUgbXVzdCBiZSB3ZWFrZXIgdGhhbiAob3IgZXF1YWwgdG8pIHRoZSBwcmV2aW91cyBwcmVkaWNhdGUuJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9wcmV2RmluZExhc3RQcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWR4ID0gZmluZExhc3RJZHhNb25vdG9ub3VzKHRoaXMuX2FycmF5LCBwcmVkaWNhdGUsIHRoaXMuX2ZpbmRMYXN0TW9ub3Rvbm91c0xhc3RJZHgpO1xuICAgICAgICB0aGlzLl9maW5kTGFzdE1vbm90b25vdXNMYXN0SWR4ID0gaWR4ICsgMTtcbiAgICAgICAgcmV0dXJuIGlkeCA9PT0gLTEgPyB1bmRlZmluZWQgOiB0aGlzLl9hcnJheVtpZHhdO1xuICAgIH1cbn1cbk1vbm90b25vdXNBcnJheS5hc3NlcnRJbnZhcmlhbnRzID0gZmFsc2U7XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGl0ZW0gdGhhdCBpcyBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gZXZlcnkgb3RoZXIgaXRlbS5cbiovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZpcnN0TWF4QnkoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBtYXggPSBhcnJheVswXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKGNvbXBhcmF0b3IoaXRlbSwgbWF4KSA+IDApIHtcbiAgICAgICAgICAgIG1heCA9IGl0ZW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgbGFzdCBpdGVtIHRoYXQgaXMgZXF1YWwgdG8gb3IgZ3JlYXRlciB0aGFuIGV2ZXJ5IG90aGVyIGl0ZW0uXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbmRMYXN0TWF4QnkoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICBpZiAoYXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGxldCBtYXggPSBhcnJheVswXTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBhcnJheVtpXTtcbiAgICAgICAgaWYgKGNvbXBhcmF0b3IoaXRlbSwgbWF4KSA+PSAwKSB7XG4gICAgICAgICAgICBtYXggPSBpdGVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXg7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGl0ZW0gdGhhdCBpcyBlcXVhbCB0byBvciBsZXNzIHRoYW4gZXZlcnkgb3RoZXIgaXRlbS5cbiovXG5leHBvcnQgZnVuY3Rpb24gZmluZEZpcnN0TWluQnkoYXJyYXksIGNvbXBhcmF0b3IpIHtcbiAgICByZXR1cm4gZmluZEZpcnN0TWF4QnkoYXJyYXksIChhLCBiKSA9PiAtY29tcGFyYXRvcihhLCBiKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZmluZE1heElkeEJ5KGFycmF5LCBjb21wYXJhdG9yKSB7XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuICAgIGxldCBtYXhJZHggPSAwO1xuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IGFycmF5W2ldO1xuICAgICAgICBpZiAoY29tcGFyYXRvcihpdGVtLCBhcnJheVttYXhJZHhdKSA+IDApIHtcbiAgICAgICAgICAgIG1heElkeCA9IGk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1heElkeDtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgbWFwcGVkIHZhbHVlIG9mIHRoZSBhcnJheSB3aGljaCBpcyBub3QgdW5kZWZpbmVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWFwRmluZEZpcnN0KGl0ZW1zLCBtYXBGbikge1xuICAgIGZvciAoY29uc3QgdmFsdWUgb2YgaXRlbXMpIHtcbiAgICAgICAgY29uc3QgbWFwcGVkID0gbWFwRm4odmFsdWUpO1xuICAgICAgICBpZiAobWFwcGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQnVnSW5kaWNhdGluZ0Vycm9yIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZXJyb3JzLmpzJztcbmltcG9ydCB7IE9mZnNldFJhbmdlIH0gZnJvbSAnLi9vZmZzZXRSYW5nZS5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4vcmFuZ2UuanMnO1xuaW1wb3J0IHsgZmluZEZpcnN0SWR4TW9ub3Rvbm91c09yQXJyTGVuLCBmaW5kTGFzdElkeE1vbm90b25vdXMsIGZpbmRMYXN0TW9ub3Rvbm91cyB9IGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5c0ZpbmQuanMnO1xuLyoqXG4gKiBBIHJhbmdlIG9mIGxpbmVzICgxLWJhc2VkKS5cbiAqL1xuZXhwb3J0IGNsYXNzIExpbmVSYW5nZSB7XG4gICAgc3RhdGljIGZyb21SYW5nZShyYW5nZSkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZShyYW5nZS5zdGFydExpbmVOdW1iZXIsIHJhbmdlLmVuZExpbmVOdW1iZXIpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVJhbmdlSW5jbHVzaXZlKHJhbmdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZVJhbmdlKHJhbmdlLnN0YXJ0TGluZU51bWJlciwgcmFuZ2UuZW5kTGluZU51bWJlciArIDEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gbGluZVJhbmdlcyBBbiBhcnJheSBvZiBzb3J0ZWQgbGluZSByYW5nZXMuXG4gICAgICovXG4gICAgc3RhdGljIGpvaW5NYW55KGxpbmVSYW5nZXMpIHtcbiAgICAgICAgaWYgKGxpbmVSYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdCA9IG5ldyBMaW5lUmFuZ2VTZXQobGluZVJhbmdlc1swXS5zbGljZSgpKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBsaW5lUmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQuZ2V0VW5pb24obmV3IExpbmVSYW5nZVNldChsaW5lUmFuZ2VzW2ldLnNsaWNlKCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LnJhbmdlcztcbiAgICB9XG4gICAgc3RhdGljIG9mTGVuZ3RoKHN0YXJ0TGluZU51bWJlciwgbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGluZVJhbmdlKHN0YXJ0TGluZU51bWJlciwgc3RhcnRMaW5lTnVtYmVyICsgbGVuZ3RoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgc3RhdGljIGRlc2VyaWFsaXplKGxpbmVSYW5nZSkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZShsaW5lUmFuZ2VbMF0sIGxpbmVSYW5nZVsxXSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlckV4Y2x1c2l2ZSkge1xuICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyID4gZW5kTGluZU51bWJlckV4Y2x1c2l2ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEJ1Z0luZGljYXRpbmdFcnJvcihgc3RhcnRMaW5lTnVtYmVyICR7c3RhcnRMaW5lTnVtYmVyfSBjYW5ub3QgYmUgYWZ0ZXIgZW5kTGluZU51bWJlckV4Y2x1c2l2ZSAke2VuZExpbmVOdW1iZXJFeGNsdXNpdmV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGFydExpbmVOdW1iZXIgPSBzdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSA9IGVuZExpbmVOdW1iZXJFeGNsdXNpdmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyBpZiB0aGlzIGxpbmUgcmFuZ2UgY29udGFpbnMgdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICAgICAqL1xuICAgIGNvbnRhaW5zKGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRMaW5lTnVtYmVyIDw9IGxpbmVOdW1iZXIgJiYgbGluZU51bWJlciA8IHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIGlmIHRoaXMgbGluZSByYW5nZSBpcyBlbXB0eS5cbiAgICAgKi9cbiAgICBnZXQgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRMaW5lTnVtYmVyID09PSB0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vdmVzIHRoaXMgbGluZSByYW5nZSBieSB0aGUgZ2l2ZW4gb2Zmc2V0IG9mIGxpbmUgbnVtYmVycy5cbiAgICAgKi9cbiAgICBkZWx0YShvZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lUmFuZ2UodGhpcy5zdGFydExpbmVOdW1iZXIgKyBvZmZzZXQsIHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSArIG9mZnNldCk7XG4gICAgfVxuICAgIGRlbHRhTGVuZ3RoKG9mZnNldCkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZSh0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlICsgb2Zmc2V0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBsaW5lcyB0aGlzIGxpbmUgcmFuZ2Ugc3BhbnMuXG4gICAgICovXG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSAtIHRoaXMuc3RhcnRMaW5lTnVtYmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGluZSByYW5nZSB0aGF0IGNvbWJpbmVzIHRoaXMgYW5kIHRoZSBnaXZlbiBsaW5lIHJhbmdlLlxuICAgICAqL1xuICAgIGpvaW4ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lUmFuZ2UoTWF0aC5taW4odGhpcy5zdGFydExpbmVOdW1iZXIsIG90aGVyLnN0YXJ0TGluZU51bWJlciksIE1hdGgubWF4KHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgb3RoZXIuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSkpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBbJHt0aGlzLnN0YXJ0TGluZU51bWJlcn0sJHt0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmV9KWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgcmFuZ2UgaXMgZW1wdHkgaWYgdGhlIHJhbmdlcyBkbyBub3QgaW50ZXJzZWN0LCBidXQgdG91Y2guXG4gICAgICogSWYgdGhlIHJhbmdlcyBkb24ndCBldmVuIHRvdWNoLCB0aGUgcmVzdWx0IGlzIHVuZGVmaW5lZC5cbiAgICAgKi9cbiAgICBpbnRlcnNlY3Qob3RoZXIpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lTnVtYmVyID0gTWF0aC5tYXgodGhpcy5zdGFydExpbmVOdW1iZXIsIG90aGVyLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPSBNYXRoLm1pbih0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUsIG90aGVyLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpO1xuICAgICAgICBpZiAoc3RhcnRMaW5lTnVtYmVyIDw9IGVuZExpbmVOdW1iZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGluZVJhbmdlKHN0YXJ0TGluZU51bWJlciwgZW5kTGluZU51bWJlckV4Y2x1c2l2ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW50ZXJzZWN0c1N0cmljdChvdGhlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydExpbmVOdW1iZXIgPCBvdGhlci5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlICYmIG90aGVyLnN0YXJ0TGluZU51bWJlciA8IHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTtcbiAgICB9XG4gICAgb3ZlcmxhcE9yVG91Y2gob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRMaW5lTnVtYmVyIDw9IG90aGVyLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgJiYgb3RoZXIuc3RhcnRMaW5lTnVtYmVyIDw9IHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTtcbiAgICB9XG4gICAgZXF1YWxzKGIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnRMaW5lTnVtYmVyID09PSBiLnN0YXJ0TGluZU51bWJlciAmJiB0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPT09IGIuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTtcbiAgICB9XG4gICAgdG9JbmNsdXNpdmVSYW5nZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0TGluZU51bWJlciwgMSwgdGhpcy5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlIC0gMSwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuICAgIH1cbiAgICB0b0V4Y2x1c2l2ZVJhbmdlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnRMaW5lTnVtYmVyLCAxLCB0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUsIDEpO1xuICAgIH1cbiAgICBtYXBUb0xpbmVBcnJheShmKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBsaW5lTnVtYmVyID0gdGhpcy5zdGFydExpbmVOdW1iZXI7IGxpbmVOdW1iZXIgPCB0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmU7IGxpbmVOdW1iZXIrKykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goZihsaW5lTnVtYmVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZm9yRWFjaChmKSB7XG4gICAgICAgIGZvciAobGV0IGxpbmVOdW1iZXIgPSB0aGlzLnN0YXJ0TGluZU51bWJlcjsgbGluZU51bWJlciA8IHRoaXMuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTsgbGluZU51bWJlcisrKSB7XG4gICAgICAgICAgICBmKGxpbmVOdW1iZXIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHNlcmlhbGl6ZSgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnN0YXJ0TGluZU51bWJlciwgdGhpcy5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlXTtcbiAgICB9XG4gICAgaW5jbHVkZXMobGluZU51bWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGFydExpbmVOdW1iZXIgPD0gbGluZU51bWJlciAmJiBsaW5lTnVtYmVyIDwgdGhpcy5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIDEtYmFzZWQgbGluZSByYW5nZSB0byBhIDAtYmFzZWQgb2Zmc2V0IHJhbmdlIChzdWJ0cmFjdHMgMSEpLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIHRvT2Zmc2V0UmFuZ2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2Zmc2V0UmFuZ2UodGhpcy5zdGFydExpbmVOdW1iZXIgLSAxLCB0aGlzLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgLSAxKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTGluZVJhbmdlU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBTb3J0ZWQgYnkgc3RhcnQgbGluZSBudW1iZXIuXG4gICAgICogTm8gdHdvIGxpbmUgcmFuZ2VzIGFyZSB0b3VjaGluZyBvciBpbnRlcnNlY3RpbmcuXG4gICAgICovXG4gICAgX25vcm1hbGl6ZWRSYW5nZXMgPSBbXSkge1xuICAgICAgICB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzID0gX25vcm1hbGl6ZWRSYW5nZXM7XG4gICAgfVxuICAgIGdldCByYW5nZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzO1xuICAgIH1cbiAgICBhZGRSYW5nZShyYW5nZSkge1xuICAgICAgICBpZiAocmFuZ2UubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWRlYTogRmluZCBqb2luUmFuZ2Ugc3VjaCB0aGF0OlxuICAgICAgICAvLyByZXBsYWNlUmFuZ2UgPSBfbm9ybWFsaXplZFJhbmdlcy5yZXBsYWNlUmFuZ2Uoam9pblJhbmdlLCByYW5nZS5qb2luQWxsKGpvaW5SYW5nZS5tYXAoaWR4ID0+IHRoaXMuX25vcm1hbGl6ZWRSYW5nZXNbaWR4XSkpKVxuICAgICAgICAvLyBpZHggb2YgZmlyc3QgZWxlbWVudCB0aGF0IHRvdWNoZXMgcmFuZ2Ugb3IgdGhhdCBpcyBhZnRlciByYW5nZVxuICAgICAgICBjb25zdCBqb2luUmFuZ2VTdGFydElkeCA9IGZpbmRGaXJzdElkeE1vbm90b25vdXNPckFyckxlbih0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLCByID0+IHIuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSA+PSByYW5nZS5zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICAvLyBpZHggb2YgZWxlbWVudCBhZnRlciB7IGxhc3QgZWxlbWVudCB0aGF0IHRvdWNoZXMgcmFuZ2Ugb3IgdGhhdCBpcyBiZWZvcmUgcmFuZ2UgfVxuICAgICAgICBjb25zdCBqb2luUmFuZ2VFbmRJZHhFeGNsdXNpdmUgPSBmaW5kTGFzdElkeE1vbm90b25vdXModGhpcy5fbm9ybWFsaXplZFJhbmdlcywgciA9PiByLnN0YXJ0TGluZU51bWJlciA8PSByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSArIDE7XG4gICAgICAgIGlmIChqb2luUmFuZ2VTdGFydElkeCA9PT0gam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBlbGVtZW50IHRoYXQgdG91Y2hlcyByYW5nZSwgdGhlbiBqb2luUmFuZ2VTdGFydElkeCA9PT0gam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlIGFuZCB0aGF0IHZhbHVlIGlzIHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBhZnRlciByYW5nZVxuICAgICAgICAgICAgdGhpcy5fbm9ybWFsaXplZFJhbmdlcy5zcGxpY2Uoam9pblJhbmdlU3RhcnRJZHgsIDAsIHJhbmdlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChqb2luUmFuZ2VTdGFydElkeCA9PT0gam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlIC0gMSkge1xuICAgICAgICAgICAgLy8gRWxzZSwgdGhlcmUgaXMgYW4gZWxlbWVudCB0aGF0IHRvdWNoZXMgcmFuZ2UgYW5kIGluIHRoaXMgY2FzZSBpdCBpcyBib3RoIHRoZSBmaXJzdCBhbmQgbGFzdCBlbGVtZW50LiBUaHVzIHdlIGNhbiByZXBsYWNlIGl0XG4gICAgICAgICAgICBjb25zdCBqb2luUmFuZ2UgPSB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzW2pvaW5SYW5nZVN0YXJ0SWR4XTtcbiAgICAgICAgICAgIHRoaXMuX25vcm1hbGl6ZWRSYW5nZXNbam9pblJhbmdlU3RhcnRJZHhdID0gam9pblJhbmdlLmpvaW4ocmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gRmlyc3QgYW5kIGxhc3QgZWxlbWVudCBhcmUgZGlmZmVyZW50IC0gd2UgbmVlZCB0byByZXBsYWNlIHRoZSBlbnRpcmUgcmFuZ2VcbiAgICAgICAgICAgIGNvbnN0IGpvaW5SYW5nZSA9IHRoaXMuX25vcm1hbGl6ZWRSYW5nZXNbam9pblJhbmdlU3RhcnRJZHhdLmpvaW4odGhpcy5fbm9ybWFsaXplZFJhbmdlc1tqb2luUmFuZ2VFbmRJZHhFeGNsdXNpdmUgLSAxXSkuam9pbihyYW5nZSk7XG4gICAgICAgICAgICB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLnNwbGljZShqb2luUmFuZ2VTdGFydElkeCwgam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlIC0gam9pblJhbmdlU3RhcnRJZHgsIGpvaW5SYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udGFpbnMobGluZU51bWJlcikge1xuICAgICAgICBjb25zdCByYW5nZVRoYXRTdGFydHNCZWZvcmVFbmQgPSBmaW5kTGFzdE1vbm90b25vdXModGhpcy5fbm9ybWFsaXplZFJhbmdlcywgciA9PiByLnN0YXJ0TGluZU51bWJlciA8PSBsaW5lTnVtYmVyKTtcbiAgICAgICAgcmV0dXJuICEhcmFuZ2VUaGF0U3RhcnRzQmVmb3JlRW5kICYmIHJhbmdlVGhhdFN0YXJ0c0JlZm9yZUVuZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlID4gbGluZU51bWJlcjtcbiAgICB9XG4gICAgaW50ZXJzZWN0cyhyYW5nZSkge1xuICAgICAgICBjb25zdCByYW5nZVRoYXRTdGFydHNCZWZvcmVFbmQgPSBmaW5kTGFzdE1vbm90b25vdXModGhpcy5fbm9ybWFsaXplZFJhbmdlcywgciA9PiByLnN0YXJ0TGluZU51bWJlciA8IHJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpO1xuICAgICAgICByZXR1cm4gISFyYW5nZVRoYXRTdGFydHNCZWZvcmVFbmQgJiYgcmFuZ2VUaGF0U3RhcnRzQmVmb3JlRW5kLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPiByYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgfVxuICAgIGdldFVuaW9uKG90aGVyKSB7XG4gICAgICAgIGlmICh0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG90aGVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlci5fbm9ybWFsaXplZFJhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgaTEgPSAwO1xuICAgICAgICBsZXQgaTIgPSAwO1xuICAgICAgICBsZXQgY3VycmVudCA9IG51bGw7XG4gICAgICAgIHdoaWxlIChpMSA8IHRoaXMuX25vcm1hbGl6ZWRSYW5nZXMubGVuZ3RoIHx8IGkyIDwgb3RoZXIuX25vcm1hbGl6ZWRSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaTEgPCB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCAmJiBpMiA8IG90aGVyLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmVSYW5nZTEgPSB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzW2kxXTtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lUmFuZ2UyID0gb3RoZXIuX25vcm1hbGl6ZWRSYW5nZXNbaTJdO1xuICAgICAgICAgICAgICAgIGlmIChsaW5lUmFuZ2UxLnN0YXJ0TGluZU51bWJlciA8IGxpbmVSYW5nZTIuc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIG5leHQgPSBsaW5lUmFuZ2UxO1xuICAgICAgICAgICAgICAgICAgICBpMSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGxpbmVSYW5nZTI7XG4gICAgICAgICAgICAgICAgICAgIGkyKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaTEgPCB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIG5leHQgPSB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzW2kxXTtcbiAgICAgICAgICAgICAgICBpMSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmV4dCA9IG90aGVyLl9ub3JtYWxpemVkUmFuZ2VzW2kyXTtcbiAgICAgICAgICAgICAgICBpMisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGN1cnJlbnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50LmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPj0gbmV4dC5zdGFydExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWVyZ2VcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5ldyBMaW5lUmFuZ2UoY3VycmVudC5zdGFydExpbmVOdW1iZXIsIE1hdGgubWF4KGN1cnJlbnQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgbmV4dC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwdXNoXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gbmV4dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgTGluZVJhbmdlU2V0KHJlc3VsdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0cyBhbGwgcmFuZ2VzIGluIHRoaXMgc2V0IGZyb20gYHJhbmdlYCBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LlxuICAgICAqL1xuICAgIHN1YnRyYWN0RnJvbShyYW5nZSkge1xuICAgICAgICAvLyBpZHggb2YgZmlyc3QgZWxlbWVudCB0aGF0IHRvdWNoZXMgcmFuZ2Ugb3IgdGhhdCBpcyBhZnRlciByYW5nZVxuICAgICAgICBjb25zdCBqb2luUmFuZ2VTdGFydElkeCA9IGZpbmRGaXJzdElkeE1vbm90b25vdXNPckFyckxlbih0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLCByID0+IHIuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSA+PSByYW5nZS5zdGFydExpbmVOdW1iZXIpO1xuICAgICAgICAvLyBpZHggb2YgZWxlbWVudCBhZnRlciB7IGxhc3QgZWxlbWVudCB0aGF0IHRvdWNoZXMgcmFuZ2Ugb3IgdGhhdCBpcyBiZWZvcmUgcmFuZ2UgfVxuICAgICAgICBjb25zdCBqb2luUmFuZ2VFbmRJZHhFeGNsdXNpdmUgPSBmaW5kTGFzdElkeE1vbm90b25vdXModGhpcy5fbm9ybWFsaXplZFJhbmdlcywgciA9PiByLnN0YXJ0TGluZU51bWJlciA8PSByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSArIDE7XG4gICAgICAgIGlmIChqb2luUmFuZ2VTdGFydElkeCA9PT0gam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZVNldChbcmFuZ2VdKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IHN0YXJ0TGluZU51bWJlciA9IHJhbmdlLnN0YXJ0TGluZU51bWJlcjtcbiAgICAgICAgZm9yIChsZXQgaSA9IGpvaW5SYW5nZVN0YXJ0SWR4OyBpIDwgam9pblJhbmdlRW5kSWR4RXhjbHVzaXZlOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzW2ldO1xuICAgICAgICAgICAgaWYgKHIuc3RhcnRMaW5lTnVtYmVyID4gc3RhcnRMaW5lTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IExpbmVSYW5nZShzdGFydExpbmVOdW1iZXIsIHIuc3RhcnRMaW5lTnVtYmVyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFydExpbmVOdW1iZXIgPSByLmVuZExpbmVOdW1iZXJFeGNsdXNpdmU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXJ0TGluZU51bWJlciA8IHJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaW5lUmFuZ2Uoc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lUmFuZ2VTZXQocmVzdWx0KTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLm1hcChyID0+IHIudG9TdHJpbmcoKSkuam9pbignLCAnKTtcbiAgICB9XG4gICAgZ2V0SW50ZXJzZWN0aW9uKG90aGVyKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgaTEgPSAwO1xuICAgICAgICBsZXQgaTIgPSAwO1xuICAgICAgICB3aGlsZSAoaTEgPCB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCAmJiBpMiA8IG90aGVyLl9ub3JtYWxpemVkUmFuZ2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgcjEgPSB0aGlzLl9ub3JtYWxpemVkUmFuZ2VzW2kxXTtcbiAgICAgICAgICAgIGNvbnN0IHIyID0gb3RoZXIuX25vcm1hbGl6ZWRSYW5nZXNbaTJdO1xuICAgICAgICAgICAgY29uc3QgaSA9IHIxLmludGVyc2VjdChyMik7XG4gICAgICAgICAgICBpZiAoaSAmJiAhaS5pc0VtcHR5KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocjEuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSA8IHIyLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICBpMSsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaTIrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZVNldChyZXN1bHQpO1xuICAgIH1cbiAgICBnZXRXaXRoRGVsdGEodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lUmFuZ2VTZXQodGhpcy5fbm9ybWFsaXplZFJhbmdlcy5tYXAociA9PiByLmRlbHRhKHZhbHVlKSkpO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgTGluZVJhbmdlIH0gZnJvbSAnLi4vY29yZS9saW5lUmFuZ2UuanMnO1xuLyoqXG4gKiBNYXBzIGEgbGluZSByYW5nZSBpbiB0aGUgb3JpZ2luYWwgdGV4dCBtb2RlbCB0byBhIGxpbmUgcmFuZ2UgaW4gdGhlIG1vZGlmaWVkIHRleHQgbW9kZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBMaW5lUmFuZ2VNYXBwaW5nIHtcbiAgICBzdGF0aWMgaW52ZXJzZShtYXBwaW5nLCBvcmlnaW5hbExpbmVDb3VudCwgbW9kaWZpZWRMaW5lQ291bnQpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCBsYXN0T3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gMTtcbiAgICAgICAgbGV0IGxhc3RNb2RpZmllZEVuZExpbmVOdW1iZXIgPSAxO1xuICAgICAgICBmb3IgKGNvbnN0IG0gb2YgbWFwcGluZykge1xuICAgICAgICAgICAgY29uc3QgciA9IG5ldyBEZXRhaWxlZExpbmVSYW5nZU1hcHBpbmcobmV3IExpbmVSYW5nZShsYXN0T3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBtLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciksIG5ldyBMaW5lUmFuZ2UobGFzdE1vZGlmaWVkRW5kTGluZU51bWJlciwgbS5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIpLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgaWYgKCFyLm1vZGlmaWVkLmlzRW1wdHkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RPcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBtLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmU7XG4gICAgICAgICAgICBsYXN0TW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgRGV0YWlsZWRMaW5lUmFuZ2VNYXBwaW5nKG5ldyBMaW5lUmFuZ2UobGFzdE9yaWdpbmFsRW5kTGluZU51bWJlciwgb3JpZ2luYWxMaW5lQ291bnQgKyAxKSwgbmV3IExpbmVSYW5nZShsYXN0TW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBtb2RpZmllZExpbmVDb3VudCArIDEpLCB1bmRlZmluZWQpO1xuICAgICAgICBpZiAoIXIubW9kaWZpZWQuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3RydWN0b3Iob3JpZ2luYWxSYW5nZSwgbW9kaWZpZWRSYW5nZSkge1xuICAgICAgICB0aGlzLm9yaWdpbmFsID0gb3JpZ2luYWxSYW5nZTtcbiAgICAgICAgdGhpcy5tb2RpZmllZCA9IG1vZGlmaWVkUmFuZ2U7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYHske3RoaXMub3JpZ2luYWwudG9TdHJpbmcoKX0tPiR7dGhpcy5tb2RpZmllZC50b1N0cmluZygpfX1gO1xuICAgIH1cbiAgICBmbGlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IExpbmVSYW5nZU1hcHBpbmcodGhpcy5tb2RpZmllZCwgdGhpcy5vcmlnaW5hbCk7XG4gICAgfVxuICAgIGpvaW4ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMaW5lUmFuZ2VNYXBwaW5nKHRoaXMub3JpZ2luYWwuam9pbihvdGhlci5vcmlnaW5hbCksIHRoaXMubW9kaWZpZWQuam9pbihvdGhlci5tb2RpZmllZCkpO1xuICAgIH1cbn1cbi8qKlxuICogTWFwcyBhIGxpbmUgcmFuZ2UgaW4gdGhlIG9yaWdpbmFsIHRleHQgbW9kZWwgdG8gYSBsaW5lIHJhbmdlIGluIHRoZSBtb2RpZmllZCB0ZXh0IG1vZGVsLlxuICogQWxzbyBjb250YWlucyBpbm5lciByYW5nZSBtYXBwaW5ncy5cbiAqL1xuZXhwb3J0IGNsYXNzIERldGFpbGVkTGluZVJhbmdlTWFwcGluZyBleHRlbmRzIExpbmVSYW5nZU1hcHBpbmcge1xuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsUmFuZ2UsIG1vZGlmaWVkUmFuZ2UsIGlubmVyQ2hhbmdlcykge1xuICAgICAgICBzdXBlcihvcmlnaW5hbFJhbmdlLCBtb2RpZmllZFJhbmdlKTtcbiAgICAgICAgdGhpcy5pbm5lckNoYW5nZXMgPSBpbm5lckNoYW5nZXM7XG4gICAgfVxuICAgIGZsaXAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIG5ldyBEZXRhaWxlZExpbmVSYW5nZU1hcHBpbmcodGhpcy5tb2RpZmllZCwgdGhpcy5vcmlnaW5hbCwgKF9hID0gdGhpcy5pbm5lckNoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoYyA9PiBjLmZsaXAoKSkpO1xuICAgIH1cbn1cbi8qKlxuICogTWFwcyBhIHJhbmdlIGluIHRoZSBvcmlnaW5hbCB0ZXh0IG1vZGVsIHRvIGEgcmFuZ2UgaW4gdGhlIG1vZGlmaWVkIHRleHQgbW9kZWwuXG4gKi9cbmV4cG9ydCBjbGFzcyBSYW5nZU1hcHBpbmcge1xuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsUmFuZ2UsIG1vZGlmaWVkUmFuZ2UpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFJhbmdlID0gb3JpZ2luYWxSYW5nZTtcbiAgICAgICAgdGhpcy5tb2RpZmllZFJhbmdlID0gbW9kaWZpZWRSYW5nZTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgeyR7dGhpcy5vcmlnaW5hbFJhbmdlLnRvU3RyaW5nKCl9LT4ke3RoaXMubW9kaWZpZWRSYW5nZS50b1N0cmluZygpfX1gO1xuICAgIH1cbiAgICBmbGlwKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJhbmdlTWFwcGluZyh0aGlzLm1vZGlmaWVkUmFuZ2UsIHRoaXMub3JpZ2luYWxSYW5nZSk7XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBMY3NEaWZmIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vZGlmZi9kaWZmLmpzJztcbmltcG9ydCB7IExpbmVzRGlmZiB9IGZyb20gJy4vbGluZXNEaWZmQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgUmFuZ2VNYXBwaW5nLCBEZXRhaWxlZExpbmVSYW5nZU1hcHBpbmcgfSBmcm9tICcuL3JhbmdlTWFwcGluZy5qcyc7XG5pbXBvcnQgKiBhcyBzdHJpbmdzIGZyb20gJy4uLy4uLy4uL2Jhc2UvY29tbW9uL3N0cmluZ3MuanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IGFzc2VydEZuLCBjaGVja0FkamFjZW50SXRlbXMgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9hc3NlcnQuanMnO1xuaW1wb3J0IHsgTGluZVJhbmdlIH0gZnJvbSAnLi4vY29yZS9saW5lUmFuZ2UuanMnO1xuY29uc3QgTUlOSU1VTV9NQVRDSElOR19DSEFSQUNURVJfTEVOR1RIID0gMztcbmV4cG9ydCBjbGFzcyBMZWdhY3lMaW5lc0RpZmZDb21wdXRlciB7XG4gICAgY29tcHV0ZURpZmYob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgb3B0aW9ucykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGRpZmZDb21wdXRlciA9IG5ldyBEaWZmQ29tcHV0ZXIob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywge1xuICAgICAgICAgICAgbWF4Q29tcHV0YXRpb25UaW1lOiBvcHRpb25zLm1heENvbXB1dGF0aW9uVGltZU1zLFxuICAgICAgICAgICAgc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2U6IG9wdGlvbnMuaWdub3JlVHJpbVdoaXRlc3BhY2UsXG4gICAgICAgICAgICBzaG91bGRDb21wdXRlQ2hhckNoYW5nZXM6IHRydWUsXG4gICAgICAgICAgICBzaG91bGRNYWtlUHJldHR5RGlmZjogdHJ1ZSxcbiAgICAgICAgICAgIHNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXM6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkaWZmQ29tcHV0ZXIuY29tcHV0ZURpZmYoKTtcbiAgICAgICAgY29uc3QgY2hhbmdlcyA9IFtdO1xuICAgICAgICBsZXQgbGFzdENoYW5nZSA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgYyBvZiByZXN1bHQuY2hhbmdlcykge1xuICAgICAgICAgICAgbGV0IG9yaWdpbmFsUmFuZ2U7XG4gICAgICAgICAgICBpZiAoYy5vcmlnaW5hbEVuZExpbmVOdW1iZXIgPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnRpb25cbiAgICAgICAgICAgICAgICBvcmlnaW5hbFJhbmdlID0gbmV3IExpbmVSYW5nZShjLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyICsgMSwgYy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgb3JpZ2luYWxSYW5nZSA9IG5ldyBMaW5lUmFuZ2UoYy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgYy5vcmlnaW5hbEVuZExpbmVOdW1iZXIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBtb2RpZmllZFJhbmdlO1xuICAgICAgICAgICAgaWYgKGMubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gRGVsZXRpb25cbiAgICAgICAgICAgICAgICBtb2RpZmllZFJhbmdlID0gbmV3IExpbmVSYW5nZShjLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyICsgMSwgYy5tb2RpZmllZFN0YXJ0TGluZU51bWJlciArIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRSYW5nZSA9IG5ldyBMaW5lUmFuZ2UoYy5tb2RpZmllZFN0YXJ0TGluZU51bWJlciwgYy5tb2RpZmllZEVuZExpbmVOdW1iZXIgKyAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBjaGFuZ2UgPSBuZXcgRGV0YWlsZWRMaW5lUmFuZ2VNYXBwaW5nKG9yaWdpbmFsUmFuZ2UsIG1vZGlmaWVkUmFuZ2UsIChfYSA9IGMuY2hhckNoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAoYyA9PiBuZXcgUmFuZ2VNYXBwaW5nKG5ldyBSYW5nZShjLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyLCBjLm9yaWdpbmFsU3RhcnRDb2x1bW4sIGMub3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBjLm9yaWdpbmFsRW5kQ29sdW1uKSwgbmV3IFJhbmdlKGMubW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIGMubW9kaWZpZWRTdGFydENvbHVtbiwgYy5tb2RpZmllZEVuZExpbmVOdW1iZXIsIGMubW9kaWZpZWRFbmRDb2x1bW4pKSkpO1xuICAgICAgICAgICAgaWYgKGxhc3RDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdENoYW5nZS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlID09PSBjaGFuZ2UubW9kaWZpZWQuc3RhcnRMaW5lTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIHx8IGxhc3RDaGFuZ2Uub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSA9PT0gY2hhbmdlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBqb2luIHRvdWNoaW5nIGRpZmZzLiBQcm9iYWJseSBtb3ZpbmcgZGlmZnMgdXAvZG93biBpbiB0aGUgYWxnb3JpdGhtIGNhdXNlcyB0b3VjaGluZyBkaWZmcy5cbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlID0gbmV3IERldGFpbGVkTGluZVJhbmdlTWFwcGluZyhsYXN0Q2hhbmdlLm9yaWdpbmFsLmpvaW4oY2hhbmdlLm9yaWdpbmFsKSwgbGFzdENoYW5nZS5tb2RpZmllZC5qb2luKGNoYW5nZS5tb2RpZmllZCksIGxhc3RDaGFuZ2UuaW5uZXJDaGFuZ2VzICYmIGNoYW5nZS5pbm5lckNoYW5nZXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENoYW5nZS5pbm5lckNoYW5nZXMuY29uY2F0KGNoYW5nZS5pbm5lckNoYW5nZXMpIDogdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICAgICAgICAgIGxhc3RDaGFuZ2UgPSBjaGFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgYXNzZXJ0Rm4oKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGNoZWNrQWRqYWNlbnRJdGVtcyhjaGFuZ2VzLCAobTEsIG0yKSA9PiBtMi5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIgLSBtMS5vcmlnaW5hbC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlID09PSBtMi5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIgLSBtMS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlICYmXG4gICAgICAgICAgICAgICAgLy8gVGhlcmUgaGFzIHRvIGJlIGFuIHVuY2hhbmdlZCBsaW5lIGluIGJldHdlZW4gKG90aGVyd2lzZSBib3RoIGRpZmZzIHNob3VsZCBoYXZlIGJlZW4gam9pbmVkKVxuICAgICAgICAgICAgICAgIG0xLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPCBtMi5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgICAgICBtMS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlIDwgbTIubW9kaWZpZWQuc3RhcnRMaW5lTnVtYmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGluZXNEaWZmKGNoYW5nZXMsIFtdLCByZXN1bHQucXVpdEVhcmx5KTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlRGlmZihvcmlnaW5hbFNlcXVlbmNlLCBtb2RpZmllZFNlcXVlbmNlLCBjb250aW51ZVByb2Nlc3NpbmdQcmVkaWNhdGUsIHByZXR0eSkge1xuICAgIGNvbnN0IGRpZmZBbGdvID0gbmV3IExjc0RpZmYob3JpZ2luYWxTZXF1ZW5jZSwgbW9kaWZpZWRTZXF1ZW5jZSwgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKTtcbiAgICByZXR1cm4gZGlmZkFsZ28uQ29tcHV0ZURpZmYocHJldHR5KTtcbn1cbmNsYXNzIExpbmVTZXF1ZW5jZSB7XG4gICAgY29uc3RydWN0b3IobGluZXMpIHtcbiAgICAgICAgY29uc3Qgc3RhcnRDb2x1bW5zID0gW107XG4gICAgICAgIGNvbnN0IGVuZENvbHVtbnMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IGxpbmVzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdGFydENvbHVtbnNbaV0gPSBnZXRGaXJzdE5vbkJsYW5rQ29sdW1uKGxpbmVzW2ldLCAxKTtcbiAgICAgICAgICAgIGVuZENvbHVtbnNbaV0gPSBnZXRMYXN0Tm9uQmxhbmtDb2x1bW4obGluZXNbaV0sIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5fc3RhcnRDb2x1bW5zID0gc3RhcnRDb2x1bW5zO1xuICAgICAgICB0aGlzLl9lbmRDb2x1bW5zID0gZW5kQ29sdW1ucztcbiAgICB9XG4gICAgZ2V0RWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSB0aGlzLmxpbmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpXSA9IHRoaXMubGluZXNbaV0uc3Vic3RyaW5nKHRoaXMuX3N0YXJ0Q29sdW1uc1tpXSAtIDEsIHRoaXMuX2VuZENvbHVtbnNbaV0gLSAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZWxlbWVudHM7XG4gICAgfVxuICAgIGdldFN0cmljdEVsZW1lbnQoaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGluZXNbaW5kZXhdO1xuICAgIH1cbiAgICBnZXRTdGFydExpbmVOdW1iZXIoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgfVxuICAgIGdldEVuZExpbmVOdW1iZXIoaSkge1xuICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgfVxuICAgIGNyZWF0ZUNoYXJTZXF1ZW5jZShzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSwgc3RhcnRJbmRleCwgZW5kSW5kZXgpIHtcbiAgICAgICAgY29uc3QgY2hhckNvZGVzID0gW107XG4gICAgICAgIGNvbnN0IGxpbmVOdW1iZXJzID0gW107XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBbXTtcbiAgICAgICAgbGV0IGxlbiA9IDA7XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gc3RhcnRJbmRleDsgaW5kZXggPD0gZW5kSW5kZXg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVDb250ZW50ID0gdGhpcy5saW5lc1tpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzdGFydENvbHVtbiA9IChzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSA/IHRoaXMuX3N0YXJ0Q29sdW1uc1tpbmRleF0gOiAxKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZENvbHVtbiA9IChzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSA/IHRoaXMuX2VuZENvbHVtbnNbaW5kZXhdIDogbGluZUNvbnRlbnQubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgPSBzdGFydENvbHVtbjsgY29sIDwgZW5kQ29sdW1uOyBjb2wrKykge1xuICAgICAgICAgICAgICAgIGNoYXJDb2Rlc1tsZW5dID0gbGluZUNvbnRlbnQuY2hhckNvZGVBdChjb2wgLSAxKTtcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyc1tsZW5dID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIGNvbHVtbnNbbGVuXSA9IGNvbDtcbiAgICAgICAgICAgICAgICBsZW4rKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UgJiYgaW5kZXggPCBlbmRJbmRleCkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBcXG4gaWYgdHJpbSB3aGl0ZXNwYWNlIGlzIG5vdCBpZ25vcmVkXG4gICAgICAgICAgICAgICAgY2hhckNvZGVzW2xlbl0gPSAxMCAvKiBDaGFyQ29kZS5MaW5lRmVlZCAqLztcbiAgICAgICAgICAgICAgICBsaW5lTnVtYmVyc1tsZW5dID0gaW5kZXggKyAxO1xuICAgICAgICAgICAgICAgIGNvbHVtbnNbbGVuXSA9IGxpbmVDb250ZW50Lmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgbGVuKys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBDaGFyU2VxdWVuY2UoY2hhckNvZGVzLCBsaW5lTnVtYmVycywgY29sdW1ucyk7XG4gICAgfVxufVxuY2xhc3MgQ2hhclNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihjaGFyQ29kZXMsIGxpbmVOdW1iZXJzLCBjb2x1bW5zKSB7XG4gICAgICAgIHRoaXMuX2NoYXJDb2RlcyA9IGNoYXJDb2RlcztcbiAgICAgICAgdGhpcy5fbGluZU51bWJlcnMgPSBsaW5lTnVtYmVycztcbiAgICAgICAgdGhpcy5fY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gKCdbJyArIHRoaXMuX2NoYXJDb2Rlcy5tYXAoKHMsIGlkeCkgPT4gKHMgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovID8gJ1xcXFxuJyA6IFN0cmluZy5mcm9tQ2hhckNvZGUocykpICsgYC0oJHt0aGlzLl9saW5lTnVtYmVyc1tpZHhdfSwke3RoaXMuX2NvbHVtbnNbaWR4XX0pYCkuam9pbignLCAnKSArICddJyk7XG4gICAgfVxuICAgIF9hc3NlcnRJbmRleChpbmRleCwgYXJyKSB7XG4gICAgICAgIGlmIChpbmRleCA8IDAgfHwgaW5kZXggPj0gYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbGxlZ2FsIGluZGV4YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0RWxlbWVudHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jaGFyQ29kZXM7XG4gICAgfVxuICAgIGdldFN0YXJ0TGluZU51bWJlcihpKSB7XG4gICAgICAgIGlmIChpID4gMCAmJiBpID09PSB0aGlzLl9saW5lTnVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIHRoZSBzdGFydCBsaW5lIG51bWJlciBvZiB0aGUgZWxlbWVudCBhZnRlciB0aGUgbGFzdCBlbGVtZW50XG4gICAgICAgICAgICAvLyBpcyB0aGUgZW5kIGxpbmUgbnVtYmVyIG9mIHRoZSBsYXN0IGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldEVuZExpbmVOdW1iZXIoaSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fzc2VydEluZGV4KGksIHRoaXMuX2xpbmVOdW1iZXJzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVOdW1iZXJzW2ldO1xuICAgIH1cbiAgICBnZXRFbmRMaW5lTnVtYmVyKGkpIHtcbiAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyB0aGUgZW5kIGxpbmUgbnVtYmVyIG9mIHRoZSBlbGVtZW50IGJlZm9yZSB0aGUgZmlyc3QgZWxlbWVudFxuICAgICAgICAgICAgLy8gaXMgdGhlIHN0YXJ0IGxpbmUgbnVtYmVyIG9mIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTdGFydExpbmVOdW1iZXIoaSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fzc2VydEluZGV4KGksIHRoaXMuX2xpbmVOdW1iZXJzKTtcbiAgICAgICAgaWYgKHRoaXMuX2NoYXJDb2Rlc1tpXSA9PT0gMTAgLyogQ2hhckNvZGUuTGluZUZlZWQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lTnVtYmVyc1tpXSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVOdW1iZXJzW2ldO1xuICAgIH1cbiAgICBnZXRTdGFydENvbHVtbihpKSB7XG4gICAgICAgIGlmIChpID4gMCAmJiBpID09PSB0aGlzLl9jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gdGhlIHN0YXJ0IGNvbHVtbiBvZiB0aGUgZWxlbWVudCBhZnRlciB0aGUgbGFzdCBlbGVtZW50XG4gICAgICAgICAgICAvLyBpcyB0aGUgZW5kIGNvbHVtbiBvZiB0aGUgbGFzdCBlbGVtZW50XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRFbmRDb2x1bW4oaSAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fzc2VydEluZGV4KGksIHRoaXMuX2NvbHVtbnMpO1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sdW1uc1tpXTtcbiAgICB9XG4gICAgZ2V0RW5kQ29sdW1uKGkpIHtcbiAgICAgICAgaWYgKGkgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyB0aGUgZW5kIGNvbHVtbiBvZiB0aGUgZWxlbWVudCBiZWZvcmUgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgIC8vIGlzIHRoZSBzdGFydCBjb2x1bW4gb2YgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0YXJ0Q29sdW1uKGkgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hc3NlcnRJbmRleChpLCB0aGlzLl9jb2x1bW5zKTtcbiAgICAgICAgaWYgKHRoaXMuX2NoYXJDb2Rlc1tpXSA9PT0gMTAgLyogQ2hhckNvZGUuTGluZUZlZWQgKi8pIHtcbiAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2x1bW5zW2ldICsgMTtcbiAgICB9XG59XG5jbGFzcyBDaGFyQ2hhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kTGluZU51bWJlciwgbW9kaWZpZWRFbmRDb2x1bW4pIHtcbiAgICAgICAgdGhpcy5vcmlnaW5hbFN0YXJ0TGluZU51bWJlciA9IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm9yaWdpbmFsU3RhcnRDb2x1bW4gPSBvcmlnaW5hbFN0YXJ0Q29sdW1uO1xuICAgICAgICB0aGlzLm9yaWdpbmFsRW5kTGluZU51bWJlciA9IG9yaWdpbmFsRW5kTGluZU51bWJlcjtcbiAgICAgICAgdGhpcy5vcmlnaW5hbEVuZENvbHVtbiA9IG9yaWdpbmFsRW5kQ29sdW1uO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMubW9kaWZpZWRTdGFydENvbHVtbiA9IG1vZGlmaWVkU3RhcnRDb2x1bW47XG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm1vZGlmaWVkRW5kQ29sdW1uID0gbW9kaWZpZWRFbmRDb2x1bW47XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tRGlmZkNoYW5nZShkaWZmQ2hhbmdlLCBvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UpIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdGFydExpbmVOdW1iZXIgPSBvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxTdGFydENvbHVtbiA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldFN0YXJ0Q29sdW1uKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsRW5kTGluZU51bWJlciA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldEVuZExpbmVOdW1iZXIoZGlmZkNoYW5nZS5vcmlnaW5hbFN0YXJ0ICsgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCAtIDEpO1xuICAgICAgICBjb25zdCBvcmlnaW5hbEVuZENvbHVtbiA9IG9yaWdpbmFsQ2hhclNlcXVlbmNlLmdldEVuZENvbHVtbihkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBkaWZmQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoIC0gMSk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkU3RhcnRDb2x1bW4gPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRTdGFydENvbHVtbihkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQpO1xuICAgICAgICBjb25zdCBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRFbmRMaW5lTnVtYmVyKGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCArIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggLSAxKTtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRFbmRDb2x1bW4gPSBtb2RpZmllZENoYXJTZXF1ZW5jZS5nZXRFbmRDb2x1bW4oZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCAtIDEpO1xuICAgICAgICByZXR1cm4gbmV3IENoYXJDaGFuZ2Uob3JpZ2luYWxTdGFydExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kQ29sdW1uKTtcbiAgICB9XG59XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzKHJhd0NoYW5nZXMpIHtcbiAgICBpZiAocmF3Q2hhbmdlcy5sZW5ndGggPD0gMSkge1xuICAgICAgICByZXR1cm4gcmF3Q2hhbmdlcztcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gW3Jhd0NoYW5nZXNbMF1dO1xuICAgIGxldCBwcmV2Q2hhbmdlID0gcmVzdWx0WzBdO1xuICAgIGZvciAobGV0IGkgPSAxLCBsZW4gPSByYXdDaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJDaGFuZ2UgPSByYXdDaGFuZ2VzW2ldO1xuICAgICAgICBjb25zdCBvcmlnaW5hbE1hdGNoaW5nTGVuZ3RoID0gY3VyckNoYW5nZS5vcmlnaW5hbFN0YXJ0IC0gKHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIHByZXZDaGFuZ2Uub3JpZ2luYWxMZW5ndGgpO1xuICAgICAgICBjb25zdCBtb2RpZmllZE1hdGNoaW5nTGVuZ3RoID0gY3VyckNoYW5nZS5tb2RpZmllZFN0YXJ0IC0gKHByZXZDaGFuZ2UubW9kaWZpZWRTdGFydCArIHByZXZDaGFuZ2UubW9kaWZpZWRMZW5ndGgpO1xuICAgICAgICAvLyBCb3RoIG9mIHRoZSBhYm92ZSBzaG91bGQgYmUgZXF1YWwsIGJ1dCB0aGUgY29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlIG1heSBwcmV2ZW50IHRoaXMgZnJvbSBiZWluZyB0cnVlXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nTGVuZ3RoID0gTWF0aC5taW4ob3JpZ2luYWxNYXRjaGluZ0xlbmd0aCwgbW9kaWZpZWRNYXRjaGluZ0xlbmd0aCk7XG4gICAgICAgIGlmIChtYXRjaGluZ0xlbmd0aCA8IE1JTklNVU1fTUFUQ0hJTkdfQ0hBUkFDVEVSX0xFTkdUSCkge1xuICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIGN1cnJlbnQgY2hhbmdlIGludG8gdGhlIHByZXZpb3VzIG9uZVxuICAgICAgICAgICAgcHJldkNoYW5nZS5vcmlnaW5hbExlbmd0aCA9IChjdXJyQ2hhbmdlLm9yaWdpbmFsU3RhcnQgKyBjdXJyQ2hhbmdlLm9yaWdpbmFsTGVuZ3RoKSAtIHByZXZDaGFuZ2Uub3JpZ2luYWxTdGFydDtcbiAgICAgICAgICAgIHByZXZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPSAoY3VyckNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgY3VyckNoYW5nZS5tb2RpZmllZExlbmd0aCkgLSBwcmV2Q2hhbmdlLm1vZGlmaWVkU3RhcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgdGhlIGN1cnJlbnQgY2hhbmdlXG4gICAgICAgICAgICByZXN1bHQucHVzaChjdXJyQ2hhbmdlKTtcbiAgICAgICAgICAgIHByZXZDaGFuZ2UgPSBjdXJyQ2hhbmdlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5jbGFzcyBMaW5lQ2hhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihvcmlnaW5hbFN0YXJ0TGluZU51bWJlciwgb3JpZ2luYWxFbmRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0TGluZU51bWJlciwgbW9kaWZpZWRFbmRMaW5lTnVtYmVyLCBjaGFyQ2hhbmdlcykge1xuICAgICAgICB0aGlzLm9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMub3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxFbmRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLm1vZGlmaWVkU3RhcnRMaW5lTnVtYmVyID0gbW9kaWZpZWRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIHRoaXMubW9kaWZpZWRFbmRMaW5lTnVtYmVyID0gbW9kaWZpZWRFbmRMaW5lTnVtYmVyO1xuICAgICAgICB0aGlzLmNoYXJDaGFuZ2VzID0gY2hhckNoYW5nZXM7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVGcm9tRGlmZlJlc3VsdChzaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZSwgZGlmZkNoYW5nZSwgb3JpZ2luYWxMaW5lU2VxdWVuY2UsIG1vZGlmaWVkTGluZVNlcXVlbmNlLCBjb250aW51ZUNoYXJEaWZmLCBzaG91bGRDb21wdXRlQ2hhckNoYW5nZXMsIHNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpIHtcbiAgICAgICAgbGV0IG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyO1xuICAgICAgICBsZXQgb3JpZ2luYWxFbmRMaW5lTnVtYmVyO1xuICAgICAgICBsZXQgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGxldCBtb2RpZmllZEVuZExpbmVOdW1iZXI7XG4gICAgICAgIGxldCBjaGFyQ2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCkgLSAxO1xuICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gMDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuZ2V0U3RhcnRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCk7XG4gICAgICAgICAgICBvcmlnaW5hbEVuZExpbmVOdW1iZXIgPSBvcmlnaW5hbExpbmVTZXF1ZW5jZS5nZXRFbmRMaW5lTnVtYmVyKGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KSAtIDE7XG4gICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIgPSBtb2RpZmllZExpbmVTZXF1ZW5jZS5nZXRTdGFydExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0KTtcbiAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlciA9IG1vZGlmaWVkTGluZVNlcXVlbmNlLmdldEVuZExpbmVOdW1iZXIoZGlmZkNoYW5nZS5tb2RpZmllZFN0YXJ0ICsgZGlmZkNoYW5nZS5tb2RpZmllZExlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRDb21wdXRlQ2hhckNoYW5nZXMgJiYgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA+IDAgJiYgZGlmZkNoYW5nZS5vcmlnaW5hbExlbmd0aCA8IDIwICYmIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPiAwICYmIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggPCAyMCAmJiBjb250aW51ZUNoYXJEaWZmKCkpIHtcbiAgICAgICAgICAgIC8vIENvbXB1dGUgY2hhcmFjdGVyIGNoYW5nZXMgZm9yIGRpZmYgY2h1bmtzIG9mIGF0IG1vc3QgMjAgbGluZXMuLi5cbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ2hhclNlcXVlbmNlID0gb3JpZ2luYWxMaW5lU2VxdWVuY2UuY3JlYXRlQ2hhclNlcXVlbmNlKHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCBkaWZmQ2hhbmdlLm9yaWdpbmFsU3RhcnQsIGRpZmZDaGFuZ2Uub3JpZ2luYWxTdGFydCArIGRpZmZDaGFuZ2Uub3JpZ2luYWxMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkQ2hhclNlcXVlbmNlID0gbW9kaWZpZWRMaW5lU2VxdWVuY2UuY3JlYXRlQ2hhclNlcXVlbmNlKHNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCBkaWZmQ2hhbmdlLm1vZGlmaWVkU3RhcnQsIGRpZmZDaGFuZ2UubW9kaWZpZWRTdGFydCArIGRpZmZDaGFuZ2UubW9kaWZpZWRMZW5ndGggLSAxKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbENoYXJTZXF1ZW5jZS5nZXRFbGVtZW50cygpLmxlbmd0aCA+IDAgJiYgbW9kaWZpZWRDaGFyU2VxdWVuY2UuZ2V0RWxlbWVudHMoKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJhd0NoYW5nZXMgPSBjb21wdXRlRGlmZihvcmlnaW5hbENoYXJTZXF1ZW5jZSwgbW9kaWZpZWRDaGFyU2VxdWVuY2UsIGNvbnRpbnVlQ2hhckRpZmYsIHRydWUpLmNoYW5nZXM7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmF3Q2hhbmdlcyA9IHBvc3RQcm9jZXNzQ2hhckNoYW5nZXMocmF3Q2hhbmdlcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNoYXJDaGFuZ2VzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbmd0aCA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5nZXMucHVzaChDaGFyQ2hhbmdlLmNyZWF0ZUZyb21EaWZmQ2hhbmdlKHJhd0NoYW5nZXNbaV0sIG9yaWdpbmFsQ2hhclNlcXVlbmNlLCBtb2RpZmllZENoYXJTZXF1ZW5jZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IExpbmVDaGFuZ2Uob3JpZ2luYWxTdGFydExpbmVOdW1iZXIsIG9yaWdpbmFsRW5kTGluZU51bWJlciwgbW9kaWZpZWRTdGFydExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kTGluZU51bWJlciwgY2hhckNoYW5nZXMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBEaWZmQ29tcHV0ZXIge1xuICAgIGNvbnN0cnVjdG9yKG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIG9wdHMpIHtcbiAgICAgICAgdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMgPSBvcHRzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcztcbiAgICAgICAgdGhpcy5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzID0gb3B0cy5zaG91bGRQb3N0UHJvY2Vzc0NoYXJDaGFuZ2VzO1xuICAgICAgICB0aGlzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlID0gb3B0cy5zaG91bGRJZ25vcmVUcmltV2hpdGVzcGFjZTtcbiAgICAgICAgdGhpcy5zaG91bGRNYWtlUHJldHR5RGlmZiA9IG9wdHMuc2hvdWxkTWFrZVByZXR0eURpZmY7XG4gICAgICAgIHRoaXMub3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsTGluZXM7XG4gICAgICAgIHRoaXMubW9kaWZpZWRMaW5lcyA9IG1vZGlmaWVkTGluZXM7XG4gICAgICAgIHRoaXMub3JpZ2luYWwgPSBuZXcgTGluZVNlcXVlbmNlKG9yaWdpbmFsTGluZXMpO1xuICAgICAgICB0aGlzLm1vZGlmaWVkID0gbmV3IExpbmVTZXF1ZW5jZShtb2RpZmllZExpbmVzKTtcbiAgICAgICAgdGhpcy5jb250aW51ZUxpbmVEaWZmID0gY3JlYXRlQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKG9wdHMubWF4Q29tcHV0YXRpb25UaW1lKTtcbiAgICAgICAgdGhpcy5jb250aW51ZUNoYXJEaWZmID0gY3JlYXRlQ29udGludWVQcm9jZXNzaW5nUHJlZGljYXRlKG9wdHMubWF4Q29tcHV0YXRpb25UaW1lID09PSAwID8gMCA6IE1hdGgubWluKG9wdHMubWF4Q29tcHV0YXRpb25UaW1lLCA1MDAwKSk7IC8vIG5ldmVyIHJ1biBhZnRlciA1cyBmb3IgY2hhcmFjdGVyIGNoYW5nZXMuLi5cbiAgICB9XG4gICAgY29tcHV0ZURpZmYoKSB7XG4gICAgICAgIGlmICh0aGlzLm9yaWdpbmFsLmxpbmVzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLm9yaWdpbmFsLmxpbmVzWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gZW1wdHkgb3JpZ2luYWwgPT4gZmFzdCBwYXRoXG4gICAgICAgICAgICBpZiAodGhpcy5tb2RpZmllZC5saW5lcy5sZW5ndGggPT09IDEgJiYgdGhpcy5tb2RpZmllZC5saW5lc1swXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBxdWl0RWFybHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VzOiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHF1aXRFYXJseTogZmFsc2UsXG4gICAgICAgICAgICAgICAgY2hhbmdlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsU3RhcnRMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFbmRMaW5lTnVtYmVyOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRTdGFydExpbmVOdW1iZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZEVuZExpbmVOdW1iZXI6IHRoaXMubW9kaWZpZWQubGluZXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhckNoYW5nZXM6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5tb2RpZmllZC5saW5lcy5sZW5ndGggPT09IDEgJiYgdGhpcy5tb2RpZmllZC5saW5lc1swXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIGVtcHR5IG1vZGlmaWVkID0+IGZhc3QgcGF0aFxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBxdWl0RWFybHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbFN0YXJ0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kTGluZU51bWJlcjogdGhpcy5vcmlnaW5hbC5saW5lcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RpZmllZFN0YXJ0TGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkRW5kTGluZU51bWJlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJDaGFuZ2VzOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlmZlJlc3VsdCA9IGNvbXB1dGVEaWZmKHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuY29udGludWVMaW5lRGlmZiwgdGhpcy5zaG91bGRNYWtlUHJldHR5RGlmZik7XG4gICAgICAgIGNvbnN0IHJhd0NoYW5nZXMgPSBkaWZmUmVzdWx0LmNoYW5nZXM7XG4gICAgICAgIGNvbnN0IHF1aXRFYXJseSA9IGRpZmZSZXN1bHQucXVpdEVhcmx5O1xuICAgICAgICAvLyBUaGUgZGlmZiBpcyBhbHdheXMgY29tcHV0ZWQgd2l0aCBpZ25vcmluZyB0cmltIHdoaXRlc3BhY2VcbiAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHdlIGdldCB0aGUgcHJldHRpZXN0IGRpZmZcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVDaGFuZ2VzID0gW107XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuZ3RoID0gcmF3Q2hhbmdlcy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxpbmVDaGFuZ2VzLnB1c2goTGluZUNoYW5nZS5jcmVhdGVGcm9tRGlmZlJlc3VsdCh0aGlzLnNob3VsZElnbm9yZVRyaW1XaGl0ZXNwYWNlLCByYXdDaGFuZ2VzW2ldLCB0aGlzLm9yaWdpbmFsLCB0aGlzLm1vZGlmaWVkLCB0aGlzLmNvbnRpbnVlQ2hhckRpZmYsIHRoaXMuc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzLCB0aGlzLnNob3VsZFBvc3RQcm9jZXNzQ2hhckNoYW5nZXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcXVpdEVhcmx5OiBxdWl0RWFybHksXG4gICAgICAgICAgICAgICAgY2hhbmdlczogbGluZUNoYW5nZXNcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gTmVlZCB0byBwb3N0LXByb2Nlc3MgYW5kIGludHJvZHVjZSBjaGFuZ2VzIHdoZXJlIHRoZSB0cmltIHdoaXRlc3BhY2UgaXMgZGlmZmVyZW50XG4gICAgICAgIC8vIE5vdGUgdGhhdCB3ZSBhcmUgbG9vcGluZyBzdGFydGluZyBhdCAtMSB0byBhbHNvIGNvdmVyIHRoZSBsaW5lcyBiZWZvcmUgdGhlIGZpcnN0IGNoYW5nZVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IG9yaWdpbmFsTGluZUluZGV4ID0gMDtcbiAgICAgICAgbGV0IG1vZGlmaWVkTGluZUluZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IC0xIC8qICEhISEgKi8sIGxlbiA9IHJhd0NoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG5leHRDaGFuZ2UgPSAoaSArIDEgPCBsZW4gPyByYXdDaGFuZ2VzW2kgKyAxXSA6IG51bGwpO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxTdG9wID0gKG5leHRDaGFuZ2UgPyBuZXh0Q2hhbmdlLm9yaWdpbmFsU3RhcnQgOiB0aGlzLm9yaWdpbmFsTGluZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkU3RvcCA9IChuZXh0Q2hhbmdlID8gbmV4dENoYW5nZS5tb2RpZmllZFN0YXJ0IDogdGhpcy5tb2RpZmllZExpbmVzLmxlbmd0aCk7XG4gICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxMaW5lSW5kZXggPCBvcmlnaW5hbFN0b3AgJiYgbW9kaWZpZWRMaW5lSW5kZXggPCBtb2RpZmllZFN0b3ApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbExpbmUgPSB0aGlzLm9yaWdpbmFsTGluZXNbb3JpZ2luYWxMaW5lSW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkTGluZSA9IHRoaXMubW9kaWZpZWRMaW5lc1ttb2RpZmllZExpbmVJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTGluZSAhPT0gbW9kaWZpZWRMaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZXNlIGxpbmVzIGRpZmZlciBvbmx5IGluIHRyaW0gd2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGUgbGVhZGluZyB3aGl0ZXNwYWNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbFN0YXJ0Q29sdW1uID0gZ2V0Rmlyc3ROb25CbGFua0NvbHVtbihvcmlnaW5hbExpbmUsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG1vZGlmaWVkU3RhcnRDb2x1bW4gPSBnZXRGaXJzdE5vbkJsYW5rQ29sdW1uKG1vZGlmaWVkTGluZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAob3JpZ2luYWxTdGFydENvbHVtbiA+IDEgJiYgbW9kaWZpZWRTdGFydENvbHVtbiA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbENoYXIgPSBvcmlnaW5hbExpbmUuY2hhckNvZGVBdChvcmlnaW5hbFN0YXJ0Q29sdW1uIC0gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDaGFyID0gbW9kaWZpZWRMaW5lLmNoYXJDb2RlQXQobW9kaWZpZWRTdGFydENvbHVtbiAtIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbENoYXIgIT09IG1vZGlmaWVkQ2hhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxTdGFydENvbHVtbi0tO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkU3RhcnRDb2x1bW4tLTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFN0YXJ0Q29sdW1uID4gMSB8fCBtb2RpZmllZFN0YXJ0Q29sdW1uID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3B1c2hUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UocmVzdWx0LCBvcmlnaW5hbExpbmVJbmRleCArIDEsIDEsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG1vZGlmaWVkTGluZUluZGV4ICsgMSwgMSwgbW9kaWZpZWRTdGFydENvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhlIHRyYWlsaW5nIHdoaXRlc3BhY2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG9yaWdpbmFsRW5kQ29sdW1uID0gZ2V0TGFzdE5vbkJsYW5rQ29sdW1uKG9yaWdpbmFsTGluZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9kaWZpZWRFbmRDb2x1bW4gPSBnZXRMYXN0Tm9uQmxhbmtDb2x1bW4obW9kaWZpZWRMaW5lLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsTWF4Q29sdW1uID0gb3JpZ2luYWxMaW5lLmxlbmd0aCArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZE1heENvbHVtbiA9IG1vZGlmaWVkTGluZS5sZW5ndGggKyAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG9yaWdpbmFsRW5kQ29sdW1uIDwgb3JpZ2luYWxNYXhDb2x1bW4gJiYgbW9kaWZpZWRFbmRDb2x1bW4gPCBtb2RpZmllZE1heENvbHVtbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsQ2hhciA9IG9yaWdpbmFsTGluZS5jaGFyQ29kZUF0KG9yaWdpbmFsRW5kQ29sdW1uIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDaGFyID0gb3JpZ2luYWxMaW5lLmNoYXJDb2RlQXQobW9kaWZpZWRFbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxDaGFyICE9PSBtb2RpZmllZENoYXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRW5kQ29sdW1uKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRFbmRDb2x1bW4rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEVuZENvbHVtbiA8IG9yaWdpbmFsTWF4Q29sdW1uIHx8IG1vZGlmaWVkRW5kQ29sdW1uIDwgbW9kaWZpZWRNYXhDb2x1bW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9wdXNoVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lSW5kZXggKyAxLCBvcmlnaW5hbEVuZENvbHVtbiwgb3JpZ2luYWxNYXhDb2x1bW4sIG1vZGlmaWVkTGluZUluZGV4ICsgMSwgbW9kaWZpZWRFbmRDb2x1bW4sIG1vZGlmaWVkTWF4Q29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcmlnaW5hbExpbmVJbmRleCsrO1xuICAgICAgICAgICAgICAgIG1vZGlmaWVkTGluZUluZGV4Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV4dENoYW5nZSkge1xuICAgICAgICAgICAgICAgIC8vIEVtaXQgdGhlIGFjdHVhbCBjaGFuZ2VcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChMaW5lQ2hhbmdlLmNyZWF0ZUZyb21EaWZmUmVzdWx0KHRoaXMuc2hvdWxkSWdub3JlVHJpbVdoaXRlc3BhY2UsIG5leHRDaGFuZ2UsIHRoaXMub3JpZ2luYWwsIHRoaXMubW9kaWZpZWQsIHRoaXMuY29udGludWVDaGFyRGlmZiwgdGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMsIHRoaXMuc2hvdWxkUG9zdFByb2Nlc3NDaGFyQ2hhbmdlcykpO1xuICAgICAgICAgICAgICAgIG9yaWdpbmFsTGluZUluZGV4ICs9IG5leHRDaGFuZ2Uub3JpZ2luYWxMZW5ndGg7XG4gICAgICAgICAgICAgICAgbW9kaWZpZWRMaW5lSW5kZXggKz0gbmV4dENoYW5nZS5tb2RpZmllZExlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcXVpdEVhcmx5OiBxdWl0RWFybHksXG4gICAgICAgICAgICBjaGFuZ2VzOiByZXN1bHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3B1c2hUcmltV2hpdGVzcGFjZUNoYXJDaGFuZ2UocmVzdWx0LCBvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsRW5kQ29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkU3RhcnRDb2x1bW4sIG1vZGlmaWVkRW5kQ29sdW1uKSB7XG4gICAgICAgIGlmICh0aGlzLl9tZXJnZVRyaW1XaGl0ZXNwYWNlQ2hhckNoYW5nZShyZXN1bHQsIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRFbmRDb2x1bW4pKSB7XG4gICAgICAgICAgICAvLyBNZXJnZWQgaW50byBwcmV2aW91c1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjaGFyQ2hhbmdlcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkQ29tcHV0ZUNoYXJDaGFuZ2VzKSB7XG4gICAgICAgICAgICBjaGFyQ2hhbmdlcyA9IFtuZXcgQ2hhckNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbildO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBMaW5lQ2hhbmdlKG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxMaW5lTnVtYmVyLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkTGluZU51bWJlciwgY2hhckNoYW5nZXMpKTtcbiAgICB9XG4gICAgX21lcmdlVHJpbVdoaXRlc3BhY2VDaGFyQ2hhbmdlKHJlc3VsdCwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbFN0YXJ0Q29sdW1uLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZEVuZENvbHVtbikge1xuICAgICAgICBjb25zdCBsZW4gPSByZXN1bHQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJldkNoYW5nZSA9IHJlc3VsdFtsZW4gLSAxXTtcbiAgICAgICAgaWYgKHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID09PSAwIHx8IHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSAwKSB7XG4gICAgICAgICAgICAvLyBEb24ndCBtZXJnZSB3aXRoIGluc2VydHMvZGVsZXRlc1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcmV2Q2hhbmdlLm9yaWdpbmFsRW5kTGluZU51bWJlciA9PT0gb3JpZ2luYWxMaW5lTnVtYmVyICYmIHByZXZDaGFuZ2UubW9kaWZpZWRFbmRMaW5lTnVtYmVyID09PSBtb2RpZmllZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZENvbXB1dGVDaGFyQ2hhbmdlcyAmJiBwcmV2Q2hhbmdlLmNoYXJDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcHJldkNoYW5nZS5jaGFyQ2hhbmdlcy5wdXNoKG5ldyBDaGFyQ2hhbmdlKG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxTdGFydENvbHVtbiwgb3JpZ2luYWxMaW5lTnVtYmVyLCBvcmlnaW5hbEVuZENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZFN0YXJ0Q29sdW1uLCBtb2RpZmllZExpbmVOdW1iZXIsIG1vZGlmaWVkRW5kQ29sdW1uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJldkNoYW5nZS5vcmlnaW5hbEVuZExpbmVOdW1iZXIgKyAxID09PSBvcmlnaW5hbExpbmVOdW1iZXIgJiYgcHJldkNoYW5nZS5tb2RpZmllZEVuZExpbmVOdW1iZXIgKyAxID09PSBtb2RpZmllZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHByZXZDaGFuZ2Uub3JpZ2luYWxFbmRMaW5lTnVtYmVyID0gb3JpZ2luYWxMaW5lTnVtYmVyO1xuICAgICAgICAgICAgcHJldkNoYW5nZS5tb2RpZmllZEVuZExpbmVOdW1iZXIgPSBtb2RpZmllZExpbmVOdW1iZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRDb21wdXRlQ2hhckNoYW5nZXMgJiYgcHJldkNoYW5nZS5jaGFyQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgIHByZXZDaGFuZ2UuY2hhckNoYW5nZXMucHVzaChuZXcgQ2hhckNoYW5nZShvcmlnaW5hbExpbmVOdW1iZXIsIG9yaWdpbmFsU3RhcnRDb2x1bW4sIG9yaWdpbmFsTGluZU51bWJlciwgb3JpZ2luYWxFbmRDb2x1bW4sIG1vZGlmaWVkTGluZU51bWJlciwgbW9kaWZpZWRTdGFydENvbHVtbiwgbW9kaWZpZWRMaW5lTnVtYmVyLCBtb2RpZmllZEVuZENvbHVtbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldEZpcnN0Tm9uQmxhbmtDb2x1bW4odHh0LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCByID0gc3RyaW5ncy5maXJzdE5vbldoaXRlc3BhY2VJbmRleCh0eHQpO1xuICAgIGlmIChyID09PSAtMSkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gciArIDE7XG59XG5mdW5jdGlvbiBnZXRMYXN0Tm9uQmxhbmtDb2x1bW4odHh0LCBkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCByID0gc3RyaW5ncy5sYXN0Tm9uV2hpdGVzcGFjZUluZGV4KHR4dCk7XG4gICAgaWYgKHIgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiByICsgMjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUNvbnRpbnVlUHJvY2Vzc2luZ1ByZWRpY2F0ZShtYXhpbXVtUnVudGltZSkge1xuICAgIGlmIChtYXhpbXVtUnVudGltZSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gKCkgPT4gdHJ1ZTtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIHN0YXJ0VGltZSA8IG1heGltdW1SdW50aW1lO1xuICAgIH07XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGZvckVhY2hBZGphY2VudCB9IGZyb20gJy4uLy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7XG5pbXBvcnQgeyBCdWdJbmRpY2F0aW5nRXJyb3IgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9lcnJvcnMuanMnO1xuaW1wb3J0IHsgT2Zmc2V0UmFuZ2UgfSBmcm9tICcuLi8uLi8uLi9jb3JlL29mZnNldFJhbmdlLmpzJztcbmV4cG9ydCBjbGFzcyBEaWZmQWxnb3JpdGhtUmVzdWx0IHtcbiAgICBzdGF0aWMgdHJpdmlhbChzZXExLCBzZXEyKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGlmZkFsZ29yaXRobVJlc3VsdChbbmV3IFNlcXVlbmNlRGlmZihPZmZzZXRSYW5nZS5vZkxlbmd0aChzZXExLmxlbmd0aCksIE9mZnNldFJhbmdlLm9mTGVuZ3RoKHNlcTIubGVuZ3RoKSldLCBmYWxzZSk7XG4gICAgfVxuICAgIHN0YXRpYyB0cml2aWFsVGltZWRPdXQoc2VxMSwgc2VxMikge1xuICAgICAgICByZXR1cm4gbmV3IERpZmZBbGdvcml0aG1SZXN1bHQoW25ldyBTZXF1ZW5jZURpZmYoT2Zmc2V0UmFuZ2Uub2ZMZW5ndGgoc2VxMS5sZW5ndGgpLCBPZmZzZXRSYW5nZS5vZkxlbmd0aChzZXEyLmxlbmd0aCkpXSwgdHJ1ZSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGRpZmZzLCBcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgaWYgdGhlIHRpbWUgb3V0IHdhcyByZWFjaGVkLlxuICAgICAqIEluIHRoYXQgY2FzZSwgdGhlIGRpZmZzIG1pZ2h0IGJlIGFuIGFwcHJveGltYXRpb24gYW5kIHRoZSB1c2VyIHNob3VsZCBiZSBhc2tlZCB0byByZXJ1biB0aGUgZGlmZiB3aXRoIG1vcmUgdGltZS5cbiAgICAgKi9cbiAgICBoaXRUaW1lb3V0KSB7XG4gICAgICAgIHRoaXMuZGlmZnMgPSBkaWZmcztcbiAgICAgICAgdGhpcy5oaXRUaW1lb3V0ID0gaGl0VGltZW91dDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2VxdWVuY2VEaWZmIHtcbiAgICBzdGF0aWMgaW52ZXJ0KHNlcXVlbmNlRGlmZnMsIGRvYzFMZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvckVhY2hBZGphY2VudChzZXF1ZW5jZURpZmZzLCAoYSwgYikgPT4ge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goU2VxdWVuY2VEaWZmLmZyb21PZmZzZXRQYWlycyhhID8gYS5nZXRFbmRFeGNsdXNpdmVzKCkgOiBPZmZzZXRQYWlyLnplcm8sIGIgPyBiLmdldFN0YXJ0cygpIDogbmV3IE9mZnNldFBhaXIoZG9jMUxlbmd0aCwgKGEgPyBhLnNlcTJSYW5nZS5lbmRFeGNsdXNpdmUgLSBhLnNlcTFSYW5nZS5lbmRFeGNsdXNpdmUgOiAwKSArIGRvYzFMZW5ndGgpKSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU9mZnNldFBhaXJzKHN0YXJ0LCBlbmRFeGNsdXNpdmUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZURpZmYobmV3IE9mZnNldFJhbmdlKHN0YXJ0Lm9mZnNldDEsIGVuZEV4Y2x1c2l2ZS5vZmZzZXQxKSwgbmV3IE9mZnNldFJhbmdlKHN0YXJ0Lm9mZnNldDIsIGVuZEV4Y2x1c2l2ZS5vZmZzZXQyKSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKHNlcTFSYW5nZSwgc2VxMlJhbmdlKSB7XG4gICAgICAgIHRoaXMuc2VxMVJhbmdlID0gc2VxMVJhbmdlO1xuICAgICAgICB0aGlzLnNlcTJSYW5nZSA9IHNlcTJSYW5nZTtcbiAgICB9XG4gICAgc3dhcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZURpZmYodGhpcy5zZXEyUmFuZ2UsIHRoaXMuc2VxMVJhbmdlKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnNlcTFSYW5nZX0gPC0+ICR7dGhpcy5zZXEyUmFuZ2V9YDtcbiAgICB9XG4gICAgam9pbihvdGhlcikge1xuICAgICAgICByZXR1cm4gbmV3IFNlcXVlbmNlRGlmZih0aGlzLnNlcTFSYW5nZS5qb2luKG90aGVyLnNlcTFSYW5nZSksIHRoaXMuc2VxMlJhbmdlLmpvaW4ob3RoZXIuc2VxMlJhbmdlKSk7XG4gICAgfVxuICAgIGRlbHRhKG9mZnNldCkge1xuICAgICAgICBpZiAob2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlcXVlbmNlRGlmZih0aGlzLnNlcTFSYW5nZS5kZWx0YShvZmZzZXQpLCB0aGlzLnNlcTJSYW5nZS5kZWx0YShvZmZzZXQpKTtcbiAgICB9XG4gICAgZGVsdGFTdGFydChvZmZzZXQpIHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZURpZmYodGhpcy5zZXExUmFuZ2UuZGVsdGFTdGFydChvZmZzZXQpLCB0aGlzLnNlcTJSYW5nZS5kZWx0YVN0YXJ0KG9mZnNldCkpO1xuICAgIH1cbiAgICBkZWx0YUVuZChvZmZzZXQpIHtcbiAgICAgICAgaWYgKG9mZnNldCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTZXF1ZW5jZURpZmYodGhpcy5zZXExUmFuZ2UuZGVsdGFFbmQob2Zmc2V0KSwgdGhpcy5zZXEyUmFuZ2UuZGVsdGFFbmQob2Zmc2V0KSk7XG4gICAgfVxuICAgIGludGVyc2VjdChvdGhlcikge1xuICAgICAgICBjb25zdCBpMSA9IHRoaXMuc2VxMVJhbmdlLmludGVyc2VjdChvdGhlci5zZXExUmFuZ2UpO1xuICAgICAgICBjb25zdCBpMiA9IHRoaXMuc2VxMlJhbmdlLmludGVyc2VjdChvdGhlci5zZXEyUmFuZ2UpO1xuICAgICAgICBpZiAoIWkxIHx8ICFpMikge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFNlcXVlbmNlRGlmZihpMSwgaTIpO1xuICAgIH1cbiAgICBnZXRTdGFydHMoKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2Zmc2V0UGFpcih0aGlzLnNlcTFSYW5nZS5zdGFydCwgdGhpcy5zZXEyUmFuZ2Uuc3RhcnQpO1xuICAgIH1cbiAgICBnZXRFbmRFeGNsdXNpdmVzKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9mZnNldFBhaXIodGhpcy5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlLCB0aGlzLnNlcTJSYW5nZS5lbmRFeGNsdXNpdmUpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBPZmZzZXRQYWlyIHtcbiAgICBjb25zdHJ1Y3RvcihvZmZzZXQxLCBvZmZzZXQyKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0MSA9IG9mZnNldDE7XG4gICAgICAgIHRoaXMub2Zmc2V0MiA9IG9mZnNldDI7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5vZmZzZXQxfSA8LT4gJHt0aGlzLm9mZnNldDJ9YDtcbiAgICB9XG59XG5PZmZzZXRQYWlyLnplcm8gPSBuZXcgT2Zmc2V0UGFpcigwLCAwKTtcbk9mZnNldFBhaXIubWF4ID0gbmV3IE9mZnNldFBhaXIoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcbmV4cG9ydCBjbGFzcyBJbmZpbml0ZVRpbWVvdXQge1xuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbkluZmluaXRlVGltZW91dC5pbnN0YW5jZSA9IG5ldyBJbmZpbml0ZVRpbWVvdXQoKTtcbmV4cG9ydCBjbGFzcyBEYXRlVGltZW91dCB7XG4gICAgY29uc3RydWN0b3IodGltZW91dCkge1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSB0aW1lb3V0O1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMudmFsaWQgPSB0cnVlO1xuICAgICAgICBpZiAodGltZW91dCA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQnVnSW5kaWNhdGluZ0Vycm9yKCd0aW1lb3V0IG11c3QgYmUgcG9zaXRpdmUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZWNvbW1lbmRhdGlvbjogU2V0IGEgbG9nLXBvaW50IGB7dGhpcy5kaXNhYmxlKCl9YCBpbiB0aGUgYm9keVxuICAgIGlzVmFsaWQoKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gRGF0ZS5ub3coKSAtIHRoaXMuc3RhcnRUaW1lIDwgdGhpcy50aW1lb3V0O1xuICAgICAgICBpZiAoIXZhbGlkICYmIHRoaXMudmFsaWQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsaWQgPSBmYWxzZTsgLy8gdGltZW91dCByZWFjaGVkXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZGVidWdnZXJcbiAgICAgICAgICAgIGRlYnVnZ2VyOyAvLyBXQVJOSU5HOiBNb3N0IGxpa2VseSBkZWJ1Z2dpbmcgY2F1c2VkIHRoZSB0aW1lb3V0LiBDYWxsIGB0aGlzLmRpc2FibGUoKWAgdG8gY29udGludWUgd2l0aG91dCB0aW1pbmcgb3V0LlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGNsYXNzIEFycmF5MkQge1xuICAgIGNvbnN0cnVjdG9yKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5hcnJheSA9IFtdO1xuICAgICAgICB0aGlzLmFycmF5ID0gbmV3IEFycmF5KHdpZHRoICogaGVpZ2h0KTtcbiAgICB9XG4gICAgZ2V0KHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXlbeCArIHkgKiB0aGlzLndpZHRoXTtcbiAgICB9XG4gICAgc2V0KHgsIHksIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuYXJyYXlbeCArIHkgKiB0aGlzLndpZHRoXSA9IHZhbHVlO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBpc1NwYWNlKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlID09PSAzMiAvKiBDaGFyQ29kZS5TcGFjZSAqLyB8fCBjaGFyQ29kZSA9PT0gOSAvKiBDaGFyQ29kZS5UYWIgKi87XG59XG5leHBvcnQgY2xhc3MgTGluZVJhbmdlRnJhZ21lbnQge1xuICAgIHN0YXRpYyBnZXRLZXkoY2hyKSB7XG4gICAgICAgIGxldCBrZXkgPSB0aGlzLmNocktleXMuZ2V0KGNocik7XG4gICAgICAgIGlmIChrZXkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2V5ID0gdGhpcy5jaHJLZXlzLnNpemU7XG4gICAgICAgICAgICB0aGlzLmNocktleXMuc2V0KGNociwga2V5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ga2V5O1xuICAgIH1cbiAgICBjb25zdHJ1Y3RvcihyYW5nZSwgbGluZXMsIHNvdXJjZSkge1xuICAgICAgICB0aGlzLnJhbmdlID0gcmFuZ2U7XG4gICAgICAgIHRoaXMubGluZXMgPSBsaW5lcztcbiAgICAgICAgdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHRoaXMuaGlzdG9ncmFtID0gW107XG4gICAgICAgIGxldCBjb3VudGVyID0gMDtcbiAgICAgICAgZm9yIChsZXQgaSA9IHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIDE7IGkgPCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lID0gbGluZXNbaV07XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxpbmUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb3VudGVyKys7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hyID0gbGluZVtqXTtcbiAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBMaW5lUmFuZ2VGcmFnbWVudC5nZXRLZXkoY2hyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmhpc3RvZ3JhbVtrZXldID0gKHRoaXMuaGlzdG9ncmFtW2tleV0gfHwgMCkgKyAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnRlcisrO1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gTGluZVJhbmdlRnJhZ21lbnQuZ2V0S2V5KCdcXG4nKTtcbiAgICAgICAgICAgIHRoaXMuaGlzdG9ncmFtW2tleV0gPSAodGhpcy5oaXN0b2dyYW1ba2V5XSB8fCAwKSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy50b3RhbENvdW50ID0gY291bnRlcjtcbiAgICB9XG4gICAgY29tcHV0ZVNpbWlsYXJpdHkob3RoZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgbGV0IHN1bURpZmZlcmVuY2VzID0gMDtcbiAgICAgICAgY29uc3QgbWF4TGVuZ3RoID0gTWF0aC5tYXgodGhpcy5oaXN0b2dyYW0ubGVuZ3RoLCBvdGhlci5oaXN0b2dyYW0ubGVuZ3RoKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhMZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgc3VtRGlmZmVyZW5jZXMgKz0gTWF0aC5hYnMoKChfYSA9IHRoaXMuaGlzdG9ncmFtW2ldKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwKSAtICgoX2IgPSBvdGhlci5oaXN0b2dyYW1baV0pICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMSAtIChzdW1EaWZmZXJlbmNlcyAvICh0aGlzLnRvdGFsQ291bnQgKyBvdGhlci50b3RhbENvdW50KSk7XG4gICAgfVxufVxuTGluZVJhbmdlRnJhZ21lbnQuY2hyS2V5cyA9IG5ldyBNYXAoKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgT2Zmc2V0UmFuZ2UgfSBmcm9tICcuLi8uLi8uLi9jb3JlL29mZnNldFJhbmdlLmpzJztcbmltcG9ydCB7IFNlcXVlbmNlRGlmZiwgSW5maW5pdGVUaW1lb3V0LCBEaWZmQWxnb3JpdGhtUmVzdWx0IH0gZnJvbSAnLi9kaWZmQWxnb3JpdGhtLmpzJztcbmltcG9ydCB7IEFycmF5MkQgfSBmcm9tICcuLi91dGlscy5qcyc7XG4vKipcbiAqIEEgTyhNTikgZGlmZmluZyBhbGdvcml0aG0gdGhhdCBzdXBwb3J0cyBhIHNjb3JlIGZ1bmN0aW9uLlxuICogVGhlIGFsZ29yaXRobSBjYW4gYmUgaW1wcm92ZWQgYnkgcHJvY2Vzc2luZyB0aGUgMmQgYXJyYXkgZGlhZ29uYWxseS5cbiovXG5leHBvcnQgY2xhc3MgRHluYW1pY1Byb2dyYW1taW5nRGlmZmluZyB7XG4gICAgY29tcHV0ZShzZXF1ZW5jZTEsIHNlcXVlbmNlMiwgdGltZW91dCA9IEluZmluaXRlVGltZW91dC5pbnN0YW5jZSwgZXF1YWxpdHlTY29yZSkge1xuICAgICAgICBpZiAoc2VxdWVuY2UxLmxlbmd0aCA9PT0gMCB8fCBzZXF1ZW5jZTIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGlmZkFsZ29yaXRobVJlc3VsdC50cml2aWFsKHNlcXVlbmNlMSwgc2VxdWVuY2UyKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogbGNzTGVuZ3Rocy5nZXQoaSwgaik6IExlbmd0aCBvZiB0aGUgbG9uZ2VzdCBjb21tb24gc3Vic2VxdWVuY2Ugb2Ygc2VxdWVuY2UxLnN1YnN0cmluZygwLCBpICsgMSkgYW5kIHNlcXVlbmNlMi5zdWJzdHJpbmcoMCwgaiArIDEpLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgbGNzTGVuZ3RocyA9IG5ldyBBcnJheTJEKHNlcXVlbmNlMS5sZW5ndGgsIHNlcXVlbmNlMi5sZW5ndGgpO1xuICAgICAgICBjb25zdCBkaXJlY3Rpb25zID0gbmV3IEFycmF5MkQoc2VxdWVuY2UxLmxlbmd0aCwgc2VxdWVuY2UyLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IGxlbmd0aHMgPSBuZXcgQXJyYXkyRChzZXF1ZW5jZTEubGVuZ3RoLCBzZXF1ZW5jZTIubGVuZ3RoKTtcbiAgICAgICAgLy8gPT09PSBJbml0aWFsaXppbmcgbGNzTGVuZ3RocyA9PT09XG4gICAgICAgIGZvciAobGV0IHMxID0gMDsgczEgPCBzZXF1ZW5jZTEubGVuZ3RoOyBzMSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBzMiA9IDA7IHMyIDwgc2VxdWVuY2UyLmxlbmd0aDsgczIrKykge1xuICAgICAgICAgICAgICAgIGlmICghdGltZW91dC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpZmZBbGdvcml0aG1SZXN1bHQudHJpdmlhbFRpbWVkT3V0KHNlcXVlbmNlMSwgc2VxdWVuY2UyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbExlbiA9IHMxID09PSAwID8gMCA6IGxjc0xlbmd0aHMuZ2V0KHMxIC0gMSwgczIpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsTGVuID0gczIgPT09IDAgPyAwIDogbGNzTGVuZ3Rocy5nZXQoczEsIHMyIC0gMSk7XG4gICAgICAgICAgICAgICAgbGV0IGV4dGVuZGVkU2VxU2NvcmU7XG4gICAgICAgICAgICAgICAgaWYgKHNlcXVlbmNlMS5nZXRFbGVtZW50KHMxKSA9PT0gc2VxdWVuY2UyLmdldEVsZW1lbnQoczIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMSA9PT0gMCB8fCBzMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRTZXFTY29yZSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHRlbmRlZFNlcVNjb3JlID0gbGNzTGVuZ3Rocy5nZXQoczEgLSAxLCBzMiAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzMSA+IDAgJiYgczIgPiAwICYmIGRpcmVjdGlvbnMuZ2V0KHMxIC0gMSwgczIgLSAxKSA9PT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJlZmVyIGNvbnNlY3V0aXZlIGRpYWdvbmFsc1xuICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRTZXFTY29yZSArPSBsZW5ndGhzLmdldChzMSAtIDEsIHMyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRTZXFTY29yZSArPSAoZXF1YWxpdHlTY29yZSA/IGVxdWFsaXR5U2NvcmUoczEsIHMyKSA6IDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXh0ZW5kZWRTZXFTY29yZSA9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IE1hdGgubWF4KGhvcml6b250YWxMZW4sIHZlcnRpY2FsTGVuLCBleHRlbmRlZFNlcVNjb3JlKTtcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IGV4dGVuZGVkU2VxU2NvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJlZmVyIGRpYWdvbmFsc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2TGVuID0gczEgPiAwICYmIHMyID4gMCA/IGxlbmd0aHMuZ2V0KHMxIC0gMSwgczIgLSAxKSA6IDA7XG4gICAgICAgICAgICAgICAgICAgIGxlbmd0aHMuc2V0KHMxLCBzMiwgcHJldkxlbiArIDEpO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zLnNldChzMSwgczIsIDMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gaG9yaXpvbnRhbExlbikge1xuICAgICAgICAgICAgICAgICAgICBsZW5ndGhzLnNldChzMSwgczIsIDApO1xuICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb25zLnNldChzMSwgczIsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChuZXdWYWx1ZSA9PT0gdmVydGljYWxMZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgbGVuZ3Rocy5zZXQoczEsIHMyLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9ucy5zZXQoczEsIHMyLCAyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGNzTGVuZ3Rocy5zZXQoczEsIHMyLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gPT09PSBCYWNrdHJhY2tpbmcgPT09PVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGxhc3RBbGlnbmluZ1Bvc1MxID0gc2VxdWVuY2UxLmxlbmd0aDtcbiAgICAgICAgbGV0IGxhc3RBbGlnbmluZ1Bvc1MyID0gc2VxdWVuY2UyLmxlbmd0aDtcbiAgICAgICAgZnVuY3Rpb24gcmVwb3J0RGVjcmVhc2luZ0FsaWduaW5nUG9zaXRpb25zKHMxLCBzMikge1xuICAgICAgICAgICAgaWYgKHMxICsgMSAhPT0gbGFzdEFsaWduaW5nUG9zUzEgfHwgczIgKyAxICE9PSBsYXN0QWxpZ25pbmdQb3NTMikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5ldyBTZXF1ZW5jZURpZmYobmV3IE9mZnNldFJhbmdlKHMxICsgMSwgbGFzdEFsaWduaW5nUG9zUzEpLCBuZXcgT2Zmc2V0UmFuZ2UoczIgKyAxLCBsYXN0QWxpZ25pbmdQb3NTMikpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RBbGlnbmluZ1Bvc1MxID0gczE7XG4gICAgICAgICAgICBsYXN0QWxpZ25pbmdQb3NTMiA9IHMyO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzMSA9IHNlcXVlbmNlMS5sZW5ndGggLSAxO1xuICAgICAgICBsZXQgczIgPSBzZXF1ZW5jZTIubGVuZ3RoIC0gMTtcbiAgICAgICAgd2hpbGUgKHMxID49IDAgJiYgczIgPj0gMCkge1xuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbnMuZ2V0KHMxLCBzMikgPT09IDMpIHtcbiAgICAgICAgICAgICAgICByZXBvcnREZWNyZWFzaW5nQWxpZ25pbmdQb3NpdGlvbnMoczEsIHMyKTtcbiAgICAgICAgICAgICAgICBzMS0tO1xuICAgICAgICAgICAgICAgIHMyLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9ucy5nZXQoczEsIHMyKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICBzMS0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgczItLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmVwb3J0RGVjcmVhc2luZ0FsaWduaW5nUG9zaXRpb25zKC0xLCAtMSk7XG4gICAgICAgIHJlc3VsdC5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBuZXcgRGlmZkFsZ29yaXRobVJlc3VsdChyZXN1bHQsIGZhbHNlKTtcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IE9mZnNldFJhbmdlIH0gZnJvbSAnLi4vLi4vLi4vY29yZS9vZmZzZXRSYW5nZS5qcyc7XG5pbXBvcnQgeyBEaWZmQWxnb3JpdGhtUmVzdWx0LCBJbmZpbml0ZVRpbWVvdXQsIFNlcXVlbmNlRGlmZiB9IGZyb20gJy4vZGlmZkFsZ29yaXRobS5qcyc7XG4vKipcbiAqIEFuIE8oTkQpIGRpZmYgYWxnb3JpdGhtIHRoYXQgaGFzIGEgcXVhZHJhdGljIHNwYWNlIHdvcnN0LWNhc2UgY29tcGxleGl0eS5cbiovXG5leHBvcnQgY2xhc3MgTXllcnNEaWZmQWxnb3JpdGhtIHtcbiAgICBjb21wdXRlKHNlcTEsIHNlcTIsIHRpbWVvdXQgPSBJbmZpbml0ZVRpbWVvdXQuaW5zdGFuY2UpIHtcbiAgICAgICAgLy8gVGhlc2UgYXJlIGNvbW1vbiBzcGVjaWFsIGNhc2VzLlxuICAgICAgICAvLyBUaGUgZWFybHkgcmV0dXJuIGltcHJvdmVzIHBlcmZvcm1hbmNlIGRyYW1hdGljYWxseS5cbiAgICAgICAgaWYgKHNlcTEubGVuZ3RoID09PSAwIHx8IHNlcTIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gRGlmZkFsZ29yaXRobVJlc3VsdC50cml2aWFsKHNlcTEsIHNlcTIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlcVggPSBzZXExOyAvLyBUZXh0IG9uIHRoZSB4IGF4aXNcbiAgICAgICAgY29uc3Qgc2VxWSA9IHNlcTI7IC8vIFRleHQgb24gdGhlIHkgYXhpc1xuICAgICAgICBmdW5jdGlvbiBnZXRYQWZ0ZXJTbmFrZSh4LCB5KSB7XG4gICAgICAgICAgICB3aGlsZSAoeCA8IHNlcVgubGVuZ3RoICYmIHkgPCBzZXFZLmxlbmd0aCAmJiBzZXFYLmdldEVsZW1lbnQoeCkgPT09IHNlcVkuZ2V0RWxlbWVudCh5KSkge1xuICAgICAgICAgICAgICAgIHgrKztcbiAgICAgICAgICAgICAgICB5Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZCA9IDA7XG4gICAgICAgIC8vIFZba106IFggdmFsdWUgb2YgbG9uZ2VzdCBkLWxpbmUgdGhhdCBlbmRzIGluIGRpYWdvbmFsIGsuXG4gICAgICAgIC8vIGQtbGluZTogcGF0aCBmcm9tICgwLDApIHRvICh4LHkpIHRoYXQgdXNlcyBleGFjdGx5IGQgbm9uLWRpYWdvbmFscy5cbiAgICAgICAgLy8gZGlhZ29uYWwgazogU2V0IG9mIHBvaW50cyAoeCx5KSB3aXRoIHgteSA9IGsuXG4gICAgICAgIC8vIGs9MSAtPiAoMSwwKSwoMiwxKVxuICAgICAgICBjb25zdCBWID0gbmV3IEZhc3RJbnQzMkFycmF5KCk7XG4gICAgICAgIFYuc2V0KDAsIGdldFhBZnRlclNuYWtlKDAsIDApKTtcbiAgICAgICAgY29uc3QgcGF0aHMgPSBuZXcgRmFzdEFycmF5TmVnYXRpdmVJbmRpY2VzKCk7XG4gICAgICAgIHBhdGhzLnNldCgwLCBWLmdldCgwKSA9PT0gMCA/IG51bGwgOiBuZXcgU25ha2VQYXRoKG51bGwsIDAsIDAsIFYuZ2V0KDApKSk7XG4gICAgICAgIGxldCBrID0gMDtcbiAgICAgICAgbG9vcDogd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIGQrKztcbiAgICAgICAgICAgIGlmICghdGltZW91dC5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gRGlmZkFsZ29yaXRobVJlc3VsdC50cml2aWFsVGltZWRPdXQoc2VxWCwgc2VxWSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGUgcGFwZXIgaGFzIGBmb3IgKGsgPSAtZDsgayA8PSBkOyBrICs9IDIpYCwgYnV0IHdlIGNhbiBpZ25vcmUgZGlhZ29uYWxzIHRoYXQgY2Fubm90IGluZmx1ZW5jZSB0aGUgcmVzdWx0LlxuICAgICAgICAgICAgY29uc3QgbG93ZXJCb3VuZCA9IC1NYXRoLm1pbihkLCBzZXFZLmxlbmd0aCArIChkICUgMikpO1xuICAgICAgICAgICAgY29uc3QgdXBwZXJCb3VuZCA9IE1hdGgubWluKGQsIHNlcVgubGVuZ3RoICsgKGQgJSAyKSk7XG4gICAgICAgICAgICBmb3IgKGsgPSBsb3dlckJvdW5kOyBrIDw9IHVwcGVyQm91bmQ7IGsgKz0gMikge1xuICAgICAgICAgICAgICAgIGxldCBzdGVwID0gMDtcbiAgICAgICAgICAgICAgICAvLyBXZSBjYW4gdXNlIHRoZSBYIHZhbHVlcyBvZiAoZC0xKS1saW5lcyB0byBjb21wdXRlIFggdmFsdWUgb2YgdGhlIGxvbmdlc3QgZC1saW5lcy5cbiAgICAgICAgICAgICAgICBjb25zdCBtYXhYb2ZETGluZVRvcCA9IGsgPT09IHVwcGVyQm91bmQgPyAtMSA6IFYuZ2V0KGsgKyAxKTsgLy8gV2UgdGFrZSBhIHZlcnRpY2FsIG5vbi1kaWFnb25hbCAoYWRkIGEgc3ltYm9sIGluIHNlcVgpXG4gICAgICAgICAgICAgICAgY29uc3QgbWF4WG9mRExpbmVMZWZ0ID0gayA9PT0gbG93ZXJCb3VuZCA/IC0xIDogVi5nZXQoayAtIDEpICsgMTsgLy8gV2UgdGFrZSBhIGhvcml6b250YWwgbm9uLWRpYWdvbmFsICgrMSB4KSAoZGVsZXRlIGEgc3ltYm9sIGluIHNlcVgpXG4gICAgICAgICAgICAgICAgc3RlcCsrO1xuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBNYXRoLm1pbihNYXRoLm1heChtYXhYb2ZETGluZVRvcCwgbWF4WG9mRExpbmVMZWZ0KSwgc2VxWC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSB4IC0gaztcbiAgICAgICAgICAgICAgICBzdGVwKys7XG4gICAgICAgICAgICAgICAgaWYgKHggPiBzZXFYLmxlbmd0aCB8fCB5ID4gc2VxWS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBkaWFnb25hbCBpcyBpcnJlbGV2YW50IGZvciB0aGUgcmVzdWx0LlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBEb24ndCBwYXkgdGhlIGNvc3QgZm9yIHRoaXMgaW4gdGhlIG5leHQgaXRlcmF0aW9uLlxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3TWF4WCA9IGdldFhBZnRlclNuYWtlKHgsIHkpO1xuICAgICAgICAgICAgICAgIFYuc2V0KGssIG5ld01heFgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGxhc3RQYXRoID0geCA9PT0gbWF4WG9mRExpbmVUb3AgPyBwYXRocy5nZXQoayArIDEpIDogcGF0aHMuZ2V0KGsgLSAxKTtcbiAgICAgICAgICAgICAgICBwYXRocy5zZXQoaywgbmV3TWF4WCAhPT0geCA/IG5ldyBTbmFrZVBhdGgobGFzdFBhdGgsIHgsIHksIG5ld01heFggLSB4KSA6IGxhc3RQYXRoKTtcbiAgICAgICAgICAgICAgICBpZiAoVi5nZXQoaykgPT09IHNlcVgubGVuZ3RoICYmIFYuZ2V0KGspIC0gayA9PT0gc2VxWS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWsgbG9vcDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGggPSBwYXRocy5nZXQoayk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgICAgICBsZXQgbGFzdEFsaWduaW5nUG9zUzEgPSBzZXFYLmxlbmd0aDtcbiAgICAgICAgbGV0IGxhc3RBbGlnbmluZ1Bvc1MyID0gc2VxWS5sZW5ndGg7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBlbmRYID0gcGF0aCA/IHBhdGgueCArIHBhdGgubGVuZ3RoIDogMDtcbiAgICAgICAgICAgIGNvbnN0IGVuZFkgPSBwYXRoID8gcGF0aC55ICsgcGF0aC5sZW5ndGggOiAwO1xuICAgICAgICAgICAgaWYgKGVuZFggIT09IGxhc3RBbGlnbmluZ1Bvc1MxIHx8IGVuZFkgIT09IGxhc3RBbGlnbmluZ1Bvc1MyKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFNlcXVlbmNlRGlmZihuZXcgT2Zmc2V0UmFuZ2UoZW5kWCwgbGFzdEFsaWduaW5nUG9zUzEpLCBuZXcgT2Zmc2V0UmFuZ2UoZW5kWSwgbGFzdEFsaWduaW5nUG9zUzIpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhc3RBbGlnbmluZ1Bvc1MxID0gcGF0aC54O1xuICAgICAgICAgICAgbGFzdEFsaWduaW5nUG9zUzIgPSBwYXRoLnk7XG4gICAgICAgICAgICBwYXRoID0gcGF0aC5wcmV2O1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5yZXZlcnNlKCk7XG4gICAgICAgIHJldHVybiBuZXcgRGlmZkFsZ29yaXRobVJlc3VsdChyZXN1bHQsIGZhbHNlKTtcbiAgICB9XG59XG5jbGFzcyBTbmFrZVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHByZXYsIHgsIHksIGxlbmd0aCkge1xuICAgICAgICB0aGlzLnByZXYgPSBwcmV2O1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB9XG59XG4vKipcbiAqIEFuIGFycmF5IHRoYXQgc3VwcG9ydHMgZmFzdCBuZWdhdGl2ZSBpbmRpY2VzLlxuKi9cbmNsYXNzIEZhc3RJbnQzMkFycmF5IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5wb3NpdGl2ZUFyciA9IG5ldyBJbnQzMkFycmF5KDEwKTtcbiAgICAgICAgdGhpcy5uZWdhdGl2ZUFyciA9IG5ldyBJbnQzMkFycmF5KDEwKTtcbiAgICB9XG4gICAgZ2V0KGlkeCkge1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgaWR4ID0gLWlkeCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZUFycltpZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpdmVBcnJbaWR4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQoaWR4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgaWR4ID0gLWlkeCAtIDE7XG4gICAgICAgICAgICBpZiAoaWR4ID49IHRoaXMubmVnYXRpdmVBcnIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXJyID0gdGhpcy5uZWdhdGl2ZUFycjtcbiAgICAgICAgICAgICAgICB0aGlzLm5lZ2F0aXZlQXJyID0gbmV3IEludDMyQXJyYXkoYXJyLmxlbmd0aCAqIDIpO1xuICAgICAgICAgICAgICAgIHRoaXMubmVnYXRpdmVBcnIuc2V0KGFycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm5lZ2F0aXZlQXJyW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChpZHggPj0gdGhpcy5wb3NpdGl2ZUFyci5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhcnIgPSB0aGlzLnBvc2l0aXZlQXJyO1xuICAgICAgICAgICAgICAgIHRoaXMucG9zaXRpdmVBcnIgPSBuZXcgSW50MzJBcnJheShhcnIubGVuZ3RoICogMik7XG4gICAgICAgICAgICAgICAgdGhpcy5wb3NpdGl2ZUFyci5zZXQoYXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVBcnJbaWR4XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBBbiBhcnJheSB0aGF0IHN1cHBvcnRzIGZhc3QgbmVnYXRpdmUgaW5kaWNlcy5cbiovXG5jbGFzcyBGYXN0QXJyYXlOZWdhdGl2ZUluZGljZXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBvc2l0aXZlQXJyID0gW107XG4gICAgICAgIHRoaXMubmVnYXRpdmVBcnIgPSBbXTtcbiAgICB9XG4gICAgZ2V0KGlkeCkge1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgaWR4ID0gLWlkeCAtIDE7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZUFycltpZHhdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zaXRpdmVBcnJbaWR4XTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXQoaWR4LCB2YWx1ZSkge1xuICAgICAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgICAgICAgaWR4ID0gLWlkeCAtIDE7XG4gICAgICAgICAgICB0aGlzLm5lZ2F0aXZlQXJyW2lkeF0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpdmVBcnJbaWR4XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG52YXIgX2EsIF9iO1xuY2xhc3MgUmVzb3VyY2VNYXBFbnRyeSB7XG4gICAgY29uc3RydWN0b3IodXJpLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnVyaSA9IHVyaTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzRW50cmllcyhhcmcpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcmcpO1xufVxuZXhwb3J0IGNsYXNzIFJlc291cmNlTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihhcmcsIHRvS2V5KSB7XG4gICAgICAgIHRoaXNbX2FdID0gJ1Jlc291cmNlTWFwJztcbiAgICAgICAgaWYgKGFyZyBpbnN0YW5jZW9mIFJlc291cmNlTWFwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoYXJnLm1hcCk7XG4gICAgICAgICAgICB0aGlzLnRvS2V5ID0gdG9LZXkgIT09IG51bGwgJiYgdG9LZXkgIT09IHZvaWQgMCA/IHRvS2V5IDogUmVzb3VyY2VNYXAuZGVmYXVsdFRvS2V5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzRW50cmllcyhhcmcpKSB7XG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMudG9LZXkgPSB0b0tleSAhPT0gbnVsbCAmJiB0b0tleSAhPT0gdm9pZCAwID8gdG9LZXkgOiBSZXNvdXJjZU1hcC5kZWZhdWx0VG9LZXk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtyZXNvdXJjZSwgdmFsdWVdIG9mIGFyZykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KHJlc291cmNlLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMudG9LZXkgPSBhcmcgIT09IG51bGwgJiYgYXJnICE9PSB2b2lkIDAgPyBhcmcgOiBSZXNvdXJjZU1hcC5kZWZhdWx0VG9LZXk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0KHJlc291cmNlLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm1hcC5zZXQodGhpcy50b0tleShyZXNvdXJjZSksIG5ldyBSZXNvdXJjZU1hcEVudHJ5KHJlc291cmNlLCB2YWx1ZSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHJlc291cmNlKSB7XG4gICAgICAgIHZhciBfYztcbiAgICAgICAgcmV0dXJuIChfYyA9IHRoaXMubWFwLmdldCh0aGlzLnRvS2V5KHJlc291cmNlKSkpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy52YWx1ZTtcbiAgICB9XG4gICAgaGFzKHJlc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcC5oYXModGhpcy50b0tleShyZXNvdXJjZSkpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLnNpemU7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLm1hcC5jbGVhcigpO1xuICAgIH1cbiAgICBkZWxldGUocmVzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWFwLmRlbGV0ZSh0aGlzLnRvS2V5KHJlc291cmNlKSk7XG4gICAgfVxuICAgIGZvckVhY2goY2xiLCB0aGlzQXJnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpc0FyZyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNsYiA9IGNsYi5iaW5kKHRoaXNBcmcpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW18sIGVudHJ5XSBvZiB0aGlzLm1hcCkge1xuICAgICAgICAgICAgY2xiKGVudHJ5LnZhbHVlLCBlbnRyeS51cmksIHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgICp2YWx1ZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIGVudHJ5LnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxuICAgICprZXlzKCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMubWFwLnZhbHVlcygpKSB7XG4gICAgICAgICAgICB5aWVsZCBlbnRyeS51cmk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKmVudHJpZXMoKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgdGhpcy5tYXAudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIHlpZWxkIFtlbnRyeS51cmksIGVudHJ5LnZhbHVlXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAqWyhfYSA9IFN5bWJvbC50b1N0cmluZ1RhZywgU3ltYm9sLml0ZXJhdG9yKV0oKSB7XG4gICAgICAgIGZvciAoY29uc3QgWywgZW50cnldIG9mIHRoaXMubWFwKSB7XG4gICAgICAgICAgICB5aWVsZCBbZW50cnkudXJpLCBlbnRyeS52YWx1ZV07XG4gICAgICAgIH1cbiAgICB9XG59XG5SZXNvdXJjZU1hcC5kZWZhdWx0VG9LZXkgPSAocmVzb3VyY2UpID0+IHJlc291cmNlLnRvU3RyaW5nKCk7XG5leHBvcnQgY2xhc3MgTGlua2VkTWFwIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpc1tfYl0gPSAnTGlua2VkTWFwJztcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9oZWFkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSAwO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3RhaWwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICB0aGlzLl9zdGF0ZSsrO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gIXRoaXMuX2hlYWQgJiYgIXRoaXMuX3RhaWw7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0IGZpcnN0KCkge1xuICAgICAgICB2YXIgX2M7XG4gICAgICAgIHJldHVybiAoX2MgPSB0aGlzLl9oZWFkKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudmFsdWU7XG4gICAgfVxuICAgIGdldCBsYXN0KCkge1xuICAgICAgICB2YXIgX2M7XG4gICAgICAgIHJldHVybiAoX2MgPSB0aGlzLl90YWlsKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudmFsdWU7XG4gICAgfVxuICAgIGhhcyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoa2V5KTtcbiAgICB9XG4gICAgZ2V0KGtleSwgdG91Y2ggPSAwIC8qIFRvdWNoLk5vbmUgKi8pIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX21hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b3VjaCAhPT0gMCAvKiBUb3VjaC5Ob25lICovKSB7XG4gICAgICAgICAgICB0aGlzLnRvdWNoKGl0ZW0sIHRvdWNoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUsIHRvdWNoID0gMCAvKiBUb3VjaC5Ob25lICovKSB7XG4gICAgICAgIGxldCBpdGVtID0gdGhpcy5fbWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgaXRlbS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgaWYgKHRvdWNoICE9PSAwIC8qIFRvdWNoLk5vbmUgKi8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoKGl0ZW0sIHRvdWNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0gPSB7IGtleSwgdmFsdWUsIG5leHQ6IHVuZGVmaW5lZCwgcHJldmlvdXM6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgc3dpdGNoICh0b3VjaCkge1xuICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBUb3VjaC5Ob25lICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEl0ZW1MYXN0KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDEgLyogVG91Y2guQXNPbGQgKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbUZpcnN0KGl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIDIgLyogVG91Y2guQXNOZXcgKi86XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbUxhc3QoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkSXRlbUxhc3QoaXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWFwLnNldChrZXksIGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5fc2l6ZSsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBkZWxldGUoa2V5KSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMucmVtb3ZlKGtleSk7XG4gICAgfVxuICAgIHJlbW92ZShrZXkpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX21hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCFpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX21hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGl0ZW0pO1xuICAgICAgICB0aGlzLl9zaXplLS07XG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xuICAgIH1cbiAgICBzaGlmdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkICYmICF0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5faGVhZCB8fCAhdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5faGVhZDtcbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShpdGVtLmtleSk7XG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShpdGVtKTtcbiAgICAgICAgdGhpcy5fc2l6ZS0tO1xuICAgICAgICByZXR1cm4gaXRlbS52YWx1ZTtcbiAgICB9XG4gICAgZm9yRWFjaChjYWxsYmFja2ZuLCB0aGlzQXJnKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gdGhpcy5fc3RhdGU7XG4gICAgICAgIGxldCBjdXJyZW50ID0gdGhpcy5faGVhZDtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQXJnKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tmbi5iaW5kKHRoaXNBcmcpKGN1cnJlbnQudmFsdWUsIGN1cnJlbnQua2V5LCB0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrZm4oY3VycmVudC52YWx1ZSwgY3VycmVudC5rZXksIHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBzdGF0ZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGlua2VkTWFwIGdvdCBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0ge1xuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcC5fc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGlua2VkTWFwIGdvdCBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHZhbHVlOiBjdXJyZW50LmtleSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQubmV4dDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBpdGVyYXRvcjtcbiAgICB9XG4gICAgdmFsdWVzKCkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0ge1xuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcC5fc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGlua2VkTWFwIGdvdCBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHZhbHVlOiBjdXJyZW50LnZhbHVlLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgIH1cbiAgICBlbnRyaWVzKCkge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0ge1xuICAgICAgICAgICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5leHQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1hcC5fc3RhdGUgIT09IHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTGlua2VkTWFwIGdvdCBtb2RpZmllZCBkdXJpbmcgaXRlcmF0aW9uLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IHZhbHVlOiBbY3VycmVudC5rZXksIGN1cnJlbnQudmFsdWVdLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gY3VycmVudC5uZXh0O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yO1xuICAgIH1cbiAgICBbKF9iID0gU3ltYm9sLnRvU3RyaW5nVGFnLCBTeW1ib2wuaXRlcmF0b3IpXSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW50cmllcygpO1xuICAgIH1cbiAgICB0cmltT2xkKG5ld1NpemUpIHtcbiAgICAgICAgaWYgKG5ld1NpemUgPj0gdGhpcy5zaXplKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5ld1NpemUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgIGxldCBjdXJyZW50U2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICAgICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudFNpemUgPiBuZXdTaXplKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXAuZGVsZXRlKGN1cnJlbnQua2V5KTtcbiAgICAgICAgICAgIGN1cnJlbnQgPSBjdXJyZW50Lm5leHQ7XG4gICAgICAgICAgICBjdXJyZW50U2l6ZS0tO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2hlYWQgPSBjdXJyZW50O1xuICAgICAgICB0aGlzLl9zaXplID0gY3VycmVudFNpemU7XG4gICAgICAgIGlmIChjdXJyZW50KSB7XG4gICAgICAgICAgICBjdXJyZW50LnByZXZpb3VzID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3N0YXRlKys7XG4gICAgfVxuICAgIGFkZEl0ZW1GaXJzdChpdGVtKSB7XG4gICAgICAgIC8vIEZpcnN0IHRpbWUgSW5zZXJ0XG4gICAgICAgIGlmICghdGhpcy5faGVhZCAmJiAhdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsaXN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVtLm5leHQgPSB0aGlzLl9oZWFkO1xuICAgICAgICAgICAgdGhpcy5faGVhZC5wcmV2aW91cyA9IGl0ZW07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faGVhZCA9IGl0ZW07XG4gICAgICAgIHRoaXMuX3N0YXRlKys7XG4gICAgfVxuICAgIGFkZEl0ZW1MYXN0KGl0ZW0pIHtcbiAgICAgICAgLy8gRmlyc3QgdGltZSBJbnNlcnRcbiAgICAgICAgaWYgKCF0aGlzLl9oZWFkICYmICF0aGlzLl90YWlsKSB7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXh0ID0gaXRlbTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90YWlsID0gaXRlbTtcbiAgICAgICAgdGhpcy5fc3RhdGUrKztcbiAgICB9XG4gICAgcmVtb3ZlSXRlbShpdGVtKSB7XG4gICAgICAgIGlmIChpdGVtID09PSB0aGlzLl9oZWFkICYmIGl0ZW0gPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl90YWlsID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHNpemUgPT09IDEgd2hpY2ggaXMgaGFuZGxlZFxuICAgICAgICAgICAgLy8gYnkgdGhlIGNhc2UgYWJvdmUuXG4gICAgICAgICAgICBpZiAoIWl0ZW0ubmV4dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsaXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpdGVtLm5leHQucHJldmlvdXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB0aGlzLl9oZWFkID0gaXRlbS5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGl0ZW0gPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgY2FuIG9ubHkgaGFwcGVuIGlmIHNpemUgPT09IDEgd2hpY2ggaXMgaGFuZGxlZFxuICAgICAgICAgICAgLy8gYnkgdGhlIGNhc2UgYWJvdmUuXG4gICAgICAgICAgICBpZiAoIWl0ZW0ucHJldmlvdXMpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgbGlzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaXRlbS5wcmV2aW91cy5uZXh0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5fdGFpbCA9IGl0ZW0ucHJldmlvdXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgaWYgKCFuZXh0IHx8ICFwcmV2aW91cykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBsaXN0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXh0LnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgICAgICBwcmV2aW91cy5uZXh0ID0gbmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpdGVtLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIGl0ZW0ucHJldmlvdXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3N0YXRlKys7XG4gICAgfVxuICAgIHRvdWNoKGl0ZW0sIHRvdWNoKSB7XG4gICAgICAgIGlmICghdGhpcy5faGVhZCB8fCAhdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGxpc3QnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHRvdWNoICE9PSAxIC8qIFRvdWNoLkFzT2xkICovICYmIHRvdWNoICE9PSAyIC8qIFRvdWNoLkFzTmV3ICovKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b3VjaCA9PT0gMSAvKiBUb3VjaC5Bc09sZCAqLykge1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgLy8gVW5saW5rIHRoZSBpdGVtXG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gdGhpcy5fdGFpbCkge1xuICAgICAgICAgICAgICAgIC8vIHByZXZpb3VzIG11c3QgYmUgZGVmaW5lZCBzaW5jZSBpdGVtIHdhcyBub3QgaGVhZCBidXQgaXMgdGFpbFxuICAgICAgICAgICAgICAgIC8vIFNvIHRoZXJlIGFyZSBtb3JlIHRoYW4gb24gaXRlbSBpbiB0aGUgbWFwXG4gICAgICAgICAgICAgICAgcHJldmlvdXMubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl90YWlsID0gcHJldmlvdXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBCb3RoIG5leHQgYW5kIHByZXZpb3VzIGFyZSBub3QgdW5kZWZpbmVkIHNpbmNlIGl0ZW0gd2FzIG5laXRoZXIgaGVhZCBub3IgdGFpbC5cbiAgICAgICAgICAgICAgICBuZXh0LnByZXZpb3VzID0gcHJldmlvdXM7XG4gICAgICAgICAgICAgICAgcHJldmlvdXMubmV4dCA9IG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJbnNlcnQgdGhlIG5vZGUgYXQgaGVhZFxuICAgICAgICAgICAgaXRlbS5wcmV2aW91cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGl0ZW0ubmV4dCA9IHRoaXMuX2hlYWQ7XG4gICAgICAgICAgICB0aGlzLl9oZWFkLnByZXZpb3VzID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuX2hlYWQgPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0b3VjaCA9PT0gMiAvKiBUb3VjaC5Bc05ldyAqLykge1xuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX3RhaWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXh0ID0gaXRlbS5uZXh0O1xuICAgICAgICAgICAgY29uc3QgcHJldmlvdXMgPSBpdGVtLnByZXZpb3VzO1xuICAgICAgICAgICAgLy8gVW5saW5rIHRoZSBpdGVtLlxuICAgICAgICAgICAgaWYgKGl0ZW0gPT09IHRoaXMuX2hlYWQpIHtcbiAgICAgICAgICAgICAgICAvLyBuZXh0IG11c3QgYmUgZGVmaW5lZCBzaW5jZSBpdGVtIHdhcyBub3QgdGFpbCBidXQgaXMgaGVhZFxuICAgICAgICAgICAgICAgIC8vIFNvIHRoZXJlIGFyZSBtb3JlIHRoYW4gb24gaXRlbSBpbiB0aGUgbWFwXG4gICAgICAgICAgICAgICAgbmV4dC5wcmV2aW91cyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIEJvdGggbmV4dCBhbmQgcHJldmlvdXMgYXJlIG5vdCB1bmRlZmluZWQgc2luY2UgaXRlbSB3YXMgbmVpdGhlciBoZWFkIG5vciB0YWlsLlxuICAgICAgICAgICAgICAgIG5leHQucHJldmlvdXMgPSBwcmV2aW91cztcbiAgICAgICAgICAgICAgICBwcmV2aW91cy5uZXh0ID0gbmV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGl0ZW0ubmV4dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGl0ZW0ucHJldmlvdXMgPSB0aGlzLl90YWlsO1xuICAgICAgICAgICAgdGhpcy5fdGFpbC5uZXh0ID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMuX3RhaWwgPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy5fc3RhdGUrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICBkYXRhLnB1c2goW2tleSwgdmFsdWVdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICBmcm9tSlNPTihkYXRhKSB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTFJVQ2FjaGUgZXh0ZW5kcyBMaW5rZWRNYXAge1xuICAgIGNvbnN0cnVjdG9yKGxpbWl0LCByYXRpbyA9IDEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fbGltaXQgPSBsaW1pdDtcbiAgICAgICAgdGhpcy5fcmF0aW8gPSBNYXRoLm1pbihNYXRoLm1heCgwLCByYXRpbyksIDEpO1xuICAgIH1cbiAgICBnZXQgbGltaXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW1pdDtcbiAgICB9XG4gICAgc2V0IGxpbWl0KGxpbWl0KSB7XG4gICAgICAgIHRoaXMuX2xpbWl0ID0gbGltaXQ7XG4gICAgICAgIHRoaXMuY2hlY2tUcmltKCk7XG4gICAgfVxuICAgIGdldChrZXksIHRvdWNoID0gMiAvKiBUb3VjaC5Bc05ldyAqLykge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSwgdG91Y2gpO1xuICAgIH1cbiAgICBwZWVrKGtleSkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGtleSwgMCAvKiBUb3VjaC5Ob25lICovKTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgc3VwZXIuc2V0KGtleSwgdmFsdWUsIDIgLyogVG91Y2guQXNOZXcgKi8pO1xuICAgICAgICB0aGlzLmNoZWNrVHJpbSgpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgY2hlY2tUcmltKCkge1xuICAgICAgICBpZiAodGhpcy5zaXplID4gdGhpcy5fbGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMudHJpbU9sZChNYXRoLnJvdW5kKHRoaXMuX2xpbWl0ICogdGhpcy5fcmF0aW8pKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQSBtYXAgdGhhdCBhbGxvd3MgYWNjZXNzIGJvdGggYnkga2V5cyBhbmQgdmFsdWVzLlxuICogKipOT1RFKio6IHZhbHVlcyBuZWVkIHRvIGJlIHVuaXF1ZS5cbiAqL1xuZXhwb3J0IGNsYXNzIEJpZGlyZWN0aW9uYWxNYXAge1xuICAgIGNvbnN0cnVjdG9yKGVudHJpZXMpIHtcbiAgICAgICAgdGhpcy5fbTEgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX20yID0gbmV3IE1hcCgpO1xuICAgICAgICBpZiAoZW50cmllcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgZW50cmllcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLl9tMS5jbGVhcigpO1xuICAgICAgICB0aGlzLl9tMi5jbGVhcigpO1xuICAgIH1cbiAgICBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9tMS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuX20yLnNldCh2YWx1ZSwga2V5KTtcbiAgICB9XG4gICAgZ2V0KGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbTEuZ2V0KGtleSk7XG4gICAgfVxuICAgIGdldEtleSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbTIuZ2V0KHZhbHVlKTtcbiAgICB9XG4gICAgZGVsZXRlKGtleSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuX20xLmdldChrZXkpO1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX20xLmRlbGV0ZShrZXkpO1xuICAgICAgICB0aGlzLl9tMi5kZWxldGUodmFsdWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAga2V5cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX20xLmtleXMoKTtcbiAgICB9XG4gICAgdmFsdWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbTEudmFsdWVzKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFNldE1hcCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoa2V5LCB2YWx1ZSkge1xuICAgICAgICBsZXQgdmFsdWVzID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0KCk7XG4gICAgICAgICAgICB0aGlzLm1hcC5zZXQoa2V5LCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlcy5hZGQodmFsdWUpO1xuICAgIH1cbiAgICBkZWxldGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSB0aGlzLm1hcC5nZXQoa2V5KTtcbiAgICAgICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZXMuZGVsZXRlKHZhbHVlKTtcbiAgICAgICAgaWYgKHZhbHVlcy5zaXplID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm1hcC5kZWxldGUoa2V5KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3JFYWNoKGtleSwgZm4pIHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gdGhpcy5tYXAuZ2V0KGtleSk7XG4gICAgICAgIGlmICghdmFsdWVzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWVzLmZvckVhY2goZm4pO1xuICAgIH1cbiAgICBnZXQoa2V5KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IHRoaXMubWFwLmdldChrZXkpO1xuICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgZmluZExhc3RJZHhNb25vdG9ub3VzLCBmaW5kTGFzdE1vbm90b25vdXMsIGZpbmRGaXJzdE1vbm90b25vdXMgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9hcnJheXNGaW5kLmpzJztcbmltcG9ydCB7IE9mZnNldFJhbmdlIH0gZnJvbSAnLi4vLi4vY29yZS9vZmZzZXRSYW5nZS5qcyc7XG5pbXBvcnQgeyBQb3NpdGlvbiB9IGZyb20gJy4uLy4uL2NvcmUvcG9zaXRpb24uanMnO1xuaW1wb3J0IHsgUmFuZ2UgfSBmcm9tICcuLi8uLi9jb3JlL3JhbmdlLmpzJztcbmltcG9ydCB7IGlzU3BhY2UgfSBmcm9tICcuL3V0aWxzLmpzJztcbmV4cG9ydCBjbGFzcyBMaW5lc1NsaWNlQ2hhclNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihsaW5lcywgbGluZVJhbmdlLCBjb25zaWRlcldoaXRlc3BhY2VDaGFuZ2VzKSB7XG4gICAgICAgIC8vIFRoaXMgc2xpY2UgaGFzIHRvIGhhdmUgbGluZVJhbmdlLmxlbmd0aCBtYW55IFxcbiEgKG90aGVyd2lzZSBkaWZmaW5nIGFnYWluc3QgYW4gZW1wdHkgc2xpY2Ugd2lsbCBiZSBwcm9ibGVtYXRpYylcbiAgICAgICAgLy8gKFVubGVzcyBpdCBjb3ZlcnMgdGhlIGVudGlyZSBkb2N1bWVudCwgaW4gdGhhdCBjYXNlIHRoZSBvdGhlciBzbGljZSBhbHNvIGhhcyB0byBjb3ZlciB0aGUgZW50aXJlIGRvY3VtZW50IGFuZHMgaXQncyBva2F5KVxuICAgICAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgICAgIHRoaXMuY29uc2lkZXJXaGl0ZXNwYWNlQ2hhbmdlcyA9IGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXM7XG4gICAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgICAgdGhpcy5maXJzdENoYXJPZmZzZXRCeUxpbmUgPSBbXTtcbiAgICAgICAgLy8gVG8gYWNjb3VudCBmb3IgdHJpbW1pbmdcbiAgICAgICAgdGhpcy5hZGRpdGlvbmFsT2Zmc2V0QnlMaW5lID0gW107XG4gICAgICAgIC8vIElmIHRoZSBzbGljZSBjb3ZlcnMgdGhlIGVuZCwgYnV0IGRvZXMgbm90IHN0YXJ0IGF0IHRoZSBiZWdpbm5pbmcsIHdlIGluY2x1ZGUganVzdCB0aGUgXFxuIG9mIHRoZSBwcmV2aW91cyBsaW5lLlxuICAgICAgICBsZXQgdHJpbUZpcnN0TGluZUZ1bGx5ID0gZmFsc2U7XG4gICAgICAgIGlmIChsaW5lUmFuZ2Uuc3RhcnQgPiAwICYmIGxpbmVSYW5nZS5lbmRFeGNsdXNpdmUgPj0gbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBsaW5lUmFuZ2UgPSBuZXcgT2Zmc2V0UmFuZ2UobGluZVJhbmdlLnN0YXJ0IC0gMSwgbGluZVJhbmdlLmVuZEV4Y2x1c2l2ZSk7XG4gICAgICAgICAgICB0cmltRmlyc3RMaW5lRnVsbHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubGluZVJhbmdlID0gbGluZVJhbmdlO1xuICAgICAgICB0aGlzLmZpcnN0Q2hhck9mZnNldEJ5TGluZVswXSA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSB0aGlzLmxpbmVSYW5nZS5zdGFydDsgaSA8IHRoaXMubGluZVJhbmdlLmVuZEV4Y2x1c2l2ZTsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbGluZSA9IGxpbmVzW2ldO1xuICAgICAgICAgICAgbGV0IG9mZnNldCA9IDA7XG4gICAgICAgICAgICBpZiAodHJpbUZpcnN0TGluZUZ1bGx5KSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gbGluZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgbGluZSA9ICcnO1xuICAgICAgICAgICAgICAgIHRyaW1GaXJzdExpbmVGdWxseSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIWNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmltbWVkU3RhcnRMaW5lID0gbGluZS50cmltU3RhcnQoKTtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBsaW5lLmxlbmd0aCAtIHRyaW1tZWRTdGFydExpbmUubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGxpbmUgPSB0cmltbWVkU3RhcnRMaW5lLnRyaW1FbmQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYWRkaXRpb25hbE9mZnNldEJ5TGluZS5wdXNoKG9mZnNldCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2gobGluZS5jaGFyQ29kZUF0KGkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIERvbid0IGFkZCBhbiBcXG4gdGhhdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICAgICAgICBpZiAoaSA8IGxpbmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2goJ1xcbicuY2hhckNvZGVBdCgwKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdENoYXJPZmZzZXRCeUxpbmVbaSAtIHRoaXMubGluZVJhbmdlLnN0YXJ0ICsgMV0gPSB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBUbyBhY2NvdW50IGZvciB0aGUgbGFzdCBsaW5lXG4gICAgICAgIHRoaXMuYWRkaXRpb25hbE9mZnNldEJ5TGluZS5wdXNoKDApO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBTbGljZTogXCIke3RoaXMudGV4dH1cImA7XG4gICAgfVxuICAgIGdldCB0ZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZXh0KG5ldyBPZmZzZXRSYW5nZSgwLCB0aGlzLmxlbmd0aCkpO1xuICAgIH1cbiAgICBnZXRUZXh0KHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnRzLnNsaWNlKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmRFeGNsdXNpdmUpLm1hcChlID0+IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkpLmpvaW4oJycpO1xuICAgIH1cbiAgICBnZXRFbGVtZW50KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tvZmZzZXRdO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5sZW5ndGg7XG4gICAgfVxuICAgIGdldEJvdW5kYXJ5U2NvcmUobGVuZ3RoKSB7XG4gICAgICAgIC8vICAgYSAgIGIgICBjICAgLCAgICAgICAgICAgZCAgIGUgICBmXG4gICAgICAgIC8vIDExICAwICAgMCAgIDEyICAxNSAgNiAgIDEzICAwICAgMCAgIDExXG4gICAgICAgIGNvbnN0IHByZXZDYXRlZ29yeSA9IGdldENhdGVnb3J5KGxlbmd0aCA+IDAgPyB0aGlzLmVsZW1lbnRzW2xlbmd0aCAtIDFdIDogLTEpO1xuICAgICAgICBjb25zdCBuZXh0Q2F0ZWdvcnkgPSBnZXRDYXRlZ29yeShsZW5ndGggPCB0aGlzLmVsZW1lbnRzLmxlbmd0aCA/IHRoaXMuZWxlbWVudHNbbGVuZ3RoXSA6IC0xKTtcbiAgICAgICAgaWYgKHByZXZDYXRlZ29yeSA9PT0gNyAvKiBDaGFyQm91bmRhcnlDYXRlZ29yeS5MaW5lQnJlYWtDUiAqLyAmJiBuZXh0Q2F0ZWdvcnkgPT09IDggLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuTGluZUJyZWFrTEYgKi8pIHtcbiAgICAgICAgICAgIC8vIGRvbid0IGJyZWFrIGJldHdlZW4gXFxyIGFuZCBcXG5cbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzY29yZSA9IDA7XG4gICAgICAgIGlmIChwcmV2Q2F0ZWdvcnkgIT09IG5leHRDYXRlZ29yeSkge1xuICAgICAgICAgICAgc2NvcmUgKz0gMTA7XG4gICAgICAgICAgICBpZiAocHJldkNhdGVnb3J5ID09PSAwIC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LldvcmRMb3dlciAqLyAmJiBuZXh0Q2F0ZWdvcnkgPT09IDEgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuV29yZFVwcGVyICovKSB7XG4gICAgICAgICAgICAgICAgc2NvcmUgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY29yZSArPSBnZXRDYXRlZ29yeUJvdW5kYXJ5U2NvcmUocHJldkNhdGVnb3J5KTtcbiAgICAgICAgc2NvcmUgKz0gZ2V0Q2F0ZWdvcnlCb3VuZGFyeVNjb3JlKG5leHRDYXRlZ29yeSk7XG4gICAgICAgIHJldHVybiBzY29yZTtcbiAgICB9XG4gICAgdHJhbnNsYXRlT2Zmc2V0KG9mZnNldCkge1xuICAgICAgICAvLyBmaW5kIHNtYWxsZXN0IGksIHNvIHRoYXQgbGluZUJyZWFrT2Zmc2V0c1tpXSA8PSBvZmZzZXQgdXNpbmcgYmluYXJ5IHNlYXJjaFxuICAgICAgICBpZiAodGhpcy5saW5lUmFuZ2UuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLmxpbmVSYW5nZS5zdGFydCArIDEsIDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGkgPSBmaW5kTGFzdElkeE1vbm90b25vdXModGhpcy5maXJzdENoYXJPZmZzZXRCeUxpbmUsICh2YWx1ZSkgPT4gdmFsdWUgPD0gb2Zmc2V0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQb3NpdGlvbih0aGlzLmxpbmVSYW5nZS5zdGFydCArIGkgKyAxLCBvZmZzZXQgLSB0aGlzLmZpcnN0Q2hhck9mZnNldEJ5TGluZVtpXSArIHRoaXMuYWRkaXRpb25hbE9mZnNldEJ5TGluZVtpXSArIDEpO1xuICAgIH1cbiAgICB0cmFuc2xhdGVSYW5nZShyYW5nZSkge1xuICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvc2l0aW9ucyh0aGlzLnRyYW5zbGF0ZU9mZnNldChyYW5nZS5zdGFydCksIHRoaXMudHJhbnNsYXRlT2Zmc2V0KHJhbmdlLmVuZEV4Y2x1c2l2ZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgd29yZCB0aGF0IGNvbnRhaW5zIHRoZSBjaGFyYWN0ZXIgYXQgdGhlIGdpdmVuIG9mZnNldFxuICAgICAqL1xuICAgIGZpbmRXb3JkQ29udGFpbmluZyhvZmZzZXQpIHtcbiAgICAgICAgaWYgKG9mZnNldCA8IDAgfHwgb2Zmc2V0ID49IHRoaXMuZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNXb3JkQ2hhcih0aGlzLmVsZW1lbnRzW29mZnNldF0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpbmQgc3RhcnRcbiAgICAgICAgbGV0IHN0YXJ0ID0gb2Zmc2V0O1xuICAgICAgICB3aGlsZSAoc3RhcnQgPiAwICYmIGlzV29yZENoYXIodGhpcy5lbGVtZW50c1tzdGFydCAtIDFdKSkge1xuICAgICAgICAgICAgc3RhcnQtLTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaW5kIGVuZFxuICAgICAgICBsZXQgZW5kID0gb2Zmc2V0O1xuICAgICAgICB3aGlsZSAoZW5kIDwgdGhpcy5lbGVtZW50cy5sZW5ndGggJiYgaXNXb3JkQ2hhcih0aGlzLmVsZW1lbnRzW2VuZF0pKSB7XG4gICAgICAgICAgICBlbmQrKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IE9mZnNldFJhbmdlKHN0YXJ0LCBlbmQpO1xuICAgIH1cbiAgICBjb3VudExpbmVzSW4ocmFuZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlT2Zmc2V0KHJhbmdlLmVuZEV4Y2x1c2l2ZSkubGluZU51bWJlciAtIHRoaXMudHJhbnNsYXRlT2Zmc2V0KHJhbmdlLnN0YXJ0KS5saW5lTnVtYmVyO1xuICAgIH1cbiAgICBpc1N0cm9uZ2x5RXF1YWwob2Zmc2V0MSwgb2Zmc2V0Mikge1xuICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50c1tvZmZzZXQxXSA9PT0gdGhpcy5lbGVtZW50c1tvZmZzZXQyXTtcbiAgICB9XG4gICAgZXh0ZW5kVG9GdWxsTGluZXMocmFuZ2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSAoX2EgPSBmaW5kTGFzdE1vbm90b25vdXModGhpcy5maXJzdENoYXJPZmZzZXRCeUxpbmUsIHggPT4geCA8PSByYW5nZS5zdGFydCkpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IDA7XG4gICAgICAgIGNvbnN0IGVuZCA9IChfYiA9IGZpbmRGaXJzdE1vbm90b25vdXModGhpcy5maXJzdENoYXJPZmZzZXRCeUxpbmUsIHggPT4gcmFuZ2UuZW5kRXhjbHVzaXZlIDw9IHgpKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiB0aGlzLmVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIG5ldyBPZmZzZXRSYW5nZShzdGFydCwgZW5kKTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1dvcmRDaGFyKGNoYXJDb2RlKSB7XG4gICAgcmV0dXJuIGNoYXJDb2RlID49IDk3IC8qIENoYXJDb2RlLmEgKi8gJiYgY2hhckNvZGUgPD0gMTIyIC8qIENoYXJDb2RlLnogKi9cbiAgICAgICAgfHwgY2hhckNvZGUgPj0gNjUgLyogQ2hhckNvZGUuQSAqLyAmJiBjaGFyQ29kZSA8PSA5MCAvKiBDaGFyQ29kZS5aICovXG4gICAgICAgIHx8IGNoYXJDb2RlID49IDQ4IC8qIENoYXJDb2RlLkRpZ2l0MCAqLyAmJiBjaGFyQ29kZSA8PSA1NyAvKiBDaGFyQ29kZS5EaWdpdDkgKi87XG59XG5jb25zdCBzY29yZSA9IHtcbiAgICBbMCAvKiBDaGFyQm91bmRhcnlDYXRlZ29yeS5Xb3JkTG93ZXIgKi9dOiAwLFxuICAgIFsxIC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LldvcmRVcHBlciAqL106IDAsXG4gICAgWzIgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuV29yZE51bWJlciAqL106IDAsXG4gICAgWzMgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuRW5kICovXTogMTAsXG4gICAgWzQgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuT3RoZXIgKi9dOiAyLFxuICAgIFs1IC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LlNlcGFyYXRvciAqL106IDMsXG4gICAgWzYgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuU3BhY2UgKi9dOiAzLFxuICAgIFs3IC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LkxpbmVCcmVha0NSICovXTogMTAsXG4gICAgWzggLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuTGluZUJyZWFrTEYgKi9dOiAxMCxcbn07XG5mdW5jdGlvbiBnZXRDYXRlZ29yeUJvdW5kYXJ5U2NvcmUoY2F0ZWdvcnkpIHtcbiAgICByZXR1cm4gc2NvcmVbY2F0ZWdvcnldO1xufVxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnkoY2hhckNvZGUpIHtcbiAgICBpZiAoY2hhckNvZGUgPT09IDEwIC8qIENoYXJDb2RlLkxpbmVGZWVkICovKSB7XG4gICAgICAgIHJldHVybiA4IC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LkxpbmVCcmVha0xGICovO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFyQ29kZSA9PT0gMTMgLyogQ2hhckNvZGUuQ2FycmlhZ2VSZXR1cm4gKi8pIHtcbiAgICAgICAgcmV0dXJuIDcgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuTGluZUJyZWFrQ1IgKi87XG4gICAgfVxuICAgIGVsc2UgaWYgKGlzU3BhY2UoY2hhckNvZGUpKSB7XG4gICAgICAgIHJldHVybiA2IC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LlNwYWNlICovO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFyQ29kZSA+PSA5NyAvKiBDaGFyQ29kZS5hICovICYmIGNoYXJDb2RlIDw9IDEyMiAvKiBDaGFyQ29kZS56ICovKSB7XG4gICAgICAgIHJldHVybiAwIC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LldvcmRMb3dlciAqLztcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hhckNvZGUgPj0gNjUgLyogQ2hhckNvZGUuQSAqLyAmJiBjaGFyQ29kZSA8PSA5MCAvKiBDaGFyQ29kZS5aICovKSB7XG4gICAgICAgIHJldHVybiAxIC8qIENoYXJCb3VuZGFyeUNhdGVnb3J5LldvcmRVcHBlciAqLztcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hhckNvZGUgPj0gNDggLyogQ2hhckNvZGUuRGlnaXQwICovICYmIGNoYXJDb2RlIDw9IDU3IC8qIENoYXJDb2RlLkRpZ2l0OSAqLykge1xuICAgICAgICByZXR1cm4gMiAvKiBDaGFyQm91bmRhcnlDYXRlZ29yeS5Xb3JkTnVtYmVyICovO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFyQ29kZSA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIDMgLyogQ2hhckJvdW5kYXJ5Q2F0ZWdvcnkuRW5kICovO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGFyQ29kZSA9PT0gNDQgLyogQ2hhckNvZGUuQ29tbWEgKi8gfHwgY2hhckNvZGUgPT09IDU5IC8qIENoYXJDb2RlLlNlbWljb2xvbiAqLykge1xuICAgICAgICByZXR1cm4gNSAvKiBDaGFyQm91bmRhcnlDYXRlZ29yeS5TZXBhcmF0b3IgKi87XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gNCAvKiBDaGFyQm91bmRhcnlDYXRlZ29yeS5PdGhlciAqLztcbiAgICB9XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFNlcXVlbmNlRGlmZiB9IGZyb20gJy4vYWxnb3JpdGhtcy9kaWZmQWxnb3JpdGhtLmpzJztcbmltcG9ydCB7IExpbmVSYW5nZU1hcHBpbmcgfSBmcm9tICcuLi9yYW5nZU1hcHBpbmcuanMnO1xuaW1wb3J0IHsgcHVzaE1hbnksIGNvbXBhcmVCeSwgbnVtYmVyQ29tcGFyYXRvciwgcmV2ZXJzZU9yZGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IE1vbm90b25vdXNBcnJheSwgZmluZExhc3RNb25vdG9ub3VzIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzRmluZC5qcyc7XG5pbXBvcnQgeyBTZXRNYXAgfSBmcm9tICcuLi8uLi8uLi8uLi9iYXNlL2NvbW1vbi9tYXAuanMnO1xuaW1wb3J0IHsgTGluZVJhbmdlLCBMaW5lUmFuZ2VTZXQgfSBmcm9tICcuLi8uLi9jb3JlL2xpbmVSYW5nZS5qcyc7XG5pbXBvcnQgeyBPZmZzZXRSYW5nZSB9IGZyb20gJy4uLy4uL2NvcmUvb2Zmc2V0UmFuZ2UuanMnO1xuaW1wb3J0IHsgTGluZXNTbGljZUNoYXJTZXF1ZW5jZSB9IGZyb20gJy4vbGluZXNTbGljZUNoYXJTZXF1ZW5jZS5qcyc7XG5pbXBvcnQgeyBMaW5lUmFuZ2VGcmFnbWVudCwgaXNTcGFjZSB9IGZyb20gJy4vdXRpbHMuanMnO1xuaW1wb3J0IHsgTXllcnNEaWZmQWxnb3JpdGhtIH0gZnJvbSAnLi9hbGdvcml0aG1zL215ZXJzRGlmZkFsZ29yaXRobS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gY29tcHV0ZU1vdmVkTGluZXMoY2hhbmdlcywgb3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgaGFzaGVkT3JpZ2luYWxMaW5lcywgaGFzaGVkTW9kaWZpZWRMaW5lcywgdGltZW91dCkge1xuICAgIGxldCB7IG1vdmVzLCBleGNsdWRlZENoYW5nZXMgfSA9IGNvbXB1dGVNb3Zlc0Zyb21TaW1wbGVEZWxldGlvbnNUb1NpbXBsZUluc2VydGlvbnMoY2hhbmdlcywgb3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgdGltZW91dCk7XG4gICAgaWYgKCF0aW1lb3V0LmlzVmFsaWQoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGNvbnN0IGZpbHRlcmVkQ2hhbmdlcyA9IGNoYW5nZXMuZmlsdGVyKGMgPT4gIWV4Y2x1ZGVkQ2hhbmdlcy5oYXMoYykpO1xuICAgIGNvbnN0IHVuY2hhbmdlZE1vdmVzID0gY29tcHV0ZVVuY2hhbmdlZE1vdmVzKGZpbHRlcmVkQ2hhbmdlcywgaGFzaGVkT3JpZ2luYWxMaW5lcywgaGFzaGVkTW9kaWZpZWRMaW5lcywgb3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgdGltZW91dCk7XG4gICAgcHVzaE1hbnkobW92ZXMsIHVuY2hhbmdlZE1vdmVzKTtcbiAgICBtb3ZlcyA9IGpvaW5DbG9zZUNvbnNlY3V0aXZlTW92ZXMobW92ZXMpO1xuICAgIC8vIElnbm9yZSB0b28gc2hvcnQgbW92ZXNcbiAgICBtb3ZlcyA9IG1vdmVzLmZpbHRlcihjdXJyZW50ID0+IHtcbiAgICAgICAgY29uc3QgbGluZXMgPSBjdXJyZW50Lm9yaWdpbmFsLnRvT2Zmc2V0UmFuZ2UoKS5zbGljZShvcmlnaW5hbExpbmVzKS5tYXAobCA9PiBsLnRyaW0oKSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IGxpbmVzLmpvaW4oJ1xcbicpO1xuICAgICAgICByZXR1cm4gb3JpZ2luYWxUZXh0Lmxlbmd0aCA+PSAxNSAmJiBjb3VudFdoZXJlKGxpbmVzLCBsID0+IGwubGVuZ3RoID49IDIpID49IDI7XG4gICAgfSk7XG4gICAgbW92ZXMgPSByZW1vdmVNb3Zlc0luU2FtZURpZmYoY2hhbmdlcywgbW92ZXMpO1xuICAgIHJldHVybiBtb3Zlcztcbn1cbmZ1bmN0aW9uIGNvdW50V2hlcmUoYXJyLCBwcmVkaWNhdGUpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3QgdCBvZiBhcnIpIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh0KSkge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY291bnQ7XG59XG5mdW5jdGlvbiBjb21wdXRlTW92ZXNGcm9tU2ltcGxlRGVsZXRpb25zVG9TaW1wbGVJbnNlcnRpb25zKGNoYW5nZXMsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIHRpbWVvdXQpIHtcbiAgICBjb25zdCBtb3ZlcyA9IFtdO1xuICAgIGNvbnN0IGRlbGV0aW9ucyA9IGNoYW5nZXNcbiAgICAgICAgLmZpbHRlcihjID0+IGMubW9kaWZpZWQuaXNFbXB0eSAmJiBjLm9yaWdpbmFsLmxlbmd0aCA+PSAzKVxuICAgICAgICAubWFwKGQgPT4gbmV3IExpbmVSYW5nZUZyYWdtZW50KGQub3JpZ2luYWwsIG9yaWdpbmFsTGluZXMsIGQpKTtcbiAgICBjb25zdCBpbnNlcnRpb25zID0gbmV3IFNldChjaGFuZ2VzXG4gICAgICAgIC5maWx0ZXIoYyA9PiBjLm9yaWdpbmFsLmlzRW1wdHkgJiYgYy5tb2RpZmllZC5sZW5ndGggPj0gMylcbiAgICAgICAgLm1hcChkID0+IG5ldyBMaW5lUmFuZ2VGcmFnbWVudChkLm1vZGlmaWVkLCBtb2RpZmllZExpbmVzLCBkKSkpO1xuICAgIGNvbnN0IGV4Y2x1ZGVkQ2hhbmdlcyA9IG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IGRlbGV0aW9uIG9mIGRlbGV0aW9ucykge1xuICAgICAgICBsZXQgaGlnaGVzdFNpbWlsYXJpdHkgPSAtMTtcbiAgICAgICAgbGV0IGJlc3Q7XG4gICAgICAgIGZvciAoY29uc3QgaW5zZXJ0aW9uIG9mIGluc2VydGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNpbWlsYXJpdHkgPSBkZWxldGlvbi5jb21wdXRlU2ltaWxhcml0eShpbnNlcnRpb24pO1xuICAgICAgICAgICAgaWYgKHNpbWlsYXJpdHkgPiBoaWdoZXN0U2ltaWxhcml0eSkge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RTaW1pbGFyaXR5ID0gc2ltaWxhcml0eTtcbiAgICAgICAgICAgICAgICBiZXN0ID0gaW5zZXJ0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChoaWdoZXN0U2ltaWxhcml0eSA+IDAuOTAgJiYgYmVzdCkge1xuICAgICAgICAgICAgaW5zZXJ0aW9ucy5kZWxldGUoYmVzdCk7XG4gICAgICAgICAgICBtb3Zlcy5wdXNoKG5ldyBMaW5lUmFuZ2VNYXBwaW5nKGRlbGV0aW9uLnJhbmdlLCBiZXN0LnJhbmdlKSk7XG4gICAgICAgICAgICBleGNsdWRlZENoYW5nZXMuYWRkKGRlbGV0aW9uLnNvdXJjZSk7XG4gICAgICAgICAgICBleGNsdWRlZENoYW5nZXMuYWRkKGJlc3Quc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRpbWVvdXQuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtb3ZlcywgZXhjbHVkZWRDaGFuZ2VzIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgbW92ZXMsIGV4Y2x1ZGVkQ2hhbmdlcyB9O1xufVxuZnVuY3Rpb24gY29tcHV0ZVVuY2hhbmdlZE1vdmVzKGNoYW5nZXMsIGhhc2hlZE9yaWdpbmFsTGluZXMsIGhhc2hlZE1vZGlmaWVkTGluZXMsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIHRpbWVvdXQpIHtcbiAgICBjb25zdCBtb3ZlcyA9IFtdO1xuICAgIGNvbnN0IG9yaWdpbmFsM0xpbmVIYXNoZXMgPSBuZXcgU2V0TWFwKCk7XG4gICAgZm9yIChjb25zdCBjaGFuZ2Ugb2YgY2hhbmdlcykge1xuICAgICAgICBmb3IgKGxldCBpID0gY2hhbmdlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlcjsgaSA8IGNoYW5nZS5vcmlnaW5hbC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBgJHtoYXNoZWRPcmlnaW5hbExpbmVzW2kgLSAxXX06JHtoYXNoZWRPcmlnaW5hbExpbmVzW2kgKyAxIC0gMV19OiR7aGFzaGVkT3JpZ2luYWxMaW5lc1tpICsgMiAtIDFdfWA7XG4gICAgICAgICAgICBvcmlnaW5hbDNMaW5lSGFzaGVzLmFkZChrZXksIHsgcmFuZ2U6IG5ldyBMaW5lUmFuZ2UoaSwgaSArIDMpIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBvc3NpYmxlTWFwcGluZ3MgPSBbXTtcbiAgICBjaGFuZ2VzLnNvcnQoY29tcGFyZUJ5KGMgPT4gYy5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIsIG51bWJlckNvbXBhcmF0b3IpKTtcbiAgICBmb3IgKGNvbnN0IGNoYW5nZSBvZiBjaGFuZ2VzKSB7XG4gICAgICAgIGxldCBsYXN0TWFwcGluZ3MgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNoYW5nZS5tb2RpZmllZC5zdGFydExpbmVOdW1iZXI7IGkgPCBjaGFuZ2UubW9kaWZpZWQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSAtIDI7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gYCR7aGFzaGVkTW9kaWZpZWRMaW5lc1tpIC0gMV19OiR7aGFzaGVkTW9kaWZpZWRMaW5lc1tpICsgMSAtIDFdfToke2hhc2hlZE1vZGlmaWVkTGluZXNbaSArIDIgLSAxXX1gO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudE1vZGlmaWVkUmFuZ2UgPSBuZXcgTGluZVJhbmdlKGksIGkgKyAzKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHRNYXBwaW5ncyA9IFtdO1xuICAgICAgICAgICAgb3JpZ2luYWwzTGluZUhhc2hlcy5mb3JFYWNoKGtleSwgKHsgcmFuZ2UgfSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGFzdE1hcHBpbmcgb2YgbGFzdE1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvZXMgdGhpcyBtYXRjaCBleHRlbmQgc29tZSBsYXN0IG1hdGNoP1xuICAgICAgICAgICAgICAgICAgICBpZiAobGFzdE1hcHBpbmcub3JpZ2luYWxMaW5lUmFuZ2UuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSArIDEgPT09IHJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXBwaW5nLm1vZGlmaWVkTGluZVJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgKyAxID09PSBjdXJyZW50TW9kaWZpZWRSYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0TWFwcGluZy5vcmlnaW5hbExpbmVSYW5nZSA9IG5ldyBMaW5lUmFuZ2UobGFzdE1hcHBpbmcub3JpZ2luYWxMaW5lUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNYXBwaW5nLm1vZGlmaWVkTGluZVJhbmdlID0gbmV3IExpbmVSYW5nZShsYXN0TWFwcGluZy5tb2RpZmllZExpbmVSYW5nZS5zdGFydExpbmVOdW1iZXIsIGN1cnJlbnRNb2RpZmllZFJhbmdlLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dE1hcHBpbmdzLnB1c2gobGFzdE1hcHBpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBpbmcgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGlmaWVkTGluZVJhbmdlOiBjdXJyZW50TW9kaWZpZWRSYW5nZSxcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxMaW5lUmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9zc2libGVNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICAgICAgICAgIG5leHRNYXBwaW5ncy5wdXNoKG1hcHBpbmcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBsYXN0TWFwcGluZ3MgPSBuZXh0TWFwcGluZ3M7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aW1lb3V0LmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBvc3NpYmxlTWFwcGluZ3Muc29ydChyZXZlcnNlT3JkZXIoY29tcGFyZUJ5KG0gPT4gbS5tb2RpZmllZExpbmVSYW5nZS5sZW5ndGgsIG51bWJlckNvbXBhcmF0b3IpKSk7XG4gICAgY29uc3QgbW9kaWZpZWRTZXQgPSBuZXcgTGluZVJhbmdlU2V0KCk7XG4gICAgY29uc3Qgb3JpZ2luYWxTZXQgPSBuZXcgTGluZVJhbmdlU2V0KCk7XG4gICAgZm9yIChjb25zdCBtYXBwaW5nIG9mIHBvc3NpYmxlTWFwcGluZ3MpIHtcbiAgICAgICAgY29uc3QgZGlmZk9yaWdUb01vZCA9IG1hcHBpbmcubW9kaWZpZWRMaW5lUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gbWFwcGluZy5vcmlnaW5hbExpbmVSYW5nZS5zdGFydExpbmVOdW1iZXI7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkU2VjdGlvbnMgPSBtb2RpZmllZFNldC5zdWJ0cmFjdEZyb20obWFwcGluZy5tb2RpZmllZExpbmVSYW5nZSk7XG4gICAgICAgIGNvbnN0IG9yaWdpbmFsVHJhbnNsYXRlZFNlY3Rpb25zID0gb3JpZ2luYWxTZXQuc3VidHJhY3RGcm9tKG1hcHBpbmcub3JpZ2luYWxMaW5lUmFuZ2UpLmdldFdpdGhEZWx0YShkaWZmT3JpZ1RvTW9kKTtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRJbnRlcnNlY3RlZFNlY3Rpb25zID0gbW9kaWZpZWRTZWN0aW9ucy5nZXRJbnRlcnNlY3Rpb24ob3JpZ2luYWxUcmFuc2xhdGVkU2VjdGlvbnMpO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgbW9kaWZpZWRJbnRlcnNlY3RlZFNlY3Rpb25zLnJhbmdlcykge1xuICAgICAgICAgICAgaWYgKHMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRMaW5lUmFuZ2UgPSBzO1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lUmFuZ2UgPSBzLmRlbHRhKC1kaWZmT3JpZ1RvTW9kKTtcbiAgICAgICAgICAgIG1vdmVzLnB1c2gobmV3IExpbmVSYW5nZU1hcHBpbmcob3JpZ2luYWxMaW5lUmFuZ2UsIG1vZGlmaWVkTGluZVJhbmdlKSk7XG4gICAgICAgICAgICBtb2RpZmllZFNldC5hZGRSYW5nZShtb2RpZmllZExpbmVSYW5nZSk7XG4gICAgICAgICAgICBvcmlnaW5hbFNldC5hZGRSYW5nZShvcmlnaW5hbExpbmVSYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbW92ZXMuc29ydChjb21wYXJlQnkobSA9PiBtLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciwgbnVtYmVyQ29tcGFyYXRvcikpO1xuICAgIGNvbnN0IG1vbm90b25vdXNDaGFuZ2VzID0gbmV3IE1vbm90b25vdXNBcnJheShjaGFuZ2VzKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1vdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IG1vdmUgPSBtb3Zlc1tpXTtcbiAgICAgICAgY29uc3QgZmlyc3RUb3VjaGluZ0NoYW5nZU9yaWcgPSBtb25vdG9ub3VzQ2hhbmdlcy5maW5kTGFzdE1vbm90b25vdXMoYyA9PiBjLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciA8PSBtb3ZlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGZpcnN0VG91Y2hpbmdDaGFuZ2VNb2QgPSBmaW5kTGFzdE1vbm90b25vdXMoY2hhbmdlcywgYyA9PiBjLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlciA8PSBtb3ZlLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGxpbmVzQWJvdmUgPSBNYXRoLm1heChtb3ZlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciAtIGZpcnN0VG91Y2hpbmdDaGFuZ2VPcmlnLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciwgbW92ZS5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIgLSBmaXJzdFRvdWNoaW5nQ2hhbmdlTW9kLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlcik7XG4gICAgICAgIGNvbnN0IGxhc3RUb3VjaGluZ0NoYW5nZU9yaWcgPSBtb25vdG9ub3VzQ2hhbmdlcy5maW5kTGFzdE1vbm90b25vdXMoYyA9PiBjLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciA8IG1vdmUub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSk7XG4gICAgICAgIGNvbnN0IGxhc3RUb3VjaGluZ0NoYW5nZU1vZCA9IGZpbmRMYXN0TW9ub3Rvbm91cyhjaGFuZ2VzLCBjID0+IGMubW9kaWZpZWQuc3RhcnRMaW5lTnVtYmVyIDwgbW92ZS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlKTtcbiAgICAgICAgY29uc3QgbGluZXNCZWxvdyA9IE1hdGgubWF4KGxhc3RUb3VjaGluZ0NoYW5nZU9yaWcub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSAtIG1vdmUub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgbGFzdFRvdWNoaW5nQ2hhbmdlTW9kLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgLSBtb3ZlLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUpO1xuICAgICAgICBsZXQgZXh0ZW5kVG9Ub3A7XG4gICAgICAgIGZvciAoZXh0ZW5kVG9Ub3AgPSAwOyBleHRlbmRUb1RvcCA8IGxpbmVzQWJvdmU7IGV4dGVuZFRvVG9wKyspIHtcbiAgICAgICAgICAgIGNvbnN0IG9yaWdMaW5lID0gbW92ZS5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIgLSBleHRlbmRUb1RvcCAtIDE7XG4gICAgICAgICAgICBjb25zdCBtb2RMaW5lID0gbW92ZS5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIgLSBleHRlbmRUb1RvcCAtIDE7XG4gICAgICAgICAgICBpZiAob3JpZ0xpbmUgPiBvcmlnaW5hbExpbmVzLmxlbmd0aCB8fCBtb2RMaW5lID4gbW9kaWZpZWRMaW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtb2RpZmllZFNldC5jb250YWlucyhtb2RMaW5lKSB8fCBvcmlnaW5hbFNldC5jb250YWlucyhvcmlnTGluZSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghYXJlTGluZXNTaW1pbGFyKG9yaWdpbmFsTGluZXNbb3JpZ0xpbmUgLSAxXSwgbW9kaWZpZWRMaW5lc1ttb2RMaW5lIC0gMV0sIHRpbWVvdXQpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4dGVuZFRvVG9wID4gMCkge1xuICAgICAgICAgICAgb3JpZ2luYWxTZXQuYWRkUmFuZ2UobmV3IExpbmVSYW5nZShtb3ZlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciAtIGV4dGVuZFRvVG9wLCBtb3ZlLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlcikpO1xuICAgICAgICAgICAgbW9kaWZpZWRTZXQuYWRkUmFuZ2UobmV3IExpbmVSYW5nZShtb3ZlLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlciAtIGV4dGVuZFRvVG9wLCBtb3ZlLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlcikpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBleHRlbmRUb0JvdHRvbTtcbiAgICAgICAgZm9yIChleHRlbmRUb0JvdHRvbSA9IDA7IGV4dGVuZFRvQm90dG9tIDwgbGluZXNCZWxvdzsgZXh0ZW5kVG9Cb3R0b20rKykge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ0xpbmUgPSBtb3ZlLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgKyBleHRlbmRUb0JvdHRvbTtcbiAgICAgICAgICAgIGNvbnN0IG1vZExpbmUgPSBtb3ZlLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgKyBleHRlbmRUb0JvdHRvbTtcbiAgICAgICAgICAgIGlmIChvcmlnTGluZSA+IG9yaWdpbmFsTGluZXMubGVuZ3RoIHx8IG1vZExpbmUgPiBtb2RpZmllZExpbmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG1vZGlmaWVkU2V0LmNvbnRhaW5zKG1vZExpbmUpIHx8IG9yaWdpbmFsU2V0LmNvbnRhaW5zKG9yaWdMaW5lKSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFhcmVMaW5lc1NpbWlsYXIob3JpZ2luYWxMaW5lc1tvcmlnTGluZSAtIDFdLCBtb2RpZmllZExpbmVzW21vZExpbmUgLSAxXSwgdGltZW91dCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXh0ZW5kVG9Cb3R0b20gPiAwKSB7XG4gICAgICAgICAgICBvcmlnaW5hbFNldC5hZGRSYW5nZShuZXcgTGluZVJhbmdlKG1vdmUub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgbW92ZS5vcmlnaW5hbC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlICsgZXh0ZW5kVG9Cb3R0b20pKTtcbiAgICAgICAgICAgIG1vZGlmaWVkU2V0LmFkZFJhbmdlKG5ldyBMaW5lUmFuZ2UobW92ZS5tb2RpZmllZC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlLCBtb3ZlLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgKyBleHRlbmRUb0JvdHRvbSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChleHRlbmRUb1RvcCA+IDAgfHwgZXh0ZW5kVG9Cb3R0b20gPiAwKSB7XG4gICAgICAgICAgICBtb3Zlc1tpXSA9IG5ldyBMaW5lUmFuZ2VNYXBwaW5nKG5ldyBMaW5lUmFuZ2UobW92ZS5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIgLSBleHRlbmRUb1RvcCwgbW92ZS5vcmlnaW5hbC5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlICsgZXh0ZW5kVG9Cb3R0b20pLCBuZXcgTGluZVJhbmdlKG1vdmUubW9kaWZpZWQuc3RhcnRMaW5lTnVtYmVyIC0gZXh0ZW5kVG9Ub3AsIG1vdmUubW9kaWZpZWQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSArIGV4dGVuZFRvQm90dG9tKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1vdmVzO1xufVxuZnVuY3Rpb24gYXJlTGluZXNTaW1pbGFyKGxpbmUxLCBsaW5lMiwgdGltZW91dCkge1xuICAgIGlmIChsaW5lMS50cmltKCkgPT09IGxpbmUyLnRyaW0oKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGxpbmUxLmxlbmd0aCA+IDMwMCAmJiBsaW5lMi5sZW5ndGggPiAzMDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBjb25zdCBteWVyc0RpZmZpbmdBbGdvcml0aG0gPSBuZXcgTXllcnNEaWZmQWxnb3JpdGhtKCk7XG4gICAgY29uc3QgcmVzdWx0ID0gbXllcnNEaWZmaW5nQWxnb3JpdGhtLmNvbXB1dGUobmV3IExpbmVzU2xpY2VDaGFyU2VxdWVuY2UoW2xpbmUxXSwgbmV3IE9mZnNldFJhbmdlKDAsIDEpLCBmYWxzZSksIG5ldyBMaW5lc1NsaWNlQ2hhclNlcXVlbmNlKFtsaW5lMl0sIG5ldyBPZmZzZXRSYW5nZSgwLCAxKSwgZmFsc2UpLCB0aW1lb3V0KTtcbiAgICBsZXQgY29tbW9uTm9uU3BhY2VDaGFyQ291bnQgPSAwO1xuICAgIGNvbnN0IGludmVydGVkID0gU2VxdWVuY2VEaWZmLmludmVydChyZXN1bHQuZGlmZnMsIGxpbmUxLmxlbmd0aCk7XG4gICAgZm9yIChjb25zdCBzZXEgb2YgaW52ZXJ0ZWQpIHtcbiAgICAgICAgc2VxLnNlcTFSYW5nZS5mb3JFYWNoKGlkeCA9PiB7XG4gICAgICAgICAgICBpZiAoIWlzU3BhY2UobGluZTEuY2hhckNvZGVBdChpZHgpKSkge1xuICAgICAgICAgICAgICAgIGNvbW1vbk5vblNwYWNlQ2hhckNvdW50Kys7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb3VudE5vbldzQ2hhcnMoc3RyKSB7XG4gICAgICAgIGxldCBjb3VudCA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZTEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghaXNTcGFjZShzdHIuY2hhckNvZGVBdChpKSkpIHtcbiAgICAgICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb3VudDtcbiAgICB9XG4gICAgY29uc3QgbG9uZ2VyTGluZUxlbmd0aCA9IGNvdW50Tm9uV3NDaGFycyhsaW5lMS5sZW5ndGggPiBsaW5lMi5sZW5ndGggPyBsaW5lMSA6IGxpbmUyKTtcbiAgICBjb25zdCByID0gY29tbW9uTm9uU3BhY2VDaGFyQ291bnQgLyBsb25nZXJMaW5lTGVuZ3RoID4gMC42ICYmIGxvbmdlckxpbmVMZW5ndGggPiAxMDtcbiAgICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIGpvaW5DbG9zZUNvbnNlY3V0aXZlTW92ZXMobW92ZXMpIHtcbiAgICBpZiAobW92ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBtb3ZlcztcbiAgICB9XG4gICAgbW92ZXMuc29ydChjb21wYXJlQnkobSA9PiBtLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciwgbnVtYmVyQ29tcGFyYXRvcikpO1xuICAgIGNvbnN0IHJlc3VsdCA9IFttb3Zlc1swXV07XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBtb3Zlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBsYXN0ID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgY3VycmVudCA9IG1vdmVzW2ldO1xuICAgICAgICBjb25zdCBvcmlnaW5hbERpc3QgPSBjdXJyZW50Lm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciAtIGxhc3Qub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZTtcbiAgICAgICAgY29uc3QgbW9kaWZpZWREaXN0ID0gY3VycmVudC5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIgLSBsYXN0Lm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmU7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRNb3ZlQWZ0ZXJMYXN0ID0gb3JpZ2luYWxEaXN0ID49IDAgJiYgbW9kaWZpZWREaXN0ID49IDA7XG4gICAgICAgIGlmIChjdXJyZW50TW92ZUFmdGVyTGFzdCAmJiBvcmlnaW5hbERpc3QgKyBtb2RpZmllZERpc3QgPD0gMikge1xuICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IGxhc3Quam9pbihjdXJyZW50KTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gcmVtb3ZlTW92ZXNJblNhbWVEaWZmKGNoYW5nZXMsIG1vdmVzKSB7XG4gICAgY29uc3QgY2hhbmdlc01vbm90b25vdXMgPSBuZXcgTW9ub3Rvbm91c0FycmF5KGNoYW5nZXMpO1xuICAgIG1vdmVzID0gbW92ZXMuZmlsdGVyKG0gPT4ge1xuICAgICAgICBjb25zdCBkaWZmQmVmb3JlRW5kT2ZNb3ZlT3JpZ2luYWwgPSBjaGFuZ2VzTW9ub3Rvbm91cy5maW5kTGFzdE1vbm90b25vdXMoYyA9PiBjLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciA8IG0ub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSlcbiAgICAgICAgICAgIHx8IG5ldyBMaW5lUmFuZ2VNYXBwaW5nKG5ldyBMaW5lUmFuZ2UoMSwgMSksIG5ldyBMaW5lUmFuZ2UoMSwgMSkpO1xuICAgICAgICBjb25zdCBkaWZmQmVmb3JlRW5kT2ZNb3ZlTW9kaWZpZWQgPSBmaW5kTGFzdE1vbm90b25vdXMoY2hhbmdlcywgYyA9PiBjLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlciA8IG0ubW9kaWZpZWQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSk7XG4gICAgICAgIGNvbnN0IGRpZmZlcmVudERpZmZzID0gZGlmZkJlZm9yZUVuZE9mTW92ZU9yaWdpbmFsICE9PSBkaWZmQmVmb3JlRW5kT2ZNb3ZlTW9kaWZpZWQ7XG4gICAgICAgIHJldHVybiBkaWZmZXJlbnREaWZmcztcbiAgICB9KTtcbiAgICByZXR1cm4gbW92ZXM7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IGZvckVhY2hXaXRoTmVpZ2hib3JzIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXJyYXlzLmpzJztcbmltcG9ydCB7IE9mZnNldFJhbmdlIH0gZnJvbSAnLi4vLi4vY29yZS9vZmZzZXRSYW5nZS5qcyc7XG5pbXBvcnQgeyBPZmZzZXRQYWlyLCBTZXF1ZW5jZURpZmYgfSBmcm9tICcuL2FsZ29yaXRobXMvZGlmZkFsZ29yaXRobS5qcyc7XG5leHBvcnQgZnVuY3Rpb24gb3B0aW1pemVTZXF1ZW5jZURpZmZzKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBzZXF1ZW5jZURpZmZzKSB7XG4gICAgbGV0IHJlc3VsdCA9IHNlcXVlbmNlRGlmZnM7XG4gICAgcmVzdWx0ID0gam9pblNlcXVlbmNlRGlmZnNCeVNoaWZ0aW5nKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCByZXN1bHQpO1xuICAgIC8vIFNvbWV0aW1lcywgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIHR3aWNlIGltcHJvdmVzIHRoZSByZXN1bHQuXG4gICAgLy8gVW5jb21tZW50IHRoZSBzZWNvbmQgaW52b2NhdGlvbiBhbmQgcnVuIHRoZSB0ZXN0cyB0byBzZWUgdGhlIGRpZmZlcmVuY2UuXG4gICAgcmVzdWx0ID0gam9pblNlcXVlbmNlRGlmZnNCeVNoaWZ0aW5nKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCByZXN1bHQpO1xuICAgIHJlc3VsdCA9IHNoaWZ0U2VxdWVuY2VEaWZmcyhzZXF1ZW5jZTEsIHNlcXVlbmNlMiwgcmVzdWx0KTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIGZpeGVzIGlzc3VlcyBsaWtlIHRoaXM6XG4gKiBgYGBcbiAqIGltcG9ydCB7IEJheiwgQmFyIH0gZnJvbSBcImZvb1wiO1xuICogYGBgXG4gKiA8LT5cbiAqIGBgYFxuICogaW1wb3J0IHsgQmF6LCBCYXIsIEZvbyB9IGZyb20gXCJmb29cIjtcbiAqIGBgYFxuICogQ29tcHV0ZWQgZGlmZjogWyB7QWRkIFwiLFwiIGFmdGVyIEJhcn0sIHtBZGQgXCJGb28gXCIgYWZ0ZXIgc3BhY2V9IH1cbiAqIEltcHJvdmVkIGRpZmY6IFt7QWRkIFwiLCBGb29cIiBhZnRlciBCYXJ9XVxuICovXG5mdW5jdGlvbiBqb2luU2VxdWVuY2VEaWZmc0J5U2hpZnRpbmcoc2VxdWVuY2UxLCBzZXF1ZW5jZTIsIHNlcXVlbmNlRGlmZnMpIHtcbiAgICBpZiAoc2VxdWVuY2VEaWZmcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNlcXVlbmNlRGlmZnM7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIHJlc3VsdC5wdXNoKHNlcXVlbmNlRGlmZnNbMF0pO1xuICAgIC8vIEZpcnN0IG1vdmUgdGhlbSBhbGwgdG8gdGhlIGxlZnQgYXMgbXVjaCBhcyBwb3NzaWJsZSBhbmQgam9pbiB0aGVtIGlmIHBvc3NpYmxlXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBzZXF1ZW5jZURpZmZzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZSZXN1bHQgPSByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdO1xuICAgICAgICBsZXQgY3VyID0gc2VxdWVuY2VEaWZmc1tpXTtcbiAgICAgICAgaWYgKGN1ci5zZXExUmFuZ2UuaXNFbXB0eSB8fCBjdXIuc2VxMlJhbmdlLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IGN1ci5zZXExUmFuZ2Uuc3RhcnQgLSBwcmV2UmVzdWx0LnNlcTFSYW5nZS5lbmRFeGNsdXNpdmU7XG4gICAgICAgICAgICBsZXQgZDtcbiAgICAgICAgICAgIGZvciAoZCA9IDE7IGQgPD0gbGVuZ3RoOyBkKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VxdWVuY2UxLmdldEVsZW1lbnQoY3VyLnNlcTFSYW5nZS5zdGFydCAtIGQpICE9PSBzZXF1ZW5jZTEuZ2V0RWxlbWVudChjdXIuc2VxMVJhbmdlLmVuZEV4Y2x1c2l2ZSAtIGQpIHx8XG4gICAgICAgICAgICAgICAgICAgIHNlcXVlbmNlMi5nZXRFbGVtZW50KGN1ci5zZXEyUmFuZ2Uuc3RhcnQgLSBkKSAhPT0gc2VxdWVuY2UyLmdldEVsZW1lbnQoY3VyLnNlcTJSYW5nZS5lbmRFeGNsdXNpdmUgLSBkKSkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLS07XG4gICAgICAgICAgICBpZiAoZCA9PT0gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgcHJldmlvdXMgYW5kIGN1cnJlbnQgZGlmZlxuICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0gPSBuZXcgU2VxdWVuY2VEaWZmKG5ldyBPZmZzZXRSYW5nZShwcmV2UmVzdWx0LnNlcTFSYW5nZS5zdGFydCwgY3VyLnNlcTFSYW5nZS5lbmRFeGNsdXNpdmUgLSBsZW5ndGgpLCBuZXcgT2Zmc2V0UmFuZ2UocHJldlJlc3VsdC5zZXEyUmFuZ2Uuc3RhcnQsIGN1ci5zZXEyUmFuZ2UuZW5kRXhjbHVzaXZlIC0gbGVuZ3RoKSk7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXIgPSBjdXIuZGVsdGEoLWQpO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdC5wdXNoKGN1cik7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdDIgPSBbXTtcbiAgICAvLyBUaGVuIG1vdmUgdGhlbSBhbGwgdG8gdGhlIHJpZ2h0IGFuZCBqb2luIHRoZW0gYWdhaW4gaWYgcG9zc2libGVcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgY29uc3QgbmV4dFJlc3VsdCA9IHJlc3VsdFtpICsgMV07XG4gICAgICAgIGxldCBjdXIgPSByZXN1bHRbaV07XG4gICAgICAgIGlmIChjdXIuc2VxMVJhbmdlLmlzRW1wdHkgfHwgY3VyLnNlcTJSYW5nZS5pc0VtcHR5KSB7XG4gICAgICAgICAgICBjb25zdCBsZW5ndGggPSBuZXh0UmVzdWx0LnNlcTFSYW5nZS5zdGFydCAtIGN1ci5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlO1xuICAgICAgICAgICAgbGV0IGQ7XG4gICAgICAgICAgICBmb3IgKGQgPSAwOyBkIDwgbGVuZ3RoOyBkKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlcXVlbmNlMS5pc1N0cm9uZ2x5RXF1YWwoY3VyLnNlcTFSYW5nZS5zdGFydCArIGQsIGN1ci5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlICsgZCkgfHxcbiAgICAgICAgICAgICAgICAgICAgIXNlcXVlbmNlMi5pc1N0cm9uZ2x5RXF1YWwoY3VyLnNlcTJSYW5nZS5zdGFydCArIGQsIGN1ci5zZXEyUmFuZ2UuZW5kRXhjbHVzaXZlICsgZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGQgPT09IGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIE1lcmdlIHByZXZpb3VzIGFuZCBjdXJyZW50IGRpZmYsIHdyaXRlIHRvIHJlc3VsdCFcbiAgICAgICAgICAgICAgICByZXN1bHRbaSArIDFdID0gbmV3IFNlcXVlbmNlRGlmZihuZXcgT2Zmc2V0UmFuZ2UoY3VyLnNlcTFSYW5nZS5zdGFydCArIGxlbmd0aCwgbmV4dFJlc3VsdC5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlKSwgbmV3IE9mZnNldFJhbmdlKGN1ci5zZXEyUmFuZ2Uuc3RhcnQgKyBsZW5ndGgsIG5leHRSZXN1bHQuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSkpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGQgPiAwKSB7XG4gICAgICAgICAgICAgICAgY3VyID0gY3VyLmRlbHRhKGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdDIucHVzaChjdXIpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmVzdWx0Mi5wdXNoKHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0Mjtcbn1cbi8vIGFsaWduIGNoYXJhY3RlciBsZXZlbCBkaWZmcyBhdCB3aGl0ZXNwYWNlIGNoYXJhY3RlcnNcbi8vIGltcG9ydCB7IElCYXIgfSBmcm9tIFwiZm9vXCI7XG4vLyBpbXBvcnQgeyBJW0FyciwgSV1CYXIgfSBmcm9tIFwiZm9vXCI7XG4vLyAtPlxuLy8gaW1wb3J0IHsgW0lBcnIsIF1JQmFyIH0gZnJvbSBcImZvb1wiO1xuLy8gaW1wb3J0IHsgSVRyYW5zYWN0aW9uLCBvYnNlcnZhYmxlVmFsdWUsIHRyYW5zYWN0aW9uIH0gZnJvbSAndnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZSc7XG4vLyBpbXBvcnQgeyBJVHJhbnNhY3Rpb24sIG9ic2VydmFibGVbRnJvbUV2ZW50LCBvYnNlcnZhYmxlXVZhbHVlLCB0cmFuc2FjdGlvbiB9IGZyb20gJ3ZzL2Jhc2UvY29tbW9uL29ic2VydmFibGUnO1xuLy8gLT5cbi8vIGltcG9ydCB7IElUcmFuc2FjdGlvbiwgW29ic2VydmFibGVGcm9tRXZlbnQsIF1vYnNlcnZhYmxlVmFsdWUsIHRyYW5zYWN0aW9uIH0gZnJvbSAndnMvYmFzZS9jb21tb24vb2JzZXJ2YWJsZSc7XG4vLyBjb2xsZWN0QnJhY2tldHMobGV2ZWwgKyAxLCBsZXZlbFBlckJyYWNrZXRUeXBlKTtcbi8vIGNvbGxlY3RCcmFja2V0cyhsZXZlbCArIDEsIGxldmVsUGVyQnJhY2tldFsgKyAxLCBsZXZlbFBlckJyYWNrZXRdVHlwZSk7XG4vLyAtPlxuLy8gY29sbGVjdEJyYWNrZXRzKGxldmVsICsgMSwgW2xldmVsUGVyQnJhY2tldCArIDEsIF1sZXZlbFBlckJyYWNrZXRUeXBlKTtcbmZ1bmN0aW9uIHNoaWZ0U2VxdWVuY2VEaWZmcyhzZXF1ZW5jZTEsIHNlcXVlbmNlMiwgc2VxdWVuY2VEaWZmcykge1xuICAgIGlmICghc2VxdWVuY2UxLmdldEJvdW5kYXJ5U2NvcmUgfHwgIXNlcXVlbmNlMi5nZXRCb3VuZGFyeVNjb3JlKSB7XG4gICAgICAgIHJldHVybiBzZXF1ZW5jZURpZmZzO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlcXVlbmNlRGlmZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcHJldkRpZmYgPSAoaSA+IDAgPyBzZXF1ZW5jZURpZmZzW2kgLSAxXSA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGNvbnN0IGRpZmYgPSBzZXF1ZW5jZURpZmZzW2ldO1xuICAgICAgICBjb25zdCBuZXh0RGlmZiA9IChpICsgMSA8IHNlcXVlbmNlRGlmZnMubGVuZ3RoID8gc2VxdWVuY2VEaWZmc1tpICsgMV0gOiB1bmRlZmluZWQpO1xuICAgICAgICBjb25zdCBzZXExVmFsaWRSYW5nZSA9IG5ldyBPZmZzZXRSYW5nZShwcmV2RGlmZiA/IHByZXZEaWZmLnNlcTFSYW5nZS5zdGFydCArIDEgOiAwLCBuZXh0RGlmZiA/IG5leHREaWZmLnNlcTFSYW5nZS5lbmRFeGNsdXNpdmUgLSAxIDogc2VxdWVuY2UxLmxlbmd0aCk7XG4gICAgICAgIGNvbnN0IHNlcTJWYWxpZFJhbmdlID0gbmV3IE9mZnNldFJhbmdlKHByZXZEaWZmID8gcHJldkRpZmYuc2VxMlJhbmdlLnN0YXJ0ICsgMSA6IDAsIG5leHREaWZmID8gbmV4dERpZmYuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSAtIDEgOiBzZXF1ZW5jZTIubGVuZ3RoKTtcbiAgICAgICAgaWYgKGRpZmYuc2VxMVJhbmdlLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHNlcXVlbmNlRGlmZnNbaV0gPSBzaGlmdERpZmZUb0JldHRlclBvc2l0aW9uKGRpZmYsIHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBzZXExVmFsaWRSYW5nZSwgc2VxMlZhbGlkUmFuZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpZmYuc2VxMlJhbmdlLmlzRW1wdHkpIHtcbiAgICAgICAgICAgIHNlcXVlbmNlRGlmZnNbaV0gPSBzaGlmdERpZmZUb0JldHRlclBvc2l0aW9uKGRpZmYuc3dhcCgpLCBzZXF1ZW5jZTIsIHNlcXVlbmNlMSwgc2VxMlZhbGlkUmFuZ2UsIHNlcTFWYWxpZFJhbmdlKS5zd2FwKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlcXVlbmNlRGlmZnM7XG59XG5mdW5jdGlvbiBzaGlmdERpZmZUb0JldHRlclBvc2l0aW9uKGRpZmYsIHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBzZXExVmFsaWRSYW5nZSwgc2VxMlZhbGlkUmFuZ2UpIHtcbiAgICBjb25zdCBtYXhTaGlmdExpbWl0ID0gMTAwOyAvLyBUbyBwcmV2ZW50IHBlcmZvcm1hbmNlIGlzc3Vlc1xuICAgIC8vIGRvbid0IHRvdWNoIHByZXZpb3VzIG9yIG5leHQhXG4gICAgbGV0IGRlbHRhQmVmb3JlID0gMTtcbiAgICB3aGlsZSAoZGlmZi5zZXExUmFuZ2Uuc3RhcnQgLSBkZWx0YUJlZm9yZSA+PSBzZXExVmFsaWRSYW5nZS5zdGFydCAmJlxuICAgICAgICBkaWZmLnNlcTJSYW5nZS5zdGFydCAtIGRlbHRhQmVmb3JlID49IHNlcTJWYWxpZFJhbmdlLnN0YXJ0ICYmXG4gICAgICAgIHNlcXVlbmNlMi5pc1N0cm9uZ2x5RXF1YWwoZGlmZi5zZXEyUmFuZ2Uuc3RhcnQgLSBkZWx0YUJlZm9yZSwgZGlmZi5zZXEyUmFuZ2UuZW5kRXhjbHVzaXZlIC0gZGVsdGFCZWZvcmUpICYmIGRlbHRhQmVmb3JlIDwgbWF4U2hpZnRMaW1pdCkge1xuICAgICAgICBkZWx0YUJlZm9yZSsrO1xuICAgIH1cbiAgICBkZWx0YUJlZm9yZS0tO1xuICAgIGxldCBkZWx0YUFmdGVyID0gMDtcbiAgICB3aGlsZSAoZGlmZi5zZXExUmFuZ2Uuc3RhcnQgKyBkZWx0YUFmdGVyIDwgc2VxMVZhbGlkUmFuZ2UuZW5kRXhjbHVzaXZlICYmXG4gICAgICAgIGRpZmYuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSArIGRlbHRhQWZ0ZXIgPCBzZXEyVmFsaWRSYW5nZS5lbmRFeGNsdXNpdmUgJiZcbiAgICAgICAgc2VxdWVuY2UyLmlzU3Ryb25nbHlFcXVhbChkaWZmLnNlcTJSYW5nZS5zdGFydCArIGRlbHRhQWZ0ZXIsIGRpZmYuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSArIGRlbHRhQWZ0ZXIpICYmIGRlbHRhQWZ0ZXIgPCBtYXhTaGlmdExpbWl0KSB7XG4gICAgICAgIGRlbHRhQWZ0ZXIrKztcbiAgICB9XG4gICAgaWYgKGRlbHRhQmVmb3JlID09PSAwICYmIGRlbHRhQWZ0ZXIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfVxuICAgIC8vIFZpc3VhbGl6ZSBgW3NlcXVlbmNlMS50ZXh0LCBkaWZmLnNlcTFSYW5nZS5zdGFydCArIGRlbHRhQWZ0ZXJdYFxuICAgIC8vIGFuZCBgW3NlcXVlbmNlMi50ZXh0LCBkaWZmLnNlcTJSYW5nZS5zdGFydCArIGRlbHRhQWZ0ZXIsIGRpZmYuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSArIGRlbHRhQWZ0ZXJdYFxuICAgIGxldCBiZXN0RGVsdGEgPSAwO1xuICAgIGxldCBiZXN0U2NvcmUgPSAtMTtcbiAgICAvLyBmaW5kIGJlc3Qgc2NvcmVkIGRlbHRhXG4gICAgZm9yIChsZXQgZGVsdGEgPSAtZGVsdGFCZWZvcmU7IGRlbHRhIDw9IGRlbHRhQWZ0ZXI7IGRlbHRhKyspIHtcbiAgICAgICAgY29uc3Qgc2VxMk9mZnNldFN0YXJ0ID0gZGlmZi5zZXEyUmFuZ2Uuc3RhcnQgKyBkZWx0YTtcbiAgICAgICAgY29uc3Qgc2VxMk9mZnNldEVuZEV4Y2x1c2l2ZSA9IGRpZmYuc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSArIGRlbHRhO1xuICAgICAgICBjb25zdCBzZXExT2Zmc2V0ID0gZGlmZi5zZXExUmFuZ2Uuc3RhcnQgKyBkZWx0YTtcbiAgICAgICAgY29uc3Qgc2NvcmUgPSBzZXF1ZW5jZTEuZ2V0Qm91bmRhcnlTY29yZShzZXExT2Zmc2V0KSArIHNlcXVlbmNlMi5nZXRCb3VuZGFyeVNjb3JlKHNlcTJPZmZzZXRTdGFydCkgKyBzZXF1ZW5jZTIuZ2V0Qm91bmRhcnlTY29yZShzZXEyT2Zmc2V0RW5kRXhjbHVzaXZlKTtcbiAgICAgICAgaWYgKHNjb3JlID4gYmVzdFNjb3JlKSB7XG4gICAgICAgICAgICBiZXN0U2NvcmUgPSBzY29yZTtcbiAgICAgICAgICAgIGJlc3REZWx0YSA9IGRlbHRhO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBkaWZmLmRlbHRhKGJlc3REZWx0YSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU2hvcnRNYXRjaGVzKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBzZXF1ZW5jZURpZmZzKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgZm9yIChjb25zdCBzIG9mIHNlcXVlbmNlRGlmZnMpIHtcbiAgICAgICAgY29uc3QgbGFzdCA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICAgIGlmICghbGFzdCkge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocyk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocy5zZXExUmFuZ2Uuc3RhcnQgLSBsYXN0LnNlcTFSYW5nZS5lbmRFeGNsdXNpdmUgPD0gMiB8fCBzLnNlcTJSYW5nZS5zdGFydCAtIGxhc3Quc2VxMlJhbmdlLmVuZEV4Y2x1c2l2ZSA8PSAyKSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gbmV3IFNlcXVlbmNlRGlmZihsYXN0LnNlcTFSYW5nZS5qb2luKHMuc2VxMVJhbmdlKSwgbGFzdC5zZXEyUmFuZ2Uuam9pbihzLnNlcTJSYW5nZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gocyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRlbmREaWZmc1RvRW50aXJlV29yZElmQXBwcm9wcmlhdGUoc2VxdWVuY2UxLCBzZXF1ZW5jZTIsIHNlcXVlbmNlRGlmZnMpIHtcbiAgICBjb25zdCBhZGRpdGlvbmFsID0gW107XG4gICAgbGV0IGxhc3RNb2RpZmllZFdvcmQgPSB1bmRlZmluZWQ7XG4gICAgZnVuY3Rpb24gbWF5YmVQdXNoV29yZFRvQWRkaXRpb25hbCgpIHtcbiAgICAgICAgaWYgKCFsYXN0TW9kaWZpZWRXb3JkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMZW5ndGgxID0gbGFzdE1vZGlmaWVkV29yZC5zMVJhbmdlLmxlbmd0aCAtIGxhc3RNb2RpZmllZFdvcmQuZGVsZXRlZDtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMZW5ndGgyID0gbGFzdE1vZGlmaWVkV29yZC5zMlJhbmdlLmxlbmd0aCAtIGxhc3RNb2RpZmllZFdvcmQuYWRkZWQ7XG4gICAgICAgIGlmIChvcmlnaW5hbExlbmd0aDEgIT09IG9yaWdpbmFsTGVuZ3RoMikge1xuICAgICAgICAgICAgLy8gVE9ETyBmaWd1cmUgb3V0IHdoeSB0aGlzIGhhcHBlbnNcbiAgICAgICAgfVxuICAgICAgICBpZiAoTWF0aC5tYXgobGFzdE1vZGlmaWVkV29yZC5kZWxldGVkLCBsYXN0TW9kaWZpZWRXb3JkLmFkZGVkKSArIChsYXN0TW9kaWZpZWRXb3JkLmNvdW50IC0gMSkgPiBvcmlnaW5hbExlbmd0aDEpIHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWwucHVzaChuZXcgU2VxdWVuY2VEaWZmKGxhc3RNb2RpZmllZFdvcmQuczFSYW5nZSwgbGFzdE1vZGlmaWVkV29yZC5zMlJhbmdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdE1vZGlmaWVkV29yZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZm9yIChjb25zdCBzIG9mIHNlcXVlbmNlRGlmZnMpIHtcbiAgICAgICAgZnVuY3Rpb24gcHJvY2Vzc1dvcmQoczFSYW5nZSwgczJSYW5nZSkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAgICAgaWYgKCFsYXN0TW9kaWZpZWRXb3JkIHx8ICFsYXN0TW9kaWZpZWRXb3JkLnMxUmFuZ2UuY29udGFpbnNSYW5nZShzMVJhbmdlKSB8fCAhbGFzdE1vZGlmaWVkV29yZC5zMlJhbmdlLmNvbnRhaW5zUmFuZ2UoczJSYW5nZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobGFzdE1vZGlmaWVkV29yZCAmJiAhKGxhc3RNb2RpZmllZFdvcmQuczFSYW5nZS5lbmRFeGNsdXNpdmUgPCBzMVJhbmdlLnN0YXJ0ICYmIGxhc3RNb2RpZmllZFdvcmQuczJSYW5nZS5lbmRFeGNsdXNpdmUgPCBzMlJhbmdlLnN0YXJ0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzMUFkZGVkID0gT2Zmc2V0UmFuZ2UudHJ5Q3JlYXRlKGxhc3RNb2RpZmllZFdvcmQuczFSYW5nZS5lbmRFeGNsdXNpdmUsIHMxUmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzMkFkZGVkID0gT2Zmc2V0UmFuZ2UudHJ5Q3JlYXRlKGxhc3RNb2RpZmllZFdvcmQuczJSYW5nZS5lbmRFeGNsdXNpdmUsIHMyUmFuZ2Uuc3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWRXb3JkLmRlbGV0ZWQgKz0gKF9hID0gczFBZGRlZCA9PT0gbnVsbCB8fCBzMUFkZGVkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzMUFkZGVkLmxlbmd0aCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMDtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkV29yZC5hZGRlZCArPSAoX2IgPSBzMkFkZGVkID09PSBudWxsIHx8IHMyQWRkZWQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHMyQWRkZWQubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAwO1xuICAgICAgICAgICAgICAgICAgICBsYXN0TW9kaWZpZWRXb3JkLnMxUmFuZ2UgPSBsYXN0TW9kaWZpZWRXb3JkLnMxUmFuZ2Uuam9pbihzMVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1vZGlmaWVkV29yZC5zMlJhbmdlID0gbGFzdE1vZGlmaWVkV29yZC5zMlJhbmdlLmpvaW4oczJSYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXliZVB1c2hXb3JkVG9BZGRpdGlvbmFsKCk7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RNb2RpZmllZFdvcmQgPSB7IGFkZGVkOiAwLCBkZWxldGVkOiAwLCBjb3VudDogMCwgczFSYW5nZTogczFSYW5nZSwgczJSYW5nZTogczJSYW5nZSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTMSA9IHMxUmFuZ2UuaW50ZXJzZWN0KHMuc2VxMVJhbmdlKTtcbiAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTMiA9IHMyUmFuZ2UuaW50ZXJzZWN0KHMuc2VxMlJhbmdlKTtcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZFdvcmQuY291bnQrKztcbiAgICAgICAgICAgIGxhc3RNb2RpZmllZFdvcmQuZGVsZXRlZCArPSAoX2MgPSBjaGFuZ2VkUzEgPT09IG51bGwgfHwgY2hhbmdlZFMxID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFuZ2VkUzEubGVuZ3RoKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwO1xuICAgICAgICAgICAgbGFzdE1vZGlmaWVkV29yZC5hZGRlZCArPSAoX2QgPSBjaGFuZ2VkUzIgPT09IG51bGwgfHwgY2hhbmdlZFMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjaGFuZ2VkUzIubGVuZ3RoKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHcxQmVmb3JlID0gc2VxdWVuY2UxLmZpbmRXb3JkQ29udGFpbmluZyhzLnNlcTFSYW5nZS5zdGFydCAtIDEpO1xuICAgICAgICBjb25zdCB3MkJlZm9yZSA9IHNlcXVlbmNlMi5maW5kV29yZENvbnRhaW5pbmcocy5zZXEyUmFuZ2Uuc3RhcnQgLSAxKTtcbiAgICAgICAgY29uc3QgdzFBZnRlciA9IHNlcXVlbmNlMS5maW5kV29yZENvbnRhaW5pbmcocy5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgY29uc3QgdzJBZnRlciA9IHNlcXVlbmNlMi5maW5kV29yZENvbnRhaW5pbmcocy5zZXEyUmFuZ2UuZW5kRXhjbHVzaXZlKTtcbiAgICAgICAgaWYgKHcxQmVmb3JlICYmIHcxQWZ0ZXIgJiYgdzJCZWZvcmUgJiYgdzJBZnRlciAmJiB3MUJlZm9yZS5lcXVhbHModzFBZnRlcikgJiYgdzJCZWZvcmUuZXF1YWxzKHcyQWZ0ZXIpKSB7XG4gICAgICAgICAgICBwcm9jZXNzV29yZCh3MUJlZm9yZSwgdzJCZWZvcmUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHcxQmVmb3JlICYmIHcyQmVmb3JlKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc1dvcmQodzFCZWZvcmUsIHcyQmVmb3JlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh3MUFmdGVyICYmIHcyQWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzV29yZCh3MUFmdGVyLCB3MkFmdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBtYXliZVB1c2hXb3JkVG9BZGRpdGlvbmFsKCk7XG4gICAgY29uc3QgbWVyZ2VkID0gbWVyZ2VTZXF1ZW5jZURpZmZzKHNlcXVlbmNlRGlmZnMsIGFkZGl0aW9uYWwpO1xuICAgIHJldHVybiBtZXJnZWQ7XG59XG5mdW5jdGlvbiBtZXJnZVNlcXVlbmNlRGlmZnMoc2VxdWVuY2VEaWZmczEsIHNlcXVlbmNlRGlmZnMyKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgd2hpbGUgKHNlcXVlbmNlRGlmZnMxLmxlbmd0aCA+IDAgfHwgc2VxdWVuY2VEaWZmczIubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBzZDEgPSBzZXF1ZW5jZURpZmZzMVswXTtcbiAgICAgICAgY29uc3Qgc2QyID0gc2VxdWVuY2VEaWZmczJbMF07XG4gICAgICAgIGxldCBuZXh0O1xuICAgICAgICBpZiAoc2QxICYmICghc2QyIHx8IHNkMS5zZXExUmFuZ2Uuc3RhcnQgPCBzZDIuc2VxMVJhbmdlLnN0YXJ0KSkge1xuICAgICAgICAgICAgbmV4dCA9IHNlcXVlbmNlRGlmZnMxLnNoaWZ0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBuZXh0ID0gc2VxdWVuY2VEaWZmczIuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0Lmxlbmd0aCA+IDAgJiYgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlID49IG5leHQuc2VxMVJhbmdlLnN0YXJ0KSB7XG4gICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXS5qb2luKG5leHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWZXJ5U2hvcnRNYXRjaGluZ0xpbmVzQmV0d2VlbkRpZmZzKHNlcXVlbmNlMSwgX3NlcXVlbmNlMiwgc2VxdWVuY2VEaWZmcykge1xuICAgIGxldCBkaWZmcyA9IHNlcXVlbmNlRGlmZnM7XG4gICAgaWYgKGRpZmZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZGlmZnM7XG4gICAgfVxuICAgIGxldCBjb3VudGVyID0gMDtcbiAgICBsZXQgc2hvdWxkUmVwZWF0O1xuICAgIGRvIHtcbiAgICAgICAgc2hvdWxkUmVwZWF0ID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtcbiAgICAgICAgICAgIGRpZmZzWzBdXG4gICAgICAgIF07XG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgZGlmZnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGN1ciA9IGRpZmZzW2ldO1xuICAgICAgICAgICAgY29uc3QgbGFzdFJlc3VsdCA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG91bGRKb2luRGlmZnMoYmVmb3JlLCBhZnRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHVuY2hhbmdlZFJhbmdlID0gbmV3IE9mZnNldFJhbmdlKGxhc3RSZXN1bHQuc2VxMVJhbmdlLmVuZEV4Y2x1c2l2ZSwgY3VyLnNlcTFSYW5nZS5zdGFydCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5jaGFuZ2VkVGV4dCA9IHNlcXVlbmNlMS5nZXRUZXh0KHVuY2hhbmdlZFJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bmNoYW5nZWRUZXh0V2l0aG91dFdzID0gdW5jaGFuZ2VkVGV4dC5yZXBsYWNlKC9cXHMvZywgJycpO1xuICAgICAgICAgICAgICAgIGlmICh1bmNoYW5nZWRUZXh0V2l0aG91dFdzLmxlbmd0aCA8PSA0XG4gICAgICAgICAgICAgICAgICAgICYmIChiZWZvcmUuc2VxMVJhbmdlLmxlbmd0aCArIGJlZm9yZS5zZXEyUmFuZ2UubGVuZ3RoID4gNSB8fCBhZnRlci5zZXExUmFuZ2UubGVuZ3RoICsgYWZ0ZXIuc2VxMlJhbmdlLmxlbmd0aCA+IDUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaG91bGRKb2luID0gc2hvdWxkSm9pbkRpZmZzKGxhc3RSZXN1bHQsIGN1cik7XG4gICAgICAgICAgICBpZiAoc2hvdWxkSm9pbikge1xuICAgICAgICAgICAgICAgIHNob3VsZFJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uam9pbihjdXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaWZmcyA9IHJlc3VsdDtcbiAgICB9IHdoaWxlIChjb3VudGVyKysgPCAxMCAmJiBzaG91bGRSZXBlYXQpO1xuICAgIHJldHVybiBkaWZmcztcbn1cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVWZXJ5U2hvcnRNYXRjaGluZ1RleHRCZXR3ZWVuTG9uZ0RpZmZzKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBzZXF1ZW5jZURpZmZzKSB7XG4gICAgbGV0IGRpZmZzID0gc2VxdWVuY2VEaWZmcztcbiAgICBpZiAoZGlmZnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBkaWZmcztcbiAgICB9XG4gICAgbGV0IGNvdW50ZXIgPSAwO1xuICAgIGxldCBzaG91bGRSZXBlYXQ7XG4gICAgZG8ge1xuICAgICAgICBzaG91bGRSZXBlYXQgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW1xuICAgICAgICAgICAgZGlmZnNbMF1cbiAgICAgICAgXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCBkaWZmcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY3VyID0gZGlmZnNbaV07XG4gICAgICAgICAgICBjb25zdCBsYXN0UmVzdWx0ID0gcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3VsZEpvaW5EaWZmcyhiZWZvcmUsIGFmdGVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdW5jaGFuZ2VkUmFuZ2UgPSBuZXcgT2Zmc2V0UmFuZ2UobGFzdFJlc3VsdC5zZXExUmFuZ2UuZW5kRXhjbHVzaXZlLCBjdXIuc2VxMVJhbmdlLnN0YXJ0KTtcbiAgICAgICAgICAgICAgICBjb25zdCB1bmNoYW5nZWRMaW5lQ291bnQgPSBzZXF1ZW5jZTEuY291bnRMaW5lc0luKHVuY2hhbmdlZFJhbmdlKTtcbiAgICAgICAgICAgICAgICBpZiAodW5jaGFuZ2VkTGluZUNvdW50ID4gNSB8fCB1bmNoYW5nZWRSYW5nZS5sZW5ndGggPiA1MDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB1bmNoYW5nZWRUZXh0ID0gc2VxdWVuY2UxLmdldFRleHQodW5jaGFuZ2VkUmFuZ2UpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAodW5jaGFuZ2VkVGV4dC5sZW5ndGggPiAyMCB8fCB1bmNoYW5nZWRUZXh0LnNwbGl0KC9cXHJcXG58XFxyfFxcbi8pLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVMaW5lQ291bnQxID0gc2VxdWVuY2UxLmNvdW50TGluZXNJbihiZWZvcmUuc2VxMVJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWZvcmVTZXExTGVuZ3RoID0gYmVmb3JlLnNlcTFSYW5nZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlTGluZUNvdW50MiA9IHNlcXVlbmNlMi5jb3VudExpbmVzSW4oYmVmb3JlLnNlcTJSYW5nZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmVmb3JlU2VxMkxlbmd0aCA9IGJlZm9yZS5zZXEyUmFuZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyTGluZUNvdW50MSA9IHNlcXVlbmNlMS5jb3VudExpbmVzSW4oYWZ0ZXIuc2VxMVJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZnRlclNlcTFMZW5ndGggPSBhZnRlci5zZXExUmFuZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGNvbnN0IGFmdGVyTGluZUNvdW50MiA9IHNlcXVlbmNlMi5jb3VudExpbmVzSW4oYWZ0ZXIuc2VxMlJhbmdlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhZnRlclNlcTJMZW5ndGggPSBhZnRlci5zZXEyUmFuZ2UubGVuZ3RoO1xuICAgICAgICAgICAgICAgIC8vIFRPRE86IE1heWJlIGEgbmV1cmFsIG5ldCBjYW4gYmUgdXNlZCB0byBkZXJpdmUgdGhlIHJlc3VsdCBmcm9tIHRoZXNlIG51bWJlcnNcbiAgICAgICAgICAgICAgICBjb25zdCBtYXggPSAyICogNDAgKyA1MDtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBjYXAodikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odiwgbWF4KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKE1hdGgucG93KE1hdGgucG93KGNhcChiZWZvcmVMaW5lQ291bnQxICogNDAgKyBiZWZvcmVTZXExTGVuZ3RoKSwgMS41KSArIE1hdGgucG93KGNhcChiZWZvcmVMaW5lQ291bnQyICogNDAgKyBiZWZvcmVTZXEyTGVuZ3RoKSwgMS41KSwgMS41KVxuICAgICAgICAgICAgICAgICAgICArIE1hdGgucG93KE1hdGgucG93KGNhcChhZnRlckxpbmVDb3VudDEgKiA0MCArIGFmdGVyU2VxMUxlbmd0aCksIDEuNSkgKyBNYXRoLnBvdyhjYXAoYWZ0ZXJMaW5lQ291bnQyICogNDAgKyBhZnRlclNlcTJMZW5ndGgpLCAxLjUpLCAxLjUpID4gKChtYXggKiogMS41KSAqKiAxLjUpICogMS4zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaG91bGRKb2luID0gc2hvdWxkSm9pbkRpZmZzKGxhc3RSZXN1bHQsIGN1cik7XG4gICAgICAgICAgICBpZiAoc2hvdWxkSm9pbikge1xuICAgICAgICAgICAgICAgIHNob3VsZFJlcGVhdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0uam9pbihjdXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY3VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkaWZmcyA9IHJlc3VsdDtcbiAgICB9IHdoaWxlIChjb3VudGVyKysgPCAxMCAmJiBzaG91bGRSZXBlYXQpO1xuICAgIGNvbnN0IG5ld0RpZmZzID0gW107XG4gICAgLy8gUmVtb3ZlIHNob3J0IHN1ZmZpeGVzL3ByZWZpeGVzXG4gICAgZm9yRWFjaFdpdGhOZWlnaGJvcnMoZGlmZnMsIChwcmV2LCBjdXIsIG5leHQpID0+IHtcbiAgICAgICAgbGV0IG5ld0RpZmYgPSBjdXI7XG4gICAgICAgIGZ1bmN0aW9uIHNob3VsZE1hcmtBc0NoYW5nZWQodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIHRleHQubGVuZ3RoID4gMCAmJiB0ZXh0LnRyaW0oKS5sZW5ndGggPD0gMyAmJiBjdXIuc2VxMVJhbmdlLmxlbmd0aCArIGN1ci5zZXEyUmFuZ2UubGVuZ3RoID4gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZ1bGxSYW5nZTEgPSBzZXF1ZW5jZTEuZXh0ZW5kVG9GdWxsTGluZXMoY3VyLnNlcTFSYW5nZSk7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IHNlcXVlbmNlMS5nZXRUZXh0KG5ldyBPZmZzZXRSYW5nZShmdWxsUmFuZ2UxLnN0YXJ0LCBjdXIuc2VxMVJhbmdlLnN0YXJ0KSk7XG4gICAgICAgIGlmIChzaG91bGRNYXJrQXNDaGFuZ2VkKHByZWZpeCkpIHtcbiAgICAgICAgICAgIG5ld0RpZmYgPSBuZXdEaWZmLmRlbHRhU3RhcnQoLXByZWZpeC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN1ZmZpeCA9IHNlcXVlbmNlMS5nZXRUZXh0KG5ldyBPZmZzZXRSYW5nZShjdXIuc2VxMVJhbmdlLmVuZEV4Y2x1c2l2ZSwgZnVsbFJhbmdlMS5lbmRFeGNsdXNpdmUpKTtcbiAgICAgICAgaWYgKHNob3VsZE1hcmtBc0NoYW5nZWQoc3VmZml4KSkge1xuICAgICAgICAgICAgbmV3RGlmZiA9IG5ld0RpZmYuZGVsdGFFbmQoc3VmZml4Lmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXZhaWxhYmxlU3BhY2UgPSBTZXF1ZW5jZURpZmYuZnJvbU9mZnNldFBhaXJzKHByZXYgPyBwcmV2LmdldEVuZEV4Y2x1c2l2ZXMoKSA6IE9mZnNldFBhaXIuemVybywgbmV4dCA/IG5leHQuZ2V0U3RhcnRzKCkgOiBPZmZzZXRQYWlyLm1heCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IG5ld0RpZmYuaW50ZXJzZWN0KGF2YWlsYWJsZVNwYWNlKTtcbiAgICAgICAgbmV3RGlmZnMucHVzaChyZXN1bHQpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdEaWZmcztcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZXhwb3J0IGNsYXNzIExpbmVTZXF1ZW5jZSB7XG4gICAgY29uc3RydWN0b3IodHJpbW1lZEhhc2gsIGxpbmVzKSB7XG4gICAgICAgIHRoaXMudHJpbW1lZEhhc2ggPSB0cmltbWVkSGFzaDtcbiAgICAgICAgdGhpcy5saW5lcyA9IGxpbmVzO1xuICAgIH1cbiAgICBnZXRFbGVtZW50KG9mZnNldCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmltbWVkSGFzaFtvZmZzZXRdO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50cmltbWVkSGFzaC5sZW5ndGg7XG4gICAgfVxuICAgIGdldEJvdW5kYXJ5U2NvcmUobGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGluZGVudGF0aW9uQmVmb3JlID0gbGVuZ3RoID09PSAwID8gMCA6IGdldEluZGVudGF0aW9uKHRoaXMubGluZXNbbGVuZ3RoIC0gMV0pO1xuICAgICAgICBjb25zdCBpbmRlbnRhdGlvbkFmdGVyID0gbGVuZ3RoID09PSB0aGlzLmxpbmVzLmxlbmd0aCA/IDAgOiBnZXRJbmRlbnRhdGlvbih0aGlzLmxpbmVzW2xlbmd0aF0pO1xuICAgICAgICByZXR1cm4gMTAwMCAtIChpbmRlbnRhdGlvbkJlZm9yZSArIGluZGVudGF0aW9uQWZ0ZXIpO1xuICAgIH1cbiAgICBnZXRUZXh0KHJhbmdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbmVzLnNsaWNlKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmRFeGNsdXNpdmUpLmpvaW4oJ1xcbicpO1xuICAgIH1cbiAgICBpc1N0cm9uZ2x5RXF1YWwob2Zmc2V0MSwgb2Zmc2V0Mikge1xuICAgICAgICByZXR1cm4gdGhpcy5saW5lc1tvZmZzZXQxXSA9PT0gdGhpcy5saW5lc1tvZmZzZXQyXTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRJbmRlbnRhdGlvbihzdHIpIHtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBzdHIubGVuZ3RoICYmIChzdHIuY2hhckNvZGVBdChpKSA9PT0gMzIgLyogQ2hhckNvZGUuU3BhY2UgKi8gfHwgc3RyLmNoYXJDb2RlQXQoaSkgPT09IDkgLyogQ2hhckNvZGUuVGFiICovKSkge1xuICAgICAgICBpKys7XG4gICAgfVxuICAgIHJldHVybiBpO1xufVxuIiwiLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqICBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5pbXBvcnQgeyBlcXVhbHMsIGdyb3VwQWRqYWNlbnRCeSB9IGZyb20gJy4uLy4uLy4uLy4uL2Jhc2UvY29tbW9uL2FycmF5cy5qcyc7XG5pbXBvcnQgeyBhc3NlcnRGbiwgY2hlY2tBZGphY2VudEl0ZW1zIH0gZnJvbSAnLi4vLi4vLi4vLi4vYmFzZS9jb21tb24vYXNzZXJ0LmpzJztcbmltcG9ydCB7IExpbmVSYW5nZSB9IGZyb20gJy4uLy4uL2NvcmUvbGluZVJhbmdlLmpzJztcbmltcG9ydCB7IE9mZnNldFJhbmdlIH0gZnJvbSAnLi4vLi4vY29yZS9vZmZzZXRSYW5nZS5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uLy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgRGF0ZVRpbWVvdXQsIEluZmluaXRlVGltZW91dCwgU2VxdWVuY2VEaWZmIH0gZnJvbSAnLi9hbGdvcml0aG1zL2RpZmZBbGdvcml0aG0uanMnO1xuaW1wb3J0IHsgRHluYW1pY1Byb2dyYW1taW5nRGlmZmluZyB9IGZyb20gJy4vYWxnb3JpdGhtcy9keW5hbWljUHJvZ3JhbW1pbmdEaWZmaW5nLmpzJztcbmltcG9ydCB7IE15ZXJzRGlmZkFsZ29yaXRobSB9IGZyb20gJy4vYWxnb3JpdGhtcy9teWVyc0RpZmZBbGdvcml0aG0uanMnO1xuaW1wb3J0IHsgY29tcHV0ZU1vdmVkTGluZXMgfSBmcm9tICcuL2NvbXB1dGVNb3ZlZExpbmVzLmpzJztcbmltcG9ydCB7IGV4dGVuZERpZmZzVG9FbnRpcmVXb3JkSWZBcHByb3ByaWF0ZSwgb3B0aW1pemVTZXF1ZW5jZURpZmZzLCByZW1vdmVWZXJ5U2hvcnRNYXRjaGluZ0xpbmVzQmV0d2VlbkRpZmZzLCByZW1vdmVWZXJ5U2hvcnRNYXRjaGluZ1RleHRCZXR3ZWVuTG9uZ0RpZmZzLCByZW1vdmVTaG9ydE1hdGNoZXMgfSBmcm9tICcuL2hldXJpc3RpY1NlcXVlbmNlT3B0aW1pemF0aW9ucy5qcyc7XG5pbXBvcnQgeyBMaW5lc0RpZmYsIE1vdmVkVGV4dCB9IGZyb20gJy4uL2xpbmVzRGlmZkNvbXB1dGVyLmpzJztcbmltcG9ydCB7IERldGFpbGVkTGluZVJhbmdlTWFwcGluZywgUmFuZ2VNYXBwaW5nIH0gZnJvbSAnLi4vcmFuZ2VNYXBwaW5nLmpzJztcbmltcG9ydCB7IExpbmVzU2xpY2VDaGFyU2VxdWVuY2UgfSBmcm9tICcuL2xpbmVzU2xpY2VDaGFyU2VxdWVuY2UuanMnO1xuaW1wb3J0IHsgTGluZVNlcXVlbmNlIH0gZnJvbSAnLi9saW5lU2VxdWVuY2UuanMnO1xuZXhwb3J0IGNsYXNzIERlZmF1bHRMaW5lc0RpZmZDb21wdXRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuZHluYW1pY1Byb2dyYW1taW5nRGlmZmluZyA9IG5ldyBEeW5hbWljUHJvZ3JhbW1pbmdEaWZmaW5nKCk7XG4gICAgICAgIHRoaXMubXllcnNEaWZmaW5nQWxnb3JpdGhtID0gbmV3IE15ZXJzRGlmZkFsZ29yaXRobSgpO1xuICAgIH1cbiAgICBjb21wdXRlRGlmZihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcmlnaW5hbExpbmVzLmxlbmd0aCA8PSAxICYmIGVxdWFscyhvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCAoYSwgYikgPT4gYSA9PT0gYikpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTGluZXNEaWZmKFtdLCBbXSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcmlnaW5hbExpbmVzLmxlbmd0aCA9PT0gMSAmJiBvcmlnaW5hbExpbmVzWzBdLmxlbmd0aCA9PT0gMCB8fCBtb2RpZmllZExpbmVzLmxlbmd0aCA9PT0gMSAmJiBtb2RpZmllZExpbmVzWzBdLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBMaW5lc0RpZmYoW1xuICAgICAgICAgICAgICAgIG5ldyBEZXRhaWxlZExpbmVSYW5nZU1hcHBpbmcobmV3IExpbmVSYW5nZSgxLCBvcmlnaW5hbExpbmVzLmxlbmd0aCArIDEpLCBuZXcgTGluZVJhbmdlKDEsIG1vZGlmaWVkTGluZXMubGVuZ3RoICsgMSksIFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJhbmdlTWFwcGluZyhuZXcgUmFuZ2UoMSwgMSwgb3JpZ2luYWxMaW5lcy5sZW5ndGgsIG9yaWdpbmFsTGluZXNbMF0ubGVuZ3RoICsgMSksIG5ldyBSYW5nZSgxLCAxLCBtb2RpZmllZExpbmVzLmxlbmd0aCwgbW9kaWZpZWRMaW5lc1swXS5sZW5ndGggKyAxKSlcbiAgICAgICAgICAgICAgICBdKVxuICAgICAgICAgICAgXSwgW10sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0aW1lb3V0ID0gb3B0aW9ucy5tYXhDb21wdXRhdGlvblRpbWVNcyA9PT0gMCA/IEluZmluaXRlVGltZW91dC5pbnN0YW5jZSA6IG5ldyBEYXRlVGltZW91dChvcHRpb25zLm1heENvbXB1dGF0aW9uVGltZU1zKTtcbiAgICAgICAgY29uc3QgY29uc2lkZXJXaGl0ZXNwYWNlQ2hhbmdlcyA9ICFvcHRpb25zLmlnbm9yZVRyaW1XaGl0ZXNwYWNlO1xuICAgICAgICBjb25zdCBwZXJmZWN0SGFzaGVzID0gbmV3IE1hcCgpO1xuICAgICAgICBmdW5jdGlvbiBnZXRPckNyZWF0ZUhhc2godGV4dCkge1xuICAgICAgICAgICAgbGV0IGhhc2ggPSBwZXJmZWN0SGFzaGVzLmdldCh0ZXh0KTtcbiAgICAgICAgICAgIGlmIChoYXNoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBoYXNoID0gcGVyZmVjdEhhc2hlcy5zaXplO1xuICAgICAgICAgICAgICAgIHBlcmZlY3RIYXNoZXMuc2V0KHRleHQsIGhhc2gpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhhc2g7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lc0hhc2hlcyA9IG9yaWdpbmFsTGluZXMubWFwKChsKSA9PiBnZXRPckNyZWF0ZUhhc2gobC50cmltKCkpKTtcbiAgICAgICAgY29uc3QgbW9kaWZpZWRMaW5lc0hhc2hlcyA9IG1vZGlmaWVkTGluZXMubWFwKChsKSA9PiBnZXRPckNyZWF0ZUhhc2gobC50cmltKCkpKTtcbiAgICAgICAgY29uc3Qgc2VxdWVuY2UxID0gbmV3IExpbmVTZXF1ZW5jZShvcmlnaW5hbExpbmVzSGFzaGVzLCBvcmlnaW5hbExpbmVzKTtcbiAgICAgICAgY29uc3Qgc2VxdWVuY2UyID0gbmV3IExpbmVTZXF1ZW5jZShtb2RpZmllZExpbmVzSGFzaGVzLCBtb2RpZmllZExpbmVzKTtcbiAgICAgICAgY29uc3QgbGluZUFsaWdubWVudFJlc3VsdCA9ICgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VxdWVuY2UxLmxlbmd0aCArIHNlcXVlbmNlMi5sZW5ndGggPCAxNzAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSBpbXByb3ZlZCBhbGdvcml0aG0gZm9yIHNtYWxsIGZpbGVzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHluYW1pY1Byb2dyYW1taW5nRGlmZmluZy5jb21wdXRlKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCB0aW1lb3V0LCAob2Zmc2V0MSwgb2Zmc2V0MikgPT4gb3JpZ2luYWxMaW5lc1tvZmZzZXQxXSA9PT0gbW9kaWZpZWRMaW5lc1tvZmZzZXQyXVxuICAgICAgICAgICAgICAgICAgICA/IG1vZGlmaWVkTGluZXNbb2Zmc2V0Ml0ubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICA/IDAuMVxuICAgICAgICAgICAgICAgICAgICAgICAgOiAxICsgTWF0aC5sb2coMSArIG1vZGlmaWVkTGluZXNbb2Zmc2V0Ml0ubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICA6IDAuOTkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMubXllcnNEaWZmaW5nQWxnb3JpdGhtLmNvbXB1dGUoc2VxdWVuY2UxLCBzZXF1ZW5jZTIpO1xuICAgICAgICB9KSgpO1xuICAgICAgICBsZXQgbGluZUFsaWdubWVudHMgPSBsaW5lQWxpZ25tZW50UmVzdWx0LmRpZmZzO1xuICAgICAgICBsZXQgaGl0VGltZW91dCA9IGxpbmVBbGlnbm1lbnRSZXN1bHQuaGl0VGltZW91dDtcbiAgICAgICAgbGluZUFsaWdubWVudHMgPSBvcHRpbWl6ZVNlcXVlbmNlRGlmZnMoc2VxdWVuY2UxLCBzZXF1ZW5jZTIsIGxpbmVBbGlnbm1lbnRzKTtcbiAgICAgICAgbGluZUFsaWdubWVudHMgPSByZW1vdmVWZXJ5U2hvcnRNYXRjaGluZ0xpbmVzQmV0d2VlbkRpZmZzKHNlcXVlbmNlMSwgc2VxdWVuY2UyLCBsaW5lQWxpZ25tZW50cyk7XG4gICAgICAgIGNvbnN0IGFsaWdubWVudHMgPSBbXTtcbiAgICAgICAgY29uc3Qgc2NhbkZvcldoaXRlc3BhY2VDaGFuZ2VzID0gKGVxdWFsTGluZXNDb3VudCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFjb25zaWRlcldoaXRlc3BhY2VDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlcXVhbExpbmVzQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcTFPZmZzZXQgPSBzZXExTGFzdFN0YXJ0ICsgaTtcbiAgICAgICAgICAgICAgICBjb25zdCBzZXEyT2Zmc2V0ID0gc2VxMkxhc3RTdGFydCArIGk7XG4gICAgICAgICAgICAgICAgaWYgKG9yaWdpbmFsTGluZXNbc2VxMU9mZnNldF0gIT09IG1vZGlmaWVkTGluZXNbc2VxMk9mZnNldF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBiZWNhdXNlIG9mIHdoaXRlc3BhY2UgY2hhbmdlcywgZGlmZiB0aGVzZSBsaW5lc1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJEaWZmcyA9IHRoaXMucmVmaW5lRGlmZihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBuZXcgU2VxdWVuY2VEaWZmKG5ldyBPZmZzZXRSYW5nZShzZXExT2Zmc2V0LCBzZXExT2Zmc2V0ICsgMSksIG5ldyBPZmZzZXRSYW5nZShzZXEyT2Zmc2V0LCBzZXEyT2Zmc2V0ICsgMSkpLCB0aW1lb3V0LCBjb25zaWRlcldoaXRlc3BhY2VDaGFuZ2VzKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIGNoYXJhY3RlckRpZmZzLm1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnRzLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlckRpZmZzLmhpdFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFRpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBsZXQgc2VxMUxhc3RTdGFydCA9IDA7XG4gICAgICAgIGxldCBzZXEyTGFzdFN0YXJ0ID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBkaWZmIG9mIGxpbmVBbGlnbm1lbnRzKSB7XG4gICAgICAgICAgICBhc3NlcnRGbigoKSA9PiBkaWZmLnNlcTFSYW5nZS5zdGFydCAtIHNlcTFMYXN0U3RhcnQgPT09IGRpZmYuc2VxMlJhbmdlLnN0YXJ0IC0gc2VxMkxhc3RTdGFydCk7XG4gICAgICAgICAgICBjb25zdCBlcXVhbExpbmVzQ291bnQgPSBkaWZmLnNlcTFSYW5nZS5zdGFydCAtIHNlcTFMYXN0U3RhcnQ7XG4gICAgICAgICAgICBzY2FuRm9yV2hpdGVzcGFjZUNoYW5nZXMoZXF1YWxMaW5lc0NvdW50KTtcbiAgICAgICAgICAgIHNlcTFMYXN0U3RhcnQgPSBkaWZmLnNlcTFSYW5nZS5lbmRFeGNsdXNpdmU7XG4gICAgICAgICAgICBzZXEyTGFzdFN0YXJ0ID0gZGlmZi5zZXEyUmFuZ2UuZW5kRXhjbHVzaXZlO1xuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyRGlmZnMgPSB0aGlzLnJlZmluZURpZmYob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgZGlmZiwgdGltZW91dCwgY29uc2lkZXJXaGl0ZXNwYWNlQ2hhbmdlcyk7XG4gICAgICAgICAgICBpZiAoY2hhcmFjdGVyRGlmZnMuaGl0VGltZW91dCkge1xuICAgICAgICAgICAgICAgIGhpdFRpbWVvdXQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBhIG9mIGNoYXJhY3RlckRpZmZzLm1hcHBpbmdzKSB7XG4gICAgICAgICAgICAgICAgYWxpZ25tZW50cy5wdXNoKGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjYW5Gb3JXaGl0ZXNwYWNlQ2hhbmdlcyhvcmlnaW5hbExpbmVzLmxlbmd0aCAtIHNlcTFMYXN0U3RhcnQpO1xuICAgICAgICBjb25zdCBjaGFuZ2VzID0gbGluZVJhbmdlTWFwcGluZ0Zyb21SYW5nZU1hcHBpbmdzKGFsaWdubWVudHMsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMpO1xuICAgICAgICBsZXQgbW92ZXMgPSBbXTtcbiAgICAgICAgaWYgKG9wdGlvbnMuY29tcHV0ZU1vdmVzKSB7XG4gICAgICAgICAgICBtb3ZlcyA9IHRoaXMuY29tcHV0ZU1vdmVzKGNoYW5nZXMsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIG9yaWdpbmFsTGluZXNIYXNoZXMsIG1vZGlmaWVkTGluZXNIYXNoZXMsIHRpbWVvdXQsIGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBhbGwgcmFuZ2VzIGFyZSB2YWxpZFxuICAgICAgICBhc3NlcnRGbigoKSA9PiB7XG4gICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZVBvc2l0aW9uKHBvcywgbGluZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAocG9zLmxpbmVOdW1iZXIgPCAxIHx8IHBvcy5saW5lTnVtYmVyID4gbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgbGluZSA9IGxpbmVzW3Bvcy5saW5lTnVtYmVyIC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKHBvcy5jb2x1bW4gPCAxIHx8IHBvcy5jb2x1bW4gPiBsaW5lLmxlbmd0aCArIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlUmFuZ2UocmFuZ2UsIGxpbmVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlLnN0YXJ0TGluZU51bWJlciA8IDEgfHwgcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyID4gbGluZXMubGVuZ3RoICsgMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlIDwgMSB8fCByYW5nZS5lbmRMaW5lTnVtYmVyRXhjbHVzaXZlID4gbGluZXMubGVuZ3RoICsgMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBjIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWMuaW5uZXJDaGFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBpYyBvZiBjLmlubmVyQ2hhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZCA9IHZhbGlkYXRlUG9zaXRpb24oaWMubW9kaWZpZWRSYW5nZS5nZXRTdGFydFBvc2l0aW9uKCksIG1vZGlmaWVkTGluZXMpICYmIHZhbGlkYXRlUG9zaXRpb24oaWMubW9kaWZpZWRSYW5nZS5nZXRFbmRQb3NpdGlvbigpLCBtb2RpZmllZExpbmVzKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVQb3NpdGlvbihpYy5vcmlnaW5hbFJhbmdlLmdldFN0YXJ0UG9zaXRpb24oKSwgb3JpZ2luYWxMaW5lcykgJiYgdmFsaWRhdGVQb3NpdGlvbihpYy5vcmlnaW5hbFJhbmdlLmdldEVuZFBvc2l0aW9uKCksIG9yaWdpbmFsTGluZXMpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZVJhbmdlKGMubW9kaWZpZWQsIG1vZGlmaWVkTGluZXMpIHx8ICF2YWxpZGF0ZVJhbmdlKGMub3JpZ2luYWwsIG9yaWdpbmFsTGluZXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTGluZXNEaWZmKGNoYW5nZXMsIG1vdmVzLCBoaXRUaW1lb3V0KTtcbiAgICB9XG4gICAgY29tcHV0ZU1vdmVzKGNoYW5nZXMsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIGhhc2hlZE9yaWdpbmFsTGluZXMsIGhhc2hlZE1vZGlmaWVkTGluZXMsIHRpbWVvdXQsIGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpIHtcbiAgICAgICAgY29uc3QgbW92ZXMgPSBjb21wdXRlTW92ZWRMaW5lcyhjaGFuZ2VzLCBvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBoYXNoZWRPcmlnaW5hbExpbmVzLCBoYXNoZWRNb2RpZmllZExpbmVzLCB0aW1lb3V0KTtcbiAgICAgICAgY29uc3QgbW92ZXNXaXRoRGlmZnMgPSBtb3Zlcy5tYXAobSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtb3ZlQ2hhbmdlcyA9IHRoaXMucmVmaW5lRGlmZihvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBuZXcgU2VxdWVuY2VEaWZmKG0ub3JpZ2luYWwudG9PZmZzZXRSYW5nZSgpLCBtLm1vZGlmaWVkLnRvT2Zmc2V0UmFuZ2UoKSksIHRpbWVvdXQsIGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpO1xuICAgICAgICAgICAgY29uc3QgbWFwcGluZ3MgPSBsaW5lUmFuZ2VNYXBwaW5nRnJvbVJhbmdlTWFwcGluZ3MobW92ZUNoYW5nZXMubWFwcGluZ3MsIG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBNb3ZlZFRleHQobSwgbWFwcGluZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG1vdmVzV2l0aERpZmZzO1xuICAgIH1cbiAgICByZWZpbmVEaWZmKG9yaWdpbmFsTGluZXMsIG1vZGlmaWVkTGluZXMsIGRpZmYsIHRpbWVvdXQsIGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpIHtcbiAgICAgICAgY29uc3Qgc2xpY2UxID0gbmV3IExpbmVzU2xpY2VDaGFyU2VxdWVuY2Uob3JpZ2luYWxMaW5lcywgZGlmZi5zZXExUmFuZ2UsIGNvbnNpZGVyV2hpdGVzcGFjZUNoYW5nZXMpO1xuICAgICAgICBjb25zdCBzbGljZTIgPSBuZXcgTGluZXNTbGljZUNoYXJTZXF1ZW5jZShtb2RpZmllZExpbmVzLCBkaWZmLnNlcTJSYW5nZSwgY29uc2lkZXJXaGl0ZXNwYWNlQ2hhbmdlcyk7XG4gICAgICAgIGNvbnN0IGRpZmZSZXN1bHQgPSBzbGljZTEubGVuZ3RoICsgc2xpY2UyLmxlbmd0aCA8IDUwMFxuICAgICAgICAgICAgPyB0aGlzLmR5bmFtaWNQcm9ncmFtbWluZ0RpZmZpbmcuY29tcHV0ZShzbGljZTEsIHNsaWNlMiwgdGltZW91dClcbiAgICAgICAgICAgIDogdGhpcy5teWVyc0RpZmZpbmdBbGdvcml0aG0uY29tcHV0ZShzbGljZTEsIHNsaWNlMiwgdGltZW91dCk7XG4gICAgICAgIGxldCBkaWZmcyA9IGRpZmZSZXN1bHQuZGlmZnM7XG4gICAgICAgIGRpZmZzID0gb3B0aW1pemVTZXF1ZW5jZURpZmZzKHNsaWNlMSwgc2xpY2UyLCBkaWZmcyk7XG4gICAgICAgIGRpZmZzID0gZXh0ZW5kRGlmZnNUb0VudGlyZVdvcmRJZkFwcHJvcHJpYXRlKHNsaWNlMSwgc2xpY2UyLCBkaWZmcyk7XG4gICAgICAgIGRpZmZzID0gcmVtb3ZlU2hvcnRNYXRjaGVzKHNsaWNlMSwgc2xpY2UyLCBkaWZmcyk7XG4gICAgICAgIGRpZmZzID0gcmVtb3ZlVmVyeVNob3J0TWF0Y2hpbmdUZXh0QmV0d2VlbkxvbmdEaWZmcyhzbGljZTEsIHNsaWNlMiwgZGlmZnMpO1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkaWZmcy5tYXAoKGQpID0+IG5ldyBSYW5nZU1hcHBpbmcoc2xpY2UxLnRyYW5zbGF0ZVJhbmdlKGQuc2VxMVJhbmdlKSwgc2xpY2UyLnRyYW5zbGF0ZVJhbmdlKGQuc2VxMlJhbmdlKSkpO1xuICAgICAgICAvLyBBc3NlcnQ6IHJlc3VsdCBhcHBsaWVkIG9uIG9yaWdpbmFsIHNob3VsZCBiZSB0aGUgc2FtZSBhcyBkaWZmIGFwcGxpZWQgdG8gb3JpZ2luYWxcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG1hcHBpbmdzOiByZXN1bHQsXG4gICAgICAgICAgICBoaXRUaW1lb3V0OiBkaWZmUmVzdWx0LmhpdFRpbWVvdXQsXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVSYW5nZU1hcHBpbmdGcm9tUmFuZ2VNYXBwaW5ncyhhbGlnbm1lbnRzLCBvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzLCBkb250QXNzZXJ0U3RhcnRMaW5lID0gZmFsc2UpIHtcbiAgICBjb25zdCBjaGFuZ2VzID0gW107XG4gICAgZm9yIChjb25zdCBnIG9mIGdyb3VwQWRqYWNlbnRCeShhbGlnbm1lbnRzLm1hcChhID0+IGdldExpbmVSYW5nZU1hcHBpbmcoYSwgb3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcykpLCAoYTEsIGEyKSA9PiBhMS5vcmlnaW5hbC5vdmVybGFwT3JUb3VjaChhMi5vcmlnaW5hbClcbiAgICAgICAgfHwgYTEubW9kaWZpZWQub3ZlcmxhcE9yVG91Y2goYTIubW9kaWZpZWQpKSkge1xuICAgICAgICBjb25zdCBmaXJzdCA9IGdbMF07XG4gICAgICAgIGNvbnN0IGxhc3QgPSBnW2cubGVuZ3RoIC0gMV07XG4gICAgICAgIGNoYW5nZXMucHVzaChuZXcgRGV0YWlsZWRMaW5lUmFuZ2VNYXBwaW5nKGZpcnN0Lm9yaWdpbmFsLmpvaW4obGFzdC5vcmlnaW5hbCksIGZpcnN0Lm1vZGlmaWVkLmpvaW4obGFzdC5tb2RpZmllZCksIGcubWFwKGEgPT4gYS5pbm5lckNoYW5nZXNbMF0pKSk7XG4gICAgfVxuICAgIGFzc2VydEZuKCgpID0+IHtcbiAgICAgICAgaWYgKCFkb250QXNzZXJ0U3RhcnRMaW5lKSB7XG4gICAgICAgICAgICBpZiAoY2hhbmdlcy5sZW5ndGggPiAwICYmIGNoYW5nZXNbMF0ub3JpZ2luYWwuc3RhcnRMaW5lTnVtYmVyICE9PSBjaGFuZ2VzWzBdLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hlY2tBZGphY2VudEl0ZW1zKGNoYW5nZXMsIChtMSwgbTIpID0+IG0yLm9yaWdpbmFsLnN0YXJ0TGluZU51bWJlciAtIG0xLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPT09IG0yLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlciAtIG0xLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgJiZcbiAgICAgICAgICAgIC8vIFRoZXJlIGhhcyB0byBiZSBhbiB1bmNoYW5nZWQgbGluZSBpbiBiZXR3ZWVuIChvdGhlcndpc2UgYm90aCBkaWZmcyBzaG91bGQgaGF2ZSBiZWVuIGpvaW5lZClcbiAgICAgICAgICAgIG0xLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPCBtMi5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIgJiZcbiAgICAgICAgICAgIG0xLm1vZGlmaWVkLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUgPCBtMi5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBjaGFuZ2VzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVSYW5nZU1hcHBpbmcocmFuZ2VNYXBwaW5nLCBvcmlnaW5hbExpbmVzLCBtb2RpZmllZExpbmVzKSB7XG4gICAgbGV0IGxpbmVTdGFydERlbHRhID0gMDtcbiAgICBsZXQgbGluZUVuZERlbHRhID0gMDtcbiAgICAvLyByYW5nZU1hcHBpbmcgZGVzY3JpYmVzIHRoZSBlZGl0IHRoYXQgcmVwbGFjZXMgYHJhbmdlTWFwcGluZy5vcmlnaW5hbFJhbmdlYCB3aXRoIGBuZXdUZXh0IDo9IGdldFRleHQobW9kaWZpZWRMaW5lcywgcmFuZ2VNYXBwaW5nLm1vZGlmaWVkUmFuZ2UpYC5cbiAgICAvLyBvcmlnaW5hbDogXXh4eCBcXG4gPC0gdGhpcyBsaW5lIGlzIG5vdCBtb2RpZmllZFxuICAgIC8vIG1vZGlmaWVkOiBdeHggIFxcblxuICAgIGlmIChyYW5nZU1hcHBpbmcubW9kaWZpZWRSYW5nZS5lbmRDb2x1bW4gPT09IDEgJiYgcmFuZ2VNYXBwaW5nLm9yaWdpbmFsUmFuZ2UuZW5kQ29sdW1uID09PSAxXG4gICAgICAgICYmIHJhbmdlTWFwcGluZy5vcmlnaW5hbFJhbmdlLnN0YXJ0TGluZU51bWJlciArIGxpbmVTdGFydERlbHRhIDw9IHJhbmdlTWFwcGluZy5vcmlnaW5hbFJhbmdlLmVuZExpbmVOdW1iZXJcbiAgICAgICAgJiYgcmFuZ2VNYXBwaW5nLm1vZGlmaWVkUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICsgbGluZVN0YXJ0RGVsdGEgPD0gcmFuZ2VNYXBwaW5nLm1vZGlmaWVkUmFuZ2UuZW5kTGluZU51bWJlcikge1xuICAgICAgICAvLyBXZSBjYW4gb25seSBkbyB0aGlzIGlmIHRoZSByYW5nZSBpcyBub3QgZW1wdHkgeWV0XG4gICAgICAgIGxpbmVFbmREZWx0YSA9IC0xO1xuICAgIH1cbiAgICAvLyBvcmlnaW5hbDogeHh4WyBcXG4gPC0gdGhpcyBsaW5lIGlzIG5vdCBtb2RpZmllZFxuICAgIC8vIG1vZGlmaWVkOiB4eHhbIFxcblxuICAgIGlmIChyYW5nZU1hcHBpbmcubW9kaWZpZWRSYW5nZS5zdGFydENvbHVtbiAtIDEgPj0gbW9kaWZpZWRMaW5lc1tyYW5nZU1hcHBpbmcubW9kaWZpZWRSYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5sZW5ndGhcbiAgICAgICAgJiYgcmFuZ2VNYXBwaW5nLm9yaWdpbmFsUmFuZ2Uuc3RhcnRDb2x1bW4gLSAxID49IG9yaWdpbmFsTGluZXNbcmFuZ2VNYXBwaW5nLm9yaWdpbmFsUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyIC0gMV0ubGVuZ3RoXG4gICAgICAgICYmIHJhbmdlTWFwcGluZy5vcmlnaW5hbFJhbmdlLnN0YXJ0TGluZU51bWJlciA8PSByYW5nZU1hcHBpbmcub3JpZ2luYWxSYW5nZS5lbmRMaW5lTnVtYmVyICsgbGluZUVuZERlbHRhXG4gICAgICAgICYmIHJhbmdlTWFwcGluZy5tb2RpZmllZFJhbmdlLnN0YXJ0TGluZU51bWJlciA8PSByYW5nZU1hcHBpbmcubW9kaWZpZWRSYW5nZS5lbmRMaW5lTnVtYmVyICsgbGluZUVuZERlbHRhKSB7XG4gICAgICAgIC8vIFdlIGNhbiBvbmx5IGRvIHRoaXMgaWYgdGhlIHJhbmdlIGlzIG5vdCBlbXB0eSB5ZXRcbiAgICAgICAgbGluZVN0YXJ0RGVsdGEgPSAxO1xuICAgIH1cbiAgICBjb25zdCBvcmlnaW5hbExpbmVSYW5nZSA9IG5ldyBMaW5lUmFuZ2UocmFuZ2VNYXBwaW5nLm9yaWdpbmFsUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICsgbGluZVN0YXJ0RGVsdGEsIHJhbmdlTWFwcGluZy5vcmlnaW5hbFJhbmdlLmVuZExpbmVOdW1iZXIgKyAxICsgbGluZUVuZERlbHRhKTtcbiAgICBjb25zdCBtb2RpZmllZExpbmVSYW5nZSA9IG5ldyBMaW5lUmFuZ2UocmFuZ2VNYXBwaW5nLm1vZGlmaWVkUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyICsgbGluZVN0YXJ0RGVsdGEsIHJhbmdlTWFwcGluZy5tb2RpZmllZFJhbmdlLmVuZExpbmVOdW1iZXIgKyAxICsgbGluZUVuZERlbHRhKTtcbiAgICByZXR1cm4gbmV3IERldGFpbGVkTGluZVJhbmdlTWFwcGluZyhvcmlnaW5hbExpbmVSYW5nZSwgbW9kaWZpZWRMaW5lUmFuZ2UsIFtyYW5nZU1hcHBpbmddKTtcbn1cbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgTGVnYWN5TGluZXNEaWZmQ29tcHV0ZXIgfSBmcm9tICcuL2xlZ2FjeUxpbmVzRGlmZkNvbXB1dGVyLmpzJztcbmltcG9ydCB7IERlZmF1bHRMaW5lc0RpZmZDb21wdXRlciB9IGZyb20gJy4vZGVmYXVsdExpbmVzRGlmZkNvbXB1dGVyL2RlZmF1bHRMaW5lc0RpZmZDb21wdXRlci5qcyc7XG5leHBvcnQgY29uc3QgbGluZXNEaWZmQ29tcHV0ZXJzID0ge1xuICAgIGdldExlZ2FjeTogKCkgPT4gbmV3IExlZ2FjeUxpbmVzRGlmZkNvbXB1dGVyKCksXG4gICAgZ2V0RGVmYXVsdDogKCkgPT4gbmV3IERlZmF1bHRMaW5lc0RpZmZDb21wdXRlcigpLFxufTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuZnVuY3Rpb24gcm91bmRGbG9hdChudW1iZXIsIGRlY2ltYWxQb2ludHMpIHtcbiAgICBjb25zdCBkZWNpbWFsID0gTWF0aC5wb3coMTAsIGRlY2ltYWxQb2ludHMpO1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG51bWJlciAqIGRlY2ltYWwpIC8gZGVjaW1hbDtcbn1cbmV4cG9ydCBjbGFzcyBSR0JBIHtcbiAgICBjb25zdHJ1Y3RvcihyLCBnLCBiLCBhID0gMSkge1xuICAgICAgICB0aGlzLl9yZ2JhQnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuciA9IE1hdGgubWluKDI1NSwgTWF0aC5tYXgoMCwgcikpIHwgMDtcbiAgICAgICAgdGhpcy5nID0gTWF0aC5taW4oMjU1LCBNYXRoLm1heCgwLCBnKSkgfCAwO1xuICAgICAgICB0aGlzLmIgPSBNYXRoLm1pbigyNTUsIE1hdGgubWF4KDAsIGIpKSB8IDA7XG4gICAgICAgIHRoaXMuYSA9IHJvdW5kRmxvYXQoTWF0aC5tYXgoTWF0aC5taW4oMSwgYSksIDApLCAzKTtcbiAgICB9XG4gICAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLnIgPT09IGIuciAmJiBhLmcgPT09IGIuZyAmJiBhLmIgPT09IGIuYiAmJiBhLmEgPT09IGIuYTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSFNMQSB7XG4gICAgY29uc3RydWN0b3IoaCwgcywgbCwgYSkge1xuICAgICAgICB0aGlzLl9oc2xhQnJhbmQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuaCA9IE1hdGgubWF4KE1hdGgubWluKDM2MCwgaCksIDApIHwgMDtcbiAgICAgICAgdGhpcy5zID0gcm91bmRGbG9hdChNYXRoLm1heChNYXRoLm1pbigxLCBzKSwgMCksIDMpO1xuICAgICAgICB0aGlzLmwgPSByb3VuZEZsb2F0KE1hdGgubWF4KE1hdGgubWluKDEsIGwpLCAwKSwgMyk7XG4gICAgICAgIHRoaXMuYSA9IHJvdW5kRmxvYXQoTWF0aC5tYXgoTWF0aC5taW4oMSwgYSksIDApLCAzKTtcbiAgICB9XG4gICAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmggPT09IGIuaCAmJiBhLnMgPT09IGIucyAmJiBhLmwgPT09IGIubCAmJiBhLmEgPT09IGIuYTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gUkdCIGNvbG9yIHZhbHVlIHRvIEhTTC4gQ29udmVyc2lvbiBmb3JtdWxhXG4gICAgICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxuICAgICAqIEFzc3VtZXMgciwgZywgYW5kIGIgYXJlIGNvbnRhaW5lZCBpbiB0aGUgc2V0IFswLCAyNTVdIGFuZFxuICAgICAqIHJldHVybnMgaCBpbiB0aGUgc2V0IFswLCAzNjBdLCBzLCBhbmQgbCBpbiB0aGUgc2V0IFswLCAxXS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJHQkEocmdiYSkge1xuICAgICAgICBjb25zdCByID0gcmdiYS5yIC8gMjU1O1xuICAgICAgICBjb25zdCBnID0gcmdiYS5nIC8gMjU1O1xuICAgICAgICBjb25zdCBiID0gcmdiYS5iIC8gMjU1O1xuICAgICAgICBjb25zdCBhID0gcmdiYS5hO1xuICAgICAgICBjb25zdCBtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgY29uc3QgbWluID0gTWF0aC5taW4ociwgZywgYik7XG4gICAgICAgIGxldCBoID0gMDtcbiAgICAgICAgbGV0IHMgPSAwO1xuICAgICAgICBjb25zdCBsID0gKG1pbiArIG1heCkgLyAyO1xuICAgICAgICBjb25zdCBjaHJvbWEgPSBtYXggLSBtaW47XG4gICAgICAgIGlmIChjaHJvbWEgPiAwKSB7XG4gICAgICAgICAgICBzID0gTWF0aC5taW4oKGwgPD0gMC41ID8gY2hyb21hIC8gKDIgKiBsKSA6IGNocm9tYSAvICgyIC0gKDIgKiBsKSkpLCAxKTtcbiAgICAgICAgICAgIHN3aXRjaCAobWF4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSByOlxuICAgICAgICAgICAgICAgICAgICBoID0gKGcgLSBiKSAvIGNocm9tYSArIChnIDwgYiA/IDYgOiAwKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBnOlxuICAgICAgICAgICAgICAgICAgICBoID0gKGIgLSByKSAvIGNocm9tYSArIDI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgYjpcbiAgICAgICAgICAgICAgICAgICAgaCA9IChyIC0gZykgLyBjaHJvbWEgKyA0O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGggKj0gNjA7XG4gICAgICAgICAgICBoID0gTWF0aC5yb3VuZChoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhTTEEoaCwgcywgbCwgYSk7XG4gICAgfVxuICAgIHN0YXRpYyBfaHVlMnJnYihwLCBxLCB0KSB7XG4gICAgICAgIGlmICh0IDwgMCkge1xuICAgICAgICAgICAgdCArPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0ID4gMSkge1xuICAgICAgICAgICAgdCAtPSAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IDwgMSAvIDYpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqIDYgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IDwgMSAvIDIpIHtcbiAgICAgICAgICAgIHJldHVybiBxO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0IDwgMiAvIDMpIHtcbiAgICAgICAgICAgIHJldHVybiBwICsgKHEgLSBwKSAqICgyIC8gMyAtIHQpICogNjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYW4gSFNMIGNvbG9yIHZhbHVlIHRvIFJHQi4gQ29udmVyc2lvbiBmb3JtdWxhXG4gICAgICogYWRhcHRlZCBmcm9tIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSFNMX2NvbG9yX3NwYWNlLlxuICAgICAqIEFzc3VtZXMgaCBpbiB0aGUgc2V0IFswLCAzNjBdIHMsIGFuZCBsIGFyZSBjb250YWluZWQgaW4gdGhlIHNldCBbMCwgMV0gYW5kXG4gICAgICogcmV0dXJucyByLCBnLCBhbmQgYiBpbiB0aGUgc2V0IFswLCAyNTVdLlxuICAgICAqL1xuICAgIHN0YXRpYyB0b1JHQkEoaHNsYSkge1xuICAgICAgICBjb25zdCBoID0gaHNsYS5oIC8gMzYwO1xuICAgICAgICBjb25zdCB7IHMsIGwsIGEgfSA9IGhzbGE7XG4gICAgICAgIGxldCByLCBnLCBiO1xuICAgICAgICBpZiAocyA9PT0gMCkge1xuICAgICAgICAgICAgciA9IGcgPSBiID0gbDsgLy8gYWNocm9tYXRpY1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcSA9IGwgPCAwLjUgPyBsICogKDEgKyBzKSA6IGwgKyBzIC0gbCAqIHM7XG4gICAgICAgICAgICBjb25zdCBwID0gMiAqIGwgLSBxO1xuICAgICAgICAgICAgciA9IEhTTEEuX2h1ZTJyZ2IocCwgcSwgaCArIDEgLyAzKTtcbiAgICAgICAgICAgIGcgPSBIU0xBLl9odWUycmdiKHAsIHEsIGgpO1xuICAgICAgICAgICAgYiA9IEhTTEEuX2h1ZTJyZ2IocCwgcSwgaCAtIDEgLyAzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFJHQkEoTWF0aC5yb3VuZChyICogMjU1KSwgTWF0aC5yb3VuZChnICogMjU1KSwgTWF0aC5yb3VuZChiICogMjU1KSwgYSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEhTVkEge1xuICAgIGNvbnN0cnVjdG9yKGgsIHMsIHYsIGEpIHtcbiAgICAgICAgdGhpcy5faHN2YUJyYW5kID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLmggPSBNYXRoLm1heChNYXRoLm1pbigzNjAsIGgpLCAwKSB8IDA7XG4gICAgICAgIHRoaXMucyA9IHJvdW5kRmxvYXQoTWF0aC5tYXgoTWF0aC5taW4oMSwgcyksIDApLCAzKTtcbiAgICAgICAgdGhpcy52ID0gcm91bmRGbG9hdChNYXRoLm1heChNYXRoLm1pbigxLCB2KSwgMCksIDMpO1xuICAgICAgICB0aGlzLmEgPSByb3VuZEZsb2F0KE1hdGgubWF4KE1hdGgubWluKDEsIGEpLCAwKSwgMyk7XG4gICAgfVxuICAgIHN0YXRpYyBlcXVhbHMoYSwgYikge1xuICAgICAgICByZXR1cm4gYS5oID09PSBiLmggJiYgYS5zID09PSBiLnMgJiYgYS52ID09PSBiLnYgJiYgYS5hID09PSBiLmE7XG4gICAgfVxuICAgIC8vIGZyb20gaHR0cDovL3d3dy5yYXBpZHRhYmxlcy5jb20vY29udmVydC9jb2xvci9yZ2ItdG8taHN2Lmh0bVxuICAgIHN0YXRpYyBmcm9tUkdCQShyZ2JhKSB7XG4gICAgICAgIGNvbnN0IHIgPSByZ2JhLnIgLyAyNTU7XG4gICAgICAgIGNvbnN0IGcgPSByZ2JhLmcgLyAyNTU7XG4gICAgICAgIGNvbnN0IGIgPSByZ2JhLmIgLyAyNTU7XG4gICAgICAgIGNvbnN0IGNtYXggPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgY29uc3QgY21pbiA9IE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgICBjb25zdCBkZWx0YSA9IGNtYXggLSBjbWluO1xuICAgICAgICBjb25zdCBzID0gY21heCA9PT0gMCA/IDAgOiAoZGVsdGEgLyBjbWF4KTtcbiAgICAgICAgbGV0IG07XG4gICAgICAgIGlmIChkZWx0YSA9PT0gMCkge1xuICAgICAgICAgICAgbSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY21heCA9PT0gcikge1xuICAgICAgICAgICAgbSA9ICgoKChnIC0gYikgLyBkZWx0YSkgJSA2KSArIDYpICUgNjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjbWF4ID09PSBnKSB7XG4gICAgICAgICAgICBtID0gKChiIC0gcikgLyBkZWx0YSkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbSA9ICgociAtIGcpIC8gZGVsdGEpICsgNDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEhTVkEoTWF0aC5yb3VuZChtICogNjApLCBzLCBjbWF4LCByZ2JhLmEpO1xuICAgIH1cbiAgICAvLyBmcm9tIGh0dHA6Ly93d3cucmFwaWR0YWJsZXMuY29tL2NvbnZlcnQvY29sb3IvaHN2LXRvLXJnYi5odG1cbiAgICBzdGF0aWMgdG9SR0JBKGhzdmEpIHtcbiAgICAgICAgY29uc3QgeyBoLCBzLCB2LCBhIH0gPSBoc3ZhO1xuICAgICAgICBjb25zdCBjID0gdiAqIHM7XG4gICAgICAgIGNvbnN0IHggPSBjICogKDEgLSBNYXRoLmFicygoaCAvIDYwKSAlIDIgLSAxKSk7XG4gICAgICAgIGNvbnN0IG0gPSB2IC0gYztcbiAgICAgICAgbGV0IFtyLCBnLCBiXSA9IFswLCAwLCAwXTtcbiAgICAgICAgaWYgKGggPCA2MCkge1xuICAgICAgICAgICAgciA9IGM7XG4gICAgICAgICAgICBnID0geDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoIDwgMTIwKSB7XG4gICAgICAgICAgICByID0geDtcbiAgICAgICAgICAgIGcgPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGggPCAxODApIHtcbiAgICAgICAgICAgIGcgPSBjO1xuICAgICAgICAgICAgYiA9IHg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaCA8IDI0MCkge1xuICAgICAgICAgICAgZyA9IHg7XG4gICAgICAgICAgICBiID0gYztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChoIDwgMzAwKSB7XG4gICAgICAgICAgICByID0geDtcbiAgICAgICAgICAgIGIgPSBjO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGggPD0gMzYwKSB7XG4gICAgICAgICAgICByID0gYztcbiAgICAgICAgICAgIGIgPSB4O1xuICAgICAgICB9XG4gICAgICAgIHIgPSBNYXRoLnJvdW5kKChyICsgbSkgKiAyNTUpO1xuICAgICAgICBnID0gTWF0aC5yb3VuZCgoZyArIG0pICogMjU1KTtcbiAgICAgICAgYiA9IE1hdGgucm91bmQoKGIgKyBtKSAqIDI1NSk7XG4gICAgICAgIHJldHVybiBuZXcgUkdCQShyLCBnLCBiLCBhKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ29sb3Ige1xuICAgIHN0YXRpYyBmcm9tSGV4KGhleCkge1xuICAgICAgICByZXR1cm4gQ29sb3IuRm9ybWF0LkNTUy5wYXJzZUhleChoZXgpIHx8IENvbG9yLnJlZDtcbiAgICB9XG4gICAgc3RhdGljIGVxdWFscyhhLCBiKSB7XG4gICAgICAgIGlmICghYSAmJiAhYikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhIHx8ICFiKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGEuZXF1YWxzKGIpO1xuICAgIH1cbiAgICBnZXQgaHNsYSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hzbGEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oc2xhO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIEhTTEEuZnJvbVJHQkEodGhpcy5yZ2JhKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgaHN2YSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2hzdmEpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9oc3ZhO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBIU1ZBLmZyb21SR0JBKHRoaXMucmdiYSk7XG4gICAgfVxuICAgIGNvbnN0cnVjdG9yKGFyZykge1xuICAgICAgICBpZiAoIWFyZykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2xvciBuZWVkcyBhIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2YgUkdCQSkge1xuICAgICAgICAgICAgdGhpcy5yZ2JhID0gYXJnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEhTTEEpIHtcbiAgICAgICAgICAgIHRoaXMuX2hzbGEgPSBhcmc7XG4gICAgICAgICAgICB0aGlzLnJnYmEgPSBIU0xBLnRvUkdCQShhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEhTVkEpIHtcbiAgICAgICAgICAgIHRoaXMuX2hzdmEgPSBhcmc7XG4gICAgICAgICAgICB0aGlzLnJnYmEgPSBIU1ZBLnRvUkdCQShhcmcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbG9yIGN0b3IgYXJndW1lbnQnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlcXVhbHMob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuICEhb3RoZXIgJiYgUkdCQS5lcXVhbHModGhpcy5yZ2JhLCBvdGhlci5yZ2JhKSAmJiBIU0xBLmVxdWFscyh0aGlzLmhzbGEsIG90aGVyLmhzbGEpICYmIEhTVkEuZXF1YWxzKHRoaXMuaHN2YSwgb3RoZXIuaHN2YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIGh0dHA6Ly93d3cudzMub3JnL1RSL1dDQUcyMC8jcmVsYXRpdmVsdW1pbmFuY2VkZWZcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgaW4gdGhlIHNldCBbMCwgMV0uIE8gPT4gRGFya2VzdCBCbGFjay4gMSA9PiBMaWdodGVzdCB3aGl0ZS5cbiAgICAgKi9cbiAgICBnZXRSZWxhdGl2ZUx1bWluYW5jZSgpIHtcbiAgICAgICAgY29uc3QgUiA9IENvbG9yLl9yZWxhdGl2ZUx1bWluYW5jZUZvckNvbXBvbmVudCh0aGlzLnJnYmEucik7XG4gICAgICAgIGNvbnN0IEcgPSBDb2xvci5fcmVsYXRpdmVMdW1pbmFuY2VGb3JDb21wb25lbnQodGhpcy5yZ2JhLmcpO1xuICAgICAgICBjb25zdCBCID0gQ29sb3IuX3JlbGF0aXZlTHVtaW5hbmNlRm9yQ29tcG9uZW50KHRoaXMucmdiYS5iKTtcbiAgICAgICAgY29uc3QgbHVtaW5hbmNlID0gMC4yMTI2ICogUiArIDAuNzE1MiAqIEcgKyAwLjA3MjIgKiBCO1xuICAgICAgICByZXR1cm4gcm91bmRGbG9hdChsdW1pbmFuY2UsIDQpO1xuICAgIH1cbiAgICBzdGF0aWMgX3JlbGF0aXZlTHVtaW5hbmNlRm9yQ29tcG9uZW50KGNvbG9yKSB7XG4gICAgICAgIGNvbnN0IGMgPSBjb2xvciAvIDI1NTtcbiAgICAgICAgcmV0dXJuIChjIDw9IDAuMDM5MjgpID8gYyAvIDEyLjkyIDogTWF0aC5wb3coKChjICsgMC4wNTUpIC8gMS4wNTUpLCAyLjQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKlx0aHR0cDovLzI0d2F5cy5vcmcvMjAxMC9jYWxjdWxhdGluZy1jb2xvci1jb250cmFzdFxuICAgICAqICBSZXR1cm4gJ3RydWUnIGlmIGxpZ2h0ZXIgY29sb3Igb3RoZXJ3aXNlICdmYWxzZSdcbiAgICAgKi9cbiAgICBpc0xpZ2h0ZXIoKSB7XG4gICAgICAgIGNvbnN0IHlpcSA9ICh0aGlzLnJnYmEuciAqIDI5OSArIHRoaXMucmdiYS5nICogNTg3ICsgdGhpcy5yZ2JhLmIgKiAxMTQpIC8gMTAwMDtcbiAgICAgICAgcmV0dXJuIHlpcSA+PSAxMjg7XG4gICAgfVxuICAgIGlzTGlnaHRlclRoYW4oYW5vdGhlcikge1xuICAgICAgICBjb25zdCBsdW0xID0gdGhpcy5nZXRSZWxhdGl2ZUx1bWluYW5jZSgpO1xuICAgICAgICBjb25zdCBsdW0yID0gYW5vdGhlci5nZXRSZWxhdGl2ZUx1bWluYW5jZSgpO1xuICAgICAgICByZXR1cm4gbHVtMSA+IGx1bTI7XG4gICAgfVxuICAgIGlzRGFya2VyVGhhbihhbm90aGVyKSB7XG4gICAgICAgIGNvbnN0IGx1bTEgPSB0aGlzLmdldFJlbGF0aXZlTHVtaW5hbmNlKCk7XG4gICAgICAgIGNvbnN0IGx1bTIgPSBhbm90aGVyLmdldFJlbGF0aXZlTHVtaW5hbmNlKCk7XG4gICAgICAgIHJldHVybiBsdW0xIDwgbHVtMjtcbiAgICB9XG4gICAgbGlnaHRlbihmYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihuZXcgSFNMQSh0aGlzLmhzbGEuaCwgdGhpcy5oc2xhLnMsIHRoaXMuaHNsYS5sICsgdGhpcy5oc2xhLmwgKiBmYWN0b3IsIHRoaXMuaHNsYS5hKSk7XG4gICAgfVxuICAgIGRhcmtlbihmYWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihuZXcgSFNMQSh0aGlzLmhzbGEuaCwgdGhpcy5oc2xhLnMsIHRoaXMuaHNsYS5sIC0gdGhpcy5oc2xhLmwgKiBmYWN0b3IsIHRoaXMuaHNsYS5hKSk7XG4gICAgfVxuICAgIHRyYW5zcGFyZW50KGZhY3Rvcikge1xuICAgICAgICBjb25zdCB7IHIsIGcsIGIsIGEgfSA9IHRoaXMucmdiYTtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihuZXcgUkdCQShyLCBnLCBiLCBhICogZmFjdG9yKSk7XG4gICAgfVxuICAgIGlzVHJhbnNwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJnYmEuYSA9PT0gMDtcbiAgICB9XG4gICAgaXNPcGFxdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJnYmEuYSA9PT0gMTtcbiAgICB9XG4gICAgb3Bwb3NpdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IobmV3IFJHQkEoMjU1IC0gdGhpcy5yZ2JhLnIsIDI1NSAtIHRoaXMucmdiYS5nLCAyNTUgLSB0aGlzLnJnYmEuYiwgdGhpcy5yZ2JhLmEpKTtcbiAgICB9XG4gICAgbWFrZU9wYXF1ZShvcGFxdWVCYWNrZ3JvdW5kKSB7XG4gICAgICAgIGlmICh0aGlzLmlzT3BhcXVlKCkgfHwgb3BhcXVlQmFja2dyb3VuZC5yZ2JhLmEgIT09IDEpIHtcbiAgICAgICAgICAgIC8vIG9ubHkgYWxsb3cgdG8gYmxlbmQgb250byBhIG5vbi1vcGFxdWUgY29sb3Igb250byBhIG9wYXF1ZSBjb2xvclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyByLCBnLCBiLCBhIH0gPSB0aGlzLnJnYmE7XG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzEyMjI4NTQ4L2ZpbmRpbmctZXF1aXZhbGVudC1jb2xvci13aXRoLW9wYWNpdHlcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihuZXcgUkdCQShvcGFxdWVCYWNrZ3JvdW5kLnJnYmEuciAtIGEgKiAob3BhcXVlQmFja2dyb3VuZC5yZ2JhLnIgLSByKSwgb3BhcXVlQmFja2dyb3VuZC5yZ2JhLmcgLSBhICogKG9wYXF1ZUJhY2tncm91bmQucmdiYS5nIC0gZyksIG9wYXF1ZUJhY2tncm91bmQucmdiYS5iIC0gYSAqIChvcGFxdWVCYWNrZ3JvdW5kLnJnYmEuYiAtIGIpLCAxKSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBpZiAoIXRoaXMuX3RvU3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLl90b1N0cmluZyA9IENvbG9yLkZvcm1hdC5DU1MuZm9ybWF0KHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl90b1N0cmluZztcbiAgICB9XG4gICAgc3RhdGljIGdldExpZ2h0ZXJDb2xvcihvZiwgcmVsYXRpdmUsIGZhY3Rvcikge1xuICAgICAgICBpZiAob2YuaXNMaWdodGVyVGhhbihyZWxhdGl2ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBvZjtcbiAgICAgICAgfVxuICAgICAgICBmYWN0b3IgPSBmYWN0b3IgPyBmYWN0b3IgOiAwLjU7XG4gICAgICAgIGNvbnN0IGx1bTEgPSBvZi5nZXRSZWxhdGl2ZUx1bWluYW5jZSgpO1xuICAgICAgICBjb25zdCBsdW0yID0gcmVsYXRpdmUuZ2V0UmVsYXRpdmVMdW1pbmFuY2UoKTtcbiAgICAgICAgZmFjdG9yID0gZmFjdG9yICogKGx1bTIgLSBsdW0xKSAvIGx1bTI7XG4gICAgICAgIHJldHVybiBvZi5saWdodGVuKGZhY3Rvcik7XG4gICAgfVxuICAgIHN0YXRpYyBnZXREYXJrZXJDb2xvcihvZiwgcmVsYXRpdmUsIGZhY3Rvcikge1xuICAgICAgICBpZiAob2YuaXNEYXJrZXJUaGFuKHJlbGF0aXZlKSkge1xuICAgICAgICAgICAgcmV0dXJuIG9mO1xuICAgICAgICB9XG4gICAgICAgIGZhY3RvciA9IGZhY3RvciA/IGZhY3RvciA6IDAuNTtcbiAgICAgICAgY29uc3QgbHVtMSA9IG9mLmdldFJlbGF0aXZlTHVtaW5hbmNlKCk7XG4gICAgICAgIGNvbnN0IGx1bTIgPSByZWxhdGl2ZS5nZXRSZWxhdGl2ZUx1bWluYW5jZSgpO1xuICAgICAgICBmYWN0b3IgPSBmYWN0b3IgKiAobHVtMSAtIGx1bTIpIC8gbHVtMTtcbiAgICAgICAgcmV0dXJuIG9mLmRhcmtlbihmYWN0b3IpO1xuICAgIH1cbn1cbkNvbG9yLndoaXRlID0gbmV3IENvbG9yKG5ldyBSR0JBKDI1NSwgMjU1LCAyNTUsIDEpKTtcbkNvbG9yLmJsYWNrID0gbmV3IENvbG9yKG5ldyBSR0JBKDAsIDAsIDAsIDEpKTtcbkNvbG9yLnJlZCA9IG5ldyBDb2xvcihuZXcgUkdCQSgyNTUsIDAsIDAsIDEpKTtcbkNvbG9yLmJsdWUgPSBuZXcgQ29sb3IobmV3IFJHQkEoMCwgMCwgMjU1LCAxKSk7XG5Db2xvci5ncmVlbiA9IG5ldyBDb2xvcihuZXcgUkdCQSgwLCAyNTUsIDAsIDEpKTtcbkNvbG9yLmN5YW4gPSBuZXcgQ29sb3IobmV3IFJHQkEoMCwgMjU1LCAyNTUsIDEpKTtcbkNvbG9yLmxpZ2h0Z3JleSA9IG5ldyBDb2xvcihuZXcgUkdCQSgyMTEsIDIxMSwgMjExLCAxKSk7XG5Db2xvci50cmFuc3BhcmVudCA9IG5ldyBDb2xvcihuZXcgUkdCQSgwLCAwLCAwLCAwKSk7XG4oZnVuY3Rpb24gKENvbG9yKSB7XG4gICAgbGV0IEZvcm1hdDtcbiAgICAoZnVuY3Rpb24gKEZvcm1hdCkge1xuICAgICAgICBsZXQgQ1NTO1xuICAgICAgICAoZnVuY3Rpb24gKENTUykge1xuICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0UkdCKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yLnJnYmEuYSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYHJnYigke2NvbG9yLnJnYmEucn0sICR7Y29sb3IucmdiYS5nfSwgJHtjb2xvci5yZ2JhLmJ9KWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBDb2xvci5Gb3JtYXQuQ1NTLmZvcm1hdFJHQkEoY29sb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ1NTLmZvcm1hdFJHQiA9IGZvcm1hdFJHQjtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdFJHQkEoY29sb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYHJnYmEoJHtjb2xvci5yZ2JhLnJ9LCAke2NvbG9yLnJnYmEuZ30sICR7Y29sb3IucmdiYS5ifSwgJHsrKGNvbG9yLnJnYmEuYSkudG9GaXhlZCgyKX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENTUy5mb3JtYXRSR0JBID0gZm9ybWF0UkdCQTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdEhTTChjb2xvcikge1xuICAgICAgICAgICAgICAgIGlmIChjb2xvci5oc2xhLmEgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGBoc2woJHtjb2xvci5oc2xhLmh9LCAkeyhjb2xvci5oc2xhLnMgKiAxMDApLnRvRml4ZWQoMil9JSwgJHsoY29sb3IuaHNsYS5sICogMTAwKS50b0ZpeGVkKDIpfSUpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIENvbG9yLkZvcm1hdC5DU1MuZm9ybWF0SFNMQShjb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBDU1MuZm9ybWF0SFNMID0gZm9ybWF0SFNMO1xuICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0SFNMQShjb2xvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBgaHNsYSgke2NvbG9yLmhzbGEuaH0sICR7KGNvbG9yLmhzbGEucyAqIDEwMCkudG9GaXhlZCgyKX0lLCAkeyhjb2xvci5oc2xhLmwgKiAxMDApLnRvRml4ZWQoMil9JSwgJHtjb2xvci5oc2xhLmEudG9GaXhlZCgyKX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENTUy5mb3JtYXRIU0xBID0gZm9ybWF0SFNMQTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIF90b1R3b0RpZ2l0SGV4KG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gbi50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHIubGVuZ3RoICE9PSAyID8gJzAnICsgciA6IHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvcm1hdHMgdGhlIGNvbG9yIGFzICNSUkdHQkJcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gZm9ybWF0SGV4KGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGAjJHtfdG9Ud29EaWdpdEhleChjb2xvci5yZ2JhLnIpfSR7X3RvVHdvRGlnaXRIZXgoY29sb3IucmdiYS5nKX0ke190b1R3b0RpZ2l0SGV4KGNvbG9yLnJnYmEuYil9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENTUy5mb3JtYXRIZXggPSBmb3JtYXRIZXg7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEZvcm1hdHMgdGhlIGNvbG9yIGFzICNSUkdHQkJBQVxuICAgICAgICAgICAgICogSWYgJ2NvbXBhY3QnIGlzIHNldCwgY29sb3JzIHdpdGhvdXQgdHJhbnNwYXJhbmN5IHdpbGwgYmUgcHJpbnRlZCBhcyAjUlJHR0JCXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdEhleEEoY29sb3IsIGNvbXBhY3QgPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjb21wYWN0ICYmIGNvbG9yLnJnYmEuYSA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuRm9ybWF0LkNTUy5mb3JtYXRIZXgoY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYCMke190b1R3b0RpZ2l0SGV4KGNvbG9yLnJnYmEucil9JHtfdG9Ud29EaWdpdEhleChjb2xvci5yZ2JhLmcpfSR7X3RvVHdvRGlnaXRIZXgoY29sb3IucmdiYS5iKX0ke190b1R3b0RpZ2l0SGV4KE1hdGgucm91bmQoY29sb3IucmdiYS5hICogMjU1KSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENTUy5mb3JtYXRIZXhBID0gZm9ybWF0SGV4QTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVGhlIGRlZmF1bHQgZm9ybWF0IHdpbGwgdXNlIEhFWCBpZiBvcGFxdWUgYW5kIFJHQkEgb3RoZXJ3aXNlLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBmb3JtYXQoY29sb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sb3IuaXNPcGFxdWUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuRm9ybWF0LkNTUy5mb3JtYXRIZXgoY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gQ29sb3IuRm9ybWF0LkNTUy5mb3JtYXRSR0JBKGNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIENTUy5mb3JtYXQgPSBmb3JtYXQ7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENvbnZlcnRzIGFuIEhleCBjb2xvciB2YWx1ZSB0byBhIENvbG9yLlxuICAgICAgICAgICAgICogcmV0dXJucyByLCBnLCBhbmQgYiBhcmUgY29udGFpbmVkIGluIHRoZSBzZXQgWzAsIDI1NV1cbiAgICAgICAgICAgICAqIEBwYXJhbSBoZXggc3RyaW5nICgjUkdCLCAjUkdCQSwgI1JSR0dCQiBvciAjUlJHR0JCQUEpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBmdW5jdGlvbiBwYXJzZUhleChoZXgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsZW5ndGggPSBoZXgubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmIChsZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSW52YWxpZCBjb2xvclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhleC5jaGFyQ29kZUF0KDApICE9PSAzNSAvKiBDaGFyQ29kZS5IYXNoICovKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvZXMgbm90IGJlZ2luIHdpdGggYSAjXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSA3KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICNSUkdHQkIgZm9ybWF0XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAxNiAqIF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDEpKSArIF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZyA9IDE2ICogX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMykpICsgX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoNCkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gMTYgKiBfcGFyc2VIZXhEaWdpdChoZXguY2hhckNvZGVBdCg1KSkgKyBfcGFyc2VIZXhEaWdpdChoZXguY2hhckNvZGVBdCg2KSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29sb3IobmV3IFJHQkEociwgZywgYiwgMSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobGVuZ3RoID09PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICNSUkdHQkJBQSBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IDE2ICogX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMSkpICsgX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnID0gMTYgKiBfcGFyc2VIZXhEaWdpdChoZXguY2hhckNvZGVBdCgzKSkgKyBfcGFyc2VIZXhEaWdpdChoZXguY2hhckNvZGVBdCg0KSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGIgPSAxNiAqIF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDUpKSArIF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDYpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IDE2ICogX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoNykpICsgX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoOCkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yKG5ldyBSR0JBKHIsIGcsIGIsIGEgLyAyNTUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAjUkdCIGZvcm1hdFxuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBnID0gX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMikpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBiID0gX3BhcnNlSGV4RGlnaXQoaGV4LmNoYXJDb2RlQXQoMykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENvbG9yKG5ldyBSR0JBKDE2ICogciArIHIsIDE2ICogZyArIGcsIDE2ICogYiArIGIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGxlbmd0aCA9PT0gNSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAjUkdCQSBmb3JtYXRcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDEpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZyA9IF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDIpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYiA9IF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDMpKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYSA9IF9wYXJzZUhleERpZ2l0KGhleC5jaGFyQ29kZUF0KDQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb2xvcihuZXcgUkdCQSgxNiAqIHIgKyByLCAxNiAqIGcgKyBnLCAxNiAqIGIgKyBiLCAoMTYgKiBhICsgYSkgLyAyNTUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSW52YWxpZCBjb2xvclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQ1NTLnBhcnNlSGV4ID0gcGFyc2VIZXg7XG4gICAgICAgICAgICBmdW5jdGlvbiBfcGFyc2VIZXhEaWdpdChjaGFyQ29kZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hhckNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OCAvKiBDaGFyQ29kZS5EaWdpdDAgKi86IHJldHVybiAwO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ5IC8qIENoYXJDb2RlLkRpZ2l0MSAqLzogcmV0dXJuIDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTAgLyogQ2hhckNvZGUuRGlnaXQyICovOiByZXR1cm4gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1MSAvKiBDaGFyQ29kZS5EaWdpdDMgKi86IHJldHVybiAzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDUyIC8qIENoYXJDb2RlLkRpZ2l0NCAqLzogcmV0dXJuIDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTMgLyogQ2hhckNvZGUuRGlnaXQ1ICovOiByZXR1cm4gNTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1NCAvKiBDaGFyQ29kZS5EaWdpdDYgKi86IHJldHVybiA2O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU1IC8qIENoYXJDb2RlLkRpZ2l0NyAqLzogcmV0dXJuIDc7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTYgLyogQ2hhckNvZGUuRGlnaXQ4ICovOiByZXR1cm4gODtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1NyAvKiBDaGFyQ29kZS5EaWdpdDkgKi86IHJldHVybiA5O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDk3IC8qIENoYXJDb2RlLmEgKi86IHJldHVybiAxMDtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2NSAvKiBDaGFyQ29kZS5BICovOiByZXR1cm4gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTggLyogQ2hhckNvZGUuYiAqLzogcmV0dXJuIDExO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDY2IC8qIENoYXJDb2RlLkIgKi86IHJldHVybiAxMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OSAvKiBDaGFyQ29kZS5jICovOiByZXR1cm4gMTI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjcgLyogQ2hhckNvZGUuQyAqLzogcmV0dXJuIDEyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMCAvKiBDaGFyQ29kZS5kICovOiByZXR1cm4gMTM7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjggLyogQ2hhckNvZGUuRCAqLzogcmV0dXJuIDEzO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMSAvKiBDaGFyQ29kZS5lICovOiByZXR1cm4gMTQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjkgLyogQ2hhckNvZGUuRSAqLzogcmV0dXJuIDE0O1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEwMiAvKiBDaGFyQ29kZS5mICovOiByZXR1cm4gMTU7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzAgLyogQ2hhckNvZGUuRiAqLzogcmV0dXJuIDE1O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoQ1NTID0gRm9ybWF0LkNTUyB8fCAoRm9ybWF0LkNTUyA9IHt9KSk7XG4gICAgfSkoRm9ybWF0ID0gQ29sb3IuRm9ybWF0IHx8IChDb2xvci5Gb3JtYXQgPSB7fSkpO1xufSkoQ29sb3IgfHwgKENvbG9yID0ge30pKTtcbiIsIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi5cbiAqLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuaW1wb3J0IHsgQ29sb3IsIEhTTEEgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9jb2xvci5qcyc7XG5mdW5jdGlvbiBfcGFyc2VDYXB0dXJlR3JvdXBzKGNhcHR1cmVHcm91cHMpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGNhcHR1cmVHcm91cCBvZiBjYXB0dXJlR3JvdXBzKSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZE51bWJlciA9IE51bWJlcihjYXB0dXJlR3JvdXApO1xuICAgICAgICBpZiAocGFyc2VkTnVtYmVyIHx8IHBhcnNlZE51bWJlciA9PT0gMCAmJiBjYXB0dXJlR3JvdXAucmVwbGFjZSgvXFxzL2csICcnKSAhPT0gJycpIHtcbiAgICAgICAgICAgIHZhbHVlcy5wdXNoKHBhcnNlZE51bWJlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIF90b0lDb2xvcihyLCBnLCBiLCBhKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVkOiByIC8gMjU1LFxuICAgICAgICBibHVlOiBiIC8gMjU1LFxuICAgICAgICBncmVlbjogZyAvIDI1NSxcbiAgICAgICAgYWxwaGE6IGFcbiAgICB9O1xufVxuZnVuY3Rpb24gX2ZpbmRSYW5nZShtb2RlbCwgbWF0Y2gpIHtcbiAgICBjb25zdCBpbmRleCA9IG1hdGNoLmluZGV4O1xuICAgIGNvbnN0IGxlbmd0aCA9IG1hdGNoWzBdLmxlbmd0aDtcbiAgICBpZiAoIWluZGV4KSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRQb3NpdGlvbiA9IG1vZGVsLnBvc2l0aW9uQXQoaW5kZXgpO1xuICAgIGNvbnN0IHJhbmdlID0ge1xuICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0UG9zaXRpb24ubGluZU51bWJlcixcbiAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0UG9zaXRpb24uY29sdW1uLFxuICAgICAgICBlbmRMaW5lTnVtYmVyOiBzdGFydFBvc2l0aW9uLmxpbmVOdW1iZXIsXG4gICAgICAgIGVuZENvbHVtbjogc3RhcnRQb3NpdGlvbi5jb2x1bW4gKyBsZW5ndGhcbiAgICB9O1xuICAgIHJldHVybiByYW5nZTtcbn1cbmZ1bmN0aW9uIF9maW5kSGV4Q29sb3JJbmZvcm1hdGlvbihyYW5nZSwgaGV4VmFsdWUpIHtcbiAgICBpZiAoIXJhbmdlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcGFyc2VkSGV4Q29sb3IgPSBDb2xvci5Gb3JtYXQuQ1NTLnBhcnNlSGV4KGhleFZhbHVlKTtcbiAgICBpZiAoIXBhcnNlZEhleENvbG9yKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICBjb2xvcjogX3RvSUNvbG9yKHBhcnNlZEhleENvbG9yLnJnYmEuciwgcGFyc2VkSGV4Q29sb3IucmdiYS5nLCBwYXJzZWRIZXhDb2xvci5yZ2JhLmIsIHBhcnNlZEhleENvbG9yLnJnYmEuYSlcbiAgICB9O1xufVxuZnVuY3Rpb24gX2ZpbmRSR0JDb2xvckluZm9ybWF0aW9uKHJhbmdlLCBtYXRjaGVzLCBpc0FscGhhKSB7XG4gICAgaWYgKCFyYW5nZSB8fCBtYXRjaGVzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hlc1swXTtcbiAgICBjb25zdCBjYXB0dXJlR3JvdXBzID0gbWF0Y2gudmFsdWVzKCk7XG4gICAgY29uc3QgcGFyc2VkUmVnZXggPSBfcGFyc2VDYXB0dXJlR3JvdXBzKGNhcHR1cmVHcm91cHMpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJhbmdlOiByYW5nZSxcbiAgICAgICAgY29sb3I6IF90b0lDb2xvcihwYXJzZWRSZWdleFswXSwgcGFyc2VkUmVnZXhbMV0sIHBhcnNlZFJlZ2V4WzJdLCBpc0FscGhhID8gcGFyc2VkUmVnZXhbM10gOiAxKVxuICAgIH07XG59XG5mdW5jdGlvbiBfZmluZEhTTENvbG9ySW5mb3JtYXRpb24ocmFuZ2UsIG1hdGNoZXMsIGlzQWxwaGEpIHtcbiAgICBpZiAoIXJhbmdlIHx8IG1hdGNoZXMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzWzBdO1xuICAgIGNvbnN0IGNhcHR1cmVHcm91cHMgPSBtYXRjaC52YWx1ZXMoKTtcbiAgICBjb25zdCBwYXJzZWRSZWdleCA9IF9wYXJzZUNhcHR1cmVHcm91cHMoY2FwdHVyZUdyb3Vwcyk7XG4gICAgY29uc3QgY29sb3JFcXVpdmFsZW50ID0gbmV3IENvbG9yKG5ldyBIU0xBKHBhcnNlZFJlZ2V4WzBdLCBwYXJzZWRSZWdleFsxXSAvIDEwMCwgcGFyc2VkUmVnZXhbMl0gLyAxMDAsIGlzQWxwaGEgPyBwYXJzZWRSZWdleFszXSA6IDEpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICByYW5nZTogcmFuZ2UsXG4gICAgICAgIGNvbG9yOiBfdG9JQ29sb3IoY29sb3JFcXVpdmFsZW50LnJnYmEuciwgY29sb3JFcXVpdmFsZW50LnJnYmEuZywgY29sb3JFcXVpdmFsZW50LnJnYmEuYiwgY29sb3JFcXVpdmFsZW50LnJnYmEuYSlcbiAgICB9O1xufVxuZnVuY3Rpb24gX2ZpbmRNYXRjaGVzKG1vZGVsLCByZWdleCkge1xuICAgIGlmICh0eXBlb2YgbW9kZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBbLi4ubW9kZWwubWF0Y2hBbGwocmVnZXgpXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBtb2RlbC5maW5kTWF0Y2hlcyhyZWdleCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY29tcHV0ZUNvbG9ycyhtb2RlbCkge1xuICAgIGNvbnN0IHJlc3VsdCA9IFtdO1xuICAgIC8vIEVhcmx5IHZhbGlkYXRpb24gZm9yIFJHQiBhbmQgSFNMXG4gICAgY29uc3QgaW5pdGlhbFZhbGlkYXRpb25SZWdleCA9IC9cXGIocmdifHJnYmF8aHNsfGhzbGEpKFxcKFswLTlcXHMsLlxcJV0qXFwpKXwoIykoW0EtRmEtZjAtOV17M30pXFxifCgjKShbQS1GYS1mMC05XXs0fSlcXGJ8KCMpKFtBLUZhLWYwLTldezZ9KVxcYnwoIykoW0EtRmEtZjAtOV17OH0pXFxiL2dtO1xuICAgIGNvbnN0IGluaXRpYWxWYWxpZGF0aW9uTWF0Y2hlcyA9IF9maW5kTWF0Y2hlcyhtb2RlbCwgaW5pdGlhbFZhbGlkYXRpb25SZWdleCk7XG4gICAgLy8gUG90ZW50aWFsIGNvbG9ycyBoYXZlIGJlZW4gZm91bmQsIHZhbGlkYXRlIHRoZSBwYXJhbWV0ZXJzXG4gICAgaWYgKGluaXRpYWxWYWxpZGF0aW9uTWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGZvciAoY29uc3QgaW5pdGlhbE1hdGNoIG9mIGluaXRpYWxWYWxpZGF0aW9uTWF0Y2hlcykge1xuICAgICAgICAgICAgY29uc3QgaW5pdGlhbENhcHR1cmVHcm91cHMgPSBpbml0aWFsTWF0Y2guZmlsdGVyKGNhcHR1cmVHcm91cCA9PiBjYXB0dXJlR3JvdXAgIT09IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBjb25zdCBjb2xvclNjaGVtZSA9IGluaXRpYWxDYXB0dXJlR3JvdXBzWzFdO1xuICAgICAgICAgICAgY29uc3QgY29sb3JQYXJhbWV0ZXJzID0gaW5pdGlhbENhcHR1cmVHcm91cHNbMl07XG4gICAgICAgICAgICBpZiAoIWNvbG9yUGFyYW1ldGVycykge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNvbG9ySW5mb3JtYXRpb247XG4gICAgICAgICAgICBpZiAoY29sb3JTY2hlbWUgPT09ICdyZ2InKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhQYXJhbWV0ZXJzID0gL15cXChcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKixcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKixcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKlxcKSQvZ207XG4gICAgICAgICAgICAgICAgY29sb3JJbmZvcm1hdGlvbiA9IF9maW5kUkdCQ29sb3JJbmZvcm1hdGlvbihfZmluZFJhbmdlKG1vZGVsLCBpbml0aWFsTWF0Y2gpLCBfZmluZE1hdGNoZXMoY29sb3JQYXJhbWV0ZXJzLCByZWdleFBhcmFtZXRlcnMpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2xvclNjaGVtZSA9PT0gJ3JnYmEnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhQYXJhbWV0ZXJzID0gL15cXChcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKixcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKixcXHMqKDI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFxzKixcXHMqKDBbLl1bMC05XSt8Wy5dWzAtOV0rfFswMV1bLl18WzAxXSlcXHMqXFwpJC9nbTtcbiAgICAgICAgICAgICAgICBjb2xvckluZm9ybWF0aW9uID0gX2ZpbmRSR0JDb2xvckluZm9ybWF0aW9uKF9maW5kUmFuZ2UobW9kZWwsIGluaXRpYWxNYXRjaCksIF9maW5kTWF0Y2hlcyhjb2xvclBhcmFtZXRlcnMsIHJlZ2V4UGFyYW1ldGVycyksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JTY2hlbWUgPT09ICdoc2wnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhQYXJhbWV0ZXJzID0gL15cXChcXHMqKDM2WzBdfDNbMC01XVswLTldfFsxMl1bMC05XVswLTldfFsxLTldP1swLTldKVxccyosXFxzKigxMDB8XFxkezEsMn1bLl1cXGQqfFxcZHsxLDJ9KSVcXHMqLFxccyooMTAwfFxcZHsxLDJ9Wy5dXFxkKnxcXGR7MSwyfSklXFxzKlxcKSQvZ207XG4gICAgICAgICAgICAgICAgY29sb3JJbmZvcm1hdGlvbiA9IF9maW5kSFNMQ29sb3JJbmZvcm1hdGlvbihfZmluZFJhbmdlKG1vZGVsLCBpbml0aWFsTWF0Y2gpLCBfZmluZE1hdGNoZXMoY29sb3JQYXJhbWV0ZXJzLCByZWdleFBhcmFtZXRlcnMpLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2xvclNjaGVtZSA9PT0gJ2hzbGEnKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhQYXJhbWV0ZXJzID0gL15cXChcXHMqKDM2WzBdfDNbMC01XVswLTldfFsxMl1bMC05XVswLTldfFsxLTldP1swLTldKVxccyosXFxzKigxMDB8XFxkezEsMn1bLl1cXGQqfFxcZHsxLDJ9KSVcXHMqLFxccyooMTAwfFxcZHsxLDJ9Wy5dXFxkKnxcXGR7MSwyfSklXFxzKixcXHMqKDBbLl1bMC05XSt8Wy5dWzAtOV0rfFswMV1bLl18WzAxXSlcXHMqXFwpJC9nbTtcbiAgICAgICAgICAgICAgICBjb2xvckluZm9ybWF0aW9uID0gX2ZpbmRIU0xDb2xvckluZm9ybWF0aW9uKF9maW5kUmFuZ2UobW9kZWwsIGluaXRpYWxNYXRjaCksIF9maW5kTWF0Y2hlcyhjb2xvclBhcmFtZXRlcnMsIHJlZ2V4UGFyYW1ldGVycyksIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY29sb3JTY2hlbWUgPT09ICcjJykge1xuICAgICAgICAgICAgICAgIGNvbG9ySW5mb3JtYXRpb24gPSBfZmluZEhleENvbG9ySW5mb3JtYXRpb24oX2ZpbmRSYW5nZShtb2RlbCwgaW5pdGlhbE1hdGNoKSwgY29sb3JTY2hlbWUgKyBjb2xvclBhcmFtZXRlcnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbG9ySW5mb3JtYXRpb24pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChjb2xvckluZm9ybWF0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqXG4gKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBkZWZhdWx0IGRvY3VtZW50IGNvbG9ycyBpbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGVEZWZhdWx0RG9jdW1lbnRDb2xvcnMobW9kZWwpIHtcbiAgICBpZiAoIW1vZGVsIHx8IHR5cGVvZiBtb2RlbC5nZXRWYWx1ZSAhPT0gJ2Z1bmN0aW9uJyB8fCB0eXBlb2YgbW9kZWwucG9zaXRpb25BdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBVbmtub3duIGNhbGxlciFcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICByZXR1cm4gY29tcHV0ZUNvbG9ycyhtb2RlbCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IHN0cmluZ0RpZmYgfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9kaWZmL2RpZmYuanMnO1xuaW1wb3J0IHsgVVJJIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vdXJpLmpzJztcbmltcG9ydCB7IFBvc2l0aW9uIH0gZnJvbSAnLi4vY29yZS9wb3NpdGlvbi5qcyc7XG5pbXBvcnQgeyBSYW5nZSB9IGZyb20gJy4uL2NvcmUvcmFuZ2UuanMnO1xuaW1wb3J0IHsgTWlycm9yVGV4dE1vZGVsIGFzIEJhc2VNaXJyb3JNb2RlbCB9IGZyb20gJy4uL21vZGVsL21pcnJvclRleHRNb2RlbC5qcyc7XG5pbXBvcnQgeyBlbnN1cmVWYWxpZFdvcmREZWZpbml0aW9uLCBnZXRXb3JkQXRUZXh0IH0gZnJvbSAnLi4vY29yZS93b3JkSGVscGVyLmpzJztcbmltcG9ydCB7IGNvbXB1dGVMaW5rcyB9IGZyb20gJy4uL2xhbmd1YWdlcy9saW5rQ29tcHV0ZXIuanMnO1xuaW1wb3J0IHsgQmFzaWNJbnBsYWNlUmVwbGFjZSB9IGZyb20gJy4uL2xhbmd1YWdlcy9zdXBwb3J0cy9pbnBsYWNlUmVwbGFjZVN1cHBvcnQuanMnO1xuaW1wb3J0IHsgY3JlYXRlTW9uYWNvQmFzZUFQSSB9IGZyb20gJy4vZWRpdG9yQmFzZUFwaS5qcyc7XG5pbXBvcnQgeyBTdG9wV2F0Y2ggfSBmcm9tICcuLi8uLi8uLi9iYXNlL2NvbW1vbi9zdG9wd2F0Y2guanMnO1xuaW1wb3J0IHsgVW5pY29kZVRleHRNb2RlbEhpZ2hsaWdodGVyIH0gZnJvbSAnLi91bmljb2RlVGV4dE1vZGVsSGlnaGxpZ2h0ZXIuanMnO1xuaW1wb3J0IHsgbGluZXNEaWZmQ29tcHV0ZXJzIH0gZnJvbSAnLi4vZGlmZi9saW5lc0RpZmZDb21wdXRlcnMuanMnO1xuaW1wb3J0IHsgY3JlYXRlUHJveHlPYmplY3QsIGdldEFsbE1ldGhvZE5hbWVzIH0gZnJvbSAnLi4vLi4vLi4vYmFzZS9jb21tb24vb2JqZWN0cy5qcyc7XG5pbXBvcnQgeyBjb21wdXRlRGVmYXVsdERvY3VtZW50Q29sb3JzIH0gZnJvbSAnLi4vbGFuZ3VhZ2VzL2RlZmF1bHREb2N1bWVudENvbG9yc0NvbXB1dGVyLmpzJztcbi8qKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIE1pcnJvck1vZGVsIGV4dGVuZHMgQmFzZU1pcnJvck1vZGVsIHtcbiAgICBnZXQgdXJpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdXJpO1xuICAgIH1cbiAgICBnZXQgZW9sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW9sO1xuICAgIH1cbiAgICBnZXRWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VGV4dCgpO1xuICAgIH1cbiAgICBmaW5kTWF0Y2hlcyhyZWdleCkge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5fbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLl9saW5lc1tpXTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFRvQWRkID0gdGhpcy5vZmZzZXRBdChuZXcgUG9zaXRpb24oaSArIDEsIDEpKTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZXJhdG9yT3Zlck1hdGNoZXMgPSBsaW5lLm1hdGNoQWxsKHJlZ2V4KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbWF0Y2ggb2YgaXRlcmF0b3JPdmVyTWF0Y2hlcykge1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaC5pbmRleCB8fCBtYXRjaC5pbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaC5pbmRleCA9IG1hdGNoLmluZGV4ICsgb2Zmc2V0VG9BZGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1hdGNoZXMucHVzaChtYXRjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1hdGNoZXM7XG4gICAgfVxuICAgIGdldExpbmVzQ29udGVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzLnNsaWNlKDApO1xuICAgIH1cbiAgICBnZXRMaW5lQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgfVxuICAgIGdldExpbmVDb250ZW50KGxpbmVOdW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xpbmVzW2xpbmVOdW1iZXIgLSAxXTtcbiAgICB9XG4gICAgZ2V0V29yZEF0UG9zaXRpb24ocG9zaXRpb24sIHdvcmREZWZpbml0aW9uKSB7XG4gICAgICAgIGNvbnN0IHdvcmRBdFRleHQgPSBnZXRXb3JkQXRUZXh0KHBvc2l0aW9uLmNvbHVtbiwgZW5zdXJlVmFsaWRXb3JkRGVmaW5pdGlvbih3b3JkRGVmaW5pdGlvbiksIHRoaXMuX2xpbmVzW3Bvc2l0aW9uLmxpbmVOdW1iZXIgLSAxXSwgMCk7XG4gICAgICAgIGlmICh3b3JkQXRUZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuc3RhcnRDb2x1bW4sIHBvc2l0aW9uLmxpbmVOdW1iZXIsIHdvcmRBdFRleHQuZW5kQ29sdW1uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgd29yZHMod29yZERlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3QgbGluZXMgPSB0aGlzLl9saW5lcztcbiAgICAgICAgY29uc3Qgd29yZGVuaXplID0gdGhpcy5fd29yZGVuaXplLmJpbmQodGhpcyk7XG4gICAgICAgIGxldCBsaW5lTnVtYmVyID0gMDtcbiAgICAgICAgbGV0IGxpbmVUZXh0ID0gJyc7XG4gICAgICAgIGxldCB3b3JkUmFuZ2VzSWR4ID0gMDtcbiAgICAgICAgbGV0IHdvcmRSYW5nZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICpbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod29yZFJhbmdlc0lkeCA8IHdvcmRSYW5nZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGxpbmVUZXh0LnN1YnN0cmluZyh3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLnN0YXJ0LCB3b3JkUmFuZ2VzW3dvcmRSYW5nZXNJZHhdLmVuZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JkUmFuZ2VzSWR4ICs9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsaW5lTnVtYmVyIDwgbGluZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZVRleHQgPSBsaW5lc1tsaW5lTnVtYmVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3b3JkUmFuZ2VzID0gd29yZGVuaXplKGxpbmVUZXh0LCB3b3JkRGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29yZFJhbmdlc0lkeCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGluZU51bWJlciArPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldExpbmVXb3JkcyhsaW5lTnVtYmVyLCB3b3JkRGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gdGhpcy5fbGluZXNbbGluZU51bWJlciAtIDFdO1xuICAgICAgICBjb25zdCByYW5nZXMgPSB0aGlzLl93b3JkZW5pemUoY29udGVudCwgd29yZERlZmluaXRpb24pO1xuICAgICAgICBjb25zdCB3b3JkcyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcykge1xuICAgICAgICAgICAgd29yZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgd29yZDogY29udGVudC5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCksXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHJhbmdlLnN0YXJ0ICsgMSxcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IHJhbmdlLmVuZCArIDFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB3b3JkcztcbiAgICB9XG4gICAgX3dvcmRlbml6ZShjb250ZW50LCB3b3JkRGVmaW5pdGlvbikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICB3b3JkRGVmaW5pdGlvbi5sYXN0SW5kZXggPSAwOyAvLyByZXNldCBsYXN0SW5kZXgganVzdCB0byBiZSBzdXJlXG4gICAgICAgIHdoaWxlIChtYXRjaCA9IHdvcmREZWZpbml0aW9uLmV4ZWMoY29udGVudCkpIHtcbiAgICAgICAgICAgIGlmIChtYXRjaFswXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAvLyBpdCBkaWQgbWF0Y2ggdGhlIGVtcHR5IHN0cmluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGVuZDogbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGggfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZ2V0VmFsdWVJblJhbmdlKHJhbmdlKSB7XG4gICAgICAgIHJhbmdlID0gdGhpcy5fdmFsaWRhdGVSYW5nZShyYW5nZSk7XG4gICAgICAgIGlmIChyYW5nZS5zdGFydExpbmVOdW1iZXIgPT09IHJhbmdlLmVuZExpbmVOdW1iZXIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9saW5lc1tyYW5nZS5zdGFydExpbmVOdW1iZXIgLSAxXS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxLCByYW5nZS5lbmRDb2x1bW4gLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsaW5lRW5kaW5nID0gdGhpcy5fZW9sO1xuICAgICAgICBjb25zdCBzdGFydExpbmVJbmRleCA9IHJhbmdlLnN0YXJ0TGluZU51bWJlciAtIDE7XG4gICAgICAgIGNvbnN0IGVuZExpbmVJbmRleCA9IHJhbmdlLmVuZExpbmVOdW1iZXIgLSAxO1xuICAgICAgICBjb25zdCByZXN1bHRMaW5lcyA9IFtdO1xuICAgICAgICByZXN1bHRMaW5lcy5wdXNoKHRoaXMuX2xpbmVzW3N0YXJ0TGluZUluZGV4XS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnRDb2x1bW4gLSAxKSk7XG4gICAgICAgIGZvciAobGV0IGkgPSBzdGFydExpbmVJbmRleCArIDE7IGkgPCBlbmRMaW5lSW5kZXg7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0TGluZXMucHVzaCh0aGlzLl9saW5lc1tlbmRMaW5lSW5kZXhdLnN1YnN0cmluZygwLCByYW5nZS5lbmRDb2x1bW4gLSAxKSk7XG4gICAgICAgIHJldHVybiByZXN1bHRMaW5lcy5qb2luKGxpbmVFbmRpbmcpO1xuICAgIH1cbiAgICBvZmZzZXRBdChwb3NpdGlvbikge1xuICAgICAgICBwb3NpdGlvbiA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24ocG9zaXRpb24pO1xuICAgICAgICB0aGlzLl9lbnN1cmVMaW5lU3RhcnRzKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9saW5lU3RhcnRzLmdldFByZWZpeFN1bShwb3NpdGlvbi5saW5lTnVtYmVyIC0gMikgKyAocG9zaXRpb24uY29sdW1uIC0gMSk7XG4gICAgfVxuICAgIHBvc2l0aW9uQXQob2Zmc2V0KSB7XG4gICAgICAgIG9mZnNldCA9IE1hdGguZmxvb3Iob2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ID0gTWF0aC5tYXgoMCwgb2Zmc2V0KTtcbiAgICAgICAgdGhpcy5fZW5zdXJlTGluZVN0YXJ0cygpO1xuICAgICAgICBjb25zdCBvdXQgPSB0aGlzLl9saW5lU3RhcnRzLmdldEluZGV4T2Yob2Zmc2V0KTtcbiAgICAgICAgY29uc3QgbGluZUxlbmd0aCA9IHRoaXMuX2xpbmVzW291dC5pbmRleF0ubGVuZ3RoO1xuICAgICAgICAvLyBFbnN1cmUgd2UgcmV0dXJuIGEgdmFsaWQgcG9zaXRpb25cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXI6IDEgKyBvdXQuaW5kZXgsXG4gICAgICAgICAgICBjb2x1bW46IDEgKyBNYXRoLm1pbihvdXQucmVtYWluZGVyLCBsaW5lTGVuZ3RoKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBfdmFsaWRhdGVSYW5nZShyYW5nZSkge1xuICAgICAgICBjb25zdCBzdGFydCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4gfSk7XG4gICAgICAgIGNvbnN0IGVuZCA9IHRoaXMuX3ZhbGlkYXRlUG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLCBjb2x1bW46IHJhbmdlLmVuZENvbHVtbiB9KTtcbiAgICAgICAgaWYgKHN0YXJ0LmxpbmVOdW1iZXIgIT09IHJhbmdlLnN0YXJ0TGluZU51bWJlclxuICAgICAgICAgICAgfHwgc3RhcnQuY29sdW1uICE9PSByYW5nZS5zdGFydENvbHVtblxuICAgICAgICAgICAgfHwgZW5kLmxpbmVOdW1iZXIgIT09IHJhbmdlLmVuZExpbmVOdW1iZXJcbiAgICAgICAgICAgIHx8IGVuZC5jb2x1bW4gIT09IHJhbmdlLmVuZENvbHVtbikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzdGFydExpbmVOdW1iZXI6IHN0YXJ0LmxpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbixcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiBlbmQubGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBlbmRDb2x1bW46IGVuZC5jb2x1bW5cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgIH1cbiAgICBfdmFsaWRhdGVQb3NpdGlvbihwb3NpdGlvbikge1xuICAgICAgICBpZiAoIVBvc2l0aW9uLmlzSVBvc2l0aW9uKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdiYWQgcG9zaXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgeyBsaW5lTnVtYmVyLCBjb2x1bW4gfSA9IHBvc2l0aW9uO1xuICAgICAgICBsZXQgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAobGluZU51bWJlciA8IDEpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSAxO1xuICAgICAgICAgICAgY29sdW1uID0gMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxpbmVOdW1iZXIgPiB0aGlzLl9saW5lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxpbmVOdW1iZXIgPSB0aGlzLl9saW5lcy5sZW5ndGg7XG4gICAgICAgICAgICBjb2x1bW4gPSB0aGlzLl9saW5lc1tsaW5lTnVtYmVyIC0gMV0ubGVuZ3RoICsgMTtcbiAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbWF4Q2hhcmFjdGVyID0gdGhpcy5fbGluZXNbbGluZU51bWJlciAtIDFdLmxlbmd0aCArIDE7XG4gICAgICAgICAgICBpZiAoY29sdW1uIDwgMSkge1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IDE7XG4gICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjb2x1bW4gPiBtYXhDaGFyYWN0ZXIpIHtcbiAgICAgICAgICAgICAgICBjb2x1bW4gPSBtYXhDaGFyYWN0ZXI7XG4gICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFoYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyBsaW5lTnVtYmVyLCBjb2x1bW4gfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBFZGl0b3JTaW1wbGVXb3JrZXIge1xuICAgIGNvbnN0cnVjdG9yKGhvc3QsIGZvcmVpZ25Nb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgIHRoaXMuX2hvc3QgPSBob3N0O1xuICAgICAgICB0aGlzLl9tb2RlbHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlRmFjdG9yeSA9IGZvcmVpZ25Nb2R1bGVGYWN0b3J5O1xuICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlID0gbnVsbDtcbiAgICB9XG4gICAgZGlzcG9zZSgpIHtcbiAgICAgICAgdGhpcy5fbW9kZWxzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB9XG4gICAgX2dldE1vZGVsKHVyaSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW9kZWxzW3VyaV07XG4gICAgfVxuICAgIF9nZXRNb2RlbHMoKSB7XG4gICAgICAgIGNvbnN0IGFsbCA9IFtdO1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLl9tb2RlbHMpLmZvckVhY2goKGtleSkgPT4gYWxsLnB1c2godGhpcy5fbW9kZWxzW2tleV0pKTtcbiAgICAgICAgcmV0dXJuIGFsbDtcbiAgICB9XG4gICAgYWNjZXB0TmV3TW9kZWwoZGF0YSkge1xuICAgICAgICB0aGlzLl9tb2RlbHNbZGF0YS51cmxdID0gbmV3IE1pcnJvck1vZGVsKFVSSS5wYXJzZShkYXRhLnVybCksIGRhdGEubGluZXMsIGRhdGEuRU9MLCBkYXRhLnZlcnNpb25JZCk7XG4gICAgfVxuICAgIGFjY2VwdE1vZGVsQ2hhbmdlZChzdHJVUkwsIGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9tb2RlbHNbc3RyVVJMXSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fbW9kZWxzW3N0clVSTF07XG4gICAgICAgIG1vZGVsLm9uRXZlbnRzKGUpO1xuICAgIH1cbiAgICBhY2NlcHRSZW1vdmVkTW9kZWwoc3RyVVJMKSB7XG4gICAgICAgIGlmICghdGhpcy5fbW9kZWxzW3N0clVSTF0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgdGhpcy5fbW9kZWxzW3N0clVSTF07XG4gICAgfVxuICAgIGFzeW5jIGNvbXB1dGVVbmljb2RlSGlnaGxpZ2h0cyh1cmwsIG9wdGlvbnMsIHJhbmdlKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwodXJsKTtcbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcmFuZ2VzOiBbXSwgaGFzTW9yZTogZmFsc2UsIGFtYmlndW91c0NoYXJhY3RlckNvdW50OiAwLCBpbnZpc2libGVDaGFyYWN0ZXJDb3VudDogMCwgbm9uQmFzaWNBc2NpaUNoYXJhY3RlckNvdW50OiAwIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFVuaWNvZGVUZXh0TW9kZWxIaWdobGlnaHRlci5jb21wdXRlVW5pY29kZUhpZ2hsaWdodHMobW9kZWwsIG9wdGlvbnMsIHJhbmdlKTtcbiAgICB9XG4gICAgLy8gLS0tLSBCRUdJTiBkaWZmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgYXN5bmMgY29tcHV0ZURpZmYob3JpZ2luYWxVcmwsIG1vZGlmaWVkVXJsLCBvcHRpb25zLCBhbGdvcml0aG0pIHtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWwgPSB0aGlzLl9nZXRNb2RlbChvcmlnaW5hbFVybCk7XG4gICAgICAgIGNvbnN0IG1vZGlmaWVkID0gdGhpcy5fZ2V0TW9kZWwobW9kaWZpZWRVcmwpO1xuICAgICAgICBpZiAoIW9yaWdpbmFsIHx8ICFtb2RpZmllZCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEVkaXRvclNpbXBsZVdvcmtlci5jb21wdXRlRGlmZihvcmlnaW5hbCwgbW9kaWZpZWQsIG9wdGlvbnMsIGFsZ29yaXRobSk7XG4gICAgfVxuICAgIHN0YXRpYyBjb21wdXRlRGlmZihvcmlnaW5hbFRleHRNb2RlbCwgbW9kaWZpZWRUZXh0TW9kZWwsIG9wdGlvbnMsIGFsZ29yaXRobSkge1xuICAgICAgICBjb25zdCBkaWZmQWxnb3JpdGhtID0gYWxnb3JpdGhtID09PSAnYWR2YW5jZWQnID8gbGluZXNEaWZmQ29tcHV0ZXJzLmdldERlZmF1bHQoKSA6IGxpbmVzRGlmZkNvbXB1dGVycy5nZXRMZWdhY3koKTtcbiAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lcyA9IG9yaWdpbmFsVGV4dE1vZGVsLmdldExpbmVzQ29udGVudCgpO1xuICAgICAgICBjb25zdCBtb2RpZmllZExpbmVzID0gbW9kaWZpZWRUZXh0TW9kZWwuZ2V0TGluZXNDb250ZW50KCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRpZmZBbGdvcml0aG0uY29tcHV0ZURpZmYob3JpZ2luYWxMaW5lcywgbW9kaWZpZWRMaW5lcywgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IGlkZW50aWNhbCA9IChyZXN1bHQuY2hhbmdlcy5sZW5ndGggPiAwID8gZmFsc2UgOiB0aGlzLl9tb2RlbHNBcmVJZGVudGljYWwob3JpZ2luYWxUZXh0TW9kZWwsIG1vZGlmaWVkVGV4dE1vZGVsKSk7XG4gICAgICAgIGZ1bmN0aW9uIGdldExpbmVDaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VzLm1hcChtID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgX2E7XG4gICAgICAgICAgICAgICAgcmV0dXJuIChbbS5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIsIG0ub3JpZ2luYWwuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgbS5tb2RpZmllZC5zdGFydExpbmVOdW1iZXIsIG0ubW9kaWZpZWQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSwgKF9hID0gbS5pbm5lckNoYW5nZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYXAobSA9PiBbXG4gICAgICAgICAgICAgICAgICAgICAgICBtLm9yaWdpbmFsUmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbS5vcmlnaW5hbFJhbmdlLnN0YXJ0Q29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbS5vcmlnaW5hbFJhbmdlLmVuZExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtLm9yaWdpbmFsUmFuZ2UuZW5kQ29sdW1uLFxuICAgICAgICAgICAgICAgICAgICAgICAgbS5tb2RpZmllZFJhbmdlLnN0YXJ0TGluZU51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG0ubW9kaWZpZWRSYW5nZS5zdGFydENvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgICAgIG0ubW9kaWZpZWRSYW5nZS5lbmRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgbS5tb2RpZmllZFJhbmdlLmVuZENvbHVtbixcbiAgICAgICAgICAgICAgICAgICAgXSldKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZGVudGljYWwsXG4gICAgICAgICAgICBxdWl0RWFybHk6IHJlc3VsdC5oaXRUaW1lb3V0LFxuICAgICAgICAgICAgY2hhbmdlczogZ2V0TGluZUNoYW5nZXMocmVzdWx0LmNoYW5nZXMpLFxuICAgICAgICAgICAgbW92ZXM6IHJlc3VsdC5tb3Zlcy5tYXAobSA9PiAoW1xuICAgICAgICAgICAgICAgIG0ubGluZVJhbmdlTWFwcGluZy5vcmlnaW5hbC5zdGFydExpbmVOdW1iZXIsXG4gICAgICAgICAgICAgICAgbS5saW5lUmFuZ2VNYXBwaW5nLm9yaWdpbmFsLmVuZExpbmVOdW1iZXJFeGNsdXNpdmUsXG4gICAgICAgICAgICAgICAgbS5saW5lUmFuZ2VNYXBwaW5nLm1vZGlmaWVkLnN0YXJ0TGluZU51bWJlcixcbiAgICAgICAgICAgICAgICBtLmxpbmVSYW5nZU1hcHBpbmcubW9kaWZpZWQuZW5kTGluZU51bWJlckV4Y2x1c2l2ZSxcbiAgICAgICAgICAgICAgICBnZXRMaW5lQ2hhbmdlcyhtLmNoYW5nZXMpXG4gICAgICAgICAgICBdKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN0YXRpYyBfbW9kZWxzQXJlSWRlbnRpY2FsKG9yaWdpbmFsLCBtb2RpZmllZCkge1xuICAgICAgICBjb25zdCBvcmlnaW5hbExpbmVDb3VudCA9IG9yaWdpbmFsLmdldExpbmVDb3VudCgpO1xuICAgICAgICBjb25zdCBtb2RpZmllZExpbmVDb3VudCA9IG1vZGlmaWVkLmdldExpbmVDb3VudCgpO1xuICAgICAgICBpZiAob3JpZ2luYWxMaW5lQ291bnQgIT09IG1vZGlmaWVkTGluZUNvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgbGluZSA9IDE7IGxpbmUgPD0gb3JpZ2luYWxMaW5lQ291bnQ7IGxpbmUrKykge1xuICAgICAgICAgICAgY29uc3Qgb3JpZ2luYWxMaW5lID0gb3JpZ2luYWwuZ2V0TGluZUNvbnRlbnQobGluZSk7XG4gICAgICAgICAgICBjb25zdCBtb2RpZmllZExpbmUgPSBtb2RpZmllZC5nZXRMaW5lQ29udGVudChsaW5lKTtcbiAgICAgICAgICAgIGlmIChvcmlnaW5hbExpbmUgIT09IG1vZGlmaWVkTGluZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYXN5bmMgY29tcHV0ZU1vcmVNaW5pbWFsRWRpdHMobW9kZWxVcmwsIGVkaXRzLCBwcmV0dHkpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBlZGl0cztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgICAgbGV0IGxhc3RFb2wgPSB1bmRlZmluZWQ7XG4gICAgICAgIGVkaXRzID0gZWRpdHMuc2xpY2UoMCkuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgaWYgKGEucmFuZ2UgJiYgYi5yYW5nZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSYW5nZS5jb21wYXJlUmFuZ2VzVXNpbmdTdGFydHMoYS5yYW5nZSwgYi5yYW5nZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlb2wgb25seSBjaGFuZ2VzIHNob3VsZCBnbyB0byB0aGUgZW5kXG4gICAgICAgICAgICBjb25zdCBhUm5nID0gYS5yYW5nZSA/IDAgOiAxO1xuICAgICAgICAgICAgY29uc3QgYlJuZyA9IGIucmFuZ2UgPyAwIDogMTtcbiAgICAgICAgICAgIHJldHVybiBhUm5nIC0gYlJuZztcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIG1lcmdlIGFkamFjZW50IGVkaXRzXG4gICAgICAgIGxldCB3cml0ZUluZGV4ID0gMDtcbiAgICAgICAgZm9yIChsZXQgcmVhZEluZGV4ID0gMTsgcmVhZEluZGV4IDwgZWRpdHMubGVuZ3RoOyByZWFkSW5kZXgrKykge1xuICAgICAgICAgICAgaWYgKFJhbmdlLmdldEVuZFBvc2l0aW9uKGVkaXRzW3dyaXRlSW5kZXhdLnJhbmdlKS5lcXVhbHMoUmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbihlZGl0c1tyZWFkSW5kZXhdLnJhbmdlKSkpIHtcbiAgICAgICAgICAgICAgICBlZGl0c1t3cml0ZUluZGV4XS5yYW5nZSA9IFJhbmdlLmZyb21Qb3NpdGlvbnMoUmFuZ2UuZ2V0U3RhcnRQb3NpdGlvbihlZGl0c1t3cml0ZUluZGV4XS5yYW5nZSksIFJhbmdlLmdldEVuZFBvc2l0aW9uKGVkaXRzW3JlYWRJbmRleF0ucmFuZ2UpKTtcbiAgICAgICAgICAgICAgICBlZGl0c1t3cml0ZUluZGV4XS50ZXh0ICs9IGVkaXRzW3JlYWRJbmRleF0udGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHdyaXRlSW5kZXgrKztcbiAgICAgICAgICAgICAgICBlZGl0c1t3cml0ZUluZGV4XSA9IGVkaXRzW3JlYWRJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWRpdHMubGVuZ3RoID0gd3JpdGVJbmRleCArIDE7XG4gICAgICAgIGZvciAobGV0IHsgcmFuZ2UsIHRleHQsIGVvbCB9IG9mIGVkaXRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVvbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICBsYXN0RW9sID0gZW9sO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFJhbmdlLmlzRW1wdHkocmFuZ2UpICYmICF0ZXh0KSB7XG4gICAgICAgICAgICAgICAgLy8gZW1wdHkgY2hhbmdlXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbCA9IG1vZGVsLmdldFZhbHVlSW5SYW5nZShyYW5nZSk7XG4gICAgICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXHJcXG58XFxufFxcci9nLCBtb2RlbC5lb2wpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsID09PSB0ZXh0KSB7XG4gICAgICAgICAgICAgICAgLy8gbm9vcFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gbWFrZSBzdXJlIGRpZmYgd29uJ3QgdGFrZSB0b28gbG9uZ1xuICAgICAgICAgICAgaWYgKE1hdGgubWF4KHRleHQubGVuZ3RoLCBvcmlnaW5hbC5sZW5ndGgpID4gRWRpdG9yU2ltcGxlV29ya2VyLl9kaWZmTGltaXQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IHJhbmdlLCB0ZXh0IH0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY29tcHV0ZSBkaWZmIGJldHdlZW4gb3JpZ2luYWwgYW5kIGVkaXQudGV4dFxuICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IHN0cmluZ0RpZmYob3JpZ2luYWwsIHRleHQsIHByZXR0eSk7XG4gICAgICAgICAgICBjb25zdCBlZGl0T2Zmc2V0ID0gbW9kZWwub2Zmc2V0QXQoUmFuZ2UubGlmdChyYW5nZSkuZ2V0U3RhcnRQb3NpdGlvbigpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgY2hhbmdlIG9mIGNoYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydCA9IG1vZGVsLnBvc2l0aW9uQXQoZWRpdE9mZnNldCArIGNoYW5nZS5vcmlnaW5hbFN0YXJ0KTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmQgPSBtb2RlbC5wb3NpdGlvbkF0KGVkaXRPZmZzZXQgKyBjaGFuZ2Uub3JpZ2luYWxTdGFydCArIGNoYW5nZS5vcmlnaW5hbExlbmd0aCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3RWRpdCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dC5zdWJzdHIoY2hhbmdlLm1vZGlmaWVkU3RhcnQsIGNoYW5nZS5tb2RpZmllZExlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIHJhbmdlOiB7IHN0YXJ0TGluZU51bWJlcjogc3RhcnQubGluZU51bWJlciwgc3RhcnRDb2x1bW46IHN0YXJ0LmNvbHVtbiwgZW5kTGluZU51bWJlcjogZW5kLmxpbmVOdW1iZXIsIGVuZENvbHVtbjogZW5kLmNvbHVtbiB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwuZ2V0VmFsdWVJblJhbmdlKG5ld0VkaXQucmFuZ2UpICE9PSBuZXdFZGl0LnRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3RWRpdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbGFzdEVvbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHsgZW9sOiBsYXN0RW9sLCB0ZXh0OiAnJywgcmFuZ2U6IHsgc3RhcnRMaW5lTnVtYmVyOiAwLCBzdGFydENvbHVtbjogMCwgZW5kTGluZU51bWJlcjogMCwgZW5kQ29sdW1uOiAwIH0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gLS0tLSBFTkQgbWluaW1hbCBlZGl0cyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBhc3luYyBjb21wdXRlTGlua3MobW9kZWxVcmwpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb21wdXRlTGlua3MobW9kZWwpO1xuICAgIH1cbiAgICAvLyAtLS0gQkVHSU4gZGVmYXVsdCBkb2N1bWVudCBjb2xvcnMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBhc3luYyBjb21wdXRlRGVmYXVsdERvY3VtZW50Q29sb3JzKG1vZGVsVXJsKSB7XG4gICAgICAgIGNvbnN0IG1vZGVsID0gdGhpcy5fZ2V0TW9kZWwobW9kZWxVcmwpO1xuICAgICAgICBpZiAoIW1vZGVsKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29tcHV0ZURlZmF1bHREb2N1bWVudENvbG9ycyhtb2RlbCk7XG4gICAgfVxuICAgIGFzeW5jIHRleHR1YWxTdWdnZXN0KG1vZGVsVXJscywgbGVhZGluZ1dvcmQsIHdvcmREZWYsIHdvcmREZWZGbGFncykge1xuICAgICAgICBjb25zdCBzdyA9IG5ldyBTdG9wV2F0Y2goKTtcbiAgICAgICAgY29uc3Qgd29yZERlZlJlZ0V4cCA9IG5ldyBSZWdFeHAod29yZERlZiwgd29yZERlZkZsYWdzKTtcbiAgICAgICAgY29uc3Qgc2VlbiA9IG5ldyBTZXQoKTtcbiAgICAgICAgb3V0ZXI6IGZvciAoY29uc3QgdXJsIG9mIG1vZGVsVXJscykge1xuICAgICAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbCh1cmwpO1xuICAgICAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIG1vZGVsLndvcmRzKHdvcmREZWZSZWdFeHApKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdvcmQgPT09IGxlYWRpbmdXb3JkIHx8ICFpc05hTihOdW1iZXIod29yZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWVuLmFkZCh3b3JkKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Vlbi5zaXplID4gRWRpdG9yU2ltcGxlV29ya2VyLl9zdWdnZXN0aW9uc0xpbWl0KSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB3b3JkczogQXJyYXkuZnJvbShzZWVuKSwgZHVyYXRpb246IHN3LmVsYXBzZWQoKSB9O1xuICAgIH1cbiAgICAvLyAtLS0tIEVORCBzdWdnZXN0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgLy8jcmVnaW9uIC0tIHdvcmQgcmFuZ2VzIC0tXG4gICAgYXN5bmMgY29tcHV0ZVdvcmRSYW5nZXMobW9kZWxVcmwsIHJhbmdlLCB3b3JkRGVmLCB3b3JkRGVmRmxhZ3MpIHtcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLl9nZXRNb2RlbChtb2RlbFVybCk7XG4gICAgICAgIGlmICghbW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHdvcmREZWZSZWdFeHAgPSBuZXcgUmVnRXhwKHdvcmREZWYsIHdvcmREZWZGbGFncyk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGZvciAobGV0IGxpbmUgPSByYW5nZS5zdGFydExpbmVOdW1iZXI7IGxpbmUgPCByYW5nZS5lbmRMaW5lTnVtYmVyOyBsaW5lKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHdvcmRzID0gbW9kZWwuZ2V0TGluZVdvcmRzKGxpbmUsIHdvcmREZWZSZWdFeHApO1xuICAgICAgICAgICAgZm9yIChjb25zdCB3b3JkIG9mIHdvcmRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihOdW1iZXIod29yZC53b3JkKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBhcnJheSA9IHJlc3VsdFt3b3JkLndvcmRdO1xuICAgICAgICAgICAgICAgIGlmICghYXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJyYXkgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3dvcmQud29yZF0gPSBhcnJheTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJyYXkucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogbGluZSxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRDb2x1bW46IHdvcmQuc3RhcnRDb2x1bW4sXG4gICAgICAgICAgICAgICAgICAgIGVuZExpbmVOdW1iZXI6IGxpbmUsXG4gICAgICAgICAgICAgICAgICAgIGVuZENvbHVtbjogd29yZC5lbmRDb2x1bW5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyNlbmRyZWdpb25cbiAgICBhc3luYyBuYXZpZ2F0ZVZhbHVlU2V0KG1vZGVsVXJsLCByYW5nZSwgdXAsIHdvcmREZWYsIHdvcmREZWZGbGFncykge1xuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuX2dldE1vZGVsKG1vZGVsVXJsKTtcbiAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgd29yZERlZlJlZ0V4cCA9IG5ldyBSZWdFeHAod29yZERlZiwgd29yZERlZkZsYWdzKTtcbiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0Q29sdW1uID09PSByYW5nZS5lbmRDb2x1bW4pIHtcbiAgICAgICAgICAgIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIHN0YXJ0TGluZU51bWJlcjogcmFuZ2Uuc3RhcnRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIHN0YXJ0Q29sdW1uOiByYW5nZS5zdGFydENvbHVtbixcbiAgICAgICAgICAgICAgICBlbmRMaW5lTnVtYmVyOiByYW5nZS5lbmRMaW5lTnVtYmVyLFxuICAgICAgICAgICAgICAgIGVuZENvbHVtbjogcmFuZ2UuZW5kQ29sdW1uICsgMVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWxlY3Rpb25UZXh0ID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHJhbmdlKTtcbiAgICAgICAgY29uc3Qgd29yZFJhbmdlID0gbW9kZWwuZ2V0V29yZEF0UG9zaXRpb24oeyBsaW5lTnVtYmVyOiByYW5nZS5zdGFydExpbmVOdW1iZXIsIGNvbHVtbjogcmFuZ2Uuc3RhcnRDb2x1bW4gfSwgd29yZERlZlJlZ0V4cCk7XG4gICAgICAgIGlmICghd29yZFJhbmdlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB3b3JkID0gbW9kZWwuZ2V0VmFsdWVJblJhbmdlKHdvcmRSYW5nZSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEJhc2ljSW5wbGFjZVJlcGxhY2UuSU5TVEFOQ0UubmF2aWdhdGVWYWx1ZVNldChyYW5nZSwgc2VsZWN0aW9uVGV4dCwgd29yZFJhbmdlLCB3b3JkLCB1cCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIC0tLS0gQkVHSU4gZm9yZWlnbiBtb2R1bGUgc3VwcG9ydCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgIGxvYWRGb3JlaWduTW9kdWxlKG1vZHVsZUlkLCBjcmVhdGVEYXRhLCBmb3JlaWduSG9zdE1ldGhvZHMpIHtcbiAgICAgICAgY29uc3QgcHJveHlNZXRob2RSZXF1ZXN0ID0gKG1ldGhvZCwgYXJncykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hvc3QuZmhyKG1ldGhvZCwgYXJncyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGZvcmVpZ25Ib3N0ID0gY3JlYXRlUHJveHlPYmplY3QoZm9yZWlnbkhvc3RNZXRob2RzLCBwcm94eU1ldGhvZFJlcXVlc3QpO1xuICAgICAgICBjb25zdCBjdHggPSB7XG4gICAgICAgICAgICBob3N0OiBmb3JlaWduSG9zdCxcbiAgICAgICAgICAgIGdldE1pcnJvck1vZGVsczogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRNb2RlbHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuX2ZvcmVpZ25Nb2R1bGVGYWN0b3J5KSB7XG4gICAgICAgICAgICB0aGlzLl9mb3JlaWduTW9kdWxlID0gdGhpcy5fZm9yZWlnbk1vZHVsZUZhY3RvcnkoY3R4LCBjcmVhdGVEYXRhKTtcbiAgICAgICAgICAgIC8vIHN0YXRpYyBmb3JlaW5nIG1vZHVsZVxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShnZXRBbGxNZXRob2ROYW1lcyh0aGlzLl9mb3JlaWduTW9kdWxlKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRVNNLWNvbW1lbnQtYmVnaW5cbiAgICAgICAgLy8gXHRcdHJldHVybiBuZXcgUHJvbWlzZTxhbnk+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgLy8gXHRcdFx0cmVxdWlyZShbbW9kdWxlSWRdLCAoZm9yZWlnbk1vZHVsZTogeyBjcmVhdGU6IElGb3JlaWduTW9kdWxlRmFjdG9yeSB9KSA9PiB7XG4gICAgICAgIC8vIFx0XHRcdFx0dGhpcy5fZm9yZWlnbk1vZHVsZSA9IGZvcmVpZ25Nb2R1bGUuY3JlYXRlKGN0eCwgY3JlYXRlRGF0YSk7XG4gICAgICAgIC8vIFxuICAgICAgICAvLyBcdFx0XHRcdHJlc29sdmUoZ2V0QWxsTWV0aG9kTmFtZXModGhpcy5fZm9yZWlnbk1vZHVsZSkpO1xuICAgICAgICAvLyBcbiAgICAgICAgLy8gXHRcdFx0fSwgcmVqZWN0KTtcbiAgICAgICAgLy8gXHRcdH0pO1xuICAgICAgICAvLyBFU00tY29tbWVudC1lbmRcbiAgICAgICAgLy8gRVNNLXVuY29tbWVudC1iZWdpblxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKGBVbmV4cGVjdGVkIHVzYWdlYCkpO1xuICAgICAgICAvLyBFU00tdW5jb21tZW50LWVuZFxuICAgIH1cbiAgICAvLyBmb3JlaWduIG1ldGhvZCByZXF1ZXN0XG4gICAgZm1yKG1ldGhvZCwgYXJncykge1xuICAgICAgICBpZiAoIXRoaXMuX2ZvcmVpZ25Nb2R1bGUgfHwgdHlwZW9mIHRoaXMuX2ZvcmVpZ25Nb2R1bGVbbWV0aG9kXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTWlzc2luZyByZXF1ZXN0SGFuZGxlciBvciBtZXRob2Q6ICcgKyBtZXRob2QpKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9mb3JlaWduTW9kdWxlW21ldGhvZF0uYXBwbHkodGhpcy5fZm9yZWlnbk1vZHVsZSwgYXJncykpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyAtLS0tIEVORCBkaWZmIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyAtLS0tIEJFR0lOIG1pbmltYWwgZWRpdHMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5FZGl0b3JTaW1wbGVXb3JrZXIuX2RpZmZMaW1pdCA9IDEwMDAwMDtcbi8vIC0tLS0gQkVHSU4gc3VnZ2VzdCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuRWRpdG9yU2ltcGxlV29ya2VyLl9zdWdnZXN0aW9uc0xpbWl0ID0gMTAwMDA7XG4vKipcbiAqIENhbGxlZCBvbiB0aGUgd29ya2VyIHNpZGVcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlKGhvc3QpIHtcbiAgICByZXR1cm4gbmV3IEVkaXRvclNpbXBsZVdvcmtlcihob3N0LCBudWxsKTtcbn1cbmlmICh0eXBlb2YgaW1wb3J0U2NyaXB0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIFJ1bm5pbmcgaW4gYSB3ZWIgd29ya2VyXG4gICAgZ2xvYmFsVGhpcy5tb25hY28gPSBjcmVhdGVNb25hY29CYXNlQVBJKCk7XG59XG4iLCIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IFNpbXBsZVdvcmtlclNlcnZlciB9IGZyb20gJy4uL2Jhc2UvY29tbW9uL3dvcmtlci9zaW1wbGVXb3JrZXIuanMnO1xuaW1wb3J0IHsgRWRpdG9yU2ltcGxlV29ya2VyIH0gZnJvbSAnLi9jb21tb24vc2VydmljZXMvZWRpdG9yU2ltcGxlV29ya2VyLmpzJztcbmxldCBpbml0aWFsaXplZCA9IGZhbHNlO1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemUoZm9yZWlnbk1vZHVsZSkge1xuICAgIGlmIChpbml0aWFsaXplZCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICBjb25zdCBzaW1wbGVXb3JrZXIgPSBuZXcgU2ltcGxlV29ya2VyU2VydmVyKChtc2cpID0+IHtcbiAgICAgICAgZ2xvYmFsVGhpcy5wb3N0TWVzc2FnZShtc2cpO1xuICAgIH0sIChob3N0KSA9PiBuZXcgRWRpdG9yU2ltcGxlV29ya2VyKGhvc3QsIGZvcmVpZ25Nb2R1bGUpKTtcbiAgICBnbG9iYWxUaGlzLm9ubWVzc2FnZSA9IChlKSA9PiB7XG4gICAgICAgIHNpbXBsZVdvcmtlci5vbm1lc3NhZ2UoZS5kYXRhKTtcbiAgICB9O1xufVxuZ2xvYmFsVGhpcy5vbm1lc3NhZ2UgPSAoZSkgPT4ge1xuICAgIC8vIElnbm9yZSBmaXJzdCBtZXNzYWdlIGluIHRoaXMgY2FzZSBhbmQgaW5pdGlhbGl6ZSBpZiBub3QgeWV0IGluaXRpYWxpemVkXG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xuICAgICAgICBpbml0aWFsaXplKG51bGwpO1xuICAgIH1cbn07XG4iLCIvKiEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBWZXJzaW9uOiAwLjQ1LjAoNWU1YWYwMTNmOGQyOTU1NTVhNzIxMGRmMGQ1ZjJjZWEwYmY1ZGQ1NilcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9tb25hY28tZWRpdG9yL2Jsb2IvbWFpbi9MSUNFTlNFLnR4dFxuICotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbi8vIHNyYy9sYW5ndWFnZS9qc29uL2pzb24ud29ya2VyLnRzXG5pbXBvcnQgKiBhcyB3b3JrZXIgZnJvbSBcIi4uLy4uL2VkaXRvci9lZGl0b3Iud29ya2VyLmpzXCI7XG5cbi8vIG5vZGVfbW9kdWxlcy9qc29uYy1wYXJzZXIvbGliL2VzbS9pbXBsL3NjYW5uZXIuanNcbmZ1bmN0aW9uIGNyZWF0ZVNjYW5uZXIodGV4dCwgaWdub3JlVHJpdmlhKSB7XG4gIGlmIChpZ25vcmVUcml2aWEgPT09IHZvaWQgMCkge1xuICAgIGlnbm9yZVRyaXZpYSA9IGZhbHNlO1xuICB9XG4gIHZhciBsZW4gPSB0ZXh0Lmxlbmd0aDtcbiAgdmFyIHBvcyA9IDAsIHZhbHVlID0gXCJcIiwgdG9rZW5PZmZzZXQgPSAwLCB0b2tlbiA9IDE2LCBsaW5lTnVtYmVyID0gMCwgbGluZVN0YXJ0T2Zmc2V0ID0gMCwgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBwcmV2VG9rZW5MaW5lU3RhcnRPZmZzZXQgPSAwLCBzY2FuRXJyb3IgPSAwO1xuICBmdW5jdGlvbiBzY2FuSGV4RGlnaXRzKGNvdW50LCBleGFjdCkge1xuICAgIHZhciBkaWdpdHMgPSAwO1xuICAgIHZhciB2YWx1ZTIgPSAwO1xuICAgIHdoaWxlIChkaWdpdHMgPCBjb3VudCB8fCAhZXhhY3QpIHtcbiAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgaWYgKGNoID49IDQ4ICYmIGNoIDw9IDU3KSB7XG4gICAgICAgIHZhbHVlMiA9IHZhbHVlMiAqIDE2ICsgY2ggLSA0ODtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPj0gNjUgJiYgY2ggPD0gNzApIHtcbiAgICAgICAgdmFsdWUyID0gdmFsdWUyICogMTYgKyBjaCAtIDY1ICsgMTA7XG4gICAgICB9IGVsc2UgaWYgKGNoID49IDk3ICYmIGNoIDw9IDEwMikge1xuICAgICAgICB2YWx1ZTIgPSB2YWx1ZTIgKiAxNiArIGNoIC0gOTcgKyAxMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcG9zKys7XG4gICAgICBkaWdpdHMrKztcbiAgICB9XG4gICAgaWYgKGRpZ2l0cyA8IGNvdW50KSB7XG4gICAgICB2YWx1ZTIgPSAtMTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlMjtcbiAgfVxuICBmdW5jdGlvbiBzZXRQb3NpdGlvbihuZXdQb3NpdGlvbikge1xuICAgIHBvcyA9IG5ld1Bvc2l0aW9uO1xuICAgIHZhbHVlID0gXCJcIjtcbiAgICB0b2tlbk9mZnNldCA9IDA7XG4gICAgdG9rZW4gPSAxNjtcbiAgICBzY2FuRXJyb3IgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIHNjYW5OdW1iZXIoKSB7XG4gICAgdmFyIHN0YXJ0ID0gcG9zO1xuICAgIGlmICh0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gNDgpIHtcbiAgICAgIHBvcysrO1xuICAgIH0gZWxzZSB7XG4gICAgICBwb3MrKztcbiAgICAgIHdoaWxlIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xuICAgICAgICBwb3MrKztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBvcyA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckNvZGVBdChwb3MpID09PSA0Nikge1xuICAgICAgcG9zKys7XG4gICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHdoaWxlIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xuICAgICAgICAgIHBvcysrO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY2FuRXJyb3IgPSAzO1xuICAgICAgICByZXR1cm4gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBlbmQgPSBwb3M7XG4gICAgaWYgKHBvcyA8IHRleHQubGVuZ3RoICYmICh0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gNjkgfHwgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwMSkpIHtcbiAgICAgIHBvcysrO1xuICAgICAgaWYgKHBvcyA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckNvZGVBdChwb3MpID09PSA0MyB8fCB0ZXh0LmNoYXJDb2RlQXQocG9zKSA9PT0gNDUpIHtcbiAgICAgICAgcG9zKys7XG4gICAgICB9XG4gICAgICBpZiAocG9zIDwgdGV4dC5sZW5ndGggJiYgaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHdoaWxlIChwb3MgPCB0ZXh0Lmxlbmd0aCAmJiBpc0RpZ2l0KHRleHQuY2hhckNvZGVBdChwb3MpKSkge1xuICAgICAgICAgIHBvcysrO1xuICAgICAgICB9XG4gICAgICAgIGVuZCA9IHBvcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNjYW5FcnJvciA9IDM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgfVxuICBmdW5jdGlvbiBzY2FuU3RyaW5nKCkge1xuICAgIHZhciByZXN1bHQgPSBcIlwiLCBzdGFydCA9IHBvcztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKHBvcyA+PSBsZW4pIHtcbiAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICBzY2FuRXJyb3IgPSAyO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBjaCA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgICAgaWYgKGNoID09PSAzNCkge1xuICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgIHBvcysrO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChjaCA9PT0gOTIpIHtcbiAgICAgICAgcmVzdWx0ICs9IHRleHQuc3Vic3RyaW5nKHN0YXJ0LCBwb3MpO1xuICAgICAgICBwb3MrKztcbiAgICAgICAgaWYgKHBvcyA+PSBsZW4pIHtcbiAgICAgICAgICBzY2FuRXJyb3IgPSAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaDIgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKyspO1xuICAgICAgICBzd2l0Y2ggKGNoMikge1xuICAgICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgOTI6XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXFxcXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ3OlxuICAgICAgICAgICAgcmVzdWx0ICs9IFwiL1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA5ODpcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcYlwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMDI6XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXGZcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTEwOlxuICAgICAgICAgICAgcmVzdWx0ICs9IFwiXFxuXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDExNDpcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcclwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMTY6XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcdFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMTc6XG4gICAgICAgICAgICB2YXIgY2gzID0gc2NhbkhleERpZ2l0cyg0LCB0cnVlKTtcbiAgICAgICAgICAgIGlmIChjaDMgPj0gMCkge1xuICAgICAgICAgICAgICByZXN1bHQgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjaDMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc2NhbkVycm9yID0gNDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBzY2FuRXJyb3IgPSA1O1xuICAgICAgICB9XG4gICAgICAgIHN0YXJ0ID0gcG9zO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjaCA+PSAwICYmIGNoIDw9IDMxKSB7XG4gICAgICAgIGlmIChpc0xpbmVCcmVhayhjaCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgc2NhbkVycm9yID0gMjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY2FuRXJyb3IgPSA2O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBwb3MrKztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBzY2FuTmV4dCgpIHtcbiAgICB2YWx1ZSA9IFwiXCI7XG4gICAgc2NhbkVycm9yID0gMDtcbiAgICB0b2tlbk9mZnNldCA9IHBvcztcbiAgICBsaW5lU3RhcnRPZmZzZXQgPSBsaW5lTnVtYmVyO1xuICAgIHByZXZUb2tlbkxpbmVTdGFydE9mZnNldCA9IHRva2VuTGluZVN0YXJ0T2Zmc2V0O1xuICAgIGlmIChwb3MgPj0gbGVuKSB7XG4gICAgICB0b2tlbk9mZnNldCA9IGxlbjtcbiAgICAgIHJldHVybiB0b2tlbiA9IDE3O1xuICAgIH1cbiAgICB2YXIgY29kZSA9IHRleHQuY2hhckNvZGVBdChwb3MpO1xuICAgIGlmIChpc1doaXRlU3BhY2UoY29kZSkpIHtcbiAgICAgIGRvIHtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICAgIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgIH0gd2hpbGUgKGlzV2hpdGVTcGFjZShjb2RlKSk7XG4gICAgICByZXR1cm4gdG9rZW4gPSAxNTtcbiAgICB9XG4gICAgaWYgKGlzTGluZUJyZWFrKGNvZGUpKSB7XG4gICAgICBwb3MrKztcbiAgICAgIHZhbHVlICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSk7XG4gICAgICBpZiAoY29kZSA9PT0gMTMgJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwKSB7XG4gICAgICAgIHBvcysrO1xuICAgICAgICB2YWx1ZSArPSBcIlxcblwiO1xuICAgICAgfVxuICAgICAgbGluZU51bWJlcisrO1xuICAgICAgdG9rZW5MaW5lU3RhcnRPZmZzZXQgPSBwb3M7XG4gICAgICByZXR1cm4gdG9rZW4gPSAxNDtcbiAgICB9XG4gICAgc3dpdGNoIChjb2RlKSB7XG4gICAgICBjYXNlIDEyMzpcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHJldHVybiB0b2tlbiA9IDE7XG4gICAgICBjYXNlIDEyNTpcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHJldHVybiB0b2tlbiA9IDI7XG4gICAgICBjYXNlIDkxOlxuICAgICAgICBwb3MrKztcbiAgICAgICAgcmV0dXJuIHRva2VuID0gMztcbiAgICAgIGNhc2UgOTM6XG4gICAgICAgIHBvcysrO1xuICAgICAgICByZXR1cm4gdG9rZW4gPSA0O1xuICAgICAgY2FzZSA1ODpcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHJldHVybiB0b2tlbiA9IDY7XG4gICAgICBjYXNlIDQ0OlxuICAgICAgICBwb3MrKztcbiAgICAgICAgcmV0dXJuIHRva2VuID0gNTtcbiAgICAgIGNhc2UgMzQ6XG4gICAgICAgIHBvcysrO1xuICAgICAgICB2YWx1ZSA9IHNjYW5TdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIHRva2VuID0gMTA7XG4gICAgICBjYXNlIDQ3OlxuICAgICAgICB2YXIgc3RhcnQgPSBwb3MgLSAxO1xuICAgICAgICBpZiAodGV4dC5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0Nykge1xuICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgIHdoaWxlIChwb3MgPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChpc0xpbmVCcmVhayh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSB0ZXh0LnN1YnN0cmluZyhzdGFydCwgcG9zKTtcbiAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGV4dC5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0Mikge1xuICAgICAgICAgIHBvcyArPSAyO1xuICAgICAgICAgIHZhciBzYWZlTGVuZ3RoID0gbGVuIC0gMTtcbiAgICAgICAgICB2YXIgY29tbWVudENsb3NlZCA9IGZhbHNlO1xuICAgICAgICAgIHdoaWxlIChwb3MgPCBzYWZlTGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgY2ggPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgIGlmIChjaCA9PT0gNDIgJiYgdGV4dC5jaGFyQ29kZUF0KHBvcyArIDEpID09PSA0Nykge1xuICAgICAgICAgICAgICBwb3MgKz0gMjtcbiAgICAgICAgICAgICAgY29tbWVudENsb3NlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICBpZiAoaXNMaW5lQnJlYWsoY2gpKSB7XG4gICAgICAgICAgICAgIGlmIChjaCA9PT0gMTMgJiYgdGV4dC5jaGFyQ29kZUF0KHBvcykgPT09IDEwKSB7XG4gICAgICAgICAgICAgICAgcG9zKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbGluZU51bWJlcisrO1xuICAgICAgICAgICAgICB0b2tlbkxpbmVTdGFydE9mZnNldCA9IHBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFjb21tZW50Q2xvc2VkKSB7XG4gICAgICAgICAgICBwb3MrKztcbiAgICAgICAgICAgIHNjYW5FcnJvciA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbHVlID0gdGV4dC5zdWJzdHJpbmcoc3RhcnQsIHBvcyk7XG4gICAgICAgICAgcmV0dXJuIHRva2VuID0gMTM7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHJldHVybiB0b2tlbiA9IDE2O1xuICAgICAgY2FzZSA0NTpcbiAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIGlmIChwb3MgPT09IGxlbiB8fCAhaXNEaWdpdCh0ZXh0LmNoYXJDb2RlQXQocG9zKSkpIHtcbiAgICAgICAgICByZXR1cm4gdG9rZW4gPSAxNjtcbiAgICAgICAgfVxuICAgICAgY2FzZSA0ODpcbiAgICAgIGNhc2UgNDk6XG4gICAgICBjYXNlIDUwOlxuICAgICAgY2FzZSA1MTpcbiAgICAgIGNhc2UgNTI6XG4gICAgICBjYXNlIDUzOlxuICAgICAgY2FzZSA1NDpcbiAgICAgIGNhc2UgNTU6XG4gICAgICBjYXNlIDU2OlxuICAgICAgY2FzZSA1NzpcbiAgICAgICAgdmFsdWUgKz0gc2Nhbk51bWJlcigpO1xuICAgICAgICByZXR1cm4gdG9rZW4gPSAxMTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHdoaWxlIChwb3MgPCBsZW4gJiYgaXNVbmtub3duQ29udGVudENoYXJhY3Rlcihjb2RlKSkge1xuICAgICAgICAgIHBvcysrO1xuICAgICAgICAgIGNvZGUgPSB0ZXh0LmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW5PZmZzZXQgIT09IHBvcykge1xuICAgICAgICAgIHZhbHVlID0gdGV4dC5zdWJzdHJpbmcodG9rZW5PZmZzZXQsIHBvcyk7XG4gICAgICAgICAgc3dpdGNoICh2YWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcInRydWVcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gODtcbiAgICAgICAgICAgIGNhc2UgXCJmYWxzZVwiOlxuICAgICAgICAgICAgICByZXR1cm4gdG9rZW4gPSA5O1xuICAgICAgICAgICAgY2FzZSBcIm51bGxcIjpcbiAgICAgICAgICAgICAgcmV0dXJuIHRva2VuID0gNztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRva2VuID0gMTY7XG4gICAgICAgIH1cbiAgICAgICAgdmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShjb2RlKTtcbiAgICAgICAgcG9zKys7XG4gICAgICAgIHJldHVybiB0b2tlbiA9IDE2O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc1Vua25vd25Db250ZW50Q2hhcmFjdGVyKGNvZGUpIHtcbiAgICBpZiAoaXNXaGl0ZVNwYWNlKGNvZGUpIHx8IGlzTGluZUJyZWFrKGNvZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgY2FzZSAxMjU6XG4gICAgICBjYXNlIDkzOlxuICAgICAgY2FzZSAxMjM6XG4gICAgICBjYXNlIDkxOlxuICAgICAgY2FzZSAzNDpcbiAgICAgIGNhc2UgNTg6XG4gICAgICBjYXNlIDQ0OlxuICAgICAgY2FzZSA0NzpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBzY2FuTmV4dE5vblRyaXZpYSgpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGRvIHtcbiAgICAgIHJlc3VsdCA9IHNjYW5OZXh0KCk7XG4gICAgfSB3aGlsZSAocmVzdWx0ID49IDEyICYmIHJlc3VsdCA8PSAxNSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICByZXR1cm4ge1xuICAgIHNldFBvc2l0aW9uLFxuICAgIGdldFBvc2l0aW9uOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBwb3M7XG4gICAgfSxcbiAgICBzY2FuOiBpZ25vcmVUcml2aWEgPyBzY2FuTmV4dE5vblRyaXZpYSA6IHNjYW5OZXh0LFxuICAgIGdldFRva2VuOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9LFxuICAgIGdldFRva2VuVmFsdWU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgZ2V0VG9rZW5PZmZzZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRva2VuT2Zmc2V0O1xuICAgIH0sXG4gICAgZ2V0VG9rZW5MZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHBvcyAtIHRva2VuT2Zmc2V0O1xuICAgIH0sXG4gICAgZ2V0VG9rZW5TdGFydExpbmU6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGxpbmVTdGFydE9mZnNldDtcbiAgICB9LFxuICAgIGdldFRva2VuU3RhcnRDaGFyYWN0ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRva2VuT2Zmc2V0IC0gcHJldlRva2VuTGluZVN0YXJ0T2Zmc2V0O1xuICAgIH0sXG4gICAgZ2V0VG9rZW5FcnJvcjogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gc2NhbkVycm9yO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGlzV2hpdGVTcGFjZShjaCkge1xuICByZXR1cm4gY2ggPT09IDMyIHx8IGNoID09PSA5IHx8IGNoID09PSAxMSB8fCBjaCA9PT0gMTIgfHwgY2ggPT09IDE2MCB8fCBjaCA9PT0gNTc2MCB8fCBjaCA+PSA4MTkyICYmIGNoIDw9IDgyMDMgfHwgY2ggPT09IDgyMzkgfHwgY2ggPT09IDgyODcgfHwgY2ggPT09IDEyMjg4IHx8IGNoID09PSA2NTI3OTtcbn1cbmZ1bmN0aW9uIGlzTGluZUJyZWFrKGNoKSB7XG4gIHJldHVybiBjaCA9PT0gMTAgfHwgY2ggPT09IDEzIHx8IGNoID09PSA4MjMyIHx8IGNoID09PSA4MjMzO1xufVxuZnVuY3Rpb24gaXNEaWdpdChjaCkge1xuICByZXR1cm4gY2ggPj0gNDggJiYgY2ggPD0gNTc7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy9qc29uYy1wYXJzZXIvbGliL2VzbS9pbXBsL2Zvcm1hdC5qc1xuZnVuY3Rpb24gZm9ybWF0KGRvY3VtZW50VGV4dCwgcmFuZ2UsIG9wdGlvbnMpIHtcbiAgdmFyIGluaXRpYWxJbmRlbnRMZXZlbDtcbiAgdmFyIGZvcm1hdFRleHQ7XG4gIHZhciBmb3JtYXRUZXh0U3RhcnQ7XG4gIHZhciByYW5nZVN0YXJ0O1xuICB2YXIgcmFuZ2VFbmQ7XG4gIGlmIChyYW5nZSkge1xuICAgIHJhbmdlU3RhcnQgPSByYW5nZS5vZmZzZXQ7XG4gICAgcmFuZ2VFbmQgPSByYW5nZVN0YXJ0ICsgcmFuZ2UubGVuZ3RoO1xuICAgIGZvcm1hdFRleHRTdGFydCA9IHJhbmdlU3RhcnQ7XG4gICAgd2hpbGUgKGZvcm1hdFRleHRTdGFydCA+IDAgJiYgIWlzRU9MKGRvY3VtZW50VGV4dCwgZm9ybWF0VGV4dFN0YXJ0IC0gMSkpIHtcbiAgICAgIGZvcm1hdFRleHRTdGFydC0tO1xuICAgIH1cbiAgICB2YXIgZW5kT2Zmc2V0ID0gcmFuZ2VFbmQ7XG4gICAgd2hpbGUgKGVuZE9mZnNldCA8IGRvY3VtZW50VGV4dC5sZW5ndGggJiYgIWlzRU9MKGRvY3VtZW50VGV4dCwgZW5kT2Zmc2V0KSkge1xuICAgICAgZW5kT2Zmc2V0Kys7XG4gICAgfVxuICAgIGZvcm1hdFRleHQgPSBkb2N1bWVudFRleHQuc3Vic3RyaW5nKGZvcm1hdFRleHRTdGFydCwgZW5kT2Zmc2V0KTtcbiAgICBpbml0aWFsSW5kZW50TGV2ZWwgPSBjb21wdXRlSW5kZW50TGV2ZWwoZm9ybWF0VGV4dCwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgZm9ybWF0VGV4dCA9IGRvY3VtZW50VGV4dDtcbiAgICBpbml0aWFsSW5kZW50TGV2ZWwgPSAwO1xuICAgIGZvcm1hdFRleHRTdGFydCA9IDA7XG4gICAgcmFuZ2VTdGFydCA9IDA7XG4gICAgcmFuZ2VFbmQgPSBkb2N1bWVudFRleHQubGVuZ3RoO1xuICB9XG4gIHZhciBlb2wgPSBnZXRFT0wob3B0aW9ucywgZG9jdW1lbnRUZXh0KTtcbiAgdmFyIGxpbmVCcmVhayA9IGZhbHNlO1xuICB2YXIgaW5kZW50TGV2ZWwgPSAwO1xuICB2YXIgaW5kZW50VmFsdWU7XG4gIGlmIChvcHRpb25zLmluc2VydFNwYWNlcykge1xuICAgIGluZGVudFZhbHVlID0gcmVwZWF0KFwiIFwiLCBvcHRpb25zLnRhYlNpemUgfHwgNCk7XG4gIH0gZWxzZSB7XG4gICAgaW5kZW50VmFsdWUgPSBcIlx0XCI7XG4gIH1cbiAgdmFyIHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyKGZvcm1hdFRleHQsIGZhbHNlKTtcbiAgdmFyIGhhc0Vycm9yID0gZmFsc2U7XG4gIGZ1bmN0aW9uIG5ld0xpbmVBbmRJbmRlbnQoKSB7XG4gICAgcmV0dXJuIGVvbCArIHJlcGVhdChpbmRlbnRWYWx1ZSwgaW5pdGlhbEluZGVudExldmVsICsgaW5kZW50TGV2ZWwpO1xuICB9XG4gIGZ1bmN0aW9uIHNjYW5OZXh0KCkge1xuICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgIGxpbmVCcmVhayA9IGZhbHNlO1xuICAgIHdoaWxlICh0b2tlbiA9PT0gMTUgfHwgdG9rZW4gPT09IDE0KSB7XG4gICAgICBsaW5lQnJlYWsgPSBsaW5lQnJlYWsgfHwgdG9rZW4gPT09IDE0O1xuICAgICAgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICB9XG4gICAgaGFzRXJyb3IgPSB0b2tlbiA9PT0gMTYgfHwgc2Nhbm5lci5nZXRUb2tlbkVycm9yKCkgIT09IDA7XG4gICAgcmV0dXJuIHRva2VuO1xuICB9XG4gIHZhciBlZGl0T3BlcmF0aW9ucyA9IFtdO1xuICBmdW5jdGlvbiBhZGRFZGl0KHRleHQsIHN0YXJ0T2Zmc2V0LCBlbmRPZmZzZXQyKSB7XG4gICAgaWYgKCFoYXNFcnJvciAmJiAoIXJhbmdlIHx8IHN0YXJ0T2Zmc2V0IDwgcmFuZ2VFbmQgJiYgZW5kT2Zmc2V0MiA+IHJhbmdlU3RhcnQpICYmIGRvY3VtZW50VGV4dC5zdWJzdHJpbmcoc3RhcnRPZmZzZXQsIGVuZE9mZnNldDIpICE9PSB0ZXh0KSB7XG4gICAgICBlZGl0T3BlcmF0aW9ucy5wdXNoKHsgb2Zmc2V0OiBzdGFydE9mZnNldCwgbGVuZ3RoOiBlbmRPZmZzZXQyIC0gc3RhcnRPZmZzZXQsIGNvbnRlbnQ6IHRleHQgfSk7XG4gICAgfVxuICB9XG4gIHZhciBmaXJzdFRva2VuID0gc2Nhbk5leHQoKTtcbiAgaWYgKGZpcnN0VG9rZW4gIT09IDE3KSB7XG4gICAgdmFyIGZpcnN0VG9rZW5TdGFydCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIGZvcm1hdFRleHRTdGFydDtcbiAgICB2YXIgaW5pdGlhbEluZGVudCA9IHJlcGVhdChpbmRlbnRWYWx1ZSwgaW5pdGlhbEluZGVudExldmVsKTtcbiAgICBhZGRFZGl0KGluaXRpYWxJbmRlbnQsIGZvcm1hdFRleHRTdGFydCwgZmlyc3RUb2tlblN0YXJ0KTtcbiAgfVxuICB3aGlsZSAoZmlyc3RUb2tlbiAhPT0gMTcpIHtcbiAgICB2YXIgZmlyc3RUb2tlbkVuZCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKSArIGZvcm1hdFRleHRTdGFydDtcbiAgICB2YXIgc2Vjb25kVG9rZW4gPSBzY2FuTmV4dCgpO1xuICAgIHZhciByZXBsYWNlQ29udGVudCA9IFwiXCI7XG4gICAgdmFyIG5lZWRzTGluZUJyZWFrID0gZmFsc2U7XG4gICAgd2hpbGUgKCFsaW5lQnJlYWsgJiYgKHNlY29uZFRva2VuID09PSAxMiB8fCBzZWNvbmRUb2tlbiA9PT0gMTMpKSB7XG4gICAgICB2YXIgY29tbWVudFRva2VuU3RhcnQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgICBhZGRFZGl0KFwiIFwiLCBmaXJzdFRva2VuRW5kLCBjb21tZW50VG9rZW5TdGFydCk7XG4gICAgICBmaXJzdFRva2VuRW5kID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpICsgZm9ybWF0VGV4dFN0YXJ0O1xuICAgICAgbmVlZHNMaW5lQnJlYWsgPSBzZWNvbmRUb2tlbiA9PT0gMTI7XG4gICAgICByZXBsYWNlQ29udGVudCA9IG5lZWRzTGluZUJyZWFrID8gbmV3TGluZUFuZEluZGVudCgpIDogXCJcIjtcbiAgICAgIHNlY29uZFRva2VuID0gc2Nhbk5leHQoKTtcbiAgICB9XG4gICAgaWYgKHNlY29uZFRva2VuID09PSAyKSB7XG4gICAgICBpZiAoZmlyc3RUb2tlbiAhPT0gMSkge1xuICAgICAgICBpbmRlbnRMZXZlbC0tO1xuICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlY29uZFRva2VuID09PSA0KSB7XG4gICAgICBpZiAoZmlyc3RUb2tlbiAhPT0gMykge1xuICAgICAgICBpbmRlbnRMZXZlbC0tO1xuICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoIChmaXJzdFRva2VuKSB7XG4gICAgICAgIGNhc2UgMzpcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIGluZGVudExldmVsKys7XG4gICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBuZXdMaW5lQW5kSW5kZW50KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBpZiAobGluZUJyZWFrKSB7XG4gICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IG5ld0xpbmVBbmRJbmRlbnQoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFuZWVkc0xpbmVCcmVhaykge1xuICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBcIiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNjpcbiAgICAgICAgICBpZiAoIW5lZWRzTGluZUJyZWFrKSB7XG4gICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IFwiIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICBpZiAoc2Vjb25kVG9rZW4gPT09IDYpIHtcbiAgICAgICAgICAgIGlmICghbmVlZHNMaW5lQnJlYWspIHtcbiAgICAgICAgICAgICAgcmVwbGFjZUNvbnRlbnQgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIDc6XG4gICAgICAgIGNhc2UgODpcbiAgICAgICAgY2FzZSA5OlxuICAgICAgICBjYXNlIDExOlxuICAgICAgICBjYXNlIDI6XG4gICAgICAgIGNhc2UgNDpcbiAgICAgICAgICBpZiAoc2Vjb25kVG9rZW4gPT09IDEyIHx8IHNlY29uZFRva2VuID09PSAxMykge1xuICAgICAgICAgICAgaWYgKCFuZWVkc0xpbmVCcmVhaykge1xuICAgICAgICAgICAgICByZXBsYWNlQ29udGVudCA9IFwiIFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kVG9rZW4gIT09IDUgJiYgc2Vjb25kVG9rZW4gIT09IDE3KSB7XG4gICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE2OlxuICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGlmIChsaW5lQnJlYWsgJiYgKHNlY29uZFRva2VuID09PSAxMiB8fCBzZWNvbmRUb2tlbiA9PT0gMTMpKSB7XG4gICAgICAgIHJlcGxhY2VDb250ZW50ID0gbmV3TGluZUFuZEluZGVudCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2Vjb25kVG9rZW4gPT09IDE3KSB7XG4gICAgICByZXBsYWNlQ29udGVudCA9IG9wdGlvbnMuaW5zZXJ0RmluYWxOZXdsaW5lID8gZW9sIDogXCJcIjtcbiAgICB9XG4gICAgdmFyIHNlY29uZFRva2VuU3RhcnQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBmb3JtYXRUZXh0U3RhcnQ7XG4gICAgYWRkRWRpdChyZXBsYWNlQ29udGVudCwgZmlyc3RUb2tlbkVuZCwgc2Vjb25kVG9rZW5TdGFydCk7XG4gICAgZmlyc3RUb2tlbiA9IHNlY29uZFRva2VuO1xuICB9XG4gIHJldHVybiBlZGl0T3BlcmF0aW9ucztcbn1cbmZ1bmN0aW9uIHJlcGVhdChzLCBjb3VudCkge1xuICB2YXIgcmVzdWx0ID0gXCJcIjtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgcmVzdWx0ICs9IHM7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVJbmRlbnRMZXZlbChjb250ZW50LCBvcHRpb25zKSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIG5DaGFycyA9IDA7XG4gIHZhciB0YWJTaXplID0gb3B0aW9ucy50YWJTaXplIHx8IDQ7XG4gIHdoaWxlIChpIDwgY29udGVudC5sZW5ndGgpIHtcbiAgICB2YXIgY2ggPSBjb250ZW50LmNoYXJBdChpKTtcbiAgICBpZiAoY2ggPT09IFwiIFwiKSB7XG4gICAgICBuQ2hhcnMrKztcbiAgICB9IGVsc2UgaWYgKGNoID09PSBcIlx0XCIpIHtcbiAgICAgIG5DaGFycyArPSB0YWJTaXplO1xuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgaSsrO1xuICB9XG4gIHJldHVybiBNYXRoLmZsb29yKG5DaGFycyAvIHRhYlNpemUpO1xufVxuZnVuY3Rpb24gZ2V0RU9MKG9wdGlvbnMsIHRleHQpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGNoID0gdGV4dC5jaGFyQXQoaSk7XG4gICAgaWYgKGNoID09PSBcIlxcclwiKSB7XG4gICAgICBpZiAoaSArIDEgPCB0ZXh0Lmxlbmd0aCAmJiB0ZXh0LmNoYXJBdChpICsgMSkgPT09IFwiXFxuXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiXFxyXFxuXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJcXHJcIjtcbiAgICB9IGVsc2UgaWYgKGNoID09PSBcIlxcblwiKSB7XG4gICAgICByZXR1cm4gXCJcXG5cIjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnMgJiYgb3B0aW9ucy5lb2wgfHwgXCJcXG5cIjtcbn1cbmZ1bmN0aW9uIGlzRU9MKHRleHQsIG9mZnNldCkge1xuICByZXR1cm4gXCJcXHJcXG5cIi5pbmRleE9mKHRleHQuY2hhckF0KG9mZnNldCkpICE9PSAtMTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL2pzb25jLXBhcnNlci9saWIvZXNtL2ltcGwvcGFyc2VyLmpzXG52YXIgUGFyc2VPcHRpb25zO1xuKGZ1bmN0aW9uKFBhcnNlT3B0aW9uczIpIHtcbiAgUGFyc2VPcHRpb25zMi5ERUZBVUxUID0ge1xuICAgIGFsbG93VHJhaWxpbmdDb21tYTogZmFsc2VcbiAgfTtcbn0pKFBhcnNlT3B0aW9ucyB8fCAoUGFyc2VPcHRpb25zID0ge30pKTtcbmZ1bmN0aW9uIHBhcnNlKHRleHQsIGVycm9ycywgb3B0aW9ucykge1xuICBpZiAoZXJyb3JzID09PSB2b2lkIDApIHtcbiAgICBlcnJvcnMgPSBbXTtcbiAgfVxuICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgb3B0aW9ucyA9IFBhcnNlT3B0aW9ucy5ERUZBVUxUO1xuICB9XG4gIHZhciBjdXJyZW50UHJvcGVydHkgPSBudWxsO1xuICB2YXIgY3VycmVudFBhcmVudCA9IFtdO1xuICB2YXIgcHJldmlvdXNQYXJlbnRzID0gW107XG4gIGZ1bmN0aW9uIG9uVmFsdWUodmFsdWUpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShjdXJyZW50UGFyZW50KSkge1xuICAgICAgY3VycmVudFBhcmVudC5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2UgaWYgKGN1cnJlbnRQcm9wZXJ0eSAhPT0gbnVsbCkge1xuICAgICAgY3VycmVudFBhcmVudFtjdXJyZW50UHJvcGVydHldID0gdmFsdWU7XG4gICAgfVxuICB9XG4gIHZhciB2aXNpdG9yID0ge1xuICAgIG9uT2JqZWN0QmVnaW46IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG9iamVjdCA9IHt9O1xuICAgICAgb25WYWx1ZShvYmplY3QpO1xuICAgICAgcHJldmlvdXNQYXJlbnRzLnB1c2goY3VycmVudFBhcmVudCk7XG4gICAgICBjdXJyZW50UGFyZW50ID0gb2JqZWN0O1xuICAgICAgY3VycmVudFByb3BlcnR5ID0gbnVsbDtcbiAgICB9LFxuICAgIG9uT2JqZWN0UHJvcGVydHk6IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGN1cnJlbnRQcm9wZXJ0eSA9IG5hbWU7XG4gICAgfSxcbiAgICBvbk9iamVjdEVuZDogZnVuY3Rpb24oKSB7XG4gICAgICBjdXJyZW50UGFyZW50ID0gcHJldmlvdXNQYXJlbnRzLnBvcCgpO1xuICAgIH0sXG4gICAgb25BcnJheUJlZ2luOiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcnJheSA9IFtdO1xuICAgICAgb25WYWx1ZShhcnJheSk7XG4gICAgICBwcmV2aW91c1BhcmVudHMucHVzaChjdXJyZW50UGFyZW50KTtcbiAgICAgIGN1cnJlbnRQYXJlbnQgPSBhcnJheTtcbiAgICAgIGN1cnJlbnRQcm9wZXJ0eSA9IG51bGw7XG4gICAgfSxcbiAgICBvbkFycmF5RW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIGN1cnJlbnRQYXJlbnQgPSBwcmV2aW91c1BhcmVudHMucG9wKCk7XG4gICAgfSxcbiAgICBvbkxpdGVyYWxWYWx1ZTogb25WYWx1ZSxcbiAgICBvbkVycm9yOiBmdW5jdGlvbihlcnJvciwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICAgIGVycm9ycy5wdXNoKHsgZXJyb3IsIG9mZnNldCwgbGVuZ3RoIH0pO1xuICAgIH1cbiAgfTtcbiAgdmlzaXQodGV4dCwgdmlzaXRvciwgb3B0aW9ucyk7XG4gIHJldHVybiBjdXJyZW50UGFyZW50WzBdO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZVBhdGgobm9kZSkge1xuICBpZiAoIW5vZGUucGFyZW50IHx8ICFub2RlLnBhcmVudC5jaGlsZHJlbikge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICB2YXIgcGF0aCA9IGdldE5vZGVQYXRoKG5vZGUucGFyZW50KTtcbiAgaWYgKG5vZGUucGFyZW50LnR5cGUgPT09IFwicHJvcGVydHlcIikge1xuICAgIHZhciBrZXkgPSBub2RlLnBhcmVudC5jaGlsZHJlblswXS52YWx1ZTtcbiAgICBwYXRoLnB1c2goa2V5KTtcbiAgfSBlbHNlIGlmIChub2RlLnBhcmVudC50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICB2YXIgaW5kZXggPSBub2RlLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKG5vZGUpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHBhdGgucHVzaChpbmRleCk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRoO1xufVxuZnVuY3Rpb24gZ2V0Tm9kZVZhbHVlKG5vZGUpIHtcbiAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLm1hcChnZXROb2RlVmFsdWUpO1xuICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgIHZhciBvYmogPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBub2RlLmNoaWxkcmVuOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcHJvcCA9IF9hW19pXTtcbiAgICAgICAgdmFyIHZhbHVlTm9kZSA9IHByb3AuY2hpbGRyZW5bMV07XG4gICAgICAgIGlmICh2YWx1ZU5vZGUpIHtcbiAgICAgICAgICBvYmpbcHJvcC5jaGlsZHJlblswXS52YWx1ZV0gPSBnZXROb2RlVmFsdWUodmFsdWVOb2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iajtcbiAgICBjYXNlIFwibnVsbFwiOlxuICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICB9XG59XG5mdW5jdGlvbiBjb250YWlucyhub2RlLCBvZmZzZXQsIGluY2x1ZGVSaWdodEJvdW5kKSB7XG4gIGlmIChpbmNsdWRlUmlnaHRCb3VuZCA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVJpZ2h0Qm91bmQgPSBmYWxzZTtcbiAgfVxuICByZXR1cm4gb2Zmc2V0ID49IG5vZGUub2Zmc2V0ICYmIG9mZnNldCA8IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGggfHwgaW5jbHVkZVJpZ2h0Qm91bmQgJiYgb2Zmc2V0ID09PSBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoO1xufVxuZnVuY3Rpb24gZmluZE5vZGVBdE9mZnNldChub2RlLCBvZmZzZXQsIGluY2x1ZGVSaWdodEJvdW5kKSB7XG4gIGlmIChpbmNsdWRlUmlnaHRCb3VuZCA9PT0gdm9pZCAwKSB7XG4gICAgaW5jbHVkZVJpZ2h0Qm91bmQgPSBmYWxzZTtcbiAgfVxuICBpZiAoY29udGFpbnMobm9kZSwgb2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBub2RlLmNoaWxkcmVuO1xuICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGggJiYgY2hpbGRyZW5baV0ub2Zmc2V0IDw9IG9mZnNldDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gZmluZE5vZGVBdE9mZnNldChjaGlsZHJlbltpXSwgb2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCk7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHZpc2l0KHRleHQsIHZpc2l0b3IsIG9wdGlvbnMpIHtcbiAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkge1xuICAgIG9wdGlvbnMgPSBQYXJzZU9wdGlvbnMuREVGQVVMVDtcbiAgfVxuICB2YXIgX3NjYW5uZXIgPSBjcmVhdGVTY2FubmVyKHRleHQsIGZhbHNlKTtcbiAgZnVuY3Rpb24gdG9Ob0FyZ1Zpc2l0KHZpc2l0RnVuY3Rpb24pIHtcbiAgICByZXR1cm4gdmlzaXRGdW5jdGlvbiA/IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHZpc2l0RnVuY3Rpb24oX3NjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSwgX3NjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKSwgX3NjYW5uZXIuZ2V0VG9rZW5TdGFydExpbmUoKSwgX3NjYW5uZXIuZ2V0VG9rZW5TdGFydENoYXJhY3RlcigpKTtcbiAgICB9IDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHRvT25lQXJnVmlzaXQodmlzaXRGdW5jdGlvbikge1xuICAgIHJldHVybiB2aXNpdEZ1bmN0aW9uID8gZnVuY3Rpb24oYXJnKSB7XG4gICAgICByZXR1cm4gdmlzaXRGdW5jdGlvbihhcmcsIF9zY2FubmVyLmdldFRva2VuT2Zmc2V0KCksIF9zY2FubmVyLmdldFRva2VuTGVuZ3RoKCksIF9zY2FubmVyLmdldFRva2VuU3RhcnRMaW5lKCksIF9zY2FubmVyLmdldFRva2VuU3RhcnRDaGFyYWN0ZXIoKSk7XG4gICAgfSA6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgfVxuICB2YXIgb25PYmplY3RCZWdpbiA9IHRvTm9BcmdWaXNpdCh2aXNpdG9yLm9uT2JqZWN0QmVnaW4pLCBvbk9iamVjdFByb3BlcnR5ID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uT2JqZWN0UHJvcGVydHkpLCBvbk9iamVjdEVuZCA9IHRvTm9BcmdWaXNpdCh2aXNpdG9yLm9uT2JqZWN0RW5kKSwgb25BcnJheUJlZ2luID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25BcnJheUJlZ2luKSwgb25BcnJheUVuZCA9IHRvTm9BcmdWaXNpdCh2aXNpdG9yLm9uQXJyYXlFbmQpLCBvbkxpdGVyYWxWYWx1ZSA9IHRvT25lQXJnVmlzaXQodmlzaXRvci5vbkxpdGVyYWxWYWx1ZSksIG9uU2VwYXJhdG9yID0gdG9PbmVBcmdWaXNpdCh2aXNpdG9yLm9uU2VwYXJhdG9yKSwgb25Db21tZW50ID0gdG9Ob0FyZ1Zpc2l0KHZpc2l0b3Iub25Db21tZW50KSwgb25FcnJvciA9IHRvT25lQXJnVmlzaXQodmlzaXRvci5vbkVycm9yKTtcbiAgdmFyIGRpc2FsbG93Q29tbWVudHMgPSBvcHRpb25zICYmIG9wdGlvbnMuZGlzYWxsb3dDb21tZW50cztcbiAgdmFyIGFsbG93VHJhaWxpbmdDb21tYSA9IG9wdGlvbnMgJiYgb3B0aW9ucy5hbGxvd1RyYWlsaW5nQ29tbWE7XG4gIGZ1bmN0aW9uIHNjYW5OZXh0KCkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgdG9rZW4gPSBfc2Nhbm5lci5zY2FuKCk7XG4gICAgICBzd2l0Y2ggKF9zY2FubmVyLmdldFRva2VuRXJyb3IoKSkge1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMTQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMTUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMTMpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgaWYgKCFkaXNhbGxvd0NvbW1lbnRzKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcigxMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMTIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDY6XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMTYpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICBjYXNlIDEzOlxuICAgICAgICAgIGlmIChkaXNhbGxvd0NvbW1lbnRzKSB7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcigxMCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9uQ29tbWVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICBoYW5kbGVFcnJvcigxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNTpcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGhhbmRsZUVycm9yKGVycm9yLCBza2lwVW50aWxBZnRlciwgc2tpcFVudGlsKSB7XG4gICAgaWYgKHNraXBVbnRpbEFmdGVyID09PSB2b2lkIDApIHtcbiAgICAgIHNraXBVbnRpbEFmdGVyID0gW107XG4gICAgfVxuICAgIGlmIChza2lwVW50aWwgPT09IHZvaWQgMCkge1xuICAgICAgc2tpcFVudGlsID0gW107XG4gICAgfVxuICAgIG9uRXJyb3IoZXJyb3IpO1xuICAgIGlmIChza2lwVW50aWxBZnRlci5sZW5ndGggKyBza2lwVW50aWwubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIHRva2VuID0gX3NjYW5uZXIuZ2V0VG9rZW4oKTtcbiAgICAgIHdoaWxlICh0b2tlbiAhPT0gMTcpIHtcbiAgICAgICAgaWYgKHNraXBVbnRpbEFmdGVyLmluZGV4T2YodG9rZW4pICE9PSAtMSkge1xuICAgICAgICAgIHNjYW5OZXh0KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH0gZWxzZSBpZiAoc2tpcFVudGlsLmluZGV4T2YodG9rZW4pICE9PSAtMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHRva2VuID0gc2Nhbk5leHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcGFyc2VTdHJpbmcoaXNWYWx1ZSkge1xuICAgIHZhciB2YWx1ZSA9IF9zY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICBpZiAoaXNWYWx1ZSkge1xuICAgICAgb25MaXRlcmFsVmFsdWUodmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvbk9iamVjdFByb3BlcnR5KHZhbHVlKTtcbiAgICB9XG4gICAgc2Nhbk5leHQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBwYXJzZUxpdGVyYWwoKSB7XG4gICAgc3dpdGNoIChfc2Nhbm5lci5nZXRUb2tlbigpKSB7XG4gICAgICBjYXNlIDExOlxuICAgICAgICB2YXIgdG9rZW5WYWx1ZSA9IF9zY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgICAgdmFyIHZhbHVlID0gTnVtYmVyKHRva2VuVmFsdWUpO1xuICAgICAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgaGFuZGxlRXJyb3IoMik7XG4gICAgICAgICAgdmFsdWUgPSAwO1xuICAgICAgICB9XG4gICAgICAgIG9uTGl0ZXJhbFZhbHVlKHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDc6XG4gICAgICAgIG9uTGl0ZXJhbFZhbHVlKG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgODpcbiAgICAgICAgb25MaXRlcmFsVmFsdWUodHJ1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA5OlxuICAgICAgICBvbkxpdGVyYWxWYWx1ZShmYWxzZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBzY2FuTmV4dCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIHBhcnNlUHJvcGVydHkoKSB7XG4gICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgIT09IDEwKSB7XG4gICAgICBoYW5kbGVFcnJvcigzLCBbXSwgWzIsIDVdKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcGFyc2VTdHJpbmcoZmFsc2UpO1xuICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSA2KSB7XG4gICAgICBvblNlcGFyYXRvcihcIjpcIik7XG4gICAgICBzY2FuTmV4dCgpO1xuICAgICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoNCwgW10sIFsyLCA1XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGhhbmRsZUVycm9yKDUsIFtdLCBbMiwgNV0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiBwYXJzZU9iamVjdCgpIHtcbiAgICBvbk9iamVjdEJlZ2luKCk7XG4gICAgc2Nhbk5leHQoKTtcbiAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgIHdoaWxlIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyICYmIF9zY2FubmVyLmdldFRva2VuKCkgIT09IDE3KSB7XG4gICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSkge1xuICAgICAgICBpZiAoIW5lZWRzQ29tbWEpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcig0LCBbXSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIG9uU2VwYXJhdG9yKFwiLFwiKTtcbiAgICAgICAgc2Nhbk5leHQoKTtcbiAgICAgICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgPT09IDIgJiYgYWxsb3dUcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICBoYW5kbGVFcnJvcig2LCBbXSwgW10pO1xuICAgICAgfVxuICAgICAgaWYgKCFwYXJzZVByb3BlcnR5KCkpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoNCwgW10sIFsyLCA1XSk7XG4gICAgICB9XG4gICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICB9XG4gICAgb25PYmplY3RFbmQoKTtcbiAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMikge1xuICAgICAgaGFuZGxlRXJyb3IoNywgWzJdLCBbXSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjYW5OZXh0KCk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIHBhcnNlQXJyYXkoKSB7XG4gICAgb25BcnJheUJlZ2luKCk7XG4gICAgc2Nhbk5leHQoKTtcbiAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgIHdoaWxlIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSA0ICYmIF9zY2FubmVyLmdldFRva2VuKCkgIT09IDE3KSB7XG4gICAgICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSkge1xuICAgICAgICBpZiAoIW5lZWRzQ29tbWEpIHtcbiAgICAgICAgICBoYW5kbGVFcnJvcig0LCBbXSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIG9uU2VwYXJhdG9yKFwiLFwiKTtcbiAgICAgICAgc2Nhbk5leHQoKTtcbiAgICAgICAgaWYgKF9zY2FubmVyLmdldFRva2VuKCkgPT09IDQgJiYgYWxsb3dUcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICBoYW5kbGVFcnJvcig2LCBbXSwgW10pO1xuICAgICAgfVxuICAgICAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICAgICAgaGFuZGxlRXJyb3IoNCwgW10sIFs0LCA1XSk7XG4gICAgICB9XG4gICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICB9XG4gICAgb25BcnJheUVuZCgpO1xuICAgIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpICE9PSA0KSB7XG4gICAgICBoYW5kbGVFcnJvcig4LCBbNF0sIFtdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2Nhbk5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcGFyc2VWYWx1ZSgpIHtcbiAgICBzd2l0Y2ggKF9zY2FubmVyLmdldFRva2VuKCkpIHtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIHBhcnNlQXJyYXkoKTtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIHBhcnNlT2JqZWN0KCk7XG4gICAgICBjYXNlIDEwOlxuICAgICAgICByZXR1cm4gcGFyc2VTdHJpbmcodHJ1ZSk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gcGFyc2VMaXRlcmFsKCk7XG4gICAgfVxuICB9XG4gIHNjYW5OZXh0KCk7XG4gIGlmIChfc2Nhbm5lci5nZXRUb2tlbigpID09PSAxNykge1xuICAgIGlmIChvcHRpb25zLmFsbG93RW1wdHlDb250ZW50KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaGFuZGxlRXJyb3IoNCwgW10sIFtdKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFwYXJzZVZhbHVlKCkpIHtcbiAgICBoYW5kbGVFcnJvcig0LCBbXSwgW10pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoX3NjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMTcpIHtcbiAgICBoYW5kbGVFcnJvcig5LCBbXSwgW10pO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBub2RlX21vZHVsZXMvanNvbmMtcGFyc2VyL2xpYi9lc20vbWFpbi5qc1xudmFyIGNyZWF0ZVNjYW5uZXIyID0gY3JlYXRlU2Nhbm5lcjtcbnZhciBwYXJzZTIgPSBwYXJzZTtcbnZhciBmaW5kTm9kZUF0T2Zmc2V0MiA9IGZpbmROb2RlQXRPZmZzZXQ7XG52YXIgZ2V0Tm9kZVBhdGgyID0gZ2V0Tm9kZVBhdGg7XG52YXIgZ2V0Tm9kZVZhbHVlMiA9IGdldE5vZGVWYWx1ZTtcbmZ1bmN0aW9uIGZvcm1hdDIoZG9jdW1lbnRUZXh0LCByYW5nZSwgb3B0aW9ucykge1xuICByZXR1cm4gZm9ybWF0KGRvY3VtZW50VGV4dCwgcmFuZ2UsIG9wdGlvbnMpO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vdXRpbHMvb2JqZWN0cy5qc1xuZnVuY3Rpb24gZXF1YWxzKG9uZSwgb3RoZXIpIHtcbiAgaWYgKG9uZSA9PT0gb3RoZXIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAob25lID09PSBudWxsIHx8IG9uZSA9PT0gdm9pZCAwIHx8IG90aGVyID09PSBudWxsIHx8IG90aGVyID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKHR5cGVvZiBvbmUgIT09IHR5cGVvZiBvdGhlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAodHlwZW9mIG9uZSAhPT0gXCJvYmplY3RcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShvbmUpICE9PSBBcnJheS5pc0FycmF5KG90aGVyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgaSwga2V5O1xuICBpZiAoQXJyYXkuaXNBcnJheShvbmUpKSB7XG4gICAgaWYgKG9uZS5sZW5ndGggIT09IG90aGVyLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBmb3IgKGkgPSAwOyBpIDwgb25lLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIWVxdWFscyhvbmVbaV0sIG90aGVyW2ldKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHZhciBvbmVLZXlzID0gW107XG4gICAgZm9yIChrZXkgaW4gb25lKSB7XG4gICAgICBvbmVLZXlzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgb25lS2V5cy5zb3J0KCk7XG4gICAgdmFyIG90aGVyS2V5cyA9IFtdO1xuICAgIGZvciAoa2V5IGluIG90aGVyKSB7XG4gICAgICBvdGhlcktleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBvdGhlcktleXMuc29ydCgpO1xuICAgIGlmICghZXF1YWxzKG9uZUtleXMsIG90aGVyS2V5cykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yIChpID0gMDsgaSA8IG9uZUtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghZXF1YWxzKG9uZVtvbmVLZXlzW2ldXSwgb3RoZXJbb25lS2V5c1tpXV0pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiBpc051bWJlcih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09IFwibnVtYmVyXCI7XG59XG5mdW5jdGlvbiBpc0RlZmluZWQodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsICE9PSBcInVuZGVmaW5lZFwiO1xufVxuZnVuY3Rpb24gaXNCb29sZWFuKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gXCJib29sZWFuXCI7XG59XG5mdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCI7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvbGliL2VzbS91dGlscy9zdHJpbmdzLmpzXG5mdW5jdGlvbiBzdGFydHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgaWYgKGhheXN0YWNrLmxlbmd0aCA8IG5lZWRsZS5sZW5ndGgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZWVkbGUubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoaGF5c3RhY2tbaV0gIT09IG5lZWRsZVtpXSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGVuZHNXaXRoKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgdmFyIGRpZmYgPSBoYXlzdGFjay5sZW5ndGggLSBuZWVkbGUubGVuZ3RoO1xuICBpZiAoZGlmZiA+IDApIHtcbiAgICByZXR1cm4gaGF5c3RhY2subGFzdEluZGV4T2YobmVlZGxlKSA9PT0gZGlmZjtcbiAgfSBlbHNlIGlmIChkaWZmID09PSAwKSB7XG4gICAgcmV0dXJuIGhheXN0YWNrID09PSBuZWVkbGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5mdW5jdGlvbiBleHRlbmRlZFJlZ0V4cChwYXR0ZXJuKSB7XG4gIHZhciBmbGFncyA9IFwiXCI7XG4gIGlmIChzdGFydHNXaXRoKHBhdHRlcm4sIFwiKD9pKVwiKSkge1xuICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnN1YnN0cmluZyg0KTtcbiAgICBmbGFncyA9IFwiaVwiO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MgKyBcInVcIik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAocGF0dGVybiwgZmxhZ3MpO1xuICAgIH0gY2F0Y2ggKGUyKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgfVxufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWxhbmd1YWdlc2VydmVyLXR5cGVzL2xpYi9lc20vbWFpbi5qc1xudmFyIGludGVnZXI7XG4oZnVuY3Rpb24oaW50ZWdlcjIpIHtcbiAgaW50ZWdlcjIuTUlOX1ZBTFVFID0gLTIxNDc0ODM2NDg7XG4gIGludGVnZXIyLk1BWF9WQUxVRSA9IDIxNDc0ODM2NDc7XG59KShpbnRlZ2VyIHx8IChpbnRlZ2VyID0ge30pKTtcbnZhciB1aW50ZWdlcjtcbihmdW5jdGlvbih1aW50ZWdlcjIpIHtcbiAgdWludGVnZXIyLk1JTl9WQUxVRSA9IDA7XG4gIHVpbnRlZ2VyMi5NQVhfVkFMVUUgPSAyMTQ3NDgzNjQ3O1xufSkodWludGVnZXIgfHwgKHVpbnRlZ2VyID0ge30pKTtcbnZhciBQb3NpdGlvbjtcbihmdW5jdGlvbihQb3NpdGlvbjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKGxpbmUsIGNoYXJhY3Rlcikge1xuICAgIGlmIChsaW5lID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICBsaW5lID0gdWludGVnZXIuTUFYX1ZBTFVFO1xuICAgIH1cbiAgICBpZiAoY2hhcmFjdGVyID09PSBOdW1iZXIuTUFYX1ZBTFVFKSB7XG4gICAgICBjaGFyYWN0ZXIgPSB1aW50ZWdlci5NQVhfVkFMVUU7XG4gICAgfVxuICAgIHJldHVybiB7IGxpbmUsIGNoYXJhY3RlciB9O1xuICB9XG4gIFBvc2l0aW9uMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLmxpbmUpICYmIElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS5jaGFyYWN0ZXIpO1xuICB9XG4gIFBvc2l0aW9uMi5pcyA9IGlzO1xufSkoUG9zaXRpb24gfHwgKFBvc2l0aW9uID0ge30pKTtcbnZhciBSYW5nZTtcbihmdW5jdGlvbihSYW5nZTIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKG9uZSwgdHdvLCB0aHJlZSwgZm91cikge1xuICAgIGlmIChJcy51aW50ZWdlcihvbmUpICYmIElzLnVpbnRlZ2VyKHR3bykgJiYgSXMudWludGVnZXIodGhyZWUpICYmIElzLnVpbnRlZ2VyKGZvdXIpKSB7XG4gICAgICByZXR1cm4geyBzdGFydDogUG9zaXRpb24uY3JlYXRlKG9uZSwgdHdvKSwgZW5kOiBQb3NpdGlvbi5jcmVhdGUodGhyZWUsIGZvdXIpIH07XG4gICAgfSBlbHNlIGlmIChQb3NpdGlvbi5pcyhvbmUpICYmIFBvc2l0aW9uLmlzKHR3bykpIHtcbiAgICAgIHJldHVybiB7IHN0YXJ0OiBvbmUsIGVuZDogdHdvIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJhbmdlI2NyZWF0ZSBjYWxsZWQgd2l0aCBpbnZhbGlkIGFyZ3VtZW50c1tcIiArIG9uZSArIFwiLCBcIiArIHR3byArIFwiLCBcIiArIHRocmVlICsgXCIsIFwiICsgZm91ciArIFwiXVwiKTtcbiAgICB9XG4gIH1cbiAgUmFuZ2UyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiBQb3NpdGlvbi5pcyhjYW5kaWRhdGUuc3RhcnQpICYmIFBvc2l0aW9uLmlzKGNhbmRpZGF0ZS5lbmQpO1xuICB9XG4gIFJhbmdlMi5pcyA9IGlzO1xufSkoUmFuZ2UgfHwgKFJhbmdlID0ge30pKTtcbnZhciBMb2NhdGlvbjtcbihmdW5jdGlvbihMb2NhdGlvbjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgcmFuZ2UpIHtcbiAgICByZXR1cm4geyB1cmksIHJhbmdlIH07XG4gIH1cbiAgTG9jYXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS51cmkpKTtcbiAgfVxuICBMb2NhdGlvbjIuaXMgPSBpcztcbn0pKExvY2F0aW9uIHx8IChMb2NhdGlvbiA9IHt9KSk7XG52YXIgTG9jYXRpb25MaW5rO1xuKGZ1bmN0aW9uKExvY2F0aW9uTGluazIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHRhcmdldFVyaSwgdGFyZ2V0UmFuZ2UsIHRhcmdldFNlbGVjdGlvblJhbmdlLCBvcmlnaW5TZWxlY3Rpb25SYW5nZSkge1xuICAgIHJldHVybiB7IHRhcmdldFVyaSwgdGFyZ2V0UmFuZ2UsIHRhcmdldFNlbGVjdGlvblJhbmdlLCBvcmlnaW5TZWxlY3Rpb25SYW5nZSB9O1xuICB9XG4gIExvY2F0aW9uTGluazIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS50YXJnZXRSYW5nZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50YXJnZXRVcmkpICYmIChSYW5nZS5pcyhjYW5kaWRhdGUudGFyZ2V0U2VsZWN0aW9uUmFuZ2UpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUudGFyZ2V0U2VsZWN0aW9uUmFuZ2UpKSAmJiAoUmFuZ2UuaXMoY2FuZGlkYXRlLm9yaWdpblNlbGVjdGlvblJhbmdlKSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLm9yaWdpblNlbGVjdGlvblJhbmdlKSk7XG4gIH1cbiAgTG9jYXRpb25MaW5rMi5pcyA9IGlzO1xufSkoTG9jYXRpb25MaW5rIHx8IChMb2NhdGlvbkxpbmsgPSB7fSkpO1xudmFyIENvbG9yO1xuKGZ1bmN0aW9uKENvbG9yMikge1xuICBmdW5jdGlvbiBjcmVhdGUocmVkLCBncmVlbiwgYmx1ZSwgYWxwaGEpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVkLFxuICAgICAgZ3JlZW4sXG4gICAgICBibHVlLFxuICAgICAgYWxwaGFcbiAgICB9O1xuICB9XG4gIENvbG9yMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUucmVkLCAwLCAxKSAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUuZ3JlZW4sIDAsIDEpICYmIElzLm51bWJlclJhbmdlKGNhbmRpZGF0ZS5ibHVlLCAwLCAxKSAmJiBJcy5udW1iZXJSYW5nZShjYW5kaWRhdGUuYWxwaGEsIDAsIDEpO1xuICB9XG4gIENvbG9yMi5pcyA9IGlzO1xufSkoQ29sb3IgfHwgKENvbG9yID0ge30pKTtcbnZhciBDb2xvckluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uKENvbG9ySW5mb3JtYXRpb24yKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgY29sb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2UsXG4gICAgICBjb2xvclxuICAgIH07XG4gIH1cbiAgQ29sb3JJbmZvcm1hdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gUmFuZ2UuaXMoY2FuZGlkYXRlLnJhbmdlKSAmJiBDb2xvci5pcyhjYW5kaWRhdGUuY29sb3IpO1xuICB9XG4gIENvbG9ySW5mb3JtYXRpb24yLmlzID0gaXM7XG59KShDb2xvckluZm9ybWF0aW9uIHx8IChDb2xvckluZm9ybWF0aW9uID0ge30pKTtcbnZhciBDb2xvclByZXNlbnRhdGlvbjtcbihmdW5jdGlvbihDb2xvclByZXNlbnRhdGlvbjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCB0ZXh0RWRpdCwgYWRkaXRpb25hbFRleHRFZGl0cykge1xuICAgIHJldHVybiB7XG4gICAgICBsYWJlbCxcbiAgICAgIHRleHRFZGl0LFxuICAgICAgYWRkaXRpb25hbFRleHRFZGl0c1xuICAgIH07XG4gIH1cbiAgQ29sb3JQcmVzZW50YXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLnN0cmluZyhjYW5kaWRhdGUubGFiZWwpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLnRleHRFZGl0KSB8fCBUZXh0RWRpdC5pcyhjYW5kaWRhdGUpKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5hZGRpdGlvbmFsVGV4dEVkaXRzKSB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5hZGRpdGlvbmFsVGV4dEVkaXRzLCBUZXh0RWRpdC5pcykpO1xuICB9XG4gIENvbG9yUHJlc2VudGF0aW9uMi5pcyA9IGlzO1xufSkoQ29sb3JQcmVzZW50YXRpb24gfHwgKENvbG9yUHJlc2VudGF0aW9uID0ge30pKTtcbnZhciBGb2xkaW5nUmFuZ2VLaW5kO1xuKGZ1bmN0aW9uKEZvbGRpbmdSYW5nZUtpbmQyKSB7XG4gIEZvbGRpbmdSYW5nZUtpbmQyW1wiQ29tbWVudFwiXSA9IFwiY29tbWVudFwiO1xuICBGb2xkaW5nUmFuZ2VLaW5kMltcIkltcG9ydHNcIl0gPSBcImltcG9ydHNcIjtcbiAgRm9sZGluZ1JhbmdlS2luZDJbXCJSZWdpb25cIl0gPSBcInJlZ2lvblwiO1xufSkoRm9sZGluZ1JhbmdlS2luZCB8fCAoRm9sZGluZ1JhbmdlS2luZCA9IHt9KSk7XG52YXIgRm9sZGluZ1JhbmdlO1xuKGZ1bmN0aW9uKEZvbGRpbmdSYW5nZTIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHN0YXJ0TGluZSwgZW5kTGluZSwgc3RhcnRDaGFyYWN0ZXIsIGVuZENoYXJhY3Rlciwga2luZCkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBzdGFydExpbmUsXG4gICAgICBlbmRMaW5lXG4gICAgfTtcbiAgICBpZiAoSXMuZGVmaW5lZChzdGFydENoYXJhY3RlcikpIHtcbiAgICAgIHJlc3VsdC5zdGFydENoYXJhY3RlciA9IHN0YXJ0Q2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAoSXMuZGVmaW5lZChlbmRDaGFyYWN0ZXIpKSB7XG4gICAgICByZXN1bHQuZW5kQ2hhcmFjdGVyID0gZW5kQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAoSXMuZGVmaW5lZChraW5kKSkge1xuICAgICAgcmVzdWx0LmtpbmQgPSBraW5kO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIEZvbGRpbmdSYW5nZTIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSkgJiYgSXMudWludGVnZXIoY2FuZGlkYXRlLnN0YXJ0TGluZSkgJiYgKElzLnVuZGVmaW5lZChjYW5kaWRhdGUuc3RhcnRDaGFyYWN0ZXIpIHx8IElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS5zdGFydENoYXJhY3RlcikpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmVuZENoYXJhY3RlcikgfHwgSXMudWludGVnZXIoY2FuZGlkYXRlLmVuZENoYXJhY3RlcikpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmtpbmQpIHx8IElzLnN0cmluZyhjYW5kaWRhdGUua2luZCkpO1xuICB9XG4gIEZvbGRpbmdSYW5nZTIuaXMgPSBpcztcbn0pKEZvbGRpbmdSYW5nZSB8fCAoRm9sZGluZ1JhbmdlID0ge30pKTtcbnZhciBEaWFnbm9zdGljUmVsYXRlZEluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24yKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShsb2NhdGlvbiwgbWVzc2FnZSkge1xuICAgIHJldHVybiB7XG4gICAgICBsb2NhdGlvbixcbiAgICAgIG1lc3NhZ2VcbiAgICB9O1xuICB9XG4gIERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBMb2NhdGlvbi5pcyhjYW5kaWRhdGUubG9jYXRpb24pICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSk7XG4gIH1cbiAgRGlhZ25vc3RpY1JlbGF0ZWRJbmZvcm1hdGlvbjIuaXMgPSBpcztcbn0pKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gfHwgKERpYWdub3N0aWNSZWxhdGVkSW5mb3JtYXRpb24gPSB7fSkpO1xudmFyIERpYWdub3N0aWNTZXZlcml0eTtcbihmdW5jdGlvbihEaWFnbm9zdGljU2V2ZXJpdHkyKSB7XG4gIERpYWdub3N0aWNTZXZlcml0eTIuRXJyb3IgPSAxO1xuICBEaWFnbm9zdGljU2V2ZXJpdHkyLldhcm5pbmcgPSAyO1xuICBEaWFnbm9zdGljU2V2ZXJpdHkyLkluZm9ybWF0aW9uID0gMztcbiAgRGlhZ25vc3RpY1NldmVyaXR5Mi5IaW50ID0gNDtcbn0pKERpYWdub3N0aWNTZXZlcml0eSB8fCAoRGlhZ25vc3RpY1NldmVyaXR5ID0ge30pKTtcbnZhciBEaWFnbm9zdGljVGFnO1xuKGZ1bmN0aW9uKERpYWdub3N0aWNUYWcyKSB7XG4gIERpYWdub3N0aWNUYWcyLlVubmVjZXNzYXJ5ID0gMTtcbiAgRGlhZ25vc3RpY1RhZzIuRGVwcmVjYXRlZCA9IDI7XG59KShEaWFnbm9zdGljVGFnIHx8IChEaWFnbm9zdGljVGFnID0ge30pKTtcbnZhciBDb2RlRGVzY3JpcHRpb247XG4oZnVuY3Rpb24oQ29kZURlc2NyaXB0aW9uMikge1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gY2FuZGlkYXRlICE9PSB2b2lkIDAgJiYgY2FuZGlkYXRlICE9PSBudWxsICYmIElzLnN0cmluZyhjYW5kaWRhdGUuaHJlZik7XG4gIH1cbiAgQ29kZURlc2NyaXB0aW9uMi5pcyA9IGlzO1xufSkoQ29kZURlc2NyaXB0aW9uIHx8IChDb2RlRGVzY3JpcHRpb24gPSB7fSkpO1xudmFyIERpYWdub3N0aWM7XG4oZnVuY3Rpb24oRGlhZ25vc3RpYzIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCBtZXNzYWdlLCBzZXZlcml0eSwgY29kZSwgc291cmNlLCByZWxhdGVkSW5mb3JtYXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0geyByYW5nZSwgbWVzc2FnZSB9O1xuICAgIGlmIChJcy5kZWZpbmVkKHNldmVyaXR5KSkge1xuICAgICAgcmVzdWx0LnNldmVyaXR5ID0gc2V2ZXJpdHk7XG4gICAgfVxuICAgIGlmIChJcy5kZWZpbmVkKGNvZGUpKSB7XG4gICAgICByZXN1bHQuY29kZSA9IGNvZGU7XG4gICAgfVxuICAgIGlmIChJcy5kZWZpbmVkKHNvdXJjZSkpIHtcbiAgICAgIHJlc3VsdC5zb3VyY2UgPSBzb3VyY2U7XG4gICAgfVxuICAgIGlmIChJcy5kZWZpbmVkKHJlbGF0ZWRJbmZvcm1hdGlvbikpIHtcbiAgICAgIHJlc3VsdC5yZWxhdGVkSW5mb3JtYXRpb24gPSByZWxhdGVkSW5mb3JtYXRpb247XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgRGlhZ25vc3RpYzIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubWVzc2FnZSkgJiYgKElzLm51bWJlcihjYW5kaWRhdGUuc2V2ZXJpdHkpIHx8IElzLnVuZGVmaW5lZChjYW5kaWRhdGUuc2V2ZXJpdHkpKSAmJiAoSXMuaW50ZWdlcihjYW5kaWRhdGUuY29kZSkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS5jb2RlKSB8fCBJcy51bmRlZmluZWQoY2FuZGlkYXRlLmNvZGUpKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5jb2RlRGVzY3JpcHRpb24pIHx8IElzLnN0cmluZygoX2EgPSBjYW5kaWRhdGUuY29kZURlc2NyaXB0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaHJlZikpICYmIChJcy5zdHJpbmcoY2FuZGlkYXRlLnNvdXJjZSkgfHwgSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5zb3VyY2UpKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5yZWxhdGVkSW5mb3JtYXRpb24pIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLnJlbGF0ZWRJbmZvcm1hdGlvbiwgRGlhZ25vc3RpY1JlbGF0ZWRJbmZvcm1hdGlvbi5pcykpO1xuICB9XG4gIERpYWdub3N0aWMyLmlzID0gaXM7XG59KShEaWFnbm9zdGljIHx8IChEaWFnbm9zdGljID0ge30pKTtcbnZhciBDb21tYW5kO1xuKGZ1bmN0aW9uKENvbW1hbmQyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZSh0aXRsZSwgY29tbWFuZCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7IHRpdGxlLCBjb21tYW5kIH07XG4gICAgaWYgKElzLmRlZmluZWQoYXJncykgJiYgYXJncy5sZW5ndGggPiAwKSB7XG4gICAgICByZXN1bHQuYXJndW1lbnRzID0gYXJncztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBDb21tYW5kMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50aXRsZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5jb21tYW5kKTtcbiAgfVxuICBDb21tYW5kMi5pcyA9IGlzO1xufSkoQ29tbWFuZCB8fCAoQ29tbWFuZCA9IHt9KSk7XG52YXIgVGV4dEVkaXQ7XG4oZnVuY3Rpb24oVGV4dEVkaXQyKSB7XG4gIGZ1bmN0aW9uIHJlcGxhY2UocmFuZ2UsIG5ld1RleHQpIHtcbiAgICByZXR1cm4geyByYW5nZSwgbmV3VGV4dCB9O1xuICB9XG4gIFRleHRFZGl0Mi5yZXBsYWNlID0gcmVwbGFjZTtcbiAgZnVuY3Rpb24gaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0KSB7XG4gICAgcmV0dXJuIHsgcmFuZ2U6IHsgc3RhcnQ6IHBvc2l0aW9uLCBlbmQ6IHBvc2l0aW9uIH0sIG5ld1RleHQgfTtcbiAgfVxuICBUZXh0RWRpdDIuaW5zZXJ0ID0gaW5zZXJ0O1xuICBmdW5jdGlvbiBkZWwocmFuZ2UpIHtcbiAgICByZXR1cm4geyByYW5nZSwgbmV3VGV4dDogXCJcIiB9O1xuICB9XG4gIFRleHRFZGl0Mi5kZWwgPSBkZWw7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5uZXdUZXh0KSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpO1xuICB9XG4gIFRleHRFZGl0Mi5pcyA9IGlzO1xufSkoVGV4dEVkaXQgfHwgKFRleHRFZGl0ID0ge30pKTtcbnZhciBDaGFuZ2VBbm5vdGF0aW9uO1xuKGZ1bmN0aW9uKENoYW5nZUFubm90YXRpb24yKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgbmVlZHNDb25maXJtYXRpb24sIGRlc2NyaXB0aW9uKSB7XG4gICAgdmFyIHJlc3VsdCA9IHsgbGFiZWwgfTtcbiAgICBpZiAobmVlZHNDb25maXJtYXRpb24gIT09IHZvaWQgMCkge1xuICAgICAgcmVzdWx0Lm5lZWRzQ29uZmlybWF0aW9uID0gbmVlZHNDb25maXJtYXRpb247XG4gICAgfVxuICAgIGlmIChkZXNjcmlwdGlvbiAhPT0gdm9pZCAwKSB7XG4gICAgICByZXN1bHQuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBDaGFuZ2VBbm5vdGF0aW9uMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBjYW5kaWRhdGUgIT09IHZvaWQgMCAmJiBJcy5vYmplY3RMaXRlcmFsKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5sYWJlbCkgJiYgKElzLmJvb2xlYW4oY2FuZGlkYXRlLm5lZWRzQ29uZmlybWF0aW9uKSB8fCBjYW5kaWRhdGUubmVlZHNDb25maXJtYXRpb24gPT09IHZvaWQgMCkgJiYgKElzLnN0cmluZyhjYW5kaWRhdGUuZGVzY3JpcHRpb24pIHx8IGNhbmRpZGF0ZS5kZXNjcmlwdGlvbiA9PT0gdm9pZCAwKTtcbiAgfVxuICBDaGFuZ2VBbm5vdGF0aW9uMi5pcyA9IGlzO1xufSkoQ2hhbmdlQW5ub3RhdGlvbiB8fCAoQ2hhbmdlQW5ub3RhdGlvbiA9IHt9KSk7XG52YXIgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXI7XG4oZnVuY3Rpb24oQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIyKSB7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiB0eXBlb2YgY2FuZGlkYXRlID09PSBcInN0cmluZ1wiO1xuICB9XG4gIENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyMi5pcyA9IGlzO1xufSkoQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIgfHwgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyID0ge30pKTtcbnZhciBBbm5vdGF0ZWRUZXh0RWRpdDtcbihmdW5jdGlvbihBbm5vdGF0ZWRUZXh0RWRpdDIpIHtcbiAgZnVuY3Rpb24gcmVwbGFjZShyYW5nZSwgbmV3VGV4dCwgYW5ub3RhdGlvbikge1xuICAgIHJldHVybiB7IHJhbmdlLCBuZXdUZXh0LCBhbm5vdGF0aW9uSWQ6IGFubm90YXRpb24gfTtcbiAgfVxuICBBbm5vdGF0ZWRUZXh0RWRpdDIucmVwbGFjZSA9IHJlcGxhY2U7XG4gIGZ1bmN0aW9uIGluc2VydChwb3NpdGlvbiwgbmV3VGV4dCwgYW5ub3RhdGlvbikge1xuICAgIHJldHVybiB7IHJhbmdlOiB7IHN0YXJ0OiBwb3NpdGlvbiwgZW5kOiBwb3NpdGlvbiB9LCBuZXdUZXh0LCBhbm5vdGF0aW9uSWQ6IGFubm90YXRpb24gfTtcbiAgfVxuICBBbm5vdGF0ZWRUZXh0RWRpdDIuaW5zZXJ0ID0gaW5zZXJ0O1xuICBmdW5jdGlvbiBkZWwocmFuZ2UsIGFubm90YXRpb24pIHtcbiAgICByZXR1cm4geyByYW5nZSwgbmV3VGV4dDogXCJcIiwgYW5ub3RhdGlvbklkOiBhbm5vdGF0aW9uIH07XG4gIH1cbiAgQW5ub3RhdGVkVGV4dEVkaXQyLmRlbCA9IGRlbDtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIFRleHRFZGl0LmlzKGNhbmRpZGF0ZSkgJiYgKENoYW5nZUFubm90YXRpb24uaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkpO1xuICB9XG4gIEFubm90YXRlZFRleHRFZGl0Mi5pcyA9IGlzO1xufSkoQW5ub3RhdGVkVGV4dEVkaXQgfHwgKEFubm90YXRlZFRleHRFZGl0ID0ge30pKTtcbnZhciBUZXh0RG9jdW1lbnRFZGl0O1xuKGZ1bmN0aW9uKFRleHREb2N1bWVudEVkaXQyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZSh0ZXh0RG9jdW1lbnQsIGVkaXRzKSB7XG4gICAgcmV0dXJuIHsgdGV4dERvY3VtZW50LCBlZGl0cyB9O1xuICB9XG4gIFRleHREb2N1bWVudEVkaXQyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMoY2FuZGlkYXRlLnRleHREb2N1bWVudCkgJiYgQXJyYXkuaXNBcnJheShjYW5kaWRhdGUuZWRpdHMpO1xuICB9XG4gIFRleHREb2N1bWVudEVkaXQyLmlzID0gaXM7XG59KShUZXh0RG9jdW1lbnRFZGl0IHx8IChUZXh0RG9jdW1lbnRFZGl0ID0ge30pKTtcbnZhciBDcmVhdGVGaWxlO1xuKGZ1bmN0aW9uKENyZWF0ZUZpbGUyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAga2luZDogXCJjcmVhdGVcIixcbiAgICAgIHVyaVxuICAgIH07XG4gICAgaWYgKG9wdGlvbnMgIT09IHZvaWQgMCAmJiAob3B0aW9ucy5vdmVyd3JpdGUgIT09IHZvaWQgMCB8fCBvcHRpb25zLmlnbm9yZUlmRXhpc3RzICE9PSB2b2lkIDApKSB7XG4gICAgICByZXN1bHQub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGlmIChhbm5vdGF0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgIHJlc3VsdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIENyZWF0ZUZpbGUyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZSAmJiBjYW5kaWRhdGUua2luZCA9PT0gXCJjcmVhdGVcIiAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnVyaSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zID09PSB2b2lkIDAgfHwgKGNhbmRpZGF0ZS5vcHRpb25zLm92ZXJ3cml0ZSA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLm9wdGlvbnMub3ZlcndyaXRlKSkgJiYgKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmRXhpc3RzID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5pZ25vcmVJZkV4aXN0cykpKSAmJiAoY2FuZGlkYXRlLmFubm90YXRpb25JZCA9PT0gdm9pZCAwIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQpKTtcbiAgfVxuICBDcmVhdGVGaWxlMi5pcyA9IGlzO1xufSkoQ3JlYXRlRmlsZSB8fCAoQ3JlYXRlRmlsZSA9IHt9KSk7XG52YXIgUmVuYW1lRmlsZTtcbihmdW5jdGlvbihSZW5hbWVGaWxlMikge1xuICBmdW5jdGlvbiBjcmVhdGUob2xkVXJpLCBuZXdVcmksIG9wdGlvbnMsIGFubm90YXRpb24pIHtcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAga2luZDogXCJyZW5hbWVcIixcbiAgICAgIG9sZFVyaSxcbiAgICAgIG5ld1VyaVxuICAgIH07XG4gICAgaWYgKG9wdGlvbnMgIT09IHZvaWQgMCAmJiAob3B0aW9ucy5vdmVyd3JpdGUgIT09IHZvaWQgMCB8fCBvcHRpb25zLmlnbm9yZUlmRXhpc3RzICE9PSB2b2lkIDApKSB7XG4gICAgICByZXN1bHQub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGlmIChhbm5vdGF0aW9uICE9PSB2b2lkIDApIHtcbiAgICAgIHJlc3VsdC5hbm5vdGF0aW9uSWQgPSBhbm5vdGF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIFJlbmFtZUZpbGUyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIGNhbmRpZGF0ZSAmJiBjYW5kaWRhdGUua2luZCA9PT0gXCJyZW5hbWVcIiAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLm9sZFVyaSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS5uZXdVcmkpICYmIChjYW5kaWRhdGUub3B0aW9ucyA9PT0gdm9pZCAwIHx8IChjYW5kaWRhdGUub3B0aW9ucy5vdmVyd3JpdGUgPT09IHZvaWQgMCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLm92ZXJ3cml0ZSkpICYmIChjYW5kaWRhdGUub3B0aW9ucy5pZ25vcmVJZkV4aXN0cyA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZFeGlzdHMpKSkgJiYgKGNhbmRpZGF0ZS5hbm5vdGF0aW9uSWQgPT09IHZvaWQgMCB8fCBDaGFuZ2VBbm5vdGF0aW9uSWRlbnRpZmllci5pcyhjYW5kaWRhdGUuYW5ub3RhdGlvbklkKSk7XG4gIH1cbiAgUmVuYW1lRmlsZTIuaXMgPSBpcztcbn0pKFJlbmFtZUZpbGUgfHwgKFJlbmFtZUZpbGUgPSB7fSkpO1xudmFyIERlbGV0ZUZpbGU7XG4oZnVuY3Rpb24oRGVsZXRlRmlsZTIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgb3B0aW9ucywgYW5ub3RhdGlvbikge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBraW5kOiBcImRlbGV0ZVwiLFxuICAgICAgdXJpXG4gICAgfTtcbiAgICBpZiAob3B0aW9ucyAhPT0gdm9pZCAwICYmIChvcHRpb25zLnJlY3Vyc2l2ZSAhPT0gdm9pZCAwIHx8IG9wdGlvbnMuaWdub3JlSWZOb3RFeGlzdHMgIT09IHZvaWQgMCkpIHtcbiAgICAgIHJlc3VsdC5vcHRpb25zID0gb3B0aW9ucztcbiAgICB9XG4gICAgaWYgKGFubm90YXRpb24gIT09IHZvaWQgMCkge1xuICAgICAgcmVzdWx0LmFubm90YXRpb25JZCA9IGFubm90YXRpb247XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgRGVsZXRlRmlsZTIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIGNhbmRpZGF0ZS5raW5kID09PSBcImRlbGV0ZVwiICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMgPT09IHZvaWQgMCB8fCAoY2FuZGlkYXRlLm9wdGlvbnMucmVjdXJzaXZlID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUub3B0aW9ucy5yZWN1cnNpdmUpKSAmJiAoY2FuZGlkYXRlLm9wdGlvbnMuaWdub3JlSWZOb3RFeGlzdHMgPT09IHZvaWQgMCB8fCBJcy5ib29sZWFuKGNhbmRpZGF0ZS5vcHRpb25zLmlnbm9yZUlmTm90RXhpc3RzKSkpICYmIChjYW5kaWRhdGUuYW5ub3RhdGlvbklkID09PSB2b2lkIDAgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoY2FuZGlkYXRlLmFubm90YXRpb25JZCkpO1xuICB9XG4gIERlbGV0ZUZpbGUyLmlzID0gaXM7XG59KShEZWxldGVGaWxlIHx8IChEZWxldGVGaWxlID0ge30pKTtcbnZhciBXb3Jrc3BhY2VFZGl0O1xuKGZ1bmN0aW9uKFdvcmtzcGFjZUVkaXQyKSB7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBjYW5kaWRhdGUgJiYgKGNhbmRpZGF0ZS5jaGFuZ2VzICE9PSB2b2lkIDAgfHwgY2FuZGlkYXRlLmRvY3VtZW50Q2hhbmdlcyAhPT0gdm9pZCAwKSAmJiAoY2FuZGlkYXRlLmRvY3VtZW50Q2hhbmdlcyA9PT0gdm9pZCAwIHx8IGNhbmRpZGF0ZS5kb2N1bWVudENoYW5nZXMuZXZlcnkoZnVuY3Rpb24oY2hhbmdlKSB7XG4gICAgICBpZiAoSXMuc3RyaW5nKGNoYW5nZS5raW5kKSkge1xuICAgICAgICByZXR1cm4gQ3JlYXRlRmlsZS5pcyhjaGFuZ2UpIHx8IFJlbmFtZUZpbGUuaXMoY2hhbmdlKSB8fCBEZWxldGVGaWxlLmlzKGNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGV4dERvY3VtZW50RWRpdC5pcyhjaGFuZ2UpO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuICBXb3Jrc3BhY2VFZGl0Mi5pcyA9IGlzO1xufSkoV29ya3NwYWNlRWRpdCB8fCAoV29ya3NwYWNlRWRpdCA9IHt9KSk7XG52YXIgVGV4dEVkaXRDaGFuZ2VJbXBsID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFRleHRFZGl0Q2hhbmdlSW1wbDIoZWRpdHMsIGNoYW5nZUFubm90YXRpb25zKSB7XG4gICAgdGhpcy5lZGl0cyA9IGVkaXRzO1xuICAgIHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMgPSBjaGFuZ2VBbm5vdGF0aW9ucztcbiAgfVxuICBUZXh0RWRpdENoYW5nZUltcGwyLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgbmV3VGV4dCwgYW5ub3RhdGlvbikge1xuICAgIHZhciBlZGl0O1xuICAgIHZhciBpZDtcbiAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBlZGl0ID0gVGV4dEVkaXQuaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0KTtcbiAgICB9IGVsc2UgaWYgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pKSB7XG4gICAgICBpZCA9IGFubm90YXRpb247XG4gICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQuaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0LCBhbm5vdGF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucyh0aGlzLmNoYW5nZUFubm90YXRpb25zKTtcbiAgICAgIGlkID0gdGhpcy5jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UoYW5ub3RhdGlvbik7XG4gICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQuaW5zZXJ0KHBvc2l0aW9uLCBuZXdUZXh0LCBpZCk7XG4gICAgfVxuICAgIHRoaXMuZWRpdHMucHVzaChlZGl0KTtcbiAgICBpZiAoaWQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfTtcbiAgVGV4dEVkaXRDaGFuZ2VJbXBsMi5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uKHJhbmdlLCBuZXdUZXh0LCBhbm5vdGF0aW9uKSB7XG4gICAgdmFyIGVkaXQ7XG4gICAgdmFyIGlkO1xuICAgIGlmIChhbm5vdGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIGVkaXQgPSBUZXh0RWRpdC5yZXBsYWNlKHJhbmdlLCBuZXdUZXh0KTtcbiAgICB9IGVsc2UgaWYgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pKSB7XG4gICAgICBpZCA9IGFubm90YXRpb247XG4gICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQucmVwbGFjZShyYW5nZSwgbmV3VGV4dCwgYW5ub3RhdGlvbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYXNzZXJ0Q2hhbmdlQW5ub3RhdGlvbnModGhpcy5jaGFuZ2VBbm5vdGF0aW9ucyk7XG4gICAgICBpZCA9IHRoaXMuY2hhbmdlQW5ub3RhdGlvbnMubWFuYWdlKGFubm90YXRpb24pO1xuICAgICAgZWRpdCA9IEFubm90YXRlZFRleHRFZGl0LnJlcGxhY2UocmFuZ2UsIG5ld1RleHQsIGlkKTtcbiAgICB9XG4gICAgdGhpcy5lZGl0cy5wdXNoKGVkaXQpO1xuICAgIGlmIChpZCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXR1cm4gaWQ7XG4gICAgfVxuICB9O1xuICBUZXh0RWRpdENoYW5nZUltcGwyLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbihyYW5nZSwgYW5ub3RhdGlvbikge1xuICAgIHZhciBlZGl0O1xuICAgIHZhciBpZDtcbiAgICBpZiAoYW5ub3RhdGlvbiA9PT0gdm9pZCAwKSB7XG4gICAgICBlZGl0ID0gVGV4dEVkaXQuZGVsKHJhbmdlKTtcbiAgICB9IGVsc2UgaWYgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pKSB7XG4gICAgICBpZCA9IGFubm90YXRpb247XG4gICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQuZGVsKHJhbmdlLCBhbm5vdGF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucyh0aGlzLmNoYW5nZUFubm90YXRpb25zKTtcbiAgICAgIGlkID0gdGhpcy5jaGFuZ2VBbm5vdGF0aW9ucy5tYW5hZ2UoYW5ub3RhdGlvbik7XG4gICAgICBlZGl0ID0gQW5ub3RhdGVkVGV4dEVkaXQuZGVsKHJhbmdlLCBpZCk7XG4gICAgfVxuICAgIHRoaXMuZWRpdHMucHVzaChlZGl0KTtcbiAgICBpZiAoaWQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfTtcbiAgVGV4dEVkaXRDaGFuZ2VJbXBsMi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZWRpdCkge1xuICAgIHRoaXMuZWRpdHMucHVzaChlZGl0KTtcbiAgfTtcbiAgVGV4dEVkaXRDaGFuZ2VJbXBsMi5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZWRpdHM7XG4gIH07XG4gIFRleHRFZGl0Q2hhbmdlSW1wbDIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5lZGl0cy5zcGxpY2UoMCwgdGhpcy5lZGl0cy5sZW5ndGgpO1xuICB9O1xuICBUZXh0RWRpdENoYW5nZUltcGwyLnByb3RvdHlwZS5hc3NlcnRDaGFuZ2VBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRleHQgZWRpdCBjaGFuZ2UgaXMgbm90IGNvbmZpZ3VyZWQgdG8gbWFuYWdlIGNoYW5nZSBhbm5vdGF0aW9ucy5cIik7XG4gICAgfVxuICB9O1xuICByZXR1cm4gVGV4dEVkaXRDaGFuZ2VJbXBsMjtcbn0oKTtcbnZhciBDaGFuZ2VBbm5vdGF0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBDaGFuZ2VBbm5vdGF0aW9uczIoYW5ub3RhdGlvbnMpIHtcbiAgICB0aGlzLl9hbm5vdGF0aW9ucyA9IGFubm90YXRpb25zID09PSB2b2lkIDAgPyAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSA6IGFubm90YXRpb25zO1xuICAgIHRoaXMuX2NvdW50ZXIgPSAwO1xuICAgIHRoaXMuX3NpemUgPSAwO1xuICB9XG4gIENoYW5nZUFubm90YXRpb25zMi5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuX2Fubm90YXRpb25zO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ2hhbmdlQW5ub3RhdGlvbnMyLnByb3RvdHlwZSwgXCJzaXplXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3NpemU7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIENoYW5nZUFubm90YXRpb25zMi5wcm90b3R5cGUubWFuYWdlID0gZnVuY3Rpb24oaWRPckFubm90YXRpb24sIGFubm90YXRpb24pIHtcbiAgICB2YXIgaWQ7XG4gICAgaWYgKENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGlkT3JBbm5vdGF0aW9uKSkge1xuICAgICAgaWQgPSBpZE9yQW5ub3RhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWQgPSB0aGlzLm5leHRJZCgpO1xuICAgICAgYW5ub3RhdGlvbiA9IGlkT3JBbm5vdGF0aW9uO1xuICAgIH1cbiAgICBpZiAodGhpcy5fYW5ub3RhdGlvbnNbaWRdICE9PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIklkIFwiICsgaWQgKyBcIiBpcyBhbHJlYWR5IGluIHVzZS5cIik7XG4gICAgfVxuICAgIGlmIChhbm5vdGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFubm90YXRpb24gcHJvdmlkZWQgZm9yIGlkIFwiICsgaWQpO1xuICAgIH1cbiAgICB0aGlzLl9hbm5vdGF0aW9uc1tpZF0gPSBhbm5vdGF0aW9uO1xuICAgIHRoaXMuX3NpemUrKztcbiAgICByZXR1cm4gaWQ7XG4gIH07XG4gIENoYW5nZUFubm90YXRpb25zMi5wcm90b3R5cGUubmV4dElkID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5fY291bnRlcisrO1xuICAgIHJldHVybiB0aGlzLl9jb3VudGVyLnRvU3RyaW5nKCk7XG4gIH07XG4gIHJldHVybiBDaGFuZ2VBbm5vdGF0aW9uczI7XG59KCk7XG52YXIgV29ya3NwYWNlQ2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFdvcmtzcGFjZUNoYW5nZTIod29ya3NwYWNlRWRpdCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKHdvcmtzcGFjZUVkaXQgIT09IHZvaWQgMCkge1xuICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdCA9IHdvcmtzcGFjZUVkaXQ7XG4gICAgICBpZiAod29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMgPSBuZXcgQ2hhbmdlQW5ub3RhdGlvbnMod29ya3NwYWNlRWRpdC5jaGFuZ2VBbm5vdGF0aW9ucyk7XG4gICAgICAgIHdvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMgPSB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5hbGwoKTtcbiAgICAgICAgd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMuZm9yRWFjaChmdW5jdGlvbihjaGFuZ2UpIHtcbiAgICAgICAgICBpZiAoVGV4dERvY3VtZW50RWRpdC5pcyhjaGFuZ2UpKSB7XG4gICAgICAgICAgICB2YXIgdGV4dEVkaXRDaGFuZ2UgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKGNoYW5nZS5lZGl0cywgX3RoaXMuX2NoYW5nZUFubm90YXRpb25zKTtcbiAgICAgICAgICAgIF90aGlzLl90ZXh0RWRpdENoYW5nZXNbY2hhbmdlLnRleHREb2N1bWVudC51cmldID0gdGV4dEVkaXRDaGFuZ2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAod29ya3NwYWNlRWRpdC5jaGFuZ2VzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHdvcmtzcGFjZUVkaXQuY2hhbmdlcykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICB2YXIgdGV4dEVkaXRDaGFuZ2UgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKHdvcmtzcGFjZUVkaXQuY2hhbmdlc1trZXldKTtcbiAgICAgICAgICBfdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV0gPSB0ZXh0RWRpdENoYW5nZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQgPSB7fTtcbiAgICB9XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFdvcmtzcGFjZUNoYW5nZTIucHJvdG90eXBlLCBcImVkaXRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmluaXREb2N1bWVudENoYW5nZXMoKTtcbiAgICAgIGlmICh0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucyAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICh0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5zaXplID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VBbm5vdGF0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZUFubm90YXRpb25zID0gdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMuYWxsKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl93b3Jrc3BhY2VFZGl0O1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBXb3Jrc3BhY2VDaGFuZ2UyLnByb3RvdHlwZS5nZXRUZXh0RWRpdENoYW5nZSA9IGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChPcHRpb25hbFZlcnNpb25lZFRleHREb2N1bWVudElkZW50aWZpZXIuaXMoa2V5KSkge1xuICAgICAgdGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCk7XG4gICAgICBpZiAodGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cIik7XG4gICAgICB9XG4gICAgICB2YXIgdGV4dERvY3VtZW50ID0geyB1cmk6IGtleS51cmksIHZlcnNpb246IGtleS52ZXJzaW9uIH07XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW3RleHREb2N1bWVudC51cmldO1xuICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgdmFyIGVkaXRzID0gW107XG4gICAgICAgIHZhciB0ZXh0RG9jdW1lbnRFZGl0ID0ge1xuICAgICAgICAgIHRleHREb2N1bWVudCxcbiAgICAgICAgICBlZGl0c1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcy5wdXNoKHRleHREb2N1bWVudEVkaXQpO1xuICAgICAgICByZXN1bHQgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKGVkaXRzLCB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucyk7XG4gICAgICAgIHRoaXMuX3RleHRFZGl0Q2hhbmdlc1t0ZXh0RG9jdW1lbnQudXJpXSA9IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaW5pdENoYW5nZXMoKTtcbiAgICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZXMgPT09IHZvaWQgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3Igbm9ybWFsIHRleHQgZWRpdCBjaGFuZ2VzLlwiKTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSB0aGlzLl90ZXh0RWRpdENoYW5nZXNba2V5XTtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIHZhciBlZGl0cyA9IFtdO1xuICAgICAgICB0aGlzLl93b3Jrc3BhY2VFZGl0LmNoYW5nZXNba2V5XSA9IGVkaXRzO1xuICAgICAgICByZXN1bHQgPSBuZXcgVGV4dEVkaXRDaGFuZ2VJbXBsKGVkaXRzKTtcbiAgICAgICAgdGhpcy5fdGV4dEVkaXRDaGFuZ2VzW2tleV0gPSByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfTtcbiAgV29ya3NwYWNlQ2hhbmdlMi5wcm90b3R5cGUuaW5pdERvY3VtZW50Q2hhbmdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcyA9PT0gdm9pZCAwICYmIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucyA9IG5ldyBDaGFuZ2VBbm5vdGF0aW9ucygpO1xuICAgICAgdGhpcy5fd29ya3NwYWNlRWRpdC5kb2N1bWVudENoYW5nZXMgPSBbXTtcbiAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlQW5ub3RhdGlvbnMgPSB0aGlzLl9jaGFuZ2VBbm5vdGF0aW9ucy5hbGwoKTtcbiAgICB9XG4gIH07XG4gIFdvcmtzcGFjZUNoYW5nZTIucHJvdG90eXBlLmluaXRDaGFuZ2VzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzID09PSB2b2lkIDAgJiYgdGhpcy5fd29ya3NwYWNlRWRpdC5jaGFuZ2VzID09PSB2b2lkIDApIHtcbiAgICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuY2hhbmdlcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIH1cbiAgfTtcbiAgV29ya3NwYWNlQ2hhbmdlMi5wcm90b3R5cGUuY3JlYXRlRmlsZSA9IGZ1bmN0aW9uKHVyaSwgb3B0aW9uc09yQW5ub3RhdGlvbiwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdERvY3VtZW50Q2hhbmdlcygpO1xuICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cIik7XG4gICAgfVxuICAgIHZhciBhbm5vdGF0aW9uO1xuICAgIGlmIChDaGFuZ2VBbm5vdGF0aW9uLmlzKG9wdGlvbnNPckFubm90YXRpb24pIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKG9wdGlvbnNPckFubm90YXRpb24pKSB7XG4gICAgICBhbm5vdGF0aW9uID0gb3B0aW9uc09yQW5ub3RhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckFubm90YXRpb247XG4gICAgfVxuICAgIHZhciBvcGVyYXRpb247XG4gICAgdmFyIGlkO1xuICAgIGlmIChhbm5vdGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIG9wZXJhdGlvbiA9IENyZWF0ZUZpbGUuY3JlYXRlKHVyaSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkID0gQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoYW5ub3RhdGlvbikgPyBhbm5vdGF0aW9uIDogdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMubWFuYWdlKGFubm90YXRpb24pO1xuICAgICAgb3BlcmF0aW9uID0gQ3JlYXRlRmlsZS5jcmVhdGUodXJpLCBvcHRpb25zLCBpZCk7XG4gICAgfVxuICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2gob3BlcmF0aW9uKTtcbiAgICBpZiAoaWQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfTtcbiAgV29ya3NwYWNlQ2hhbmdlMi5wcm90b3R5cGUucmVuYW1lRmlsZSA9IGZ1bmN0aW9uKG9sZFVyaSwgbmV3VXJpLCBvcHRpb25zT3JBbm5vdGF0aW9uLCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0RG9jdW1lbnRDaGFuZ2VzKCk7XG4gICAgaWYgKHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzID09PSB2b2lkIDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIldvcmtzcGFjZSBlZGl0IGlzIG5vdCBjb25maWd1cmVkIGZvciBkb2N1bWVudCBjaGFuZ2VzLlwiKTtcbiAgICB9XG4gICAgdmFyIGFubm90YXRpb247XG4gICAgaWYgKENoYW5nZUFubm90YXRpb24uaXMob3B0aW9uc09yQW5ub3RhdGlvbikgfHwgQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMob3B0aW9uc09yQW5ub3RhdGlvbikpIHtcbiAgICAgIGFubm90YXRpb24gPSBvcHRpb25zT3JBbm5vdGF0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0gb3B0aW9uc09yQW5ub3RhdGlvbjtcbiAgICB9XG4gICAgdmFyIG9wZXJhdGlvbjtcbiAgICB2YXIgaWQ7XG4gICAgaWYgKGFubm90YXRpb24gPT09IHZvaWQgMCkge1xuICAgICAgb3BlcmF0aW9uID0gUmVuYW1lRmlsZS5jcmVhdGUob2xkVXJpLCBuZXdVcmksIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZCA9IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKGFubm90YXRpb24pID8gYW5ub3RhdGlvbiA6IHRoaXMuX2NoYW5nZUFubm90YXRpb25zLm1hbmFnZShhbm5vdGF0aW9uKTtcbiAgICAgIG9wZXJhdGlvbiA9IFJlbmFtZUZpbGUuY3JlYXRlKG9sZFVyaSwgbmV3VXJpLCBvcHRpb25zLCBpZCk7XG4gICAgfVxuICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2gob3BlcmF0aW9uKTtcbiAgICBpZiAoaWQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfTtcbiAgV29ya3NwYWNlQ2hhbmdlMi5wcm90b3R5cGUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uKHVyaSwgb3B0aW9uc09yQW5ub3RhdGlvbiwgb3B0aW9ucykge1xuICAgIHRoaXMuaW5pdERvY3VtZW50Q2hhbmdlcygpO1xuICAgIGlmICh0aGlzLl93b3Jrc3BhY2VFZGl0LmRvY3VtZW50Q2hhbmdlcyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJXb3Jrc3BhY2UgZWRpdCBpcyBub3QgY29uZmlndXJlZCBmb3IgZG9jdW1lbnQgY2hhbmdlcy5cIik7XG4gICAgfVxuICAgIHZhciBhbm5vdGF0aW9uO1xuICAgIGlmIChDaGFuZ2VBbm5vdGF0aW9uLmlzKG9wdGlvbnNPckFubm90YXRpb24pIHx8IENoYW5nZUFubm90YXRpb25JZGVudGlmaWVyLmlzKG9wdGlvbnNPckFubm90YXRpb24pKSB7XG4gICAgICBhbm5vdGF0aW9uID0gb3B0aW9uc09yQW5ub3RhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucyA9IG9wdGlvbnNPckFubm90YXRpb247XG4gICAgfVxuICAgIHZhciBvcGVyYXRpb247XG4gICAgdmFyIGlkO1xuICAgIGlmIChhbm5vdGF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgIG9wZXJhdGlvbiA9IERlbGV0ZUZpbGUuY3JlYXRlKHVyaSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkID0gQ2hhbmdlQW5ub3RhdGlvbklkZW50aWZpZXIuaXMoYW5ub3RhdGlvbikgPyBhbm5vdGF0aW9uIDogdGhpcy5fY2hhbmdlQW5ub3RhdGlvbnMubWFuYWdlKGFubm90YXRpb24pO1xuICAgICAgb3BlcmF0aW9uID0gRGVsZXRlRmlsZS5jcmVhdGUodXJpLCBvcHRpb25zLCBpZCk7XG4gICAgfVxuICAgIHRoaXMuX3dvcmtzcGFjZUVkaXQuZG9jdW1lbnRDaGFuZ2VzLnB1c2gob3BlcmF0aW9uKTtcbiAgICBpZiAoaWQgIT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGlkO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIFdvcmtzcGFjZUNoYW5nZTI7XG59KCk7XG52YXIgVGV4dERvY3VtZW50SWRlbnRpZmllcjtcbihmdW5jdGlvbihUZXh0RG9jdW1lbnRJZGVudGlmaWVyMikge1xuICBmdW5jdGlvbiBjcmVhdGUodXJpKSB7XG4gICAgcmV0dXJuIHsgdXJpIH07XG4gIH1cbiAgVGV4dERvY3VtZW50SWRlbnRpZmllcjIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKTtcbiAgfVxuICBUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50SWRlbnRpZmllciB8fCAoVGV4dERvY3VtZW50SWRlbnRpZmllciA9IHt9KSk7XG52YXIgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjtcbihmdW5jdGlvbihWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMikge1xuICBmdW5jdGlvbiBjcmVhdGUodXJpLCB2ZXJzaW9uKSB7XG4gICAgcmV0dXJuIHsgdXJpLCB2ZXJzaW9uIH07XG4gIH1cbiAgVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiBJcy5pbnRlZ2VyKGNhbmRpZGF0ZS52ZXJzaW9uKTtcbiAgfVxuICBWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyMi5pcyA9IGlzO1xufSkoVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciB8fCAoVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciA9IHt9KSk7XG52YXIgT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyO1xuKGZ1bmN0aW9uKE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgdmVyc2lvbikge1xuICAgIHJldHVybiB7IHVyaSwgdmVyc2lvbiB9O1xuICB9XG4gIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiAoY2FuZGlkYXRlLnZlcnNpb24gPT09IG51bGwgfHwgSXMuaW50ZWdlcihjYW5kaWRhdGUudmVyc2lvbikpO1xuICB9XG4gIE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllcjIuaXMgPSBpcztcbn0pKE9wdGlvbmFsVmVyc2lvbmVkVGV4dERvY3VtZW50SWRlbnRpZmllciB8fCAoT3B0aW9uYWxWZXJzaW9uZWRUZXh0RG9jdW1lbnRJZGVudGlmaWVyID0ge30pKTtcbnZhciBUZXh0RG9jdW1lbnRJdGVtO1xuKGZ1bmN0aW9uKFRleHREb2N1bWVudEl0ZW0yKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZSh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIHRleHQpIHtcbiAgICByZXR1cm4geyB1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIHRleHQgfTtcbiAgfVxuICBUZXh0RG9jdW1lbnRJdGVtMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5kZWZpbmVkKGNhbmRpZGF0ZSkgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS51cmkpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubGFuZ3VhZ2VJZCkgJiYgSXMuaW50ZWdlcihjYW5kaWRhdGUudmVyc2lvbikgJiYgSXMuc3RyaW5nKGNhbmRpZGF0ZS50ZXh0KTtcbiAgfVxuICBUZXh0RG9jdW1lbnRJdGVtMi5pcyA9IGlzO1xufSkoVGV4dERvY3VtZW50SXRlbSB8fCAoVGV4dERvY3VtZW50SXRlbSA9IHt9KSk7XG52YXIgTWFya3VwS2luZDtcbihmdW5jdGlvbihNYXJrdXBLaW5kMikge1xuICBNYXJrdXBLaW5kMi5QbGFpblRleHQgPSBcInBsYWludGV4dFwiO1xuICBNYXJrdXBLaW5kMi5NYXJrZG93biA9IFwibWFya2Rvd25cIjtcbn0pKE1hcmt1cEtpbmQgfHwgKE1hcmt1cEtpbmQgPSB7fSkpO1xuKGZ1bmN0aW9uKE1hcmt1cEtpbmQyKSB7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBjYW5kaWRhdGUgPT09IE1hcmt1cEtpbmQyLlBsYWluVGV4dCB8fCBjYW5kaWRhdGUgPT09IE1hcmt1cEtpbmQyLk1hcmtkb3duO1xuICB9XG4gIE1hcmt1cEtpbmQyLmlzID0gaXM7XG59KShNYXJrdXBLaW5kIHx8IChNYXJrdXBLaW5kID0ge30pKTtcbnZhciBNYXJrdXBDb250ZW50O1xuKGZ1bmN0aW9uKE1hcmt1cENvbnRlbnQyKSB7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBJcy5vYmplY3RMaXRlcmFsKHZhbHVlKSAmJiBNYXJrdXBLaW5kLmlzKGNhbmRpZGF0ZS5raW5kKSAmJiBJcy5zdHJpbmcoY2FuZGlkYXRlLnZhbHVlKTtcbiAgfVxuICBNYXJrdXBDb250ZW50Mi5pcyA9IGlzO1xufSkoTWFya3VwQ29udGVudCB8fCAoTWFya3VwQ29udGVudCA9IHt9KSk7XG52YXIgQ29tcGxldGlvbkl0ZW1LaW5kO1xuKGZ1bmN0aW9uKENvbXBsZXRpb25JdGVtS2luZDIpIHtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5UZXh0ID0gMTtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5NZXRob2QgPSAyO1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLkZ1bmN0aW9uID0gMztcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5Db25zdHJ1Y3RvciA9IDQ7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuRmllbGQgPSA1O1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLlZhcmlhYmxlID0gNjtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5DbGFzcyA9IDc7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuSW50ZXJmYWNlID0gODtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5Nb2R1bGUgPSA5O1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLlByb3BlcnR5ID0gMTA7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuVW5pdCA9IDExO1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLlZhbHVlID0gMTI7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuRW51bSA9IDEzO1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLktleXdvcmQgPSAxNDtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5TbmlwcGV0ID0gMTU7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuQ29sb3IgPSAxNjtcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5GaWxlID0gMTc7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuUmVmZXJlbmNlID0gMTg7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuRm9sZGVyID0gMTk7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuRW51bU1lbWJlciA9IDIwO1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLkNvbnN0YW50ID0gMjE7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuU3RydWN0ID0gMjI7XG4gIENvbXBsZXRpb25JdGVtS2luZDIuRXZlbnQgPSAyMztcbiAgQ29tcGxldGlvbkl0ZW1LaW5kMi5PcGVyYXRvciA9IDI0O1xuICBDb21wbGV0aW9uSXRlbUtpbmQyLlR5cGVQYXJhbWV0ZXIgPSAyNTtcbn0pKENvbXBsZXRpb25JdGVtS2luZCB8fCAoQ29tcGxldGlvbkl0ZW1LaW5kID0ge30pKTtcbnZhciBJbnNlcnRUZXh0Rm9ybWF0O1xuKGZ1bmN0aW9uKEluc2VydFRleHRGb3JtYXQyKSB7XG4gIEluc2VydFRleHRGb3JtYXQyLlBsYWluVGV4dCA9IDE7XG4gIEluc2VydFRleHRGb3JtYXQyLlNuaXBwZXQgPSAyO1xufSkoSW5zZXJ0VGV4dEZvcm1hdCB8fCAoSW5zZXJ0VGV4dEZvcm1hdCA9IHt9KSk7XG52YXIgQ29tcGxldGlvbkl0ZW1UYWc7XG4oZnVuY3Rpb24oQ29tcGxldGlvbkl0ZW1UYWcyKSB7XG4gIENvbXBsZXRpb25JdGVtVGFnMi5EZXByZWNhdGVkID0gMTtcbn0pKENvbXBsZXRpb25JdGVtVGFnIHx8IChDb21wbGV0aW9uSXRlbVRhZyA9IHt9KSk7XG52YXIgSW5zZXJ0UmVwbGFjZUVkaXQ7XG4oZnVuY3Rpb24oSW5zZXJ0UmVwbGFjZUVkaXQyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShuZXdUZXh0LCBpbnNlcnQsIHJlcGxhY2UpIHtcbiAgICByZXR1cm4geyBuZXdUZXh0LCBpbnNlcnQsIHJlcGxhY2UgfTtcbiAgfVxuICBJbnNlcnRSZXBsYWNlRWRpdDIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmV3VGV4dCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLmluc2VydCkgJiYgUmFuZ2UuaXMoY2FuZGlkYXRlLnJlcGxhY2UpO1xuICB9XG4gIEluc2VydFJlcGxhY2VFZGl0Mi5pcyA9IGlzO1xufSkoSW5zZXJ0UmVwbGFjZUVkaXQgfHwgKEluc2VydFJlcGxhY2VFZGl0ID0ge30pKTtcbnZhciBJbnNlcnRUZXh0TW9kZTtcbihmdW5jdGlvbihJbnNlcnRUZXh0TW9kZTIpIHtcbiAgSW5zZXJ0VGV4dE1vZGUyLmFzSXMgPSAxO1xuICBJbnNlcnRUZXh0TW9kZTIuYWRqdXN0SW5kZW50YXRpb24gPSAyO1xufSkoSW5zZXJ0VGV4dE1vZGUgfHwgKEluc2VydFRleHRNb2RlID0ge30pKTtcbnZhciBDb21wbGV0aW9uSXRlbTtcbihmdW5jdGlvbihDb21wbGV0aW9uSXRlbTIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsKSB7XG4gICAgcmV0dXJuIHsgbGFiZWwgfTtcbiAgfVxuICBDb21wbGV0aW9uSXRlbTIuY3JlYXRlID0gY3JlYXRlO1xufSkoQ29tcGxldGlvbkl0ZW0gfHwgKENvbXBsZXRpb25JdGVtID0ge30pKTtcbnZhciBDb21wbGV0aW9uTGlzdDtcbihmdW5jdGlvbihDb21wbGV0aW9uTGlzdDIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKGl0ZW1zLCBpc0luY29tcGxldGUpIHtcbiAgICByZXR1cm4geyBpdGVtczogaXRlbXMgPyBpdGVtcyA6IFtdLCBpc0luY29tcGxldGU6ICEhaXNJbmNvbXBsZXRlIH07XG4gIH1cbiAgQ29tcGxldGlvbkxpc3QyLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKENvbXBsZXRpb25MaXN0IHx8IChDb21wbGV0aW9uTGlzdCA9IHt9KSk7XG52YXIgTWFya2VkU3RyaW5nO1xuKGZ1bmN0aW9uKE1hcmtlZFN0cmluZzIpIHtcbiAgZnVuY3Rpb24gZnJvbVBsYWluVGV4dChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gcGxhaW5UZXh0LnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCBcIlxcXFwkJlwiKTtcbiAgfVxuICBNYXJrZWRTdHJpbmcyLmZyb21QbGFpblRleHQgPSBmcm9tUGxhaW5UZXh0O1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuc3RyaW5nKGNhbmRpZGF0ZSkgfHwgSXMub2JqZWN0TGl0ZXJhbChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUubGFuZ3VhZ2UpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudmFsdWUpO1xuICB9XG4gIE1hcmtlZFN0cmluZzIuaXMgPSBpcztcbn0pKE1hcmtlZFN0cmluZyB8fCAoTWFya2VkU3RyaW5nID0ge30pKTtcbnZhciBIb3ZlcjtcbihmdW5jdGlvbihIb3ZlcjIpIHtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuICEhY2FuZGlkYXRlICYmIElzLm9iamVjdExpdGVyYWwoY2FuZGlkYXRlKSAmJiAoTWFya3VwQ29udGVudC5pcyhjYW5kaWRhdGUuY29udGVudHMpIHx8IE1hcmtlZFN0cmluZy5pcyhjYW5kaWRhdGUuY29udGVudHMpIHx8IElzLnR5cGVkQXJyYXkoY2FuZGlkYXRlLmNvbnRlbnRzLCBNYXJrZWRTdHJpbmcuaXMpKSAmJiAodmFsdWUucmFuZ2UgPT09IHZvaWQgMCB8fCBSYW5nZS5pcyh2YWx1ZS5yYW5nZSkpO1xuICB9XG4gIEhvdmVyMi5pcyA9IGlzO1xufSkoSG92ZXIgfHwgKEhvdmVyID0ge30pKTtcbnZhciBQYXJhbWV0ZXJJbmZvcm1hdGlvbjtcbihmdW5jdGlvbihQYXJhbWV0ZXJJbmZvcm1hdGlvbjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKGxhYmVsLCBkb2N1bWVudGF0aW9uKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50YXRpb24gPyB7IGxhYmVsLCBkb2N1bWVudGF0aW9uIH0gOiB7IGxhYmVsIH07XG4gIH1cbiAgUGFyYW1ldGVySW5mb3JtYXRpb24yLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKFBhcmFtZXRlckluZm9ybWF0aW9uIHx8IChQYXJhbWV0ZXJJbmZvcm1hdGlvbiA9IHt9KSk7XG52YXIgU2lnbmF0dXJlSW5mb3JtYXRpb247XG4oZnVuY3Rpb24oU2lnbmF0dXJlSW5mb3JtYXRpb24yKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShsYWJlbCwgZG9jdW1lbnRhdGlvbikge1xuICAgIHZhciBwYXJhbWV0ZXJzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHBhcmFtZXRlcnNbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHQgPSB7IGxhYmVsIH07XG4gICAgaWYgKElzLmRlZmluZWQoZG9jdW1lbnRhdGlvbikpIHtcbiAgICAgIHJlc3VsdC5kb2N1bWVudGF0aW9uID0gZG9jdW1lbnRhdGlvbjtcbiAgICB9XG4gICAgaWYgKElzLmRlZmluZWQocGFyYW1ldGVycykpIHtcbiAgICAgIHJlc3VsdC5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0LnBhcmFtZXRlcnMgPSBbXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBTaWduYXR1cmVJbmZvcm1hdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xufSkoU2lnbmF0dXJlSW5mb3JtYXRpb24gfHwgKFNpZ25hdHVyZUluZm9ybWF0aW9uID0ge30pKTtcbnZhciBEb2N1bWVudEhpZ2hsaWdodEtpbmQ7XG4oZnVuY3Rpb24oRG9jdW1lbnRIaWdobGlnaHRLaW5kMikge1xuICBEb2N1bWVudEhpZ2hsaWdodEtpbmQyLlRleHQgPSAxO1xuICBEb2N1bWVudEhpZ2hsaWdodEtpbmQyLlJlYWQgPSAyO1xuICBEb2N1bWVudEhpZ2hsaWdodEtpbmQyLldyaXRlID0gMztcbn0pKERvY3VtZW50SGlnaGxpZ2h0S2luZCB8fCAoRG9jdW1lbnRIaWdobGlnaHRLaW5kID0ge30pKTtcbnZhciBEb2N1bWVudEhpZ2hsaWdodDtcbihmdW5jdGlvbihEb2N1bWVudEhpZ2hsaWdodDIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHJhbmdlLCBraW5kKSB7XG4gICAgdmFyIHJlc3VsdCA9IHsgcmFuZ2UgfTtcbiAgICBpZiAoSXMubnVtYmVyKGtpbmQpKSB7XG4gICAgICByZXN1bHQua2luZCA9IGtpbmQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgRG9jdW1lbnRIaWdobGlnaHQyLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKERvY3VtZW50SGlnaGxpZ2h0IHx8IChEb2N1bWVudEhpZ2hsaWdodCA9IHt9KSk7XG52YXIgU3ltYm9sS2luZDtcbihmdW5jdGlvbihTeW1ib2xLaW5kMikge1xuICBTeW1ib2xLaW5kMi5GaWxlID0gMTtcbiAgU3ltYm9sS2luZDIuTW9kdWxlID0gMjtcbiAgU3ltYm9sS2luZDIuTmFtZXNwYWNlID0gMztcbiAgU3ltYm9sS2luZDIuUGFja2FnZSA9IDQ7XG4gIFN5bWJvbEtpbmQyLkNsYXNzID0gNTtcbiAgU3ltYm9sS2luZDIuTWV0aG9kID0gNjtcbiAgU3ltYm9sS2luZDIuUHJvcGVydHkgPSA3O1xuICBTeW1ib2xLaW5kMi5GaWVsZCA9IDg7XG4gIFN5bWJvbEtpbmQyLkNvbnN0cnVjdG9yID0gOTtcbiAgU3ltYm9sS2luZDIuRW51bSA9IDEwO1xuICBTeW1ib2xLaW5kMi5JbnRlcmZhY2UgPSAxMTtcbiAgU3ltYm9sS2luZDIuRnVuY3Rpb24gPSAxMjtcbiAgU3ltYm9sS2luZDIuVmFyaWFibGUgPSAxMztcbiAgU3ltYm9sS2luZDIuQ29uc3RhbnQgPSAxNDtcbiAgU3ltYm9sS2luZDIuU3RyaW5nID0gMTU7XG4gIFN5bWJvbEtpbmQyLk51bWJlciA9IDE2O1xuICBTeW1ib2xLaW5kMi5Cb29sZWFuID0gMTc7XG4gIFN5bWJvbEtpbmQyLkFycmF5ID0gMTg7XG4gIFN5bWJvbEtpbmQyLk9iamVjdCA9IDE5O1xuICBTeW1ib2xLaW5kMi5LZXkgPSAyMDtcbiAgU3ltYm9sS2luZDIuTnVsbCA9IDIxO1xuICBTeW1ib2xLaW5kMi5FbnVtTWVtYmVyID0gMjI7XG4gIFN5bWJvbEtpbmQyLlN0cnVjdCA9IDIzO1xuICBTeW1ib2xLaW5kMi5FdmVudCA9IDI0O1xuICBTeW1ib2xLaW5kMi5PcGVyYXRvciA9IDI1O1xuICBTeW1ib2xLaW5kMi5UeXBlUGFyYW1ldGVyID0gMjY7XG59KShTeW1ib2xLaW5kIHx8IChTeW1ib2xLaW5kID0ge30pKTtcbnZhciBTeW1ib2xUYWc7XG4oZnVuY3Rpb24oU3ltYm9sVGFnMikge1xuICBTeW1ib2xUYWcyLkRlcHJlY2F0ZWQgPSAxO1xufSkoU3ltYm9sVGFnIHx8IChTeW1ib2xUYWcgPSB7fSkpO1xudmFyIFN5bWJvbEluZm9ybWF0aW9uO1xuKGZ1bmN0aW9uKFN5bWJvbEluZm9ybWF0aW9uMikge1xuICBmdW5jdGlvbiBjcmVhdGUobmFtZSwga2luZCwgcmFuZ2UsIHVyaSwgY29udGFpbmVyTmFtZSkge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBuYW1lLFxuICAgICAga2luZCxcbiAgICAgIGxvY2F0aW9uOiB7IHVyaSwgcmFuZ2UgfVxuICAgIH07XG4gICAgaWYgKGNvbnRhaW5lck5hbWUpIHtcbiAgICAgIHJlc3VsdC5jb250YWluZXJOYW1lID0gY29udGFpbmVyTmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBTeW1ib2xJbmZvcm1hdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xufSkoU3ltYm9sSW5mb3JtYXRpb24gfHwgKFN5bWJvbEluZm9ybWF0aW9uID0ge30pKTtcbnZhciBEb2N1bWVudFN5bWJvbDtcbihmdW5jdGlvbihEb2N1bWVudFN5bWJvbDIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKG5hbWUsIGRldGFpbCwga2luZCwgcmFuZ2UsIHNlbGVjdGlvblJhbmdlLCBjaGlsZHJlbikge1xuICAgIHZhciByZXN1bHQgPSB7XG4gICAgICBuYW1lLFxuICAgICAgZGV0YWlsLFxuICAgICAga2luZCxcbiAgICAgIHJhbmdlLFxuICAgICAgc2VsZWN0aW9uUmFuZ2VcbiAgICB9O1xuICAgIGlmIChjaGlsZHJlbiAhPT0gdm9pZCAwKSB7XG4gICAgICByZXN1bHQuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBEb2N1bWVudFN5bWJvbDIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUubmFtZSkgJiYgSXMubnVtYmVyKGNhbmRpZGF0ZS5raW5kKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIFJhbmdlLmlzKGNhbmRpZGF0ZS5zZWxlY3Rpb25SYW5nZSkgJiYgKGNhbmRpZGF0ZS5kZXRhaWwgPT09IHZvaWQgMCB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLmRldGFpbCkpICYmIChjYW5kaWRhdGUuZGVwcmVjYXRlZCA9PT0gdm9pZCAwIHx8IElzLmJvb2xlYW4oY2FuZGlkYXRlLmRlcHJlY2F0ZWQpKSAmJiAoY2FuZGlkYXRlLmNoaWxkcmVuID09PSB2b2lkIDAgfHwgQXJyYXkuaXNBcnJheShjYW5kaWRhdGUuY2hpbGRyZW4pKSAmJiAoY2FuZGlkYXRlLnRhZ3MgPT09IHZvaWQgMCB8fCBBcnJheS5pc0FycmF5KGNhbmRpZGF0ZS50YWdzKSk7XG4gIH1cbiAgRG9jdW1lbnRTeW1ib2wyLmlzID0gaXM7XG59KShEb2N1bWVudFN5bWJvbCB8fCAoRG9jdW1lbnRTeW1ib2wgPSB7fSkpO1xudmFyIENvZGVBY3Rpb25LaW5kO1xuKGZ1bmN0aW9uKENvZGVBY3Rpb25LaW5kMikge1xuICBDb2RlQWN0aW9uS2luZDIuRW1wdHkgPSBcIlwiO1xuICBDb2RlQWN0aW9uS2luZDIuUXVpY2tGaXggPSBcInF1aWNrZml4XCI7XG4gIENvZGVBY3Rpb25LaW5kMi5SZWZhY3RvciA9IFwicmVmYWN0b3JcIjtcbiAgQ29kZUFjdGlvbktpbmQyLlJlZmFjdG9yRXh0cmFjdCA9IFwicmVmYWN0b3IuZXh0cmFjdFwiO1xuICBDb2RlQWN0aW9uS2luZDIuUmVmYWN0b3JJbmxpbmUgPSBcInJlZmFjdG9yLmlubGluZVwiO1xuICBDb2RlQWN0aW9uS2luZDIuUmVmYWN0b3JSZXdyaXRlID0gXCJyZWZhY3Rvci5yZXdyaXRlXCI7XG4gIENvZGVBY3Rpb25LaW5kMi5Tb3VyY2UgPSBcInNvdXJjZVwiO1xuICBDb2RlQWN0aW9uS2luZDIuU291cmNlT3JnYW5pemVJbXBvcnRzID0gXCJzb3VyY2Uub3JnYW5pemVJbXBvcnRzXCI7XG4gIENvZGVBY3Rpb25LaW5kMi5Tb3VyY2VGaXhBbGwgPSBcInNvdXJjZS5maXhBbGxcIjtcbn0pKENvZGVBY3Rpb25LaW5kIHx8IChDb2RlQWN0aW9uS2luZCA9IHt9KSk7XG52YXIgQ29kZUFjdGlvbkNvbnRleHQ7XG4oZnVuY3Rpb24oQ29kZUFjdGlvbkNvbnRleHQyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShkaWFnbm9zdGljcywgb25seSkge1xuICAgIHZhciByZXN1bHQgPSB7IGRpYWdub3N0aWNzIH07XG4gICAgaWYgKG9ubHkgIT09IHZvaWQgMCAmJiBvbmx5ICE9PSBudWxsKSB7XG4gICAgICByZXN1bHQub25seSA9IG9ubHk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgQ29kZUFjdGlvbkNvbnRleHQyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5kaWFnbm9zdGljcywgRGlhZ25vc3RpYy5pcykgJiYgKGNhbmRpZGF0ZS5vbmx5ID09PSB2b2lkIDAgfHwgSXMudHlwZWRBcnJheShjYW5kaWRhdGUub25seSwgSXMuc3RyaW5nKSk7XG4gIH1cbiAgQ29kZUFjdGlvbkNvbnRleHQyLmlzID0gaXM7XG59KShDb2RlQWN0aW9uQ29udGV4dCB8fCAoQ29kZUFjdGlvbkNvbnRleHQgPSB7fSkpO1xudmFyIENvZGVBY3Rpb247XG4oZnVuY3Rpb24oQ29kZUFjdGlvbjIpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHRpdGxlLCBraW5kT3JDb21tYW5kT3JFZGl0LCBraW5kKSB7XG4gICAgdmFyIHJlc3VsdCA9IHsgdGl0bGUgfTtcbiAgICB2YXIgY2hlY2tLaW5kID0gdHJ1ZTtcbiAgICBpZiAodHlwZW9mIGtpbmRPckNvbW1hbmRPckVkaXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNoZWNrS2luZCA9IGZhbHNlO1xuICAgICAgcmVzdWx0LmtpbmQgPSBraW5kT3JDb21tYW5kT3JFZGl0O1xuICAgIH0gZWxzZSBpZiAoQ29tbWFuZC5pcyhraW5kT3JDb21tYW5kT3JFZGl0KSkge1xuICAgICAgcmVzdWx0LmNvbW1hbmQgPSBraW5kT3JDb21tYW5kT3JFZGl0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQuZWRpdCA9IGtpbmRPckNvbW1hbmRPckVkaXQ7XG4gICAgfVxuICAgIGlmIChjaGVja0tpbmQgJiYga2luZCAhPT0gdm9pZCAwKSB7XG4gICAgICByZXN1bHQua2luZCA9IGtpbmQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgQ29kZUFjdGlvbjIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gY2FuZGlkYXRlICYmIElzLnN0cmluZyhjYW5kaWRhdGUudGl0bGUpICYmIChjYW5kaWRhdGUuZGlhZ25vc3RpY3MgPT09IHZvaWQgMCB8fCBJcy50eXBlZEFycmF5KGNhbmRpZGF0ZS5kaWFnbm9zdGljcywgRGlhZ25vc3RpYy5pcykpICYmIChjYW5kaWRhdGUua2luZCA9PT0gdm9pZCAwIHx8IElzLnN0cmluZyhjYW5kaWRhdGUua2luZCkpICYmIChjYW5kaWRhdGUuZWRpdCAhPT0gdm9pZCAwIHx8IGNhbmRpZGF0ZS5jb21tYW5kICE9PSB2b2lkIDApICYmIChjYW5kaWRhdGUuY29tbWFuZCA9PT0gdm9pZCAwIHx8IENvbW1hbmQuaXMoY2FuZGlkYXRlLmNvbW1hbmQpKSAmJiAoY2FuZGlkYXRlLmlzUHJlZmVycmVkID09PSB2b2lkIDAgfHwgSXMuYm9vbGVhbihjYW5kaWRhdGUuaXNQcmVmZXJyZWQpKSAmJiAoY2FuZGlkYXRlLmVkaXQgPT09IHZvaWQgMCB8fCBXb3Jrc3BhY2VFZGl0LmlzKGNhbmRpZGF0ZS5lZGl0KSk7XG4gIH1cbiAgQ29kZUFjdGlvbjIuaXMgPSBpcztcbn0pKENvZGVBY3Rpb24gfHwgKENvZGVBY3Rpb24gPSB7fSkpO1xudmFyIENvZGVMZW5zO1xuKGZ1bmN0aW9uKENvZGVMZW5zMikge1xuICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIGRhdGEpIHtcbiAgICB2YXIgcmVzdWx0ID0geyByYW5nZSB9O1xuICAgIGlmIChJcy5kZWZpbmVkKGRhdGEpKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IGRhdGE7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgQ29kZUxlbnMyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLmNvbW1hbmQpIHx8IENvbW1hbmQuaXMoY2FuZGlkYXRlLmNvbW1hbmQpKTtcbiAgfVxuICBDb2RlTGVuczIuaXMgPSBpcztcbn0pKENvZGVMZW5zIHx8IChDb2RlTGVucyA9IHt9KSk7XG52YXIgRm9ybWF0dGluZ09wdGlvbnM7XG4oZnVuY3Rpb24oRm9ybWF0dGluZ09wdGlvbnMyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZSh0YWJTaXplLCBpbnNlcnRTcGFjZXMpIHtcbiAgICByZXR1cm4geyB0YWJTaXplLCBpbnNlcnRTcGFjZXMgfTtcbiAgfVxuICBGb3JtYXR0aW5nT3B0aW9uczIuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnVpbnRlZ2VyKGNhbmRpZGF0ZS50YWJTaXplKSAmJiBJcy5ib29sZWFuKGNhbmRpZGF0ZS5pbnNlcnRTcGFjZXMpO1xuICB9XG4gIEZvcm1hdHRpbmdPcHRpb25zMi5pcyA9IGlzO1xufSkoRm9ybWF0dGluZ09wdGlvbnMgfHwgKEZvcm1hdHRpbmdPcHRpb25zID0ge30pKTtcbnZhciBEb2N1bWVudExpbms7XG4oZnVuY3Rpb24oRG9jdW1lbnRMaW5rMikge1xuICBmdW5jdGlvbiBjcmVhdGUocmFuZ2UsIHRhcmdldCwgZGF0YSkge1xuICAgIHJldHVybiB7IHJhbmdlLCB0YXJnZXQsIGRhdGEgfTtcbiAgfVxuICBEb2N1bWVudExpbmsyLmNyZWF0ZSA9IGNyZWF0ZTtcbiAgZnVuY3Rpb24gaXModmFsdWUpIHtcbiAgICB2YXIgY2FuZGlkYXRlID0gdmFsdWU7XG4gICAgcmV0dXJuIElzLmRlZmluZWQoY2FuZGlkYXRlKSAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChJcy51bmRlZmluZWQoY2FuZGlkYXRlLnRhcmdldCkgfHwgSXMuc3RyaW5nKGNhbmRpZGF0ZS50YXJnZXQpKTtcbiAgfVxuICBEb2N1bWVudExpbmsyLmlzID0gaXM7XG59KShEb2N1bWVudExpbmsgfHwgKERvY3VtZW50TGluayA9IHt9KSk7XG52YXIgU2VsZWN0aW9uUmFuZ2U7XG4oZnVuY3Rpb24oU2VsZWN0aW9uUmFuZ2UyKSB7XG4gIGZ1bmN0aW9uIGNyZWF0ZShyYW5nZSwgcGFyZW50KSB7XG4gICAgcmV0dXJuIHsgcmFuZ2UsIHBhcmVudCB9O1xuICB9XG4gIFNlbGVjdGlvblJhbmdlMi5jcmVhdGUgPSBjcmVhdGU7XG4gIGZ1bmN0aW9uIGlzKHZhbHVlKSB7XG4gICAgdmFyIGNhbmRpZGF0ZSA9IHZhbHVlO1xuICAgIHJldHVybiBjYW5kaWRhdGUgIT09IHZvaWQgMCAmJiBSYW5nZS5pcyhjYW5kaWRhdGUucmFuZ2UpICYmIChjYW5kaWRhdGUucGFyZW50ID09PSB2b2lkIDAgfHwgU2VsZWN0aW9uUmFuZ2UyLmlzKGNhbmRpZGF0ZS5wYXJlbnQpKTtcbiAgfVxuICBTZWxlY3Rpb25SYW5nZTIuaXMgPSBpcztcbn0pKFNlbGVjdGlvblJhbmdlIHx8IChTZWxlY3Rpb25SYW5nZSA9IHt9KSk7XG52YXIgVGV4dERvY3VtZW50O1xuKGZ1bmN0aW9uKFRleHREb2N1bWVudDMpIHtcbiAgZnVuY3Rpb24gY3JlYXRlKHVyaSwgbGFuZ3VhZ2VJZCwgdmVyc2lvbiwgY29udGVudCkge1xuICAgIHJldHVybiBuZXcgRnVsbFRleHREb2N1bWVudCh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpO1xuICB9XG4gIFRleHREb2N1bWVudDMuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiBpcyh2YWx1ZSkge1xuICAgIHZhciBjYW5kaWRhdGUgPSB2YWx1ZTtcbiAgICByZXR1cm4gSXMuZGVmaW5lZChjYW5kaWRhdGUpICYmIElzLnN0cmluZyhjYW5kaWRhdGUudXJpKSAmJiAoSXMudW5kZWZpbmVkKGNhbmRpZGF0ZS5sYW5ndWFnZUlkKSB8fCBJcy5zdHJpbmcoY2FuZGlkYXRlLmxhbmd1YWdlSWQpKSAmJiBJcy51aW50ZWdlcihjYW5kaWRhdGUubGluZUNvdW50KSAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5nZXRUZXh0KSAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5wb3NpdGlvbkF0KSAmJiBJcy5mdW5jKGNhbmRpZGF0ZS5vZmZzZXRBdCkgPyB0cnVlIDogZmFsc2U7XG4gIH1cbiAgVGV4dERvY3VtZW50My5pcyA9IGlzO1xuICBmdW5jdGlvbiBhcHBseUVkaXRzKGRvY3VtZW50LCBlZGl0cykge1xuICAgIHZhciB0ZXh0ID0gZG9jdW1lbnQuZ2V0VGV4dCgpO1xuICAgIHZhciBzb3J0ZWRFZGl0cyA9IG1lcmdlU29ydDIoZWRpdHMsIGZ1bmN0aW9uKGEyLCBiKSB7XG4gICAgICB2YXIgZGlmZiA9IGEyLnJhbmdlLnN0YXJ0LmxpbmUgLSBiLnJhbmdlLnN0YXJ0LmxpbmU7XG4gICAgICBpZiAoZGlmZiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gYTIucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyIC0gYi5yYW5nZS5zdGFydC5jaGFyYWN0ZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlmZjtcbiAgICB9KTtcbiAgICB2YXIgbGFzdE1vZGlmaWVkT2Zmc2V0ID0gdGV4dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgaSA9IHNvcnRlZEVkaXRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgZSA9IHNvcnRlZEVkaXRzW2ldO1xuICAgICAgdmFyIHN0YXJ0T2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5zdGFydCk7XG4gICAgICB2YXIgZW5kT2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5lbmQpO1xuICAgICAgaWYgKGVuZE9mZnNldCA8PSBsYXN0TW9kaWZpZWRPZmZzZXQpIHtcbiAgICAgICAgdGV4dCA9IHRleHQuc3Vic3RyaW5nKDAsIHN0YXJ0T2Zmc2V0KSArIGUubmV3VGV4dCArIHRleHQuc3Vic3RyaW5nKGVuZE9mZnNldCwgdGV4dC5sZW5ndGgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT3ZlcmxhcHBpbmcgZWRpdFwiKTtcbiAgICAgIH1cbiAgICAgIGxhc3RNb2RpZmllZE9mZnNldCA9IHN0YXJ0T2Zmc2V0O1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfVxuICBUZXh0RG9jdW1lbnQzLmFwcGx5RWRpdHMgPSBhcHBseUVkaXRzO1xuICBmdW5jdGlvbiBtZXJnZVNvcnQyKGRhdGEsIGNvbXBhcmUpIHtcbiAgICBpZiAoZGF0YS5sZW5ndGggPD0gMSkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIHZhciBwID0gZGF0YS5sZW5ndGggLyAyIHwgMDtcbiAgICB2YXIgbGVmdCA9IGRhdGEuc2xpY2UoMCwgcCk7XG4gICAgdmFyIHJpZ2h0ID0gZGF0YS5zbGljZShwKTtcbiAgICBtZXJnZVNvcnQyKGxlZnQsIGNvbXBhcmUpO1xuICAgIG1lcmdlU29ydDIocmlnaHQsIGNvbXBhcmUpO1xuICAgIHZhciBsZWZ0SWR4ID0gMDtcbiAgICB2YXIgcmlnaHRJZHggPSAwO1xuICAgIHZhciBpID0gMDtcbiAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoICYmIHJpZ2h0SWR4IDwgcmlnaHQubGVuZ3RoKSB7XG4gICAgICB2YXIgcmV0ID0gY29tcGFyZShsZWZ0W2xlZnRJZHhdLCByaWdodFtyaWdodElkeF0pO1xuICAgICAgaWYgKHJldCA8PSAwKSB7XG4gICAgICAgIGRhdGFbaSsrXSA9IGxlZnRbbGVmdElkeCsrXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGFbaSsrXSA9IHJpZ2h0W3JpZ2h0SWR4KytdO1xuICAgICAgfVxuICAgIH1cbiAgICB3aGlsZSAobGVmdElkeCA8IGxlZnQubGVuZ3RoKSB7XG4gICAgICBkYXRhW2krK10gPSBsZWZ0W2xlZnRJZHgrK107XG4gICAgfVxuICAgIHdoaWxlIChyaWdodElkeCA8IHJpZ2h0Lmxlbmd0aCkge1xuICAgICAgZGF0YVtpKytdID0gcmlnaHRbcmlnaHRJZHgrK107XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9XG59KShUZXh0RG9jdW1lbnQgfHwgKFRleHREb2N1bWVudCA9IHt9KSk7XG52YXIgRnVsbFRleHREb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBGdWxsVGV4dERvY3VtZW50Myh1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcbiAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XG4gICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5fbGluZU9mZnNldHMgPSB2b2lkIDA7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQzLnByb3RvdHlwZSwgXCJ1cmlcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdXJpO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRnVsbFRleHREb2N1bWVudDMucHJvdG90eXBlLCBcImxhbmd1YWdlSWRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VJZDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQzLnByb3RvdHlwZSwgXCJ2ZXJzaW9uXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlcnNpb247XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIEZ1bGxUZXh0RG9jdW1lbnQzLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24ocmFuZ2UpIHtcbiAgICBpZiAocmFuZ2UpIHtcbiAgICAgIHZhciBzdGFydCA9IHRoaXMub2Zmc2V0QXQocmFuZ2Uuc3RhcnQpO1xuICAgICAgdmFyIGVuZCA9IHRoaXMub2Zmc2V0QXQocmFuZ2UuZW5kKTtcbiAgICAgIHJldHVybiB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2NvbnRlbnQ7XG4gIH07XG4gIEZ1bGxUZXh0RG9jdW1lbnQzLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihldmVudCwgdmVyc2lvbikge1xuICAgIHRoaXMuX2NvbnRlbnQgPSBldmVudC50ZXh0O1xuICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gdm9pZCAwO1xuICB9O1xuICBGdWxsVGV4dERvY3VtZW50My5wcm90b3R5cGUuZ2V0TGluZU9mZnNldHMgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAodGhpcy5fbGluZU9mZnNldHMgPT09IHZvaWQgMCkge1xuICAgICAgdmFyIGxpbmVPZmZzZXRzID0gW107XG4gICAgICB2YXIgdGV4dCA9IHRoaXMuX2NvbnRlbnQ7XG4gICAgICB2YXIgaXNMaW5lU3RhcnQgPSB0cnVlO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpc0xpbmVTdGFydCkge1xuICAgICAgICAgIGxpbmVPZmZzZXRzLnB1c2goaSk7XG4gICAgICAgICAgaXNMaW5lU3RhcnQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2ggPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgICAgaXNMaW5lU3RhcnQgPSBjaCA9PT0gXCJcXHJcIiB8fCBjaCA9PT0gXCJcXG5cIjtcbiAgICAgICAgaWYgKGNoID09PSBcIlxcclwiICYmIGkgKyAxIDwgdGV4dC5sZW5ndGggJiYgdGV4dC5jaGFyQXQoaSArIDEpID09PSBcIlxcblwiKSB7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNMaW5lU3RhcnQgJiYgdGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxpbmVPZmZzZXRzLnB1c2godGV4dC5sZW5ndGgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fbGluZU9mZnNldHMgPSBsaW5lT2Zmc2V0cztcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVPZmZzZXRzO1xuICB9O1xuICBGdWxsVGV4dERvY3VtZW50My5wcm90b3R5cGUucG9zaXRpb25BdCA9IGZ1bmN0aW9uKG9mZnNldCkge1xuICAgIG9mZnNldCA9IE1hdGgubWF4KE1hdGgubWluKG9mZnNldCwgdGhpcy5fY29udGVudC5sZW5ndGgpLCAwKTtcbiAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBsaW5lT2Zmc2V0cy5sZW5ndGg7XG4gICAgaWYgKGhpZ2ggPT09IDApIHtcbiAgICAgIHJldHVybiBQb3NpdGlvbi5jcmVhdGUoMCwgb2Zmc2V0KTtcbiAgICB9XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgIHZhciBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgICAgaWYgKGxpbmVPZmZzZXRzW21pZF0gPiBvZmZzZXQpIHtcbiAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBsaW5lID0gbG93IC0gMTtcbiAgICByZXR1cm4gUG9zaXRpb24uY3JlYXRlKGxpbmUsIG9mZnNldCAtIGxpbmVPZmZzZXRzW2xpbmVdKTtcbiAgfTtcbiAgRnVsbFRleHREb2N1bWVudDMucHJvdG90eXBlLm9mZnNldEF0ID0gZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICB2YXIgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgaWYgKHBvc2l0aW9uLmxpbmUgPj0gbGluZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi5saW5lIDwgMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHZhciBsaW5lT2Zmc2V0ID0gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZV07XG4gICAgdmFyIG5leHRMaW5lT2Zmc2V0ID0gcG9zaXRpb24ubGluZSArIDEgPCBsaW5lT2Zmc2V0cy5sZW5ndGggPyBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lICsgMV0gOiB0aGlzLl9jb250ZW50Lmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obGluZU9mZnNldCArIHBvc2l0aW9uLmNoYXJhY3RlciwgbmV4dExpbmVPZmZzZXQpLCBsaW5lT2Zmc2V0KTtcbiAgfTtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZ1bGxUZXh0RG9jdW1lbnQzLnByb3RvdHlwZSwgXCJsaW5lQ291bnRcIiwge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRMaW5lT2Zmc2V0cygpLmxlbmd0aDtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIEZ1bGxUZXh0RG9jdW1lbnQzO1xufSgpO1xudmFyIElzO1xuKGZ1bmN0aW9uKElzMikge1xuICB2YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuICBmdW5jdGlvbiBkZWZpbmVkKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgfVxuICBJczIuZGVmaW5lZCA9IGRlZmluZWQ7XG4gIGZ1bmN0aW9uIHVuZGVmaW5lZDIodmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcInVuZGVmaW5lZFwiO1xuICB9XG4gIElzMi51bmRlZmluZWQgPSB1bmRlZmluZWQyO1xuICBmdW5jdGlvbiBib29sZWFuKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSBmYWxzZTtcbiAgfVxuICBJczIuYm9vbGVhbiA9IGJvb2xlYW47XG4gIGZ1bmN0aW9uIHN0cmluZyh2YWx1ZSkge1xuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gXCJbb2JqZWN0IFN0cmluZ11cIjtcbiAgfVxuICBJczIuc3RyaW5nID0gc3RyaW5nO1xuICBmdW5jdGlvbiBudW1iZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBOdW1iZXJdXCI7XG4gIH1cbiAgSXMyLm51bWJlciA9IG51bWJlcjtcbiAgZnVuY3Rpb24gbnVtYmVyUmFuZ2UodmFsdWUsIG1pbiwgbWF4KSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgTnVtYmVyXVwiICYmIG1pbiA8PSB2YWx1ZSAmJiB2YWx1ZSA8PSBtYXg7XG4gIH1cbiAgSXMyLm51bWJlclJhbmdlID0gbnVtYmVyUmFuZ2U7XG4gIGZ1bmN0aW9uIGludGVnZXIyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgTnVtYmVyXVwiICYmIC0yMTQ3NDgzNjQ4IDw9IHZhbHVlICYmIHZhbHVlIDw9IDIxNDc0ODM2NDc7XG4gIH1cbiAgSXMyLmludGVnZXIgPSBpbnRlZ2VyMjtcbiAgZnVuY3Rpb24gdWludGVnZXIyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgTnVtYmVyXVwiICYmIDAgPD0gdmFsdWUgJiYgdmFsdWUgPD0gMjE0NzQ4MzY0NztcbiAgfVxuICBJczIudWludGVnZXIgPSB1aW50ZWdlcjI7XG4gIGZ1bmN0aW9uIGZ1bmModmFsdWUpIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09IFwiW29iamVjdCBGdW5jdGlvbl1cIjtcbiAgfVxuICBJczIuZnVuYyA9IGZ1bmM7XG4gIGZ1bmN0aW9uIG9iamVjdExpdGVyYWwodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgdHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiO1xuICB9XG4gIElzMi5vYmplY3RMaXRlcmFsID0gb2JqZWN0TGl0ZXJhbDtcbiAgZnVuY3Rpb24gdHlwZWRBcnJheSh2YWx1ZSwgY2hlY2spIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkoY2hlY2spO1xuICB9XG4gIElzMi50eXBlZEFycmF5ID0gdHlwZWRBcnJheTtcbn0pKElzIHx8IChJcyA9IHt9KSk7XG5cbi8vIG5vZGVfbW9kdWxlcy92c2NvZGUtbGFuZ3VhZ2VzZXJ2ZXItdGV4dGRvY3VtZW50L2xpYi9lc20vbWFpbi5qc1xudmFyIEZ1bGxUZXh0RG9jdW1lbnQyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpIHtcbiAgICB0aGlzLl91cmkgPSB1cmk7XG4gICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IGxhbmd1YWdlSWQ7XG4gICAgdGhpcy5fdmVyc2lvbiA9IHZlcnNpb247XG4gICAgdGhpcy5fY29udGVudCA9IGNvbnRlbnQ7XG4gICAgdGhpcy5fbGluZU9mZnNldHMgPSB2b2lkIDA7XG4gIH1cbiAgZ2V0IHVyaSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdXJpO1xuICB9XG4gIGdldCBsYW5ndWFnZUlkKCkge1xuICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZUlkO1xuICB9XG4gIGdldCB2ZXJzaW9uKCkge1xuICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICB9XG4gIGdldFRleHQocmFuZ2UpIHtcbiAgICBpZiAocmFuZ2UpIHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5vZmZzZXRBdChyYW5nZS5zdGFydCk7XG4gICAgICBjb25zdCBlbmQgPSB0aGlzLm9mZnNldEF0KHJhbmdlLmVuZCk7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGVudC5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jb250ZW50O1xuICB9XG4gIHVwZGF0ZShjaGFuZ2VzLCB2ZXJzaW9uKSB7XG4gICAgZm9yIChsZXQgY2hhbmdlIG9mIGNoYW5nZXMpIHtcbiAgICAgIGlmIChGdWxsVGV4dERvY3VtZW50Mi5pc0luY3JlbWVudGFsKGNoYW5nZSkpIHtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBnZXRXZWxsZm9ybWVkUmFuZ2UoY2hhbmdlLnJhbmdlKTtcbiAgICAgICAgY29uc3Qgc3RhcnRPZmZzZXQgPSB0aGlzLm9mZnNldEF0KHJhbmdlLnN0YXJ0KTtcbiAgICAgICAgY29uc3QgZW5kT2Zmc2V0ID0gdGhpcy5vZmZzZXRBdChyYW5nZS5lbmQpO1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gdGhpcy5fY29udGVudC5zdWJzdHJpbmcoMCwgc3RhcnRPZmZzZXQpICsgY2hhbmdlLnRleHQgKyB0aGlzLl9jb250ZW50LnN1YnN0cmluZyhlbmRPZmZzZXQsIHRoaXMuX2NvbnRlbnQubGVuZ3RoKTtcbiAgICAgICAgY29uc3Qgc3RhcnRMaW5lID0gTWF0aC5tYXgocmFuZ2Uuc3RhcnQubGluZSwgMCk7XG4gICAgICAgIGNvbnN0IGVuZExpbmUgPSBNYXRoLm1heChyYW5nZS5lbmQubGluZSwgMCk7XG4gICAgICAgIGxldCBsaW5lT2Zmc2V0cyA9IHRoaXMuX2xpbmVPZmZzZXRzO1xuICAgICAgICBjb25zdCBhZGRlZExpbmVPZmZzZXRzID0gY29tcHV0ZUxpbmVPZmZzZXRzKGNoYW5nZS50ZXh0LCBmYWxzZSwgc3RhcnRPZmZzZXQpO1xuICAgICAgICBpZiAoZW5kTGluZSAtIHN0YXJ0TGluZSA9PT0gYWRkZWRMaW5lT2Zmc2V0cy5sZW5ndGgpIHtcbiAgICAgICAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gYWRkZWRMaW5lT2Zmc2V0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgbGluZU9mZnNldHNbaSArIHN0YXJ0TGluZSArIDFdID0gYWRkZWRMaW5lT2Zmc2V0c1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKGFkZGVkTGluZU9mZnNldHMubGVuZ3RoIDwgMWU0KSB7XG4gICAgICAgICAgICBsaW5lT2Zmc2V0cy5zcGxpY2Uoc3RhcnRMaW5lICsgMSwgZW5kTGluZSAtIHN0YXJ0TGluZSwgLi4uYWRkZWRMaW5lT2Zmc2V0cyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gbGluZU9mZnNldHMgPSBsaW5lT2Zmc2V0cy5zbGljZSgwLCBzdGFydExpbmUgKyAxKS5jb25jYXQoYWRkZWRMaW5lT2Zmc2V0cywgbGluZU9mZnNldHMuc2xpY2UoZW5kTGluZSArIDEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIChlbmRPZmZzZXQgLSBzdGFydE9mZnNldCk7XG4gICAgICAgIGlmIChkaWZmICE9PSAwKSB7XG4gICAgICAgICAgZm9yIChsZXQgaSA9IHN0YXJ0TGluZSArIDEgKyBhZGRlZExpbmVPZmZzZXRzLmxlbmd0aCwgbGVuID0gbGluZU9mZnNldHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxpbmVPZmZzZXRzW2ldID0gbGluZU9mZnNldHNbaV0gKyBkaWZmO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChGdWxsVGV4dERvY3VtZW50Mi5pc0Z1bGwoY2hhbmdlKSkge1xuICAgICAgICB0aGlzLl9jb250ZW50ID0gY2hhbmdlLnRleHQ7XG4gICAgICAgIHRoaXMuX2xpbmVPZmZzZXRzID0gdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjaGFuZ2UgZXZlbnQgcmVjZWl2ZWRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX3ZlcnNpb24gPSB2ZXJzaW9uO1xuICB9XG4gIGdldExpbmVPZmZzZXRzKCkge1xuICAgIGlmICh0aGlzLl9saW5lT2Zmc2V0cyA9PT0gdm9pZCAwKSB7XG4gICAgICB0aGlzLl9saW5lT2Zmc2V0cyA9IGNvbXB1dGVMaW5lT2Zmc2V0cyh0aGlzLl9jb250ZW50LCB0cnVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2xpbmVPZmZzZXRzO1xuICB9XG4gIHBvc2l0aW9uQXQob2Zmc2V0KSB7XG4gICAgb2Zmc2V0ID0gTWF0aC5tYXgoTWF0aC5taW4ob2Zmc2V0LCB0aGlzLl9jb250ZW50Lmxlbmd0aCksIDApO1xuICAgIGxldCBsaW5lT2Zmc2V0cyA9IHRoaXMuZ2V0TGluZU9mZnNldHMoKTtcbiAgICBsZXQgbG93ID0gMCwgaGlnaCA9IGxpbmVPZmZzZXRzLmxlbmd0aDtcbiAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgbGluZTogMCwgY2hhcmFjdGVyOiBvZmZzZXQgfTtcbiAgICB9XG4gICAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICAgIGxldCBtaWQgPSBNYXRoLmZsb29yKChsb3cgKyBoaWdoKSAvIDIpO1xuICAgICAgaWYgKGxpbmVPZmZzZXRzW21pZF0gPiBvZmZzZXQpIHtcbiAgICAgICAgaGlnaCA9IG1pZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBsaW5lID0gbG93IC0gMTtcbiAgICByZXR1cm4geyBsaW5lLCBjaGFyYWN0ZXI6IG9mZnNldCAtIGxpbmVPZmZzZXRzW2xpbmVdIH07XG4gIH1cbiAgb2Zmc2V0QXQocG9zaXRpb24pIHtcbiAgICBsZXQgbGluZU9mZnNldHMgPSB0aGlzLmdldExpbmVPZmZzZXRzKCk7XG4gICAgaWYgKHBvc2l0aW9uLmxpbmUgPj0gbGluZU9mZnNldHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gdGhpcy5fY29udGVudC5sZW5ndGg7XG4gICAgfSBlbHNlIGlmIChwb3NpdGlvbi5saW5lIDwgMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGxldCBsaW5lT2Zmc2V0ID0gbGluZU9mZnNldHNbcG9zaXRpb24ubGluZV07XG4gICAgbGV0IG5leHRMaW5lT2Zmc2V0ID0gcG9zaXRpb24ubGluZSArIDEgPCBsaW5lT2Zmc2V0cy5sZW5ndGggPyBsaW5lT2Zmc2V0c1twb3NpdGlvbi5saW5lICsgMV0gOiB0aGlzLl9jb250ZW50Lmxlbmd0aDtcbiAgICByZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4obGluZU9mZnNldCArIHBvc2l0aW9uLmNoYXJhY3RlciwgbmV4dExpbmVPZmZzZXQpLCBsaW5lT2Zmc2V0KTtcbiAgfVxuICBnZXQgbGluZUNvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldExpbmVPZmZzZXRzKCkubGVuZ3RoO1xuICB9XG4gIHN0YXRpYyBpc0luY3JlbWVudGFsKGV2ZW50KSB7XG4gICAgbGV0IGNhbmRpZGF0ZSA9IGV2ZW50O1xuICAgIHJldHVybiBjYW5kaWRhdGUgIT09IHZvaWQgMCAmJiBjYW5kaWRhdGUgIT09IG51bGwgJiYgdHlwZW9mIGNhbmRpZGF0ZS50ZXh0ID09PSBcInN0cmluZ1wiICYmIGNhbmRpZGF0ZS5yYW5nZSAhPT0gdm9pZCAwICYmIChjYW5kaWRhdGUucmFuZ2VMZW5ndGggPT09IHZvaWQgMCB8fCB0eXBlb2YgY2FuZGlkYXRlLnJhbmdlTGVuZ3RoID09PSBcIm51bWJlclwiKTtcbiAgfVxuICBzdGF0aWMgaXNGdWxsKGV2ZW50KSB7XG4gICAgbGV0IGNhbmRpZGF0ZSA9IGV2ZW50O1xuICAgIHJldHVybiBjYW5kaWRhdGUgIT09IHZvaWQgMCAmJiBjYW5kaWRhdGUgIT09IG51bGwgJiYgdHlwZW9mIGNhbmRpZGF0ZS50ZXh0ID09PSBcInN0cmluZ1wiICYmIGNhbmRpZGF0ZS5yYW5nZSA9PT0gdm9pZCAwICYmIGNhbmRpZGF0ZS5yYW5nZUxlbmd0aCA9PT0gdm9pZCAwO1xuICB9XG59O1xudmFyIFRleHREb2N1bWVudDI7XG4oZnVuY3Rpb24oVGV4dERvY3VtZW50Mykge1xuICBmdW5jdGlvbiBjcmVhdGUodXJpLCBsYW5ndWFnZUlkLCB2ZXJzaW9uLCBjb250ZW50KSB7XG4gICAgcmV0dXJuIG5ldyBGdWxsVGV4dERvY3VtZW50Mih1cmksIGxhbmd1YWdlSWQsIHZlcnNpb24sIGNvbnRlbnQpO1xuICB9XG4gIFRleHREb2N1bWVudDMuY3JlYXRlID0gY3JlYXRlO1xuICBmdW5jdGlvbiB1cGRhdGUoZG9jdW1lbnQsIGNoYW5nZXMsIHZlcnNpb24pIHtcbiAgICBpZiAoZG9jdW1lbnQgaW5zdGFuY2VvZiBGdWxsVGV4dERvY3VtZW50Mikge1xuICAgICAgZG9jdW1lbnQudXBkYXRlKGNoYW5nZXMsIHZlcnNpb24pO1xuICAgICAgcmV0dXJuIGRvY3VtZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUZXh0RG9jdW1lbnQudXBkYXRlOiBkb2N1bWVudCBtdXN0IGJlIGNyZWF0ZWQgYnkgVGV4dERvY3VtZW50LmNyZWF0ZVwiKTtcbiAgICB9XG4gIH1cbiAgVGV4dERvY3VtZW50My51cGRhdGUgPSB1cGRhdGU7XG4gIGZ1bmN0aW9uIGFwcGx5RWRpdHMoZG9jdW1lbnQsIGVkaXRzKSB7XG4gICAgbGV0IHRleHQgPSBkb2N1bWVudC5nZXRUZXh0KCk7XG4gICAgbGV0IHNvcnRlZEVkaXRzID0gbWVyZ2VTb3J0KGVkaXRzLm1hcChnZXRXZWxsZm9ybWVkRWRpdCksIChhMiwgYikgPT4ge1xuICAgICAgbGV0IGRpZmYgPSBhMi5yYW5nZS5zdGFydC5saW5lIC0gYi5yYW5nZS5zdGFydC5saW5lO1xuICAgICAgaWYgKGRpZmYgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGEyLnJhbmdlLnN0YXJ0LmNoYXJhY3RlciAtIGIucmFuZ2Uuc3RhcnQuY2hhcmFjdGVyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRpZmY7XG4gICAgfSk7XG4gICAgbGV0IGxhc3RNb2RpZmllZE9mZnNldCA9IDA7XG4gICAgY29uc3Qgc3BhbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGUgb2Ygc29ydGVkRWRpdHMpIHtcbiAgICAgIGxldCBzdGFydE9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KGUucmFuZ2Uuc3RhcnQpO1xuICAgICAgaWYgKHN0YXJ0T2Zmc2V0IDwgbGFzdE1vZGlmaWVkT2Zmc2V0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk92ZXJsYXBwaW5nIGVkaXRcIik7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0T2Zmc2V0ID4gbGFzdE1vZGlmaWVkT2Zmc2V0KSB7XG4gICAgICAgIHNwYW5zLnB1c2godGV4dC5zdWJzdHJpbmcobGFzdE1vZGlmaWVkT2Zmc2V0LCBzdGFydE9mZnNldCkpO1xuICAgICAgfVxuICAgICAgaWYgKGUubmV3VGV4dC5sZW5ndGgpIHtcbiAgICAgICAgc3BhbnMucHVzaChlLm5ld1RleHQpO1xuICAgICAgfVxuICAgICAgbGFzdE1vZGlmaWVkT2Zmc2V0ID0gZG9jdW1lbnQub2Zmc2V0QXQoZS5yYW5nZS5lbmQpO1xuICAgIH1cbiAgICBzcGFucy5wdXNoKHRleHQuc3Vic3RyKGxhc3RNb2RpZmllZE9mZnNldCkpO1xuICAgIHJldHVybiBzcGFucy5qb2luKFwiXCIpO1xuICB9XG4gIFRleHREb2N1bWVudDMuYXBwbHlFZGl0cyA9IGFwcGx5RWRpdHM7XG59KShUZXh0RG9jdW1lbnQyIHx8IChUZXh0RG9jdW1lbnQyID0ge30pKTtcbmZ1bmN0aW9uIG1lcmdlU29ydChkYXRhLCBjb21wYXJlKSB7XG4gIGlmIChkYXRhLmxlbmd0aCA8PSAxKSB7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cbiAgY29uc3QgcCA9IGRhdGEubGVuZ3RoIC8gMiB8IDA7XG4gIGNvbnN0IGxlZnQgPSBkYXRhLnNsaWNlKDAsIHApO1xuICBjb25zdCByaWdodCA9IGRhdGEuc2xpY2UocCk7XG4gIG1lcmdlU29ydChsZWZ0LCBjb21wYXJlKTtcbiAgbWVyZ2VTb3J0KHJpZ2h0LCBjb21wYXJlKTtcbiAgbGV0IGxlZnRJZHggPSAwO1xuICBsZXQgcmlnaHRJZHggPSAwO1xuICBsZXQgaSA9IDA7XG4gIHdoaWxlIChsZWZ0SWR4IDwgbGVmdC5sZW5ndGggJiYgcmlnaHRJZHggPCByaWdodC5sZW5ndGgpIHtcbiAgICBsZXQgcmV0ID0gY29tcGFyZShsZWZ0W2xlZnRJZHhdLCByaWdodFtyaWdodElkeF0pO1xuICAgIGlmIChyZXQgPD0gMCkge1xuICAgICAgZGF0YVtpKytdID0gbGVmdFtsZWZ0SWR4KytdO1xuICAgIH0gZWxzZSB7XG4gICAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgICB9XG4gIH1cbiAgd2hpbGUgKGxlZnRJZHggPCBsZWZ0Lmxlbmd0aCkge1xuICAgIGRhdGFbaSsrXSA9IGxlZnRbbGVmdElkeCsrXTtcbiAgfVxuICB3aGlsZSAocmlnaHRJZHggPCByaWdodC5sZW5ndGgpIHtcbiAgICBkYXRhW2krK10gPSByaWdodFtyaWdodElkeCsrXTtcbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cbmZ1bmN0aW9uIGNvbXB1dGVMaW5lT2Zmc2V0cyh0ZXh0LCBpc0F0TGluZVN0YXJ0LCB0ZXh0T2Zmc2V0ID0gMCkge1xuICBjb25zdCByZXN1bHQgPSBpc0F0TGluZVN0YXJ0ID8gW3RleHRPZmZzZXRdIDogW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGV4dC5sZW5ndGg7IGkrKykge1xuICAgIGxldCBjaCA9IHRleHQuY2hhckNvZGVBdChpKTtcbiAgICBpZiAoY2ggPT09IDEzIHx8IGNoID09PSAxMCkge1xuICAgICAgaWYgKGNoID09PSAxMyAmJiBpICsgMSA8IHRleHQubGVuZ3RoICYmIHRleHQuY2hhckNvZGVBdChpICsgMSkgPT09IDEwKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHRleHRPZmZzZXQgKyBpICsgMSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBnZXRXZWxsZm9ybWVkUmFuZ2UocmFuZ2UpIHtcbiAgY29uc3Qgc3RhcnQgPSByYW5nZS5zdGFydDtcbiAgY29uc3QgZW5kID0gcmFuZ2UuZW5kO1xuICBpZiAoc3RhcnQubGluZSA+IGVuZC5saW5lIHx8IHN0YXJ0LmxpbmUgPT09IGVuZC5saW5lICYmIHN0YXJ0LmNoYXJhY3RlciA+IGVuZC5jaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4geyBzdGFydDogZW5kLCBlbmQ6IHN0YXJ0IH07XG4gIH1cbiAgcmV0dXJuIHJhbmdlO1xufVxuZnVuY3Rpb24gZ2V0V2VsbGZvcm1lZEVkaXQodGV4dEVkaXQpIHtcbiAgY29uc3QgcmFuZ2UgPSBnZXRXZWxsZm9ybWVkUmFuZ2UodGV4dEVkaXQucmFuZ2UpO1xuICBpZiAocmFuZ2UgIT09IHRleHRFZGl0LnJhbmdlKSB7XG4gICAgcmV0dXJuIHsgbmV3VGV4dDogdGV4dEVkaXQubmV3VGV4dCwgcmFuZ2UgfTtcbiAgfVxuICByZXR1cm4gdGV4dEVkaXQ7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvbGliL2VzbS9qc29uTGFuZ3VhZ2VUeXBlcy5qc1xudmFyIEVycm9yQ29kZTtcbihmdW5jdGlvbihFcnJvckNvZGUyKSB7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIlVuZGVmaW5lZFwiXSA9IDBdID0gXCJVbmRlZmluZWRcIjtcbiAgRXJyb3JDb2RlMltFcnJvckNvZGUyW1wiRW51bVZhbHVlTWlzbWF0Y2hcIl0gPSAxXSA9IFwiRW51bVZhbHVlTWlzbWF0Y2hcIjtcbiAgRXJyb3JDb2RlMltFcnJvckNvZGUyW1wiRGVwcmVjYXRlZFwiXSA9IDJdID0gXCJEZXByZWNhdGVkXCI7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnRcIl0gPSAyNTddID0gXCJVbmV4cGVjdGVkRW5kT2ZDb21tZW50XCI7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiXSA9IDI1OF0gPSBcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIl0gPSAyNTldID0gXCJVbmV4cGVjdGVkRW5kT2ZOdW1iZXJcIjtcbiAgRXJyb3JDb2RlMltFcnJvckNvZGUyW1wiSW52YWxpZFVuaWNvZGVcIl0gPSAyNjBdID0gXCJJbnZhbGlkVW5pY29kZVwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJJbnZhbGlkRXNjYXBlQ2hhcmFjdGVyXCJdID0gMjYxXSA9IFwiSW52YWxpZEVzY2FwZUNoYXJhY3RlclwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJJbnZhbGlkQ2hhcmFjdGVyXCJdID0gMjYyXSA9IFwiSW52YWxpZENoYXJhY3RlclwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJQcm9wZXJ0eUV4cGVjdGVkXCJdID0gNTEzXSA9IFwiUHJvcGVydHlFeHBlY3RlZFwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJDb21tYUV4cGVjdGVkXCJdID0gNTE0XSA9IFwiQ29tbWFFeHBlY3RlZFwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJDb2xvbkV4cGVjdGVkXCJdID0gNTE1XSA9IFwiQ29sb25FeHBlY3RlZFwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJWYWx1ZUV4cGVjdGVkXCJdID0gNTE2XSA9IFwiVmFsdWVFeHBlY3RlZFwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJDb21tYU9yQ2xvc2VCYWNrZXRFeHBlY3RlZFwiXSA9IDUxN10gPSBcIkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkXCI7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIkNvbW1hT3JDbG9zZUJyYWNlRXhwZWN0ZWRcIl0gPSA1MThdID0gXCJDb21tYU9yQ2xvc2VCcmFjZUV4cGVjdGVkXCI7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIlRyYWlsaW5nQ29tbWFcIl0gPSA1MTldID0gXCJUcmFpbGluZ0NvbW1hXCI7XG4gIEVycm9yQ29kZTJbRXJyb3JDb2RlMltcIkR1cGxpY2F0ZUtleVwiXSA9IDUyMF0gPSBcIkR1cGxpY2F0ZUtleVwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJDb21tZW50Tm90UGVybWl0dGVkXCJdID0gNTIxXSA9IFwiQ29tbWVudE5vdFBlcm1pdHRlZFwiO1xuICBFcnJvckNvZGUyW0Vycm9yQ29kZTJbXCJTY2hlbWFSZXNvbHZlRXJyb3JcIl0gPSA3NjhdID0gXCJTY2hlbWFSZXNvbHZlRXJyb3JcIjtcbn0pKEVycm9yQ29kZSB8fCAoRXJyb3JDb2RlID0ge30pKTtcbnZhciBDbGllbnRDYXBhYmlsaXRpZXM7XG4oZnVuY3Rpb24oQ2xpZW50Q2FwYWJpbGl0aWVzMikge1xuICBDbGllbnRDYXBhYmlsaXRpZXMyLkxBVEVTVCA9IHtcbiAgICB0ZXh0RG9jdW1lbnQ6IHtcbiAgICAgIGNvbXBsZXRpb246IHtcbiAgICAgICAgY29tcGxldGlvbkl0ZW06IHtcbiAgICAgICAgICBkb2N1bWVudGF0aW9uRm9ybWF0OiBbTWFya3VwS2luZC5NYXJrZG93biwgTWFya3VwS2luZC5QbGFpblRleHRdLFxuICAgICAgICAgIGNvbW1pdENoYXJhY3RlcnNTdXBwb3J0OiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG59KShDbGllbnRDYXBhYmlsaXRpZXMgfHwgKENsaWVudENhcGFiaWxpdGllcyA9IHt9KSk7XG5cbi8vIGJ1aWxkL2ZpbGxlcnMvdnNjb2RlLW5scy50c1xuZnVuY3Rpb24gZm9ybWF0MyhtZXNzYWdlLCBhcmdzKSB7XG4gIGxldCByZXN1bHQ7XG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJlc3VsdCA9IG1lc3NhZ2U7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gbWVzc2FnZS5yZXBsYWNlKC9cXHsoXFxkKylcXH0vZywgKG1hdGNoLCByZXN0KSA9PiB7XG4gICAgICBsZXQgaW5kZXggPSByZXN0WzBdO1xuICAgICAgcmV0dXJuIHR5cGVvZiBhcmdzW2luZGV4XSAhPT0gXCJ1bmRlZmluZWRcIiA/IGFyZ3NbaW5kZXhdIDogbWF0Y2g7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIGxvY2FsaXplKGtleSwgbWVzc2FnZSwgLi4uYXJncykge1xuICByZXR1cm4gZm9ybWF0MyhtZXNzYWdlLCBhcmdzKTtcbn1cbmZ1bmN0aW9uIGxvYWRNZXNzYWdlQnVuZGxlKGZpbGUpIHtcbiAgcmV0dXJuIGxvY2FsaXplO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vcGFyc2VyL2pzb25QYXJzZXIuanNcbnZhciBfX2V4dGVuZHMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uKGQyLCBiMikge1xuICAgICAgZDIuX19wcm90b19fID0gYjI7XG4gICAgfSB8fCBmdW5jdGlvbihkMiwgYjIpIHtcbiAgICAgIGZvciAodmFyIHAgaW4gYjIpXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYjIsIHApKVxuICAgICAgICAgIGQyW3BdID0gYjJbcF07XG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgfTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGQsIGIpIHtcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgZnVuY3Rpb24gX18oKSB7XG4gICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICB9XG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICB9O1xufSgpO1xudmFyIGxvY2FsaXplMiA9IGxvYWRNZXNzYWdlQnVuZGxlKCk7XG52YXIgZm9ybWF0cyA9IHtcbiAgXCJjb2xvci1oZXhcIjogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplMihcImNvbG9ySGV4Rm9ybWF0V2FybmluZ1wiLCBcIkludmFsaWQgY29sb3IgZm9ybWF0LiBVc2UgI1JHQiwgI1JHQkEsICNSUkdHQkIgb3IgI1JSR0dCQkFBLlwiKSwgcGF0dGVybjogL14jKFswLTlBLUZhLWZdezMsNH18KFswLTlBLUZhLWZdezJ9KXszLDR9KSQvIH0sXG4gIFwiZGF0ZS10aW1lXCI6IHsgZXJyb3JNZXNzYWdlOiBsb2NhbGl6ZTIoXCJkYXRlVGltZUZvcm1hdFdhcm5pbmdcIiwgXCJTdHJpbmcgaXMgbm90IGEgUkZDMzMzOSBkYXRlLXRpbWUuXCIpLCBwYXR0ZXJuOiAvXihcXGR7NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSlUKFswMV1bMC05XXwyWzAtM10pOihbMC01XVswLTldKTooWzAtNV1bMC05XXw2MCkoXFwuWzAtOV0rKT8oWnwoXFwrfC0pKFswMV1bMC05XXwyWzAtM10pOihbMC01XVswLTldKSkkL2kgfSxcbiAgXCJkYXRlXCI6IHsgZXJyb3JNZXNzYWdlOiBsb2NhbGl6ZTIoXCJkYXRlRm9ybWF0V2FybmluZ1wiLCBcIlN0cmluZyBpcyBub3QgYSBSRkMzMzM5IGRhdGUuXCIpLCBwYXR0ZXJuOiAvXihcXGR7NH0pLSgwWzEtOV18MVswLTJdKS0oMFsxLTldfFsxMl1bMC05XXwzWzAxXSkkL2kgfSxcbiAgXCJ0aW1lXCI6IHsgZXJyb3JNZXNzYWdlOiBsb2NhbGl6ZTIoXCJ0aW1lRm9ybWF0V2FybmluZ1wiLCBcIlN0cmluZyBpcyBub3QgYSBSRkMzMzM5IHRpbWUuXCIpLCBwYXR0ZXJuOiAvXihbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSk6KFswLTVdWzAtOV18NjApKFxcLlswLTldKyk/KFp8KFxcK3wtKShbMDFdWzAtOV18MlswLTNdKTooWzAtNV1bMC05XSkpJC9pIH0sXG4gIFwiZW1haWxcIjogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplMihcImVtYWlsRm9ybWF0V2FybmluZ1wiLCBcIlN0cmluZyBpcyBub3QgYW4gZS1tYWlsIGFkZHJlc3MuXCIpLCBwYXR0ZXJuOiAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVowLTktXStcXC4pK1thLXpBLVpdezIsfSkpJC8gfSxcbiAgXCJob3N0bmFtZVwiOiB7IGVycm9yTWVzc2FnZTogbG9jYWxpemUyKFwiaG9zdG5hbWVGb3JtYXRXYXJuaW5nXCIsIFwiU3RyaW5nIGlzIG5vdCBhIGhvc3RuYW1lLlwiKSwgcGF0dGVybjogL14oPz0uezEsMjUzfVxcLj8kKVthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXFwuPyQvaSB9LFxuICBcImlwdjRcIjogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplMihcImlwdjRGb3JtYXRXYXJuaW5nXCIsIFwiU3RyaW5nIGlzIG5vdCBhbiBJUHY0IGFkZHJlc3MuXCIpLCBwYXR0ZXJuOiAvXig/Oig/OjI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkkLyB9LFxuICBcImlwdjZcIjogeyBlcnJvck1lc3NhZ2U6IGxvY2FsaXplMihcImlwdjZGb3JtYXRXYXJuaW5nXCIsIFwiU3RyaW5nIGlzIG5vdCBhbiBJUHY2IGFkZHJlc3MuXCIpLCBwYXR0ZXJuOiAvXigoKFswLTlhLWZdezEsNH06KXs3fShbMC05YS1mXXsxLDR9fDopKXwoKFswLTlhLWZdezEsNH06KXs2fSg6WzAtOWEtZl17MSw0fXwoKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOWEtZl17MSw0fTopezV9KCgoOlswLTlhLWZdezEsNH0pezEsMn0pfDooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSl8OikpfCgoWzAtOWEtZl17MSw0fTopezR9KCgoOlswLTlhLWZdezEsNH0pezEsM30pfCgoOlswLTlhLWZdezEsNH0pPzooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlhLWZdezEsNH06KXszfSgoKDpbMC05YS1mXXsxLDR9KXsxLDR9KXwoKDpbMC05YS1mXXsxLDR9KXswLDJ9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOWEtZl17MSw0fTopezJ9KCgoOlswLTlhLWZdezEsNH0pezEsNX0pfCgoOlswLTlhLWZdezEsNH0pezAsM306KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05YS1mXXsxLDR9Oil7MX0oKCg6WzAtOWEtZl17MSw0fSl7MSw2fSl8KCg6WzAtOWEtZl17MSw0fSl7MCw0fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoOigoKDpbMC05YS1mXXsxLDR9KXsxLDd9KXwoKDpbMC05YS1mXXsxLDR9KXswLDV9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpKSQvaSB9XG59O1xudmFyIEFTVE5vZGVJbXBsID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIEFTVE5vZGVJbXBsMihwYXJlbnQsIG9mZnNldCwgbGVuZ3RoKSB7XG4gICAgaWYgKGxlbmd0aCA9PT0gdm9pZCAwKSB7XG4gICAgICBsZW5ndGggPSAwO1xuICAgIH1cbiAgICB0aGlzLm9mZnNldCA9IG9mZnNldDtcbiAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcbiAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQVNUTm9kZUltcGwyLnByb3RvdHlwZSwgXCJjaGlsZHJlblwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgQVNUTm9kZUltcGwyLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcInR5cGU6IFwiICsgdGhpcy50eXBlICsgXCIgKFwiICsgdGhpcy5vZmZzZXQgKyBcIi9cIiArIHRoaXMubGVuZ3RoICsgXCIpXCIgKyAodGhpcy5wYXJlbnQgPyBcIiBwYXJlbnQ6IHtcIiArIHRoaXMucGFyZW50LnRvU3RyaW5nKCkgKyBcIn1cIiA6IFwiXCIpO1xuICB9O1xuICByZXR1cm4gQVNUTm9kZUltcGwyO1xufSgpO1xudmFyIE51bGxBU1ROb2RlSW1wbCA9IGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoTnVsbEFTVE5vZGVJbXBsMiwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gTnVsbEFTVE5vZGVJbXBsMihwYXJlbnQsIG9mZnNldCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgIF90aGlzLnR5cGUgPSBcIm51bGxcIjtcbiAgICBfdGhpcy52YWx1ZSA9IG51bGw7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBOdWxsQVNUTm9kZUltcGwyO1xufShBU1ROb2RlSW1wbCk7XG52YXIgQm9vbGVhbkFTVE5vZGVJbXBsID0gZnVuY3Rpb24oX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhCb29sZWFuQVNUTm9kZUltcGwyLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBCb29sZWFuQVNUTm9kZUltcGwyKHBhcmVudCwgYm9vbFZhbHVlLCBvZmZzZXQpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICBfdGhpcy50eXBlID0gXCJib29sZWFuXCI7XG4gICAgX3RoaXMudmFsdWUgPSBib29sVmFsdWU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIHJldHVybiBCb29sZWFuQVNUTm9kZUltcGwyO1xufShBU1ROb2RlSW1wbCk7XG52YXIgQXJyYXlBU1ROb2RlSW1wbCA9IGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoQXJyYXlBU1ROb2RlSW1wbDIsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIEFycmF5QVNUTm9kZUltcGwyKHBhcmVudCwgb2Zmc2V0KSB7XG4gICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcGFyZW50LCBvZmZzZXQpIHx8IHRoaXM7XG4gICAgX3RoaXMudHlwZSA9IFwiYXJyYXlcIjtcbiAgICBfdGhpcy5pdGVtcyA9IFtdO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlBU1ROb2RlSW1wbDIucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuaXRlbXM7XG4gICAgfSxcbiAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG4gIHJldHVybiBBcnJheUFTVE5vZGVJbXBsMjtcbn0oQVNUTm9kZUltcGwpO1xudmFyIE51bWJlckFTVE5vZGVJbXBsID0gZnVuY3Rpb24oX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhOdW1iZXJBU1ROb2RlSW1wbDIsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIE51bWJlckFTVE5vZGVJbXBsMihwYXJlbnQsIG9mZnNldCkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgIF90aGlzLnR5cGUgPSBcIm51bWJlclwiO1xuICAgIF90aGlzLmlzSW50ZWdlciA9IHRydWU7XG4gICAgX3RoaXMudmFsdWUgPSBOdW1iZXIuTmFOO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuICByZXR1cm4gTnVtYmVyQVNUTm9kZUltcGwyO1xufShBU1ROb2RlSW1wbCk7XG52YXIgU3RyaW5nQVNUTm9kZUltcGwgPSBmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKFN0cmluZ0FTVE5vZGVJbXBsMiwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gU3RyaW5nQVNUTm9kZUltcGwyKHBhcmVudCwgb2Zmc2V0LCBsZW5ndGgpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCwgbGVuZ3RoKSB8fCB0aGlzO1xuICAgIF90aGlzLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgIF90aGlzLnZhbHVlID0gXCJcIjtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgcmV0dXJuIFN0cmluZ0FTVE5vZGVJbXBsMjtcbn0oQVNUTm9kZUltcGwpO1xudmFyIFByb3BlcnR5QVNUTm9kZUltcGwgPSBmdW5jdGlvbihfc3VwZXIpIHtcbiAgX19leHRlbmRzKFByb3BlcnR5QVNUTm9kZUltcGwyLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBQcm9wZXJ0eUFTVE5vZGVJbXBsMihwYXJlbnQsIG9mZnNldCwga2V5Tm9kZSkge1xuICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHBhcmVudCwgb2Zmc2V0KSB8fCB0aGlzO1xuICAgIF90aGlzLnR5cGUgPSBcInByb3BlcnR5XCI7XG4gICAgX3RoaXMuY29sb25PZmZzZXQgPSAtMTtcbiAgICBfdGhpcy5rZXlOb2RlID0ga2V5Tm9kZTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFByb3BlcnR5QVNUTm9kZUltcGwyLnByb3RvdHlwZSwgXCJjaGlsZHJlblwiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLnZhbHVlTm9kZSA/IFt0aGlzLmtleU5vZGUsIHRoaXMudmFsdWVOb2RlXSA6IFt0aGlzLmtleU5vZGVdO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gUHJvcGVydHlBU1ROb2RlSW1wbDI7XG59KEFTVE5vZGVJbXBsKTtcbnZhciBPYmplY3RBU1ROb2RlSW1wbCA9IGZ1bmN0aW9uKF9zdXBlcikge1xuICBfX2V4dGVuZHMoT2JqZWN0QVNUTm9kZUltcGwyLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBPYmplY3RBU1ROb2RlSW1wbDIocGFyZW50LCBvZmZzZXQpIHtcbiAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwYXJlbnQsIG9mZnNldCkgfHwgdGhpcztcbiAgICBfdGhpcy50eXBlID0gXCJvYmplY3RcIjtcbiAgICBfdGhpcy5wcm9wZXJ0aWVzID0gW107XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPYmplY3RBU1ROb2RlSW1wbDIucHJvdG90eXBlLCBcImNoaWxkcmVuXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllcztcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIE9iamVjdEFTVE5vZGVJbXBsMjtcbn0oQVNUTm9kZUltcGwpO1xuZnVuY3Rpb24gYXNTY2hlbWEoc2NoZW1hKSB7XG4gIGlmIChpc0Jvb2xlYW4oc2NoZW1hKSkge1xuICAgIHJldHVybiBzY2hlbWEgPyB7fSA6IHsgXCJub3RcIjoge30gfTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufVxudmFyIEVudW1NYXRjaDtcbihmdW5jdGlvbihFbnVtTWF0Y2gyKSB7XG4gIEVudW1NYXRjaDJbRW51bU1hdGNoMltcIktleVwiXSA9IDBdID0gXCJLZXlcIjtcbiAgRW51bU1hdGNoMltFbnVtTWF0Y2gyW1wiRW51bVwiXSA9IDFdID0gXCJFbnVtXCI7XG59KShFbnVtTWF0Y2ggfHwgKEVudW1NYXRjaCA9IHt9KSk7XG52YXIgU2NoZW1hQ29sbGVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFNjaGVtYUNvbGxlY3RvcjIoZm9jdXNPZmZzZXQsIGV4Y2x1ZGUpIHtcbiAgICBpZiAoZm9jdXNPZmZzZXQgPT09IHZvaWQgMCkge1xuICAgICAgZm9jdXNPZmZzZXQgPSAtMTtcbiAgICB9XG4gICAgdGhpcy5mb2N1c09mZnNldCA9IGZvY3VzT2Zmc2V0O1xuICAgIHRoaXMuZXhjbHVkZSA9IGV4Y2x1ZGU7XG4gICAgdGhpcy5zY2hlbWFzID0gW107XG4gIH1cbiAgU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oc2NoZW1hKSB7XG4gICAgdGhpcy5zY2hlbWFzLnB1c2goc2NoZW1hKTtcbiAgfTtcbiAgU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbihvdGhlcikge1xuICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMuc2NoZW1hcywgb3RoZXIuc2NoZW1hcyk7XG4gIH07XG4gIFNjaGVtYUNvbGxlY3RvcjIucHJvdG90eXBlLmluY2x1ZGUgPSBmdW5jdGlvbihub2RlKSB7XG4gICAgcmV0dXJuICh0aGlzLmZvY3VzT2Zmc2V0ID09PSAtMSB8fCBjb250YWluczIobm9kZSwgdGhpcy5mb2N1c09mZnNldCkpICYmIG5vZGUgIT09IHRoaXMuZXhjbHVkZTtcbiAgfTtcbiAgU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUubmV3U3ViID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBTY2hlbWFDb2xsZWN0b3IyKC0xLCB0aGlzLmV4Y2x1ZGUpO1xuICB9O1xuICByZXR1cm4gU2NoZW1hQ29sbGVjdG9yMjtcbn0oKTtcbnZhciBOb09wU2NoZW1hQ29sbGVjdG9yID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIE5vT3BTY2hlbWFDb2xsZWN0b3IyKCkge1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb09wU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUsIFwic2NoZW1hc1wiLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICB9KTtcbiAgTm9PcFNjaGVtYUNvbGxlY3RvcjIucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKHNjaGVtYSkge1xuICB9O1xuICBOb09wU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUubWVyZ2UgPSBmdW5jdGlvbihvdGhlcikge1xuICB9O1xuICBOb09wU2NoZW1hQ29sbGVjdG9yMi5wcm90b3R5cGUuaW5jbHVkZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgTm9PcFNjaGVtYUNvbGxlY3RvcjIucHJvdG90eXBlLm5ld1N1YiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICBOb09wU2NoZW1hQ29sbGVjdG9yMi5pbnN0YW5jZSA9IG5ldyBOb09wU2NoZW1hQ29sbGVjdG9yMigpO1xuICByZXR1cm4gTm9PcFNjaGVtYUNvbGxlY3RvcjI7XG59KCk7XG52YXIgVmFsaWRhdGlvblJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBWYWxpZGF0aW9uUmVzdWx0MigpIHtcbiAgICB0aGlzLnByb2JsZW1zID0gW107XG4gICAgdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcyA9IDA7XG4gICAgdGhpcy5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzID0gMDtcbiAgICB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMgPSAwO1xuICAgIHRoaXMuZW51bVZhbHVlTWF0Y2ggPSBmYWxzZTtcbiAgICB0aGlzLmVudW1WYWx1ZXMgPSB2b2lkIDA7XG4gIH1cbiAgVmFsaWRhdGlvblJlc3VsdDIucHJvdG90eXBlLmhhc1Byb2JsZW1zID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICEhdGhpcy5wcm9ibGVtcy5sZW5ndGg7XG4gIH07XG4gIFZhbGlkYXRpb25SZXN1bHQyLnByb3RvdHlwZS5tZXJnZUFsbCA9IGZ1bmN0aW9uKHZhbGlkYXRpb25SZXN1bHRzKSB7XG4gICAgZm9yICh2YXIgX2kgPSAwLCB2YWxpZGF0aW9uUmVzdWx0c18xID0gdmFsaWRhdGlvblJlc3VsdHM7IF9pIDwgdmFsaWRhdGlvblJlc3VsdHNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdGlvblJlc3VsdHNfMVtfaV07XG4gICAgICB0aGlzLm1lcmdlKHZhbGlkYXRpb25SZXN1bHQpO1xuICAgIH1cbiAgfTtcbiAgVmFsaWRhdGlvblJlc3VsdDIucHJvdG90eXBlLm1lcmdlID0gZnVuY3Rpb24odmFsaWRhdGlvblJlc3VsdCkge1xuICAgIHRoaXMucHJvYmxlbXMgPSB0aGlzLnByb2JsZW1zLmNvbmNhdCh2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zKTtcbiAgfTtcbiAgVmFsaWRhdGlvblJlc3VsdDIucHJvdG90eXBlLm1lcmdlRW51bVZhbHVlcyA9IGZ1bmN0aW9uKHZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICBpZiAoIXRoaXMuZW51bVZhbHVlTWF0Y2ggJiYgIXZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggJiYgdGhpcy5lbnVtVmFsdWVzICYmIHZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlcykge1xuICAgICAgdGhpcy5lbnVtVmFsdWVzID0gdGhpcy5lbnVtVmFsdWVzLmNvbmNhdCh2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMpO1xuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMucHJvYmxlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBlcnJvciA9IF9hW19pXTtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IEVycm9yQ29kZS5FbnVtVmFsdWVNaXNtYXRjaCkge1xuICAgICAgICAgIGVycm9yLm1lc3NhZ2UgPSBsb2NhbGl6ZTIoXCJlbnVtV2FybmluZ1wiLCBcIlZhbHVlIGlzIG5vdCBhY2NlcHRlZC4gVmFsaWQgdmFsdWVzOiB7MH0uXCIsIHRoaXMuZW51bVZhbHVlcy5tYXAoZnVuY3Rpb24odikge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuICAgICAgICAgIH0pLmpvaW4oXCIsIFwiKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIFZhbGlkYXRpb25SZXN1bHQyLnByb3RvdHlwZS5tZXJnZVByb3BlcnR5TWF0Y2ggPSBmdW5jdGlvbihwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQpIHtcbiAgICB0aGlzLm1lcmdlKHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCk7XG4gICAgdGhpcy5wcm9wZXJ0aWVzTWF0Y2hlcysrO1xuICAgIGlmIChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggfHwgIXByb3BlcnR5VmFsaWRhdGlvblJlc3VsdC5oYXNQcm9ibGVtcygpICYmIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcykge1xuICAgICAgdGhpcy5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgfVxuICAgIGlmIChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQuZW51bVZhbHVlTWF0Y2ggJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMgJiYgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICB0aGlzLnByaW1hcnlWYWx1ZU1hdGNoZXMrKztcbiAgICB9XG4gIH07XG4gIFZhbGlkYXRpb25SZXN1bHQyLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24ob3RoZXIpIHtcbiAgICB2YXIgaGFzUHJvYmxlbXMgPSB0aGlzLmhhc1Byb2JsZW1zKCk7XG4gICAgaWYgKGhhc1Byb2JsZW1zICE9PSBvdGhlci5oYXNQcm9ibGVtcygpKSB7XG4gICAgICByZXR1cm4gaGFzUHJvYmxlbXMgPyAtMSA6IDE7XG4gICAgfVxuICAgIGlmICh0aGlzLmVudW1WYWx1ZU1hdGNoICE9PSBvdGhlci5lbnVtVmFsdWVNYXRjaCkge1xuICAgICAgcmV0dXJuIG90aGVyLmVudW1WYWx1ZU1hdGNoID8gLTEgOiAxO1xuICAgIH1cbiAgICBpZiAodGhpcy5wcmltYXJ5VmFsdWVNYXRjaGVzICE9PSBvdGhlci5wcmltYXJ5VmFsdWVNYXRjaGVzKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcmltYXJ5VmFsdWVNYXRjaGVzIC0gb3RoZXIucHJpbWFyeVZhbHVlTWF0Y2hlcztcbiAgICB9XG4gICAgaWYgKHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyAhPT0gb3RoZXIucHJvcGVydGllc1ZhbHVlTWF0Y2hlcykge1xuICAgICAgcmV0dXJuIHRoaXMucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyAtIG90aGVyLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXM7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnByb3BlcnRpZXNNYXRjaGVzIC0gb3RoZXIucHJvcGVydGllc01hdGNoZXM7XG4gIH07XG4gIHJldHVybiBWYWxpZGF0aW9uUmVzdWx0Mjtcbn0oKTtcbmZ1bmN0aW9uIG5ld0pTT05Eb2N1bWVudChyb290LCBkaWFnbm9zdGljcykge1xuICBpZiAoZGlhZ25vc3RpY3MgPT09IHZvaWQgMCkge1xuICAgIGRpYWdub3N0aWNzID0gW107XG4gIH1cbiAgcmV0dXJuIG5ldyBKU09ORG9jdW1lbnQocm9vdCwgZGlhZ25vc3RpY3MsIFtdKTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVWYWx1ZTMobm9kZSkge1xuICByZXR1cm4gZ2V0Tm9kZVZhbHVlMihub2RlKTtcbn1cbmZ1bmN0aW9uIGdldE5vZGVQYXRoMyhub2RlKSB7XG4gIHJldHVybiBnZXROb2RlUGF0aDIobm9kZSk7XG59XG5mdW5jdGlvbiBjb250YWluczIobm9kZSwgb2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkge1xuICBpZiAoaW5jbHVkZVJpZ2h0Qm91bmQgPT09IHZvaWQgMCkge1xuICAgIGluY2x1ZGVSaWdodEJvdW5kID0gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIG9mZnNldCA+PSBub2RlLm9mZnNldCAmJiBvZmZzZXQgPCBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoIHx8IGluY2x1ZGVSaWdodEJvdW5kICYmIG9mZnNldCA9PT0gbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aDtcbn1cbnZhciBKU09ORG9jdW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gSlNPTkRvY3VtZW50Mihyb290LCBzeW50YXhFcnJvcnMsIGNvbW1lbnRzKSB7XG4gICAgaWYgKHN5bnRheEVycm9ycyA9PT0gdm9pZCAwKSB7XG4gICAgICBzeW50YXhFcnJvcnMgPSBbXTtcbiAgICB9XG4gICAgaWYgKGNvbW1lbnRzID09PSB2b2lkIDApIHtcbiAgICAgIGNvbW1lbnRzID0gW107XG4gICAgfVxuICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgdGhpcy5zeW50YXhFcnJvcnMgPSBzeW50YXhFcnJvcnM7XG4gICAgdGhpcy5jb21tZW50cyA9IGNvbW1lbnRzO1xuICB9XG4gIEpTT05Eb2N1bWVudDIucHJvdG90eXBlLmdldE5vZGVGcm9tT2Zmc2V0ID0gZnVuY3Rpb24ob2Zmc2V0LCBpbmNsdWRlUmlnaHRCb3VuZCkge1xuICAgIGlmIChpbmNsdWRlUmlnaHRCb3VuZCA9PT0gdm9pZCAwKSB7XG4gICAgICBpbmNsdWRlUmlnaHRCb3VuZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAodGhpcy5yb290KSB7XG4gICAgICByZXR1cm4gZmluZE5vZGVBdE9mZnNldDIodGhpcy5yb290LCBvZmZzZXQsIGluY2x1ZGVSaWdodEJvdW5kKTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfTtcbiAgSlNPTkRvY3VtZW50Mi5wcm90b3R5cGUudmlzaXQgPSBmdW5jdGlvbih2aXNpdG9yKSB7XG4gICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgdmFyIGRvVmlzaXRfMSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgICAgdmFyIGN0biA9IHZpc2l0b3Iobm9kZSk7XG4gICAgICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGN0bjsgaSsrKSB7XG4gICAgICAgICAgICBjdG4gPSBkb1Zpc2l0XzEoY2hpbGRyZW5baV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3RuO1xuICAgICAgfTtcbiAgICAgIGRvVmlzaXRfMSh0aGlzLnJvb3QpO1xuICAgIH1cbiAgfTtcbiAgSlNPTkRvY3VtZW50Mi5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbih0ZXh0RG9jdW1lbnQsIHNjaGVtYSwgc2V2ZXJpdHkpIHtcbiAgICBpZiAoc2V2ZXJpdHkgPT09IHZvaWQgMCkge1xuICAgICAgc2V2ZXJpdHkgPSBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZztcbiAgICB9XG4gICAgaWYgKHRoaXMucm9vdCAmJiBzY2hlbWEpIHtcbiAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgIHZhbGlkYXRlKHRoaXMucm9vdCwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBOb09wU2NoZW1hQ29sbGVjdG9yLmluc3RhbmNlKTtcbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLm1hcChmdW5jdGlvbihwKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuY3JlYXRlKHRleHREb2N1bWVudC5wb3NpdGlvbkF0KHAubG9jYXRpb24ub2Zmc2V0KSwgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQocC5sb2NhdGlvbi5vZmZzZXQgKyBwLmxvY2F0aW9uLmxlbmd0aCkpO1xuICAgICAgICByZXR1cm4gRGlhZ25vc3RpYy5jcmVhdGUocmFuZ2UsIHAubWVzc2FnZSwgKF9hID0gcC5zZXZlcml0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogc2V2ZXJpdHksIHAuY29kZSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfTtcbiAgSlNPTkRvY3VtZW50Mi5wcm90b3R5cGUuZ2V0TWF0Y2hpbmdTY2hlbWFzID0gZnVuY3Rpb24oc2NoZW1hLCBmb2N1c09mZnNldCwgZXhjbHVkZSkge1xuICAgIGlmIChmb2N1c09mZnNldCA9PT0gdm9pZCAwKSB7XG4gICAgICBmb2N1c09mZnNldCA9IC0xO1xuICAgIH1cbiAgICB2YXIgbWF0Y2hpbmdTY2hlbWFzID0gbmV3IFNjaGVtYUNvbGxlY3Rvcihmb2N1c09mZnNldCwgZXhjbHVkZSk7XG4gICAgaWYgKHRoaXMucm9vdCAmJiBzY2hlbWEpIHtcbiAgICAgIHZhbGlkYXRlKHRoaXMucm9vdCwgc2NoZW1hLCBuZXcgVmFsaWRhdGlvblJlc3VsdCgpLCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgIH1cbiAgICByZXR1cm4gbWF0Y2hpbmdTY2hlbWFzLnNjaGVtYXM7XG4gIH07XG4gIHJldHVybiBKU09ORG9jdW1lbnQyO1xufSgpO1xuZnVuY3Rpb24gdmFsaWRhdGUobiwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpIHtcbiAgaWYgKCFuIHx8ICFtYXRjaGluZ1NjaGVtYXMuaW5jbHVkZShuKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbm9kZSA9IG47XG4gIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgX3ZhbGlkYXRlT2JqZWN0Tm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgIF92YWxpZGF0ZUFycmF5Tm9kZShub2RlLCBzY2hlbWEsIHZhbGlkYXRpb25SZXN1bHQsIG1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICBfdmFsaWRhdGVTdHJpbmdOb2RlKG5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIF92YWxpZGF0ZU51bWJlck5vZGUobm9kZSwgc2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSBcInByb3BlcnR5XCI6XG4gICAgICByZXR1cm4gdmFsaWRhdGUobm9kZS52YWx1ZU5vZGUsIHNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzKTtcbiAgfVxuICBfdmFsaWRhdGVOb2RlKCk7XG4gIG1hdGNoaW5nU2NoZW1hcy5hZGQoeyBub2RlLCBzY2hlbWEgfSk7XG4gIGZ1bmN0aW9uIF92YWxpZGF0ZU5vZGUoKSB7XG4gICAgZnVuY3Rpb24gbWF0Y2hlc1R5cGUodHlwZSkge1xuICAgICAgcmV0dXJuIG5vZGUudHlwZSA9PT0gdHlwZSB8fCB0eXBlID09PSBcImludGVnZXJcIiAmJiBub2RlLnR5cGUgPT09IFwibnVtYmVyXCIgJiYgbm9kZS5pc0ludGVnZXI7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS50eXBlKSkge1xuICAgICAgaWYgKCFzY2hlbWEudHlwZS5zb21lKG1hdGNoZXNUeXBlKSkge1xuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0LnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5vZmZzZXQsIGxlbmd0aDogbm9kZS5sZW5ndGggfSxcbiAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcInR5cGVBcnJheU1pc21hdGNoV2FybmluZ1wiLCBcIkluY29ycmVjdCB0eXBlLiBFeHBlY3RlZCBvbmUgb2YgezB9LlwiLCBzY2hlbWEudHlwZS5qb2luKFwiLCBcIikpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2NoZW1hLnR5cGUpIHtcbiAgICAgIGlmICghbWF0Y2hlc1R5cGUoc2NoZW1hLnR5cGUpKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUyKFwidHlwZU1pc21hdGNoV2FybmluZ1wiLCAnSW5jb3JyZWN0IHR5cGUuIEV4cGVjdGVkIFwiezB9XCIuJywgc2NoZW1hLnR5cGUpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYWxsT2YpKSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gc2NoZW1hLmFsbE9mOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgc3ViU2NoZW1hUmVmID0gX2FbX2ldO1xuICAgICAgICB2YWxpZGF0ZShub2RlLCBhc1NjaGVtYShzdWJTY2hlbWFSZWYpLCB2YWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbm90U2NoZW1hID0gYXNTY2hlbWEoc2NoZW1hLm5vdCk7XG4gICAgaWYgKG5vdFNjaGVtYSkge1xuICAgICAgdmFyIHN1YlZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgdmFyIHN1Yk1hdGNoaW5nU2NoZW1hcyA9IG1hdGNoaW5nU2NoZW1hcy5uZXdTdWIoKTtcbiAgICAgIHZhbGlkYXRlKG5vZGUsIG5vdFNjaGVtYSwgc3ViVmFsaWRhdGlvblJlc3VsdCwgc3ViTWF0Y2hpbmdTY2hlbWFzKTtcbiAgICAgIGlmICghc3ViVmFsaWRhdGlvblJlc3VsdC5oYXNQcm9ibGVtcygpKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIm5vdFNjaGVtYVdhcm5pbmdcIiwgXCJNYXRjaGVzIGEgc2NoZW1hIHRoYXQgaXMgbm90IGFsbG93ZWQuXCIpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IHN1Yk1hdGNoaW5nU2NoZW1hcy5zY2hlbWFzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICB2YXIgbXMgPSBfY1tfYl07XG4gICAgICAgIG1zLmludmVydGVkID0gIW1zLmludmVydGVkO1xuICAgICAgICBtYXRjaGluZ1NjaGVtYXMuYWRkKG1zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHRlc3RBbHRlcm5hdGl2ZXMgPSBmdW5jdGlvbihhbHRlcm5hdGl2ZXMsIG1heE9uZU1hdGNoKSB7XG4gICAgICB2YXIgbWF0Y2hlcyA9IFtdO1xuICAgICAgdmFyIGJlc3RNYXRjaCA9IHZvaWQgMDtcbiAgICAgIGZvciAodmFyIF9pMiA9IDAsIGFsdGVybmF0aXZlc18xID0gYWx0ZXJuYXRpdmVzOyBfaTIgPCBhbHRlcm5hdGl2ZXNfMS5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgIHZhciBzdWJTY2hlbWFSZWYyID0gYWx0ZXJuYXRpdmVzXzFbX2kyXTtcbiAgICAgICAgdmFyIHN1YlNjaGVtYSA9IGFzU2NoZW1hKHN1YlNjaGVtYVJlZjIpO1xuICAgICAgICB2YXIgc3ViVmFsaWRhdGlvblJlc3VsdDIgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICB2YXIgc3ViTWF0Y2hpbmdTY2hlbWFzMiA9IG1hdGNoaW5nU2NoZW1hcy5uZXdTdWIoKTtcbiAgICAgICAgdmFsaWRhdGUobm9kZSwgc3ViU2NoZW1hLCBzdWJWYWxpZGF0aW9uUmVzdWx0Miwgc3ViTWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgIGlmICghc3ViVmFsaWRhdGlvblJlc3VsdDIuaGFzUHJvYmxlbXMoKSkge1xuICAgICAgICAgIG1hdGNoZXMucHVzaChzdWJTY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghYmVzdE1hdGNoKSB7XG4gICAgICAgICAgYmVzdE1hdGNoID0geyBzY2hlbWE6IHN1YlNjaGVtYSwgdmFsaWRhdGlvblJlc3VsdDogc3ViVmFsaWRhdGlvblJlc3VsdDIsIG1hdGNoaW5nU2NoZW1hczogc3ViTWF0Y2hpbmdTY2hlbWFzMiB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICghbWF4T25lTWF0Y2ggJiYgIXN1YlZhbGlkYXRpb25SZXN1bHQyLmhhc1Byb2JsZW1zKCkgJiYgIWJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0Lmhhc1Byb2JsZW1zKCkpIHtcbiAgICAgICAgICAgIGJlc3RNYXRjaC5tYXRjaGluZ1NjaGVtYXMubWVyZ2Uoc3ViTWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgICAgICBiZXN0TWF0Y2gudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcyArPSBzdWJWYWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzTWF0Y2hlcztcbiAgICAgICAgICAgIGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0LnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMgKz0gc3ViVmFsaWRhdGlvblJlc3VsdDIucHJvcGVydGllc1ZhbHVlTWF0Y2hlcztcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvbXBhcmVSZXN1bHQgPSBzdWJWYWxpZGF0aW9uUmVzdWx0Mi5jb21wYXJlKGJlc3RNYXRjaC52YWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICAgIGlmIChjb21wYXJlUmVzdWx0ID4gMCkge1xuICAgICAgICAgICAgICBiZXN0TWF0Y2ggPSB7IHNjaGVtYTogc3ViU2NoZW1hLCB2YWxpZGF0aW9uUmVzdWx0OiBzdWJWYWxpZGF0aW9uUmVzdWx0MiwgbWF0Y2hpbmdTY2hlbWFzOiBzdWJNYXRjaGluZ1NjaGVtYXMyIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGNvbXBhcmVSZXN1bHQgPT09IDApIHtcbiAgICAgICAgICAgICAgYmVzdE1hdGNoLm1hdGNoaW5nU2NoZW1hcy5tZXJnZShzdWJNYXRjaGluZ1NjaGVtYXMyKTtcbiAgICAgICAgICAgICAgYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQubWVyZ2VFbnVtVmFsdWVzKHN1YlZhbGlkYXRpb25SZXN1bHQyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtYXRjaGVzLmxlbmd0aCA+IDEgJiYgbWF4T25lTWF0Y2gpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUub2Zmc2V0LCBsZW5ndGg6IDEgfSxcbiAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZTIoXCJvbmVPZldhcm5pbmdcIiwgXCJNYXRjaGVzIG11bHRpcGxlIHNjaGVtYXMgd2hlbiBvbmx5IG9uZSBtdXN0IHZhbGlkYXRlLlwiKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChiZXN0TWF0Y2gpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5tZXJnZShiZXN0TWF0Y2gudmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXMgKz0gYmVzdE1hdGNoLnZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc01hdGNoZXM7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyArPSBiZXN0TWF0Y2gudmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzO1xuICAgICAgICBtYXRjaGluZ1NjaGVtYXMubWVyZ2UoYmVzdE1hdGNoLm1hdGNoaW5nU2NoZW1hcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKSB7XG4gICAgICB0ZXN0QWx0ZXJuYXRpdmVzKHNjaGVtYS5hbnlPZiwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEub25lT2YpKSB7XG4gICAgICB0ZXN0QWx0ZXJuYXRpdmVzKHNjaGVtYS5vbmVPZiwgdHJ1ZSk7XG4gICAgfVxuICAgIHZhciB0ZXN0QnJhbmNoID0gZnVuY3Rpb24oc2NoZW1hMikge1xuICAgICAgdmFyIHN1YlZhbGlkYXRpb25SZXN1bHQyID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgIHZhciBzdWJNYXRjaGluZ1NjaGVtYXMyID0gbWF0Y2hpbmdTY2hlbWFzLm5ld1N1YigpO1xuICAgICAgdmFsaWRhdGUobm9kZSwgYXNTY2hlbWEoc2NoZW1hMiksIHN1YlZhbGlkYXRpb25SZXN1bHQyLCBzdWJNYXRjaGluZ1NjaGVtYXMyKTtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQubWVyZ2Uoc3ViVmFsaWRhdGlvblJlc3VsdDIpO1xuICAgICAgdmFsaWRhdGlvblJlc3VsdC5wcm9wZXJ0aWVzTWF0Y2hlcyArPSBzdWJWYWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzTWF0Y2hlcztcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvcGVydGllc1ZhbHVlTWF0Y2hlcyArPSBzdWJWYWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzO1xuICAgICAgbWF0Y2hpbmdTY2hlbWFzLm1lcmdlKHN1Yk1hdGNoaW5nU2NoZW1hczIpO1xuICAgIH07XG4gICAgdmFyIHRlc3RDb25kaXRpb24gPSBmdW5jdGlvbihpZlNjaGVtYTIsIHRoZW5TY2hlbWEsIGVsc2VTY2hlbWEpIHtcbiAgICAgIHZhciBzdWJTY2hlbWEgPSBhc1NjaGVtYShpZlNjaGVtYTIpO1xuICAgICAgdmFyIHN1YlZhbGlkYXRpb25SZXN1bHQyID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgIHZhciBzdWJNYXRjaGluZ1NjaGVtYXMyID0gbWF0Y2hpbmdTY2hlbWFzLm5ld1N1YigpO1xuICAgICAgdmFsaWRhdGUobm9kZSwgc3ViU2NoZW1hLCBzdWJWYWxpZGF0aW9uUmVzdWx0Miwgc3ViTWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICBtYXRjaGluZ1NjaGVtYXMubWVyZ2Uoc3ViTWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICBpZiAoIXN1YlZhbGlkYXRpb25SZXN1bHQyLmhhc1Byb2JsZW1zKCkpIHtcbiAgICAgICAgaWYgKHRoZW5TY2hlbWEpIHtcbiAgICAgICAgICB0ZXN0QnJhbmNoKHRoZW5TY2hlbWEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVsc2VTY2hlbWEpIHtcbiAgICAgICAgdGVzdEJyYW5jaChlbHNlU2NoZW1hKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBpZlNjaGVtYSA9IGFzU2NoZW1hKHNjaGVtYS5pZik7XG4gICAgaWYgKGlmU2NoZW1hKSB7XG4gICAgICB0ZXN0Q29uZGl0aW9uKGlmU2NoZW1hLCBhc1NjaGVtYShzY2hlbWEudGhlbiksIGFzU2NoZW1hKHNjaGVtYS5lbHNlKSk7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5lbnVtKSkge1xuICAgICAgdmFyIHZhbCA9IGdldE5vZGVWYWx1ZTMobm9kZSk7XG4gICAgICB2YXIgZW51bVZhbHVlTWF0Y2ggPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIF9kID0gMCwgX2UgPSBzY2hlbWEuZW51bTsgX2QgPCBfZS5sZW5ndGg7IF9kKyspIHtcbiAgICAgICAgdmFyIGUgPSBfZVtfZF07XG4gICAgICAgIGlmIChlcXVhbHModmFsLCBlKSkge1xuICAgICAgICAgIGVudW1WYWx1ZU1hdGNoID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVzID0gc2NoZW1hLmVudW07XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZU1hdGNoID0gZW51bVZhbHVlTWF0Y2g7XG4gICAgICBpZiAoIWVudW1WYWx1ZU1hdGNoKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgIGNvZGU6IEVycm9yQ29kZS5FbnVtVmFsdWVNaXNtYXRjaCxcbiAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcImVudW1XYXJuaW5nXCIsIFwiVmFsdWUgaXMgbm90IGFjY2VwdGVkLiBWYWxpZCB2YWx1ZXM6IHswfS5cIiwgc2NoZW1hLmVudW0ubWFwKGZ1bmN0aW9uKHYpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2KTtcbiAgICAgICAgICB9KS5qb2luKFwiLCBcIikpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNEZWZpbmVkKHNjaGVtYS5jb25zdCkpIHtcbiAgICAgIHZhciB2YWwgPSBnZXROb2RlVmFsdWUzKG5vZGUpO1xuICAgICAgaWYgKCFlcXVhbHModmFsLCBzY2hlbWEuY29uc3QpKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlLm9mZnNldCwgbGVuZ3RoOiBub2RlLmxlbmd0aCB9LFxuICAgICAgICAgIGNvZGU6IEVycm9yQ29kZS5FbnVtVmFsdWVNaXNtYXRjaCxcbiAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcImNvbnN0V2FybmluZ1wiLCBcIlZhbHVlIG11c3QgYmUgezB9LlwiLCBKU09OLnN0cmluZ2lmeShzY2hlbWEuY29uc3QpKVxuICAgICAgICB9KTtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVNYXRjaCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdC5lbnVtVmFsdWVNYXRjaCA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0LmVudW1WYWx1ZXMgPSBbc2NoZW1hLmNvbnN0XTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UgJiYgbm9kZS5wYXJlbnQpIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQucHJvYmxlbXMucHVzaCh7XG4gICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZS5wYXJlbnQub2Zmc2V0LCBsZW5ndGg6IG5vZGUucGFyZW50Lmxlbmd0aCB9LFxuICAgICAgICBzZXZlcml0eTogRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmcsXG4gICAgICAgIG1lc3NhZ2U6IHNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UsXG4gICAgICAgIGNvZGU6IEVycm9yQ29kZS5EZXByZWNhdGVkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlTnVtYmVyTm9kZShub2RlMiwgc2NoZW1hMiwgdmFsaWRhdGlvblJlc3VsdDIsIG1hdGNoaW5nU2NoZW1hczIpIHtcbiAgICB2YXIgdmFsID0gbm9kZTIudmFsdWU7XG4gICAgZnVuY3Rpb24gbm9ybWFsaXplRmxvYXRzKGZsb2F0KSB7XG4gICAgICB2YXIgX2E7XG4gICAgICB2YXIgcGFydHMgPSAvXigtP1xcZCspKD86XFwuKFxcZCspKT8oPzplKFstK11cXGQrKSk/JC8uZXhlYyhmbG9hdC50b1N0cmluZygpKTtcbiAgICAgIHJldHVybiBwYXJ0cyAmJiB7XG4gICAgICAgIHZhbHVlOiBOdW1iZXIocGFydHNbMV0gKyAocGFydHNbMl0gfHwgXCJcIikpLFxuICAgICAgICBtdWx0aXBsaWVyOiAoKChfYSA9IHBhcnRzWzJdKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoKSB8fCAwKSAtIChwYXJzZUludChwYXJ0c1szXSkgfHwgMClcbiAgICAgIH07XG4gICAgfVxuICAgIDtcbiAgICBpZiAoaXNOdW1iZXIoc2NoZW1hMi5tdWx0aXBsZU9mKSkge1xuICAgICAgdmFyIHJlbWFpbmRlciA9IC0xO1xuICAgICAgaWYgKE51bWJlci5pc0ludGVnZXIoc2NoZW1hMi5tdWx0aXBsZU9mKSkge1xuICAgICAgICByZW1haW5kZXIgPSB2YWwgJSBzY2hlbWEyLm11bHRpcGxlT2Y7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbm9ybU11bHRpcGxlT2YgPSBub3JtYWxpemVGbG9hdHMoc2NoZW1hMi5tdWx0aXBsZU9mKTtcbiAgICAgICAgdmFyIG5vcm1WYWx1ZSA9IG5vcm1hbGl6ZUZsb2F0cyh2YWwpO1xuICAgICAgICBpZiAobm9ybU11bHRpcGxlT2YgJiYgbm9ybVZhbHVlKSB7XG4gICAgICAgICAgdmFyIG11bHRpcGxpZXIgPSBNYXRoLnBvdygxMCwgTWF0aC5hYnMobm9ybVZhbHVlLm11bHRpcGxpZXIgLSBub3JtTXVsdGlwbGVPZi5tdWx0aXBsaWVyKSk7XG4gICAgICAgICAgaWYgKG5vcm1WYWx1ZS5tdWx0aXBsaWVyIDwgbm9ybU11bHRpcGxlT2YubXVsdGlwbGllcikge1xuICAgICAgICAgICAgbm9ybVZhbHVlLnZhbHVlICo9IG11bHRpcGxpZXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5vcm1NdWx0aXBsZU9mLnZhbHVlICo9IG11bHRpcGxpZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlbWFpbmRlciA9IG5vcm1WYWx1ZS52YWx1ZSAlIG5vcm1NdWx0aXBsZU9mLnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmVtYWluZGVyICE9PSAwKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZTIub2Zmc2V0LCBsZW5ndGg6IG5vZGUyLmxlbmd0aCB9LFxuICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIm11bHRpcGxlT2ZXYXJuaW5nXCIsIFwiVmFsdWUgaXMgbm90IGRpdmlzaWJsZSBieSB7MH0uXCIsIHNjaGVtYTIubXVsdGlwbGVPZilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEV4Y2x1c2l2ZUxpbWl0KGxpbWl0LCBleGNsdXNpdmUpIHtcbiAgICAgIGlmIChpc051bWJlcihleGNsdXNpdmUpKSB7XG4gICAgICAgIHJldHVybiBleGNsdXNpdmU7XG4gICAgICB9XG4gICAgICBpZiAoaXNCb29sZWFuKGV4Y2x1c2l2ZSkgJiYgZXhjbHVzaXZlKSB7XG4gICAgICAgIHJldHVybiBsaW1pdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldExpbWl0KGxpbWl0LCBleGNsdXNpdmUpIHtcbiAgICAgIGlmICghaXNCb29sZWFuKGV4Y2x1c2l2ZSkgfHwgIWV4Y2x1c2l2ZSkge1xuICAgICAgICByZXR1cm4gbGltaXQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgZXhjbHVzaXZlTWluaW11bSA9IGdldEV4Y2x1c2l2ZUxpbWl0KHNjaGVtYTIubWluaW11bSwgc2NoZW1hMi5leGNsdXNpdmVNaW5pbXVtKTtcbiAgICBpZiAoaXNOdW1iZXIoZXhjbHVzaXZlTWluaW11bSkgJiYgdmFsIDw9IGV4Y2x1c2l2ZU1pbmltdW0pIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwiZXhjbHVzaXZlTWluaW11bVdhcm5pbmdcIiwgXCJWYWx1ZSBpcyBiZWxvdyB0aGUgZXhjbHVzaXZlIG1pbmltdW0gb2YgezB9LlwiLCBleGNsdXNpdmVNaW5pbXVtKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBleGNsdXNpdmVNYXhpbXVtID0gZ2V0RXhjbHVzaXZlTGltaXQoc2NoZW1hMi5tYXhpbXVtLCBzY2hlbWEyLmV4Y2x1c2l2ZU1heGltdW0pO1xuICAgIGlmIChpc051bWJlcihleGNsdXNpdmVNYXhpbXVtKSAmJiB2YWwgPj0gZXhjbHVzaXZlTWF4aW11bSkge1xuICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvYmxlbXMucHVzaCh7XG4gICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZTIub2Zmc2V0LCBsZW5ndGg6IG5vZGUyLmxlbmd0aCB9LFxuICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZTIoXCJleGNsdXNpdmVNYXhpbXVtV2FybmluZ1wiLCBcIlZhbHVlIGlzIGFib3ZlIHRoZSBleGNsdXNpdmUgbWF4aW11bSBvZiB7MH0uXCIsIGV4Y2x1c2l2ZU1heGltdW0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgdmFyIG1pbmltdW0gPSBnZXRMaW1pdChzY2hlbWEyLm1pbmltdW0sIHNjaGVtYTIuZXhjbHVzaXZlTWluaW11bSk7XG4gICAgaWYgKGlzTnVtYmVyKG1pbmltdW0pICYmIHZhbCA8IG1pbmltdW0pIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwibWluaW11bVdhcm5pbmdcIiwgXCJWYWx1ZSBpcyBiZWxvdyB0aGUgbWluaW11bSBvZiB7MH0uXCIsIG1pbmltdW0pXG4gICAgICB9KTtcbiAgICB9XG4gICAgdmFyIG1heGltdW0gPSBnZXRMaW1pdChzY2hlbWEyLm1heGltdW0sIHNjaGVtYTIuZXhjbHVzaXZlTWF4aW11bSk7XG4gICAgaWYgKGlzTnVtYmVyKG1heGltdW0pICYmIHZhbCA+IG1heGltdW0pIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwibWF4aW11bVdhcm5pbmdcIiwgXCJWYWx1ZSBpcyBhYm92ZSB0aGUgbWF4aW11bSBvZiB7MH0uXCIsIG1heGltdW0pXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlU3RyaW5nTm9kZShub2RlMiwgc2NoZW1hMiwgdmFsaWRhdGlvblJlc3VsdDIsIG1hdGNoaW5nU2NoZW1hczIpIHtcbiAgICBpZiAoaXNOdW1iZXIoc2NoZW1hMi5taW5MZW5ndGgpICYmIG5vZGUyLnZhbHVlLmxlbmd0aCA8IHNjaGVtYTIubWluTGVuZ3RoKSB7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogbm9kZTIubGVuZ3RoIH0sXG4gICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIm1pbkxlbmd0aFdhcm5pbmdcIiwgXCJTdHJpbmcgaXMgc2hvcnRlciB0aGFuIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiB7MH0uXCIsIHNjaGVtYTIubWluTGVuZ3RoKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihzY2hlbWEyLm1heExlbmd0aCkgJiYgbm9kZTIudmFsdWUubGVuZ3RoID4gc2NoZW1hMi5tYXhMZW5ndGgpIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwibWF4TGVuZ3RoV2FybmluZ1wiLCBcIlN0cmluZyBpcyBsb25nZXIgdGhhbiB0aGUgbWF4aW11bSBsZW5ndGggb2YgezB9LlwiLCBzY2hlbWEyLm1heExlbmd0aClcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoaXNTdHJpbmcoc2NoZW1hMi5wYXR0ZXJuKSkge1xuICAgICAgdmFyIHJlZ2V4ID0gZXh0ZW5kZWRSZWdFeHAoc2NoZW1hMi5wYXR0ZXJuKTtcbiAgICAgIGlmICghKHJlZ2V4ID09PSBudWxsIHx8IHJlZ2V4ID09PSB2b2lkIDAgPyB2b2lkIDAgOiByZWdleC50ZXN0KG5vZGUyLnZhbHVlKSkpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogbm9kZTIubGVuZ3RoIH0sXG4gICAgICAgICAgbWVzc2FnZTogc2NoZW1hMi5wYXR0ZXJuRXJyb3JNZXNzYWdlIHx8IHNjaGVtYTIuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcInBhdHRlcm5XYXJuaW5nXCIsICdTdHJpbmcgZG9lcyBub3QgbWF0Y2ggdGhlIHBhdHRlcm4gb2YgXCJ7MH1cIi4nLCBzY2hlbWEyLnBhdHRlcm4pXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2NoZW1hMi5mb3JtYXQpIHtcbiAgICAgIHN3aXRjaCAoc2NoZW1hMi5mb3JtYXQpIHtcbiAgICAgICAgY2FzZSBcInVyaVwiOlxuICAgICAgICBjYXNlIFwidXJpLXJlZmVyZW5jZVwiOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHZhciBlcnJvck1lc3NhZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoIW5vZGUyLnZhbHVlKSB7XG4gICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGxvY2FsaXplMihcInVyaUVtcHR5XCIsIFwiVVJJIGV4cGVjdGVkLlwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBtYXRjaCA9IC9eKChbXjovPyNdKz8pOik/KFxcL1xcLyhbXi8/I10qKSk/KFtePyNdKikoXFw/KFteI10qKSk/KCMoLiopKT8vLmV4ZWMobm9kZTIudmFsdWUpO1xuICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUyKFwidXJpTWlzc2luZ1wiLCBcIlVSSSBpcyBleHBlY3RlZC5cIik7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIW1hdGNoWzJdICYmIHNjaGVtYTIuZm9ybWF0ID09PSBcInVyaVwiKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlID0gbG9jYWxpemUyKFwidXJpU2NoZW1lTWlzc2luZ1wiLCBcIlVSSSB3aXRoIGEgc2NoZW1lIGlzIGV4cGVjdGVkLlwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGVycm9yTWVzc2FnZSkge1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEyLnBhdHRlcm5FcnJvck1lc3NhZ2UgfHwgc2NoZW1hMi5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUyKFwidXJpRm9ybWF0V2FybmluZ1wiLCBcIlN0cmluZyBpcyBub3QgYSBVUkk6IHswfVwiLCBlcnJvck1lc3NhZ2UpXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImNvbG9yLWhleFwiOlxuICAgICAgICBjYXNlIFwiZGF0ZS10aW1lXCI6XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6XG4gICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICBjYXNlIFwiaG9zdG5hbWVcIjpcbiAgICAgICAgY2FzZSBcImlwdjRcIjpcbiAgICAgICAgY2FzZSBcImlwdjZcIjpcbiAgICAgICAgICB2YXIgZm9ybWF0NCA9IGZvcm1hdHNbc2NoZW1hMi5mb3JtYXRdO1xuICAgICAgICAgIGlmICghbm9kZTIudmFsdWUgfHwgIWZvcm1hdDQucGF0dGVybi5leGVjKG5vZGUyLnZhbHVlKSkge1xuICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZTIub2Zmc2V0LCBsZW5ndGg6IG5vZGUyLmxlbmd0aCB9LFxuICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEyLnBhdHRlcm5FcnJvck1lc3NhZ2UgfHwgc2NoZW1hMi5lcnJvck1lc3NhZ2UgfHwgZm9ybWF0NC5lcnJvck1lc3NhZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX3ZhbGlkYXRlQXJyYXlOb2RlKG5vZGUyLCBzY2hlbWEyLCB2YWxpZGF0aW9uUmVzdWx0MiwgbWF0Y2hpbmdTY2hlbWFzMikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYTIuaXRlbXMpKSB7XG4gICAgICB2YXIgc3ViU2NoZW1hcyA9IHNjaGVtYTIuaXRlbXM7XG4gICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgc3ViU2NoZW1hcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIHN1YlNjaGVtYVJlZiA9IHN1YlNjaGVtYXNbaW5kZXhdO1xuICAgICAgICB2YXIgc3ViU2NoZW1hID0gYXNTY2hlbWEoc3ViU2NoZW1hUmVmKTtcbiAgICAgICAgdmFyIGl0ZW1WYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgdmFyIGl0ZW0gPSBub2RlMi5pdGVtc1tpbmRleF07XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgdmFsaWRhdGUoaXRlbSwgc3ViU2NoZW1hLCBpdGVtVmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIubWVyZ2VQcm9wZXJ0eU1hdGNoKGl0ZW1WYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlMi5pdGVtcy5sZW5ndGggPj0gc3ViU2NoZW1hcy5sZW5ndGgpIHtcbiAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChub2RlMi5pdGVtcy5sZW5ndGggPiBzdWJTY2hlbWFzLmxlbmd0aCkge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYTIuYWRkaXRpb25hbEl0ZW1zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IHN1YlNjaGVtYXMubGVuZ3RoOyBpIDwgbm9kZTIuaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtVmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICB2YWxpZGF0ZShub2RlMi5pdGVtc1tpXSwgc2NoZW1hMi5hZGRpdGlvbmFsSXRlbXMsIGl0ZW1WYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMyKTtcbiAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLm1lcmdlUHJvcGVydHlNYXRjaChpdGVtVmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYTIuYWRkaXRpb25hbEl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogbm9kZTIubGVuZ3RoIH0sXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZTIoXCJhZGRpdGlvbmFsSXRlbXNXYXJuaW5nXCIsIFwiQXJyYXkgaGFzIHRvbyBtYW55IGl0ZW1zIGFjY29yZGluZyB0byBzY2hlbWEuIEV4cGVjdGVkIHswfSBvciBmZXdlci5cIiwgc3ViU2NoZW1hcy5sZW5ndGgpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGl0ZW1TY2hlbWEgPSBhc1NjaGVtYShzY2hlbWEyLml0ZW1zKTtcbiAgICAgIGlmIChpdGVtU2NoZW1hKSB7XG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBub2RlMi5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICB2YXIgaXRlbVZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgIHZhbGlkYXRlKGl0ZW0sIGl0ZW1TY2hlbWEsIGl0ZW1WYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMyKTtcbiAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5tZXJnZVByb3BlcnR5TWF0Y2goaXRlbVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBjb250YWluc1NjaGVtYSA9IGFzU2NoZW1hKHNjaGVtYTIuY29udGFpbnMpO1xuICAgIGlmIChjb250YWluc1NjaGVtYSkge1xuICAgICAgdmFyIGRvZXNDb250YWluID0gbm9kZTIuaXRlbXMuc29tZShmdW5jdGlvbihpdGVtMikge1xuICAgICAgICB2YXIgaXRlbVZhbGlkYXRpb25SZXN1bHQyID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgdmFsaWRhdGUoaXRlbTIsIGNvbnRhaW5zU2NoZW1hLCBpdGVtVmFsaWRhdGlvblJlc3VsdDIsIE5vT3BTY2hlbWFDb2xsZWN0b3IuaW5zdGFuY2UpO1xuICAgICAgICByZXR1cm4gIWl0ZW1WYWxpZGF0aW9uUmVzdWx0Mi5oYXNQcm9ibGVtcygpO1xuICAgICAgfSk7XG4gICAgICBpZiAoIWRvZXNDb250YWluKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZTIub2Zmc2V0LCBsZW5ndGg6IG5vZGUyLmxlbmd0aCB9LFxuICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYTIuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcInJlcXVpcmVkSXRlbU1pc3NpbmdXYXJuaW5nXCIsIFwiQXJyYXkgZG9lcyBub3QgY29udGFpbiByZXF1aXJlZCBpdGVtLlwiKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKHNjaGVtYTIubWluSXRlbXMpICYmIG5vZGUyLml0ZW1zLmxlbmd0aCA8IHNjaGVtYTIubWluSXRlbXMpIHtcbiAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwibWluSXRlbXNXYXJuaW5nXCIsIFwiQXJyYXkgaGFzIHRvbyBmZXcgaXRlbXMuIEV4cGVjdGVkIHswfSBvciBtb3JlLlwiLCBzY2hlbWEyLm1pbkl0ZW1zKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc051bWJlcihzY2hlbWEyLm1heEl0ZW1zKSAmJiBub2RlMi5pdGVtcy5sZW5ndGggPiBzY2hlbWEyLm1heEl0ZW1zKSB7XG4gICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogbm9kZTIubGVuZ3RoIH0sXG4gICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIm1heEl0ZW1zV2FybmluZ1wiLCBcIkFycmF5IGhhcyB0b28gbWFueSBpdGVtcy4gRXhwZWN0ZWQgezB9IG9yIGZld2VyLlwiLCBzY2hlbWEyLm1heEl0ZW1zKVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzY2hlbWEyLnVuaXF1ZUl0ZW1zID09PSB0cnVlKSB7XG4gICAgICB2YXIgdmFsdWVzXzEgPSBnZXROb2RlVmFsdWUzKG5vZGUyKTtcbiAgICAgIHZhciBkdXBsaWNhdGVzID0gdmFsdWVzXzEuc29tZShmdW5jdGlvbih2YWx1ZSwgaW5kZXgyKSB7XG4gICAgICAgIHJldHVybiBpbmRleDIgIT09IHZhbHVlc18xLmxhc3RJbmRleE9mKHZhbHVlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGR1cGxpY2F0ZXMpIHtcbiAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogbm9kZTIubGVuZ3RoIH0sXG4gICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUyKFwidW5pcXVlSXRlbXNXYXJuaW5nXCIsIFwiQXJyYXkgaGFzIGR1cGxpY2F0ZSBpdGVtcy5cIilcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF92YWxpZGF0ZU9iamVjdE5vZGUobm9kZTIsIHNjaGVtYTIsIHZhbGlkYXRpb25SZXN1bHQyLCBtYXRjaGluZ1NjaGVtYXMyKSB7XG4gICAgdmFyIHNlZW5LZXlzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdmFyIHVucHJvY2Vzc2VkUHJvcGVydGllcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBub2RlMi5wcm9wZXJ0aWVzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIHByb3BlcnR5Tm9kZSA9IF9hW19pXTtcbiAgICAgIHZhciBrZXkgPSBwcm9wZXJ0eU5vZGUua2V5Tm9kZS52YWx1ZTtcbiAgICAgIHNlZW5LZXlzW2tleV0gPSBwcm9wZXJ0eU5vZGUudmFsdWVOb2RlO1xuICAgICAgdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLnB1c2goa2V5KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hMi5yZXF1aXJlZCkpIHtcbiAgICAgIGZvciAodmFyIF9iID0gMCwgX2MgPSBzY2hlbWEyLnJlcXVpcmVkOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2NbX2JdO1xuICAgICAgICBpZiAoIXNlZW5LZXlzW3Byb3BlcnR5TmFtZV0pIHtcbiAgICAgICAgICB2YXIga2V5Tm9kZSA9IG5vZGUyLnBhcmVudCAmJiBub2RlMi5wYXJlbnQudHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIG5vZGUyLnBhcmVudC5rZXlOb2RlO1xuICAgICAgICAgIHZhciBsb2NhdGlvbiA9IGtleU5vZGUgPyB7IG9mZnNldDoga2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDoga2V5Tm9kZS5sZW5ndGggfSA6IHsgb2Zmc2V0OiBub2RlMi5vZmZzZXQsIGxlbmd0aDogMSB9O1xuICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgbG9jYXRpb24sXG4gICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZTIoXCJNaXNzaW5nUmVxdWlyZWRQcm9wV2FybmluZ1wiLCAnTWlzc2luZyBwcm9wZXJ0eSBcInswfVwiLicsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcHJvcGVydHlQcm9jZXNzZWQgPSBmdW5jdGlvbihwcm9wMikge1xuICAgICAgdmFyIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcDIpO1xuICAgICAgd2hpbGUgKGluZGV4ID49IDApIHtcbiAgICAgICAgdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIGluZGV4ID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzLmluZGV4T2YocHJvcDIpO1xuICAgICAgfVxuICAgIH07XG4gICAgaWYgKHNjaGVtYTIucHJvcGVydGllcykge1xuICAgICAgZm9yICh2YXIgX2QgPSAwLCBfZSA9IE9iamVjdC5rZXlzKHNjaGVtYTIucHJvcGVydGllcyk7IF9kIDwgX2UubGVuZ3RoOyBfZCsrKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSBfZVtfZF07XG4gICAgICAgIHByb3BlcnR5UHJvY2Vzc2VkKHByb3BlcnR5TmFtZSk7XG4gICAgICAgIHZhciBwcm9wZXJ0eVNjaGVtYSA9IHNjaGVtYTIucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICB2YXIgY2hpbGQgPSBzZWVuS2V5c1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoaXNCb29sZWFuKHByb3BlcnR5U2NoZW1hKSkge1xuICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVNjaGVtYSkge1xuICAgICAgICAgICAgICB2YXIgcHJvcGVydHlOb2RlID0gY2hpbGQucGFyZW50O1xuICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IHByb3BlcnR5Tm9kZS5rZXlOb2RlLm9mZnNldCwgbGVuZ3RoOiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBzY2hlbWEyLmVycm9yTWVzc2FnZSB8fCBsb2NhbGl6ZTIoXCJEaXNhbGxvd2VkRXh0cmFQcm9wV2FybmluZ1wiLCBcIlByb3BlcnR5IHswfSBpcyBub3QgYWxsb3dlZC5cIiwgcHJvcGVydHlOYW1lKVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb3BlcnRpZXNNYXRjaGVzKys7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb3BlcnRpZXNWYWx1ZU1hdGNoZXMrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCA9IG5ldyBWYWxpZGF0aW9uUmVzdWx0KCk7XG4gICAgICAgICAgICB2YWxpZGF0ZShjaGlsZCwgcHJvcGVydHlTY2hlbWEsIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5tZXJnZVByb3BlcnR5TWF0Y2gocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjaGVtYTIucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIGZvciAodmFyIF9mID0gMCwgX2cgPSBPYmplY3Qua2V5cyhzY2hlbWEyLnBhdHRlcm5Qcm9wZXJ0aWVzKTsgX2YgPCBfZy5sZW5ndGg7IF9mKyspIHtcbiAgICAgICAgdmFyIHByb3BlcnR5UGF0dGVybiA9IF9nW19mXTtcbiAgICAgICAgdmFyIHJlZ2V4ID0gZXh0ZW5kZWRSZWdFeHAocHJvcGVydHlQYXR0ZXJuKTtcbiAgICAgICAgZm9yICh2YXIgX2ggPSAwLCBfaiA9IHVucHJvY2Vzc2VkUHJvcGVydGllcy5zbGljZSgwKTsgX2ggPCBfai5sZW5ndGg7IF9oKyspIHtcbiAgICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gX2pbX2hdO1xuICAgICAgICAgIGlmIChyZWdleCA9PT0gbnVsbCB8fCByZWdleCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVnZXgudGVzdChwcm9wZXJ0eU5hbWUpKSB7XG4gICAgICAgICAgICBwcm9wZXJ0eVByb2Nlc3NlZChwcm9wZXJ0eU5hbWUpO1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gc2VlbktleXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICB2YXIgcHJvcGVydHlTY2hlbWEgPSBzY2hlbWEyLnBhdHRlcm5Qcm9wZXJ0aWVzW3Byb3BlcnR5UGF0dGVybl07XG4gICAgICAgICAgICAgIGlmIChpc0Jvb2xlYW4ocHJvcGVydHlTY2hlbWEpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wZXJ0eVNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5Tm9kZSA9IGNoaWxkLnBhcmVudDtcbiAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IHByb3BlcnR5Tm9kZS5rZXlOb2RlLm9mZnNldCwgbGVuZ3RoOiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogc2NoZW1hMi5lcnJvck1lc3NhZ2UgfHwgbG9jYWxpemUyKFwiRGlzYWxsb3dlZEV4dHJhUHJvcFdhcm5pbmdcIiwgXCJQcm9wZXJ0eSB7MH0gaXMgbm90IGFsbG93ZWQuXCIsIHByb3BlcnR5TmFtZSlcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzTWF0Y2hlcysrO1xuICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvcGVydGllc1ZhbHVlTWF0Y2hlcysrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZShjaGlsZCwgcHJvcGVydHlTY2hlbWEsIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIubWVyZ2VQcm9wZXJ0eU1hdGNoKHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBmb3IgKHZhciBfayA9IDAsIHVucHJvY2Vzc2VkUHJvcGVydGllc18xID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzOyBfayA8IHVucHJvY2Vzc2VkUHJvcGVydGllc18xLmxlbmd0aDsgX2srKykge1xuICAgICAgICB2YXIgcHJvcGVydHlOYW1lID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzXzFbX2tdO1xuICAgICAgICB2YXIgY2hpbGQgPSBzZWVuS2V5c1twcm9wZXJ0eU5hbWVdO1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICB2YXIgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0ID0gbmV3IFZhbGlkYXRpb25SZXN1bHQoKTtcbiAgICAgICAgICB2YWxpZGF0ZShjaGlsZCwgc2NoZW1hMi5hZGRpdGlvbmFsUHJvcGVydGllcywgcHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0LCBtYXRjaGluZ1NjaGVtYXMyKTtcbiAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5tZXJnZVByb3BlcnR5TWF0Y2gocHJvcGVydHlWYWxpZGF0aW9uUmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2NoZW1hMi5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gZmFsc2UpIHtcbiAgICAgIGlmICh1bnByb2Nlc3NlZFByb3BlcnRpZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBfbCA9IDAsIHVucHJvY2Vzc2VkUHJvcGVydGllc18yID0gdW5wcm9jZXNzZWRQcm9wZXJ0aWVzOyBfbCA8IHVucHJvY2Vzc2VkUHJvcGVydGllc18yLmxlbmd0aDsgX2wrKykge1xuICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWUgPSB1bnByb2Nlc3NlZFByb3BlcnRpZXNfMltfbF07XG4gICAgICAgICAgdmFyIGNoaWxkID0gc2VlbktleXNbcHJvcGVydHlOYW1lXTtcbiAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgIHZhciBwcm9wZXJ0eU5vZGUgPSBjaGlsZC5wYXJlbnQ7XG4gICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICAgICAgbG9jYXRpb246IHsgb2Zmc2V0OiBwcm9wZXJ0eU5vZGUua2V5Tm9kZS5vZmZzZXQsIGxlbmd0aDogcHJvcGVydHlOb2RlLmtleU5vZGUubGVuZ3RoIH0sXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IHNjaGVtYTIuZXJyb3JNZXNzYWdlIHx8IGxvY2FsaXplMihcIkRpc2FsbG93ZWRFeHRyYVByb3BXYXJuaW5nXCIsIFwiUHJvcGVydHkgezB9IGlzIG5vdCBhbGxvd2VkLlwiLCBwcm9wZXJ0eU5hbWUpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlzTnVtYmVyKHNjaGVtYTIubWF4UHJvcGVydGllcykpIHtcbiAgICAgIGlmIChub2RlMi5wcm9wZXJ0aWVzLmxlbmd0aCA+IHNjaGVtYTIubWF4UHJvcGVydGllcykge1xuICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9ibGVtcy5wdXNoKHtcbiAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZTIoXCJNYXhQcm9wV2FybmluZ1wiLCBcIk9iamVjdCBoYXMgbW9yZSBwcm9wZXJ0aWVzIHRoYW4gbGltaXQgb2YgezB9LlwiLCBzY2hlbWEyLm1heFByb3BlcnRpZXMpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoaXNOdW1iZXIoc2NoZW1hMi5taW5Qcm9wZXJ0aWVzKSkge1xuICAgICAgaWYgKG5vZGUyLnByb3BlcnRpZXMubGVuZ3RoIDwgc2NoZW1hMi5taW5Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLnByb2JsZW1zLnB1c2goe1xuICAgICAgICAgIGxvY2F0aW9uOiB7IG9mZnNldDogbm9kZTIub2Zmc2V0LCBsZW5ndGg6IG5vZGUyLmxlbmd0aCB9LFxuICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIk1pblByb3BXYXJuaW5nXCIsIFwiT2JqZWN0IGhhcyBmZXdlciBwcm9wZXJ0aWVzIHRoYW4gdGhlIHJlcXVpcmVkIG51bWJlciBvZiB7MH1cIiwgc2NoZW1hMi5taW5Qcm9wZXJ0aWVzKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNjaGVtYTIuZGVwZW5kZW5jaWVzKSB7XG4gICAgICBmb3IgKHZhciBfbSA9IDAsIF9vID0gT2JqZWN0LmtleXMoc2NoZW1hMi5kZXBlbmRlbmNpZXMpOyBfbSA8IF9vLmxlbmd0aDsgX20rKykge1xuICAgICAgICB2YXIga2V5ID0gX29bX21dO1xuICAgICAgICB2YXIgcHJvcCA9IHNlZW5LZXlzW2tleV07XG4gICAgICAgIGlmIChwcm9wKSB7XG4gICAgICAgICAgdmFyIHByb3BlcnR5RGVwID0gc2NoZW1hMi5kZXBlbmRlbmNpZXNba2V5XTtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShwcm9wZXJ0eURlcCkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9wID0gMCwgcHJvcGVydHlEZXBfMSA9IHByb3BlcnR5RGVwOyBfcCA8IHByb3BlcnR5RGVwXzEubGVuZ3RoOyBfcCsrKSB7XG4gICAgICAgICAgICAgIHZhciByZXF1aXJlZFByb3AgPSBwcm9wZXJ0eURlcF8xW19wXTtcbiAgICAgICAgICAgICAgaWYgKCFzZWVuS2V5c1tyZXF1aXJlZFByb3BdKSB7XG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdDIucHJvYmxlbXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICBsb2NhdGlvbjogeyBvZmZzZXQ6IG5vZGUyLm9mZnNldCwgbGVuZ3RoOiBub2RlMi5sZW5ndGggfSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplMihcIlJlcXVpcmVkRGVwZW5kZW50UHJvcFdhcm5pbmdcIiwgXCJPYmplY3QgaXMgbWlzc2luZyBwcm9wZXJ0eSB7MH0gcmVxdWlyZWQgYnkgcHJvcGVydHkgezF9LlwiLCByZXF1aXJlZFByb3AsIGtleSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uUmVzdWx0Mi5wcm9wZXJ0aWVzVmFsdWVNYXRjaGVzKys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gYXNTY2hlbWEocHJvcGVydHlEZXApO1xuICAgICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQgPSBuZXcgVmFsaWRhdGlvblJlc3VsdCgpO1xuICAgICAgICAgICAgICB2YWxpZGF0ZShub2RlMiwgcHJvcGVydHlTY2hlbWEsIHByb3BlcnR5VmFsaWRhdGlvblJlc3VsdCwgbWF0Y2hpbmdTY2hlbWFzMik7XG4gICAgICAgICAgICAgIHZhbGlkYXRpb25SZXN1bHQyLm1lcmdlUHJvcGVydHlNYXRjaChwcm9wZXJ0eVZhbGlkYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICB2YXIgcHJvcGVydHlOYW1lcyA9IGFzU2NoZW1hKHNjaGVtYTIucHJvcGVydHlOYW1lcyk7XG4gICAgaWYgKHByb3BlcnR5TmFtZXMpIHtcbiAgICAgIGZvciAodmFyIF9xID0gMCwgX3IgPSBub2RlMi5wcm9wZXJ0aWVzOyBfcSA8IF9yLmxlbmd0aDsgX3ErKykge1xuICAgICAgICB2YXIgZjIgPSBfcltfcV07XG4gICAgICAgIHZhciBrZXkgPSBmMi5rZXlOb2RlO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgdmFsaWRhdGUoa2V5LCBwcm9wZXJ0eU5hbWVzLCB2YWxpZGF0aW9uUmVzdWx0MiwgTm9PcFNjaGVtYUNvbGxlY3Rvci5pbnN0YW5jZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHBhcnNlMyh0ZXh0RG9jdW1lbnQsIGNvbmZpZykge1xuICB2YXIgcHJvYmxlbXMgPSBbXTtcbiAgdmFyIGxhc3RQcm9ibGVtT2Zmc2V0ID0gLTE7XG4gIHZhciB0ZXh0ID0gdGV4dERvY3VtZW50LmdldFRleHQoKTtcbiAgdmFyIHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyMih0ZXh0LCBmYWxzZSk7XG4gIHZhciBjb21tZW50UmFuZ2VzID0gY29uZmlnICYmIGNvbmZpZy5jb2xsZWN0Q29tbWVudHMgPyBbXSA6IHZvaWQgMDtcbiAgZnVuY3Rpb24gX3NjYW5OZXh0KCkge1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgdG9rZW5fMSA9IHNjYW5uZXIuc2NhbigpO1xuICAgICAgX2NoZWNrU2NhbkVycm9yKCk7XG4gICAgICBzd2l0Y2ggKHRva2VuXzEpIHtcbiAgICAgICAgY2FzZSAxMjpcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShjb21tZW50UmFuZ2VzKSkge1xuICAgICAgICAgICAgY29tbWVudFJhbmdlcy5wdXNoKFJhbmdlLmNyZWF0ZSh0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICBjYXNlIDE0OlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0b2tlbl8xO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfYWNjZXB0KHRva2VuMikge1xuICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IHRva2VuMikge1xuICAgICAgX3NjYW5OZXh0KCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIF9lcnJvckF0UmFuZ2UobWVzc2FnZSwgY29kZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgc2V2ZXJpdHkpIHtcbiAgICBpZiAoc2V2ZXJpdHkgPT09IHZvaWQgMCkge1xuICAgICAgc2V2ZXJpdHkgPSBEaWFnbm9zdGljU2V2ZXJpdHkuRXJyb3I7XG4gICAgfVxuICAgIGlmIChwcm9ibGVtcy5sZW5ndGggPT09IDAgfHwgc3RhcnRPZmZzZXQgIT09IGxhc3RQcm9ibGVtT2Zmc2V0KSB7XG4gICAgICB2YXIgcmFuZ2UgPSBSYW5nZS5jcmVhdGUodGV4dERvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnRPZmZzZXQpLCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChlbmRPZmZzZXQpKTtcbiAgICAgIHByb2JsZW1zLnB1c2goRGlhZ25vc3RpYy5jcmVhdGUocmFuZ2UsIG1lc3NhZ2UsIHNldmVyaXR5LCBjb2RlLCB0ZXh0RG9jdW1lbnQubGFuZ3VhZ2VJZCkpO1xuICAgICAgbGFzdFByb2JsZW1PZmZzZXQgPSBzdGFydE9mZnNldDtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gX2Vycm9yKG1lc3NhZ2UsIGNvZGUsIG5vZGUsIHNraXBVbnRpbEFmdGVyLCBza2lwVW50aWwpIHtcbiAgICBpZiAobm9kZSA9PT0gdm9pZCAwKSB7XG4gICAgICBub2RlID0gdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoc2tpcFVudGlsQWZ0ZXIgPT09IHZvaWQgMCkge1xuICAgICAgc2tpcFVudGlsQWZ0ZXIgPSBbXTtcbiAgICB9XG4gICAgaWYgKHNraXBVbnRpbCA9PT0gdm9pZCAwKSB7XG4gICAgICBza2lwVW50aWwgPSBbXTtcbiAgICB9XG4gICAgdmFyIHN0YXJ0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpO1xuICAgIHZhciBlbmQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCk7XG4gICAgaWYgKHN0YXJ0ID09PSBlbmQgJiYgc3RhcnQgPiAwKSB7XG4gICAgICBzdGFydC0tO1xuICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiAvXFxzLy50ZXN0KHRleHQuY2hhckF0KHN0YXJ0KSkpIHtcbiAgICAgICAgc3RhcnQtLTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICB9XG4gICAgX2Vycm9yQXRSYW5nZShtZXNzYWdlLCBjb2RlLCBzdGFydCwgZW5kKTtcbiAgICBpZiAobm9kZSkge1xuICAgICAgX2ZpbmFsaXplKG5vZGUsIGZhbHNlKTtcbiAgICB9XG4gICAgaWYgKHNraXBVbnRpbEFmdGVyLmxlbmd0aCArIHNraXBVbnRpbC5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgdG9rZW5fMiA9IHNjYW5uZXIuZ2V0VG9rZW4oKTtcbiAgICAgIHdoaWxlICh0b2tlbl8yICE9PSAxNykge1xuICAgICAgICBpZiAoc2tpcFVudGlsQWZ0ZXIuaW5kZXhPZih0b2tlbl8yKSAhPT0gLTEpIHtcbiAgICAgICAgICBfc2Nhbk5leHQoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfSBlbHNlIGlmIChza2lwVW50aWwuaW5kZXhPZih0b2tlbl8yKSAhPT0gLTEpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB0b2tlbl8yID0gX3NjYW5OZXh0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGZ1bmN0aW9uIF9jaGVja1NjYW5FcnJvcigpIHtcbiAgICBzd2l0Y2ggKHNjYW5uZXIuZ2V0VG9rZW5FcnJvcigpKSB7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIF9lcnJvcihsb2NhbGl6ZTIoXCJJbnZhbGlkVW5pY29kZVwiLCBcIkludmFsaWQgdW5pY29kZSBzZXF1ZW5jZSBpbiBzdHJpbmcuXCIpLCBFcnJvckNvZGUuSW52YWxpZFVuaWNvZGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIkludmFsaWRFc2NhcGVDaGFyYWN0ZXJcIiwgXCJJbnZhbGlkIGVzY2FwZSBjaGFyYWN0ZXIgaW4gc3RyaW5nLlwiKSwgRXJyb3JDb2RlLkludmFsaWRFc2NhcGVDaGFyYWN0ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIlVuZXhwZWN0ZWRFbmRPZk51bWJlclwiLCBcIlVuZXhwZWN0ZWQgZW5kIG9mIG51bWJlci5cIiksIEVycm9yQ29kZS5VbmV4cGVjdGVkRW5kT2ZOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnRcIiwgXCJVbmV4cGVjdGVkIGVuZCBvZiBjb21tZW50LlwiKSwgRXJyb3JDb2RlLlVuZXhwZWN0ZWRFbmRPZkNvbW1lbnQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIlVuZXhwZWN0ZWRFbmRPZlN0cmluZ1wiLCBcIlVuZXhwZWN0ZWQgZW5kIG9mIHN0cmluZy5cIiksIEVycm9yQ29kZS5VbmV4cGVjdGVkRW5kT2ZTdHJpbmcpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGNhc2UgNjpcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIkludmFsaWRDaGFyYWN0ZXJcIiwgXCJJbnZhbGlkIGNoYXJhY3RlcnMgaW4gc3RyaW5nLiBDb250cm9sIGNoYXJhY3RlcnMgbXVzdCBiZSBlc2NhcGVkLlwiKSwgRXJyb3JDb2RlLkludmFsaWRDaGFyYWN0ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIF9maW5hbGl6ZShub2RlLCBzY2FuTmV4dCkge1xuICAgIG5vZGUubGVuZ3RoID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpIC0gbm9kZS5vZmZzZXQ7XG4gICAgaWYgKHNjYW5OZXh0KSB7XG4gICAgICBfc2Nhbk5leHQoKTtcbiAgICB9XG4gICAgcmV0dXJuIG5vZGU7XG4gIH1cbiAgZnVuY3Rpb24gX3BhcnNlQXJyYXkocGFyZW50KSB7XG4gICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMykge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuZXcgQXJyYXlBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgX3NjYW5OZXh0KCk7XG4gICAgdmFyIGNvdW50ID0gMDtcbiAgICB2YXIgbmVlZHNDb21tYSA9IGZhbHNlO1xuICAgIHdoaWxlIChzY2FubmVyLmdldFRva2VuKCkgIT09IDQgJiYgc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNykge1xuICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNSkge1xuICAgICAgICBpZiAoIW5lZWRzQ29tbWEpIHtcbiAgICAgICAgICBfZXJyb3IobG9jYWxpemUyKFwiVmFsdWVFeHBlY3RlZFwiLCBcIlZhbHVlIGV4cGVjdGVkXCIpLCBFcnJvckNvZGUuVmFsdWVFeHBlY3RlZCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGNvbW1hT2Zmc2V0ID0gc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpO1xuICAgICAgICBfc2Nhbk5leHQoKTtcbiAgICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gNCkge1xuICAgICAgICAgIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgICBfZXJyb3JBdFJhbmdlKGxvY2FsaXplMihcIlRyYWlsaW5nQ29tbWFcIiwgXCJUcmFpbGluZyBjb21tYVwiKSwgRXJyb3JDb2RlLlRyYWlsaW5nQ29tbWEsIGNvbW1hT2Zmc2V0LCBjb21tYU9mZnNldCArIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChuZWVkc0NvbW1hKSB7XG4gICAgICAgIF9lcnJvcihsb2NhbGl6ZTIoXCJFeHBlY3RlZENvbW1hXCIsIFwiRXhwZWN0ZWQgY29tbWFcIiksIEVycm9yQ29kZS5Db21tYUV4cGVjdGVkKTtcbiAgICAgIH1cbiAgICAgIHZhciBpdGVtID0gX3BhcnNlVmFsdWUobm9kZSk7XG4gICAgICBpZiAoIWl0ZW0pIHtcbiAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIlByb3BlcnR5RXhwZWN0ZWRcIiwgXCJWYWx1ZSBleHBlY3RlZFwiKSwgRXJyb3JDb2RlLlZhbHVlRXhwZWN0ZWQsIHZvaWQgMCwgW10sIFs0LCA1XSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLml0ZW1zLnB1c2goaXRlbSk7XG4gICAgICB9XG4gICAgICBuZWVkc0NvbW1hID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gNCkge1xuICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZTIoXCJFeHBlY3RlZENsb3NlQnJhY2tldFwiLCBcIkV4cGVjdGVkIGNvbW1hIG9yIGNsb3NpbmcgYnJhY2tldFwiKSwgRXJyb3JDb2RlLkNvbW1hT3JDbG9zZUJhY2tldEV4cGVjdGVkLCBub2RlKTtcbiAgICB9XG4gICAgcmV0dXJuIF9maW5hbGl6ZShub2RlLCB0cnVlKTtcbiAgfVxuICB2YXIga2V5UGxhY2Vob2xkZXIgPSBuZXcgU3RyaW5nQVNUTm9kZUltcGwodm9pZCAwLCAwLCAwKTtcbiAgZnVuY3Rpb24gX3BhcnNlUHJvcGVydHkocGFyZW50LCBrZXlzU2Vlbikge1xuICAgIHZhciBub2RlID0gbmV3IFByb3BlcnR5QVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCksIGtleVBsYWNlaG9sZGVyKTtcbiAgICB2YXIga2V5ID0gX3BhcnNlU3RyaW5nKG5vZGUpO1xuICAgIGlmICgha2V5KSB7XG4gICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpID09PSAxNikge1xuICAgICAgICBfZXJyb3IobG9jYWxpemUyKFwiRG91YmxlUXVvdGVzRXhwZWN0ZWRcIiwgXCJQcm9wZXJ0eSBrZXlzIG11c3QgYmUgZG91YmxlcXVvdGVkXCIpLCBFcnJvckNvZGUuVW5kZWZpbmVkKTtcbiAgICAgICAgdmFyIGtleU5vZGUgPSBuZXcgU3RyaW5nQVNUTm9kZUltcGwobm9kZSwgc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpO1xuICAgICAgICBrZXlOb2RlLnZhbHVlID0gc2Nhbm5lci5nZXRUb2tlblZhbHVlKCk7XG4gICAgICAgIGtleSA9IGtleU5vZGU7XG4gICAgICAgIF9zY2FuTmV4dCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZS5rZXlOb2RlID0ga2V5O1xuICAgIHZhciBzZWVuID0ga2V5c1NlZW5ba2V5LnZhbHVlXTtcbiAgICBpZiAoc2Vlbikge1xuICAgICAgX2Vycm9yQXRSYW5nZShsb2NhbGl6ZTIoXCJEdXBsaWNhdGVLZXlXYXJuaW5nXCIsIFwiRHVwbGljYXRlIG9iamVjdCBrZXlcIiksIEVycm9yQ29kZS5EdXBsaWNhdGVLZXksIG5vZGUua2V5Tm9kZS5vZmZzZXQsIG5vZGUua2V5Tm9kZS5vZmZzZXQgKyBub2RlLmtleU5vZGUubGVuZ3RoLCBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZyk7XG4gICAgICBpZiAodHlwZW9mIHNlZW4gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgX2Vycm9yQXRSYW5nZShsb2NhbGl6ZTIoXCJEdXBsaWNhdGVLZXlXYXJuaW5nXCIsIFwiRHVwbGljYXRlIG9iamVjdCBrZXlcIiksIEVycm9yQ29kZS5EdXBsaWNhdGVLZXksIHNlZW4ua2V5Tm9kZS5vZmZzZXQsIHNlZW4ua2V5Tm9kZS5vZmZzZXQgKyBzZWVuLmtleU5vZGUubGVuZ3RoLCBEaWFnbm9zdGljU2V2ZXJpdHkuV2FybmluZyk7XG4gICAgICB9XG4gICAgICBrZXlzU2VlbltrZXkudmFsdWVdID0gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAga2V5c1NlZW5ba2V5LnZhbHVlXSA9IG5vZGU7XG4gICAgfVxuICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDYpIHtcbiAgICAgIG5vZGUuY29sb25PZmZzZXQgPSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCk7XG4gICAgICBfc2Nhbk5leHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX2Vycm9yKGxvY2FsaXplMihcIkNvbG9uRXhwZWN0ZWRcIiwgXCJDb2xvbiBleHBlY3RlZFwiKSwgRXJyb3JDb2RlLkNvbG9uRXhwZWN0ZWQpO1xuICAgICAgaWYgKHNjYW5uZXIuZ2V0VG9rZW4oKSA9PT0gMTAgJiYgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQoa2V5Lm9mZnNldCArIGtleS5sZW5ndGgpLmxpbmUgPCB0ZXh0RG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLmxpbmUpIHtcbiAgICAgICAgbm9kZS5sZW5ndGggPSBrZXkubGVuZ3RoO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHZhbHVlID0gX3BhcnNlVmFsdWUobm9kZSk7XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZTIoXCJWYWx1ZUV4cGVjdGVkXCIsIFwiVmFsdWUgZXhwZWN0ZWRcIiksIEVycm9yQ29kZS5WYWx1ZUV4cGVjdGVkLCBub2RlLCBbXSwgWzIsIDVdKTtcbiAgICB9XG4gICAgbm9kZS52YWx1ZU5vZGUgPSB2YWx1ZTtcbiAgICBub2RlLmxlbmd0aCA9IHZhbHVlLm9mZnNldCArIHZhbHVlLmxlbmd0aCAtIG5vZGUub2Zmc2V0O1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGZ1bmN0aW9uIF9wYXJzZU9iamVjdChwYXJlbnQpIHtcbiAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICB2YXIgbm9kZSA9IG5ldyBPYmplY3RBU1ROb2RlSW1wbChwYXJlbnQsIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSk7XG4gICAgdmFyIGtleXNTZWVuID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgX3NjYW5OZXh0KCk7XG4gICAgdmFyIG5lZWRzQ29tbWEgPSBmYWxzZTtcbiAgICB3aGlsZSAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAyICYmIHNjYW5uZXIuZ2V0VG9rZW4oKSAhPT0gMTcpIHtcbiAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDUpIHtcbiAgICAgICAgaWYgKCFuZWVkc0NvbW1hKSB7XG4gICAgICAgICAgX2Vycm9yKGxvY2FsaXplMihcIlByb3BlcnR5RXhwZWN0ZWRcIiwgXCJQcm9wZXJ0eSBleHBlY3RlZFwiKSwgRXJyb3JDb2RlLlByb3BlcnR5RXhwZWN0ZWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb21tYU9mZnNldCA9IHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKTtcbiAgICAgICAgX3NjYW5OZXh0KCk7XG4gICAgICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgPT09IDIpIHtcbiAgICAgICAgICBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICAgICAgX2Vycm9yQXRSYW5nZShsb2NhbGl6ZTIoXCJUcmFpbGluZ0NvbW1hXCIsIFwiVHJhaWxpbmcgY29tbWFcIiksIEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hLCBjb21tYU9mZnNldCwgY29tbWFPZmZzZXQgKyAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAobmVlZHNDb21tYSkge1xuICAgICAgICBfZXJyb3IobG9jYWxpemUyKFwiRXhwZWN0ZWRDb21tYVwiLCBcIkV4cGVjdGVkIGNvbW1hXCIpLCBFcnJvckNvZGUuQ29tbWFFeHBlY3RlZCk7XG4gICAgICB9XG4gICAgICB2YXIgcHJvcGVydHkgPSBfcGFyc2VQcm9wZXJ0eShub2RlLCBrZXlzU2Vlbik7XG4gICAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgIF9lcnJvcihsb2NhbGl6ZTIoXCJQcm9wZXJ0eUV4cGVjdGVkXCIsIFwiUHJvcGVydHkgZXhwZWN0ZWRcIiksIEVycm9yQ29kZS5Qcm9wZXJ0eUV4cGVjdGVkLCB2b2lkIDAsIFtdLCBbMiwgNV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9kZS5wcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkpO1xuICAgICAgfVxuICAgICAgbmVlZHNDb21tYSA9IHRydWU7XG4gICAgfVxuICAgIGlmIChzY2FubmVyLmdldFRva2VuKCkgIT09IDIpIHtcbiAgICAgIHJldHVybiBfZXJyb3IobG9jYWxpemUyKFwiRXhwZWN0ZWRDbG9zZUJyYWNlXCIsIFwiRXhwZWN0ZWQgY29tbWEgb3IgY2xvc2luZyBicmFjZVwiKSwgRXJyb3JDb2RlLkNvbW1hT3JDbG9zZUJyYWNlRXhwZWN0ZWQsIG5vZGUpO1xuICAgIH1cbiAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIF9wYXJzZVN0cmluZyhwYXJlbnQpIHtcbiAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxMCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuZXcgU3RyaW5nQVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpO1xuICAgIG5vZGUudmFsdWUgPSBzY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICByZXR1cm4gX2ZpbmFsaXplKG5vZGUsIHRydWUpO1xuICB9XG4gIGZ1bmN0aW9uIF9wYXJzZU51bWJlcihwYXJlbnQpIHtcbiAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxMSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdmFyIG5vZGUgPSBuZXcgTnVtYmVyQVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpO1xuICAgIGlmIChzY2FubmVyLmdldFRva2VuRXJyb3IoKSA9PT0gMCkge1xuICAgICAgdmFyIHRva2VuVmFsdWUgPSBzY2FubmVyLmdldFRva2VuVmFsdWUoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBudW1iZXJWYWx1ZSA9IEpTT04ucGFyc2UodG9rZW5WYWx1ZSk7XG4gICAgICAgIGlmICghaXNOdW1iZXIobnVtYmVyVmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIF9lcnJvcihsb2NhbGl6ZTIoXCJJbnZhbGlkTnVtYmVyRm9ybWF0XCIsIFwiSW52YWxpZCBudW1iZXIgZm9ybWF0LlwiKSwgRXJyb3JDb2RlLlVuZGVmaW5lZCwgbm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS52YWx1ZSA9IG51bWJlclZhbHVlO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gX2Vycm9yKGxvY2FsaXplMihcIkludmFsaWROdW1iZXJGb3JtYXRcIiwgXCJJbnZhbGlkIG51bWJlciBmb3JtYXQuXCIpLCBFcnJvckNvZGUuVW5kZWZpbmVkLCBub2RlKTtcbiAgICAgIH1cbiAgICAgIG5vZGUuaXNJbnRlZ2VyID0gdG9rZW5WYWx1ZS5pbmRleE9mKFwiLlwiKSA9PT0gLTE7XG4gICAgfVxuICAgIHJldHVybiBfZmluYWxpemUobm9kZSwgdHJ1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gX3BhcnNlTGl0ZXJhbChwYXJlbnQpIHtcbiAgICB2YXIgbm9kZTtcbiAgICBzd2l0Y2ggKHNjYW5uZXIuZ2V0VG9rZW4oKSkge1xuICAgICAgY2FzZSA3OlxuICAgICAgICByZXR1cm4gX2ZpbmFsaXplKG5ldyBOdWxsQVNUTm9kZUltcGwocGFyZW50LCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgIGNhc2UgODpcbiAgICAgICAgcmV0dXJuIF9maW5hbGl6ZShuZXcgQm9vbGVhbkFTVE5vZGVJbXBsKHBhcmVudCwgdHJ1ZSwgc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpKSwgdHJ1ZSk7XG4gICAgICBjYXNlIDk6XG4gICAgICAgIHJldHVybiBfZmluYWxpemUobmV3IEJvb2xlYW5BU1ROb2RlSW1wbChwYXJlbnQsIGZhbHNlLCBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLCB0cnVlKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIF9wYXJzZVZhbHVlKHBhcmVudCkge1xuICAgIHJldHVybiBfcGFyc2VBcnJheShwYXJlbnQpIHx8IF9wYXJzZU9iamVjdChwYXJlbnQpIHx8IF9wYXJzZVN0cmluZyhwYXJlbnQpIHx8IF9wYXJzZU51bWJlcihwYXJlbnQpIHx8IF9wYXJzZUxpdGVyYWwocGFyZW50KTtcbiAgfVxuICB2YXIgX3Jvb3QgPSB2b2lkIDA7XG4gIHZhciB0b2tlbiA9IF9zY2FuTmV4dCgpO1xuICBpZiAodG9rZW4gIT09IDE3KSB7XG4gICAgX3Jvb3QgPSBfcGFyc2VWYWx1ZShfcm9vdCk7XG4gICAgaWYgKCFfcm9vdCkge1xuICAgICAgX2Vycm9yKGxvY2FsaXplMihcIkludmFsaWQgc3ltYm9sXCIsIFwiRXhwZWN0ZWQgYSBKU09OIG9iamVjdCwgYXJyYXkgb3IgbGl0ZXJhbC5cIiksIEVycm9yQ29kZS5VbmRlZmluZWQpO1xuICAgIH0gZWxzZSBpZiAoc2Nhbm5lci5nZXRUb2tlbigpICE9PSAxNykge1xuICAgICAgX2Vycm9yKGxvY2FsaXplMihcIkVuZCBvZiBmaWxlIGV4cGVjdGVkXCIsIFwiRW5kIG9mIGZpbGUgZXhwZWN0ZWQuXCIpLCBFcnJvckNvZGUuVW5kZWZpbmVkKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBKU09ORG9jdW1lbnQoX3Jvb3QsIHByb2JsZW1zLCBjb21tZW50UmFuZ2VzKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL3V0aWxzL2pzb24uanNcbmZ1bmN0aW9uIHN0cmluZ2lmeU9iamVjdChvYmosIGluZGVudCwgc3RyaW5naWZ5TGl0ZXJhbCkge1xuICBpZiAob2JqICE9PSBudWxsICYmIHR5cGVvZiBvYmogPT09IFwib2JqZWN0XCIpIHtcbiAgICB2YXIgbmV3SW5kZW50ID0gaW5kZW50ICsgXCJcdFwiO1xuICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIGlmIChvYmoubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBcIltdXCI7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gXCJbXFxuXCI7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iai5sZW5ndGg7IGkrKykge1xuICAgICAgICByZXN1bHQgKz0gbmV3SW5kZW50ICsgc3RyaW5naWZ5T2JqZWN0KG9ialtpXSwgbmV3SW5kZW50LCBzdHJpbmdpZnlMaXRlcmFsKTtcbiAgICAgICAgaWYgKGkgPCBvYmoubGVuZ3RoIC0gMSkge1xuICAgICAgICAgIHJlc3VsdCArPSBcIixcIjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gXCJcXG5cIjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdCArPSBpbmRlbnQgKyBcIl1cIjtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgIGlmIChrZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gXCJ7fVwiO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFwie1xcblwiO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICByZXN1bHQgKz0gbmV3SW5kZW50ICsgSlNPTi5zdHJpbmdpZnkoa2V5KSArIFwiOiBcIiArIHN0cmluZ2lmeU9iamVjdChvYmpba2V5XSwgbmV3SW5kZW50LCBzdHJpbmdpZnlMaXRlcmFsKTtcbiAgICAgICAgaWYgKGkgPCBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCIsXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ICs9IFwiXFxuXCI7XG4gICAgICB9XG4gICAgICByZXN1bHQgKz0gaW5kZW50ICsgXCJ9XCI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyaW5naWZ5TGl0ZXJhbChvYmopO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vc2VydmljZXMvanNvbkNvbXBsZXRpb24uanNcbnZhciBsb2NhbGl6ZTMgPSBsb2FkTWVzc2FnZUJ1bmRsZSgpO1xudmFyIHZhbHVlQ29tbWl0Q2hhcmFjdGVycyA9IFtcIixcIiwgXCJ9XCIsIFwiXVwiXTtcbnZhciBwcm9wZXJ0eUNvbW1pdENoYXJhY3RlcnMgPSBbXCI6XCJdO1xudmFyIEpTT05Db21wbGV0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIEpTT05Db21wbGV0aW9uMihzY2hlbWFTZXJ2aWNlLCBjb250cmlidXRpb25zLCBwcm9taXNlQ29uc3RydWN0b3IsIGNsaWVudENhcGFiaWxpdGllcykge1xuICAgIGlmIChjb250cmlidXRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnRyaWJ1dGlvbnMgPSBbXTtcbiAgICB9XG4gICAgaWYgKHByb21pc2VDb25zdHJ1Y3RvciA9PT0gdm9pZCAwKSB7XG4gICAgICBwcm9taXNlQ29uc3RydWN0b3IgPSBQcm9taXNlO1xuICAgIH1cbiAgICBpZiAoY2xpZW50Q2FwYWJpbGl0aWVzID09PSB2b2lkIDApIHtcbiAgICAgIGNsaWVudENhcGFiaWxpdGllcyA9IHt9O1xuICAgIH1cbiAgICB0aGlzLnNjaGVtYVNlcnZpY2UgPSBzY2hlbWFTZXJ2aWNlO1xuICAgIHRoaXMuY29udHJpYnV0aW9ucyA9IGNvbnRyaWJ1dGlvbnM7XG4gICAgdGhpcy5wcm9taXNlQ29uc3RydWN0b3IgPSBwcm9taXNlQ29uc3RydWN0b3I7XG4gICAgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMgPSBjbGllbnRDYXBhYmlsaXRpZXM7XG4gIH1cbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5kb1Jlc29sdmUgPSBmdW5jdGlvbihpdGVtKSB7XG4gICAgZm9yICh2YXIgaSA9IHRoaXMuY29udHJpYnV0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIHJlc29sdmVDb21wbGV0aW9uID0gdGhpcy5jb250cmlidXRpb25zW2ldLnJlc29sdmVDb21wbGV0aW9uO1xuICAgICAgaWYgKHJlc29sdmVDb21wbGV0aW9uKSB7XG4gICAgICAgIHZhciByZXNvbHZlciA9IHJlc29sdmVDb21wbGV0aW9uKGl0ZW0pO1xuICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzb2x2ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yLnJlc29sdmUoaXRlbSk7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZG9Db21wbGV0ZSA9IGZ1bmN0aW9uKGRvY3VtZW50LCBwb3NpdGlvbiwgZG9jKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgaXRlbXM6IFtdLFxuICAgICAgaXNJbmNvbXBsZXRlOiBmYWxzZVxuICAgIH07XG4gICAgdmFyIHRleHQgPSBkb2N1bWVudC5nZXRUZXh0KCk7XG4gICAgdmFyIG9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICB2YXIgbm9kZSA9IGRvYy5nZXROb2RlRnJvbU9mZnNldChvZmZzZXQsIHRydWUpO1xuICAgIGlmICh0aGlzLmlzSW5Db21tZW50KGRvY3VtZW50LCBub2RlID8gbm9kZS5vZmZzZXQgOiAwLCBvZmZzZXQpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgfVxuICAgIGlmIChub2RlICYmIG9mZnNldCA9PT0gbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCAmJiBvZmZzZXQgPiAwKSB7XG4gICAgICB2YXIgY2ggPSB0ZXh0W29mZnNldCAtIDFdO1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJvYmplY3RcIiAmJiBjaCA9PT0gXCJ9XCIgfHwgbm9kZS50eXBlID09PSBcImFycmF5XCIgJiYgY2ggPT09IFwiXVwiKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGN1cnJlbnRXb3JkID0gdGhpcy5nZXRDdXJyZW50V29yZChkb2N1bWVudCwgb2Zmc2V0KTtcbiAgICB2YXIgb3ZlcndyaXRlUmFuZ2U7XG4gICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBub2RlLnR5cGUgPT09IFwibnVtYmVyXCIgfHwgbm9kZS50eXBlID09PSBcImJvb2xlYW5cIiB8fCBub2RlLnR5cGUgPT09IFwibnVsbFwiKSkge1xuICAgICAgb3ZlcndyaXRlUmFuZ2UgPSBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgb3ZlcndyaXRlU3RhcnQgPSBvZmZzZXQgLSBjdXJyZW50V29yZC5sZW5ndGg7XG4gICAgICBpZiAob3ZlcndyaXRlU3RhcnQgPiAwICYmIHRleHRbb3ZlcndyaXRlU3RhcnQgLSAxXSA9PT0gJ1wiJykge1xuICAgICAgICBvdmVyd3JpdGVTdGFydC0tO1xuICAgICAgfVxuICAgICAgb3ZlcndyaXRlUmFuZ2UgPSBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChvdmVyd3JpdGVTdGFydCksIHBvc2l0aW9uKTtcbiAgICB9XG4gICAgdmFyIHN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycyA9IGZhbHNlO1xuICAgIHZhciBwcm9wb3NlZCA9IHt9O1xuICAgIHZhciBjb2xsZWN0b3IgPSB7XG4gICAgICBhZGQ6IGZ1bmN0aW9uKHN1Z2dlc3Rpb24pIHtcbiAgICAgICAgdmFyIGxhYmVsID0gc3VnZ2VzdGlvbi5sYWJlbDtcbiAgICAgICAgdmFyIGV4aXN0aW5nID0gcHJvcG9zZWRbbGFiZWxdO1xuICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgbGFiZWwgPSBsYWJlbC5yZXBsYWNlKC9bXFxuXS9nLCBcIlxcdTIxQjVcIik7XG4gICAgICAgICAgaWYgKGxhYmVsLmxlbmd0aCA+IDYwKSB7XG4gICAgICAgICAgICB2YXIgc2hvcnRlbmRlZExhYmVsID0gbGFiZWwuc3Vic3RyKDAsIDU3KS50cmltKCkgKyBcIi4uLlwiO1xuICAgICAgICAgICAgaWYgKCFwcm9wb3NlZFtzaG9ydGVuZGVkTGFiZWxdKSB7XG4gICAgICAgICAgICAgIGxhYmVsID0gc2hvcnRlbmRlZExhYmVsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob3ZlcndyaXRlUmFuZ2UgJiYgc3VnZ2VzdGlvbi5pbnNlcnRUZXh0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgIHN1Z2dlc3Rpb24udGV4dEVkaXQgPSBUZXh0RWRpdC5yZXBsYWNlKG92ZXJ3cml0ZVJhbmdlLCBzdWdnZXN0aW9uLmluc2VydFRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3VwcG9ydHNDb21taXRDaGFyYWN0ZXJzKSB7XG4gICAgICAgICAgICBzdWdnZXN0aW9uLmNvbW1pdENoYXJhY3RlcnMgPSBzdWdnZXN0aW9uLmtpbmQgPT09IENvbXBsZXRpb25JdGVtS2luZC5Qcm9wZXJ0eSA/IHByb3BlcnR5Q29tbWl0Q2hhcmFjdGVycyA6IHZhbHVlQ29tbWl0Q2hhcmFjdGVycztcbiAgICAgICAgICB9XG4gICAgICAgICAgc3VnZ2VzdGlvbi5sYWJlbCA9IGxhYmVsO1xuICAgICAgICAgIHByb3Bvc2VkW2xhYmVsXSA9IHN1Z2dlc3Rpb247XG4gICAgICAgICAgcmVzdWx0Lml0ZW1zLnB1c2goc3VnZ2VzdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFleGlzdGluZy5kb2N1bWVudGF0aW9uKSB7XG4gICAgICAgICAgICBleGlzdGluZy5kb2N1bWVudGF0aW9uID0gc3VnZ2VzdGlvbi5kb2N1bWVudGF0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nLmRldGFpbCkge1xuICAgICAgICAgICAgZXhpc3RpbmcuZGV0YWlsID0gc3VnZ2VzdGlvbi5kZXRhaWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgc2V0QXNJbmNvbXBsZXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVzdWx0LmlzSW5jb21wbGV0ZSA9IHRydWU7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtZXNzYWdlKTtcbiAgICAgIH0sXG4gICAgICBsb2c6IGZ1bmN0aW9uKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgICB9LFxuICAgICAgZ2V0TnVtYmVyT2ZQcm9wb3NhbHM6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gcmVzdWx0Lml0ZW1zLmxlbmd0aDtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiB0aGlzLnNjaGVtYVNlcnZpY2UuZ2V0U2NoZW1hRm9yUmVzb3VyY2UoZG9jdW1lbnQudXJpLCBkb2MpLnRoZW4oZnVuY3Rpb24oc2NoZW1hKSB7XG4gICAgICB2YXIgY29sbGVjdGlvblByb21pc2VzID0gW107XG4gICAgICB2YXIgYWRkVmFsdWUgPSB0cnVlO1xuICAgICAgdmFyIGN1cnJlbnRLZXkgPSBcIlwiO1xuICAgICAgdmFyIGN1cnJlbnRQcm9wZXJ0eSA9IHZvaWQgMDtcbiAgICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLnR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIHBhcmVudC5rZXlOb2RlID09PSBub2RlKSB7XG4gICAgICAgICAgICBhZGRWYWx1ZSA9ICFwYXJlbnQudmFsdWVOb2RlO1xuICAgICAgICAgICAgY3VycmVudFByb3BlcnR5ID0gcGFyZW50O1xuICAgICAgICAgICAgY3VycmVudEtleSA9IHRleHQuc3Vic3RyKG5vZGUub2Zmc2V0ICsgMSwgbm9kZS5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgbm9kZSA9IHBhcmVudC5wYXJlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobm9kZSAmJiBub2RlLnR5cGUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgaWYgKG5vZGUub2Zmc2V0ID09PSBvZmZzZXQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcm9wZXJ0aWVzID0gbm9kZS5wcm9wZXJ0aWVzO1xuICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocCkge1xuICAgICAgICAgIGlmICghY3VycmVudFByb3BlcnR5IHx8IGN1cnJlbnRQcm9wZXJ0eSAhPT0gcCkge1xuICAgICAgICAgICAgcHJvcG9zZWRbcC5rZXlOb2RlLnZhbHVlXSA9IENvbXBsZXRpb25JdGVtLmNyZWF0ZShcIl9fXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZXBhcmF0b3JBZnRlcl8xID0gXCJcIjtcbiAgICAgICAgaWYgKGFkZFZhbHVlKSB7XG4gICAgICAgICAgc2VwYXJhdG9yQWZ0ZXJfMSA9IF90aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIGRvY3VtZW50Lm9mZnNldEF0KG92ZXJ3cml0ZVJhbmdlLmVuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEpIHtcbiAgICAgICAgICBfdGhpcy5nZXRQcm9wZXJ0eUNvbXBsZXRpb25zKHNjaGVtYSwgZG9jLCBub2RlLCBhZGRWYWx1ZSwgc2VwYXJhdG9yQWZ0ZXJfMSwgY29sbGVjdG9yKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfdGhpcy5nZXRTY2hlbWFMZXNzUHJvcGVydHlDb21wbGV0aW9ucyhkb2MsIG5vZGUsIGN1cnJlbnRLZXksIGNvbGxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGxvY2F0aW9uXzEgPSBnZXROb2RlUGF0aDMobm9kZSk7XG4gICAgICAgIF90aGlzLmNvbnRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbihjb250cmlidXRpb24pIHtcbiAgICAgICAgICB2YXIgY29sbGVjdFByb21pc2UgPSBjb250cmlidXRpb24uY29sbGVjdFByb3BlcnR5Q29tcGxldGlvbnMoZG9jdW1lbnQudXJpLCBsb2NhdGlvbl8xLCBjdXJyZW50V29yZCwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyXzEgPT09IFwiXCIsIGNvbGxlY3Rvcik7XG4gICAgICAgICAgaWYgKGNvbGxlY3RQcm9taXNlKSB7XG4gICAgICAgICAgICBjb2xsZWN0aW9uUHJvbWlzZXMucHVzaChjb2xsZWN0UHJvbWlzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFzY2hlbWEgJiYgY3VycmVudFdvcmQubGVuZ3RoID4gMCAmJiB0ZXh0LmNoYXJBdChvZmZzZXQgLSBjdXJyZW50V29yZC5sZW5ndGggLSAxKSAhPT0gJ1wiJykge1xuICAgICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgbGFiZWw6IF90aGlzLmdldExhYmVsRm9yVmFsdWUoY3VycmVudFdvcmQpLFxuICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KGN1cnJlbnRXb3JkLCB2b2lkIDAsIGZhbHNlLCBzZXBhcmF0b3JBZnRlcl8xKSxcbiAgICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICAgIGRvY3VtZW50YXRpb246IFwiXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb2xsZWN0b3Iuc2V0QXNJbmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciB0eXBlcyA9IHt9O1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICBfdGhpcy5nZXRWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYSwgZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF90aGlzLmdldFNjaGVtYUxlc3NWYWx1ZUNvbXBsZXRpb25zKGRvYywgbm9kZSwgb2Zmc2V0LCBkb2N1bWVudCwgY29sbGVjdG9yKTtcbiAgICAgIH1cbiAgICAgIGlmIChfdGhpcy5jb250cmlidXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgX3RoaXMuZ2V0Q29udHJpYnV0ZWRWYWx1ZUNvbXBsZXRpb25zKGRvYywgbm9kZSwgb2Zmc2V0LCBkb2N1bWVudCwgY29sbGVjdG9yLCBjb2xsZWN0aW9uUHJvbWlzZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF90aGlzLnByb21pc2VDb25zdHJ1Y3Rvci5hbGwoY29sbGVjdGlvblByb21pc2VzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoY29sbGVjdG9yLmdldE51bWJlck9mUHJvcG9zYWxzKCkgPT09IDApIHtcbiAgICAgICAgICB2YXIgb2Zmc2V0Rm9yU2VwYXJhdG9yID0gb2Zmc2V0O1xuICAgICAgICAgIGlmIChub2RlICYmIChub2RlLnR5cGUgPT09IFwic3RyaW5nXCIgfHwgbm9kZS50eXBlID09PSBcIm51bWJlclwiIHx8IG5vZGUudHlwZSA9PT0gXCJib29sZWFuXCIgfHwgbm9kZS50eXBlID09PSBcIm51bGxcIikpIHtcbiAgICAgICAgICAgIG9mZnNldEZvclNlcGFyYXRvciA9IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXBhcmF0b3JBZnRlciA9IF90aGlzLmV2YWx1YXRlU2VwYXJhdG9yQWZ0ZXIoZG9jdW1lbnQsIG9mZnNldEZvclNlcGFyYXRvcik7XG4gICAgICAgICAgX3RoaXMuYWRkRmlsbGVyVmFsdWVDb21wbGV0aW9ucyh0eXBlcywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldFByb3BlcnR5Q29tcGxldGlvbnMgPSBmdW5jdGlvbihzY2hlbWEsIGRvYywgbm9kZSwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEsIG5vZGUub2Zmc2V0KTtcbiAgICBtYXRjaGluZ1NjaGVtYXMuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICBpZiAocy5ub2RlID09PSBub2RlICYmICFzLmludmVydGVkKSB7XG4gICAgICAgIHZhciBzY2hlbWFQcm9wZXJ0aWVzXzEgPSBzLnNjaGVtYS5wcm9wZXJ0aWVzO1xuICAgICAgICBpZiAoc2NoZW1hUHJvcGVydGllc18xKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMoc2NoZW1hUHJvcGVydGllc18xKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gc2NoZW1hUHJvcGVydGllc18xW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5U2NoZW1hID09PSBcIm9iamVjdFwiICYmICFwcm9wZXJ0eVNjaGVtYS5kZXByZWNhdGlvbk1lc3NhZ2UgJiYgIXByb3BlcnR5U2NoZW1hLmRvTm90U3VnZ2VzdCkge1xuICAgICAgICAgICAgICB2YXIgcHJvcG9zYWwgPSB7XG4gICAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICAgIGxhYmVsOiBrZXksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KGtleSwgcHJvcGVydHlTY2hlbWEsIGFkZFZhbHVlLCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICAgIGZpbHRlclRleHQ6IF90aGlzLmdldEZpbHRlclRleHRGb3JWYWx1ZShrZXkpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50YXRpb246IF90aGlzLmZyb21NYXJrdXAocHJvcGVydHlTY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbikgfHwgcHJvcGVydHlTY2hlbWEuZGVzY3JpcHRpb24gfHwgXCJcIlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpZiAocHJvcGVydHlTY2hlbWEuc3VnZ2VzdFNvcnRUZXh0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBwcm9wb3NhbC5zb3J0VGV4dCA9IHByb3BlcnR5U2NoZW1hLnN1Z2dlc3RTb3J0VGV4dDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAocHJvcG9zYWwuaW5zZXJ0VGV4dCAmJiBlbmRzV2l0aChwcm9wb3NhbC5pbnNlcnRUZXh0LCBcIiQxXCIuY29uY2F0KHNlcGFyYXRvckFmdGVyKSkpIHtcbiAgICAgICAgICAgICAgICBwcm9wb3NhbC5jb21tYW5kID0ge1xuICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiU3VnZ2VzdFwiLFxuICAgICAgICAgICAgICAgICAgY29tbWFuZDogXCJlZGl0b3IuYWN0aW9uLnRyaWdnZXJTdWdnZXN0XCJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbGxlY3Rvci5hZGQocHJvcG9zYWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzY2hlbWFQcm9wZXJ0eU5hbWVzXzEgPSBzLnNjaGVtYS5wcm9wZXJ0eU5hbWVzO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYVByb3BlcnR5TmFtZXNfMSA9PT0gXCJvYmplY3RcIiAmJiAhc2NoZW1hUHJvcGVydHlOYW1lc18xLmRlcHJlY2F0aW9uTWVzc2FnZSAmJiAhc2NoZW1hUHJvcGVydHlOYW1lc18xLmRvTm90U3VnZ2VzdCkge1xuICAgICAgICAgIHZhciBwcm9wZXJ0eU5hbWVDb21wbGV0aW9uSXRlbSA9IGZ1bmN0aW9uKG5hbWUsIGVudW1EZXNjcmlwdGlvbjIpIHtcbiAgICAgICAgICAgIGlmIChlbnVtRGVzY3JpcHRpb24yID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgZW51bURlc2NyaXB0aW9uMiA9IHZvaWQgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9wb3NhbCA9IHtcbiAgICAgICAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICAgICAgICBsYWJlbDogbmFtZSxcbiAgICAgICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KG5hbWUsIHZvaWQgMCwgYWRkVmFsdWUsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgICAgICBmaWx0ZXJUZXh0OiBfdGhpcy5nZXRGaWx0ZXJUZXh0Rm9yVmFsdWUobmFtZSksXG4gICAgICAgICAgICAgIGRvY3VtZW50YXRpb246IGVudW1EZXNjcmlwdGlvbjIgfHwgX3RoaXMuZnJvbU1hcmt1cChzY2hlbWFQcm9wZXJ0eU5hbWVzXzEubWFya2Rvd25EZXNjcmlwdGlvbikgfHwgc2NoZW1hUHJvcGVydHlOYW1lc18xLmRlc2NyaXB0aW9uIHx8IFwiXCJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoc2NoZW1hUHJvcGVydHlOYW1lc18xLnN1Z2dlc3RTb3J0VGV4dCAhPT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHByb3Bvc2FsLnNvcnRUZXh0ID0gc2NoZW1hUHJvcGVydHlOYW1lc18xLnN1Z2dlc3RTb3J0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcm9wb3NhbC5pbnNlcnRUZXh0ICYmIGVuZHNXaXRoKHByb3Bvc2FsLmluc2VydFRleHQsIFwiJDFcIi5jb25jYXQoc2VwYXJhdG9yQWZ0ZXIpKSkge1xuICAgICAgICAgICAgICBwcm9wb3NhbC5jb21tYW5kID0ge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN1Z2dlc3RcIixcbiAgICAgICAgICAgICAgICBjb21tYW5kOiBcImVkaXRvci5hY3Rpb24udHJpZ2dlclN1Z2dlc3RcIlxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sbGVjdG9yLmFkZChwcm9wb3NhbCk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpZiAoc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW0pIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFyIGVudW1EZXNjcmlwdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgaWYgKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnMgJiYgaSA8IHNjaGVtYVByb3BlcnR5TmFtZXNfMS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZW51bURlc2NyaXB0aW9uID0gX3RoaXMuZnJvbU1hcmt1cChzY2hlbWFQcm9wZXJ0eU5hbWVzXzEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zW2ldKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuZW51bURlc2NyaXB0aW9ucyAmJiBpIDwgc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW1EZXNjcmlwdGlvbnMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZW51bURlc2NyaXB0aW9uID0gc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW1EZXNjcmlwdGlvbnNbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcHJvcGVydHlOYW1lQ29tcGxldGlvbkl0ZW0oc2NoZW1hUHJvcGVydHlOYW1lc18xLmVudW1baV0sIGVudW1EZXNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzY2hlbWFQcm9wZXJ0eU5hbWVzXzEuY29uc3QpIHtcbiAgICAgICAgICAgIHByb3BlcnR5TmFtZUNvbXBsZXRpb25JdGVtKHNjaGVtYVByb3BlcnR5TmFtZXNfMS5jb25zdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0U2NoZW1hTGVzc1Byb3BlcnR5Q29tcGxldGlvbnMgPSBmdW5jdGlvbihkb2MsIG5vZGUsIGN1cnJlbnRLZXksIGNvbGxlY3Rvcikge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIGNvbGxlY3RDb21wbGV0aW9uc0ZvclNpbWlsYXJPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgIG9iai5wcm9wZXJ0aWVzLmZvckVhY2goZnVuY3Rpb24ocCkge1xuICAgICAgICB2YXIga2V5ID0gcC5rZXlOb2RlLnZhbHVlO1xuICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuUHJvcGVydHksXG4gICAgICAgICAgbGFiZWw6IGtleSxcbiAgICAgICAgICBpbnNlcnRUZXh0OiBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoa2V5LCBcIlwiKSxcbiAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgZmlsdGVyVGV4dDogX3RoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKGtleSksXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbjogXCJcIlxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgaWYgKG5vZGUucGFyZW50KSB7XG4gICAgICBpZiAobm9kZS5wYXJlbnQudHlwZSA9PT0gXCJwcm9wZXJ0eVwiKSB7XG4gICAgICAgIHZhciBwYXJlbnRLZXlfMSA9IG5vZGUucGFyZW50LmtleU5vZGUudmFsdWU7XG4gICAgICAgIGRvYy52aXNpdChmdW5jdGlvbihuKSB7XG4gICAgICAgICAgaWYgKG4udHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIG4gIT09IG5vZGUucGFyZW50ICYmIG4ua2V5Tm9kZS52YWx1ZSA9PT0gcGFyZW50S2V5XzEgJiYgbi52YWx1ZU5vZGUgJiYgbi52YWx1ZU5vZGUudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgY29sbGVjdENvbXBsZXRpb25zRm9yU2ltaWxhck9iamVjdChuLnZhbHVlTm9kZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wYXJlbnQudHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgIG5vZGUucGFyZW50Lml0ZW1zLmZvckVhY2goZnVuY3Rpb24obikge1xuICAgICAgICAgIGlmIChuLnR5cGUgPT09IFwib2JqZWN0XCIgJiYgbiAhPT0gbm9kZSkge1xuICAgICAgICAgICAgY29sbGVjdENvbXBsZXRpb25zRm9yU2ltaWxhck9iamVjdChuKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAga2luZDogQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5LFxuICAgICAgICBsYWJlbDogXCIkc2NoZW1hXCIsXG4gICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclByb3BlcnR5KFwiJHNjaGVtYVwiLCB2b2lkIDAsIHRydWUsIFwiXCIpLFxuICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgIGRvY3VtZW50YXRpb246IFwiXCIsXG4gICAgICAgIGZpbHRlclRleHQ6IHRoaXMuZ2V0RmlsdGVyVGV4dEZvclZhbHVlKFwiJHNjaGVtYVwiKVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldFNjaGVtYUxlc3NWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciBvZmZzZXRGb3JTZXBhcmF0b3IgPSBvZmZzZXQ7XG4gICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBub2RlLnR5cGUgPT09IFwibnVtYmVyXCIgfHwgbm9kZS50eXBlID09PSBcImJvb2xlYW5cIiB8fCBub2RlLnR5cGUgPT09IFwibnVsbFwiKSkge1xuICAgICAgb2Zmc2V0Rm9yU2VwYXJhdG9yID0gbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aDtcbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICB9XG4gICAgaWYgKCFub2RlKSB7XG4gICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZChcIm9iamVjdFwiKSxcbiAgICAgICAgbGFiZWw6IFwiRW1wdHkgb2JqZWN0XCIsXG4gICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHt9LCBcIlwiKSxcbiAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICBkb2N1bWVudGF0aW9uOiBcIlwiXG4gICAgICB9KTtcbiAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKFwiYXJyYXlcIiksXG4gICAgICAgIGxhYmVsOiBcIkVtcHR5IGFycmF5XCIsXG4gICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKFtdLCBcIlwiKSxcbiAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICBkb2N1bWVudGF0aW9uOiBcIlwiXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHNlcGFyYXRvckFmdGVyID0gdGhpcy5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyKGRvY3VtZW50LCBvZmZzZXRGb3JTZXBhcmF0b3IpO1xuICAgIHZhciBjb2xsZWN0U3VnZ2VzdGlvbnNGb3JWYWx1ZXMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlLnBhcmVudCAmJiAhY29udGFpbnMyKHZhbHVlLnBhcmVudCwgb2Zmc2V0LCB0cnVlKSkge1xuICAgICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAgICBraW5kOiBfdGhpcy5nZXRTdWdnZXN0aW9uS2luZCh2YWx1ZS50eXBlKSxcbiAgICAgICAgICBsYWJlbDogX3RoaXMuZ2V0TGFiZWxUZXh0Rm9yTWF0Y2hpbmdOb2RlKHZhbHVlLCBkb2N1bWVudCksXG4gICAgICAgICAgaW5zZXJ0VGV4dDogX3RoaXMuZ2V0SW5zZXJ0VGV4dEZvck1hdGNoaW5nTm9kZSh2YWx1ZSwgZG9jdW1lbnQsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgICAgZG9jdW1lbnRhdGlvbjogXCJcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS50eXBlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICBfdGhpcy5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uKCF2YWx1ZS52YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAobm9kZS50eXBlID09PSBcInByb3BlcnR5XCIpIHtcbiAgICAgIGlmIChvZmZzZXQgPiAobm9kZS5jb2xvbk9mZnNldCB8fCAwKSkge1xuICAgICAgICB2YXIgdmFsdWVOb2RlID0gbm9kZS52YWx1ZU5vZGU7XG4gICAgICAgIGlmICh2YWx1ZU5vZGUgJiYgKG9mZnNldCA+IHZhbHVlTm9kZS5vZmZzZXQgKyB2YWx1ZU5vZGUubGVuZ3RoIHx8IHZhbHVlTm9kZS50eXBlID09PSBcIm9iamVjdFwiIHx8IHZhbHVlTm9kZS50eXBlID09PSBcImFycmF5XCIpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJlbnRLZXlfMiA9IG5vZGUua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgZG9jLnZpc2l0KGZ1bmN0aW9uKG4pIHtcbiAgICAgICAgICBpZiAobi50eXBlID09PSBcInByb3BlcnR5XCIgJiYgbi5rZXlOb2RlLnZhbHVlID09PSBwYXJlbnRLZXlfMiAmJiBuLnZhbHVlTm9kZSkge1xuICAgICAgICAgICAgY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzKG4udmFsdWVOb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocGFyZW50S2V5XzIgPT09IFwiJHNjaGVtYVwiICYmIG5vZGUucGFyZW50ICYmICFub2RlLnBhcmVudC5wYXJlbnQpIHtcbiAgICAgICAgICB0aGlzLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zKHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgaWYgKG5vZGUucGFyZW50ICYmIG5vZGUucGFyZW50LnR5cGUgPT09IFwicHJvcGVydHlcIikge1xuICAgICAgICB2YXIgcGFyZW50S2V5XzMgPSBub2RlLnBhcmVudC5rZXlOb2RlLnZhbHVlO1xuICAgICAgICBkb2MudmlzaXQoZnVuY3Rpb24obikge1xuICAgICAgICAgIGlmIChuLnR5cGUgPT09IFwicHJvcGVydHlcIiAmJiBuLmtleU5vZGUudmFsdWUgPT09IHBhcmVudEtleV8zICYmIG4udmFsdWVOb2RlICYmIG4udmFsdWVOb2RlLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICAgICAgbi52YWx1ZU5vZGUuaXRlbXMuZm9yRWFjaChjb2xsZWN0U3VnZ2VzdGlvbnNGb3JWYWx1ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLml0ZW1zLmZvckVhY2goY29sbGVjdFN1Z2dlc3Rpb25zRm9yVmFsdWVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0VmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHNjaGVtYSwgZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIHR5cGVzKSB7XG4gICAgdmFyIG9mZnNldEZvclNlcGFyYXRvciA9IG9mZnNldDtcbiAgICB2YXIgcGFyZW50S2V5ID0gdm9pZCAwO1xuICAgIHZhciB2YWx1ZU5vZGUgPSB2b2lkIDA7XG4gICAgaWYgKG5vZGUgJiYgKG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBub2RlLnR5cGUgPT09IFwibnVtYmVyXCIgfHwgbm9kZS50eXBlID09PSBcImJvb2xlYW5cIiB8fCBub2RlLnR5cGUgPT09IFwibnVsbFwiKSkge1xuICAgICAgb2Zmc2V0Rm9yU2VwYXJhdG9yID0gbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aDtcbiAgICAgIHZhbHVlTm9kZSA9IG5vZGU7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYS5zY2hlbWEsIFwiXCIsIGNvbGxlY3RvciwgdHlwZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobm9kZS50eXBlID09PSBcInByb3BlcnR5XCIgJiYgb2Zmc2V0ID4gKG5vZGUuY29sb25PZmZzZXQgfHwgMCkpIHtcbiAgICAgIHZhciB2YWx1ZU5vZGVfMSA9IG5vZGUudmFsdWVOb2RlO1xuICAgICAgaWYgKHZhbHVlTm9kZV8xICYmIG9mZnNldCA+IHZhbHVlTm9kZV8xLm9mZnNldCArIHZhbHVlTm9kZV8xLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJlbnRLZXkgPSBub2RlLmtleU5vZGUudmFsdWU7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIGlmIChub2RlICYmIChwYXJlbnRLZXkgIT09IHZvaWQgMCB8fCBub2RlLnR5cGUgPT09IFwiYXJyYXlcIikpIHtcbiAgICAgIHZhciBzZXBhcmF0b3JBZnRlciA9IHRoaXMuZXZhbHVhdGVTZXBhcmF0b3JBZnRlcihkb2N1bWVudCwgb2Zmc2V0Rm9yU2VwYXJhdG9yKTtcbiAgICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEsIG5vZGUub2Zmc2V0LCB2YWx1ZU5vZGUpO1xuICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYXRjaGluZ1NjaGVtYXNfMSA9IG1hdGNoaW5nU2NoZW1hczsgX2kgPCBtYXRjaGluZ1NjaGVtYXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHMgPSBtYXRjaGluZ1NjaGVtYXNfMVtfaV07XG4gICAgICAgIGlmIChzLm5vZGUgPT09IG5vZGUgJiYgIXMuaW52ZXJ0ZWQgJiYgcy5zY2hlbWEpIHtcbiAgICAgICAgICBpZiAobm9kZS50eXBlID09PSBcImFycmF5XCIgJiYgcy5zY2hlbWEuaXRlbXMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHMuc2NoZW1hLml0ZW1zKSkge1xuICAgICAgICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmZpbmRJdGVtQXRPZmZzZXQobm9kZSwgZG9jdW1lbnQsIG9mZnNldCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA8IHMuc2NoZW1hLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLnNjaGVtYS5pdGVtc1tpbmRleF0sIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMuc2NoZW1hLml0ZW1zLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJlbnRLZXkgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFyIHByb3BlcnR5TWF0Y2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHMuc2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEucHJvcGVydGllc1twYXJlbnRLZXldO1xuICAgICAgICAgICAgICBpZiAocHJvcGVydHlTY2hlbWEpIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhwcm9wZXJ0eVNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgdHlwZXMpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocy5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMgJiYgIXByb3BlcnR5TWF0Y2hlZCkge1xuICAgICAgICAgICAgICBmb3IgKHZhciBfYSA9IDAsIF9iID0gT2JqZWN0LmtleXMocy5zY2hlbWEucGF0dGVyblByb3BlcnRpZXMpOyBfYSA8IF9iLmxlbmd0aDsgX2ErKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gX2JbX2FdO1xuICAgICAgICAgICAgICAgIHZhciByZWdleCA9IGV4dGVuZGVkUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgICAgICAgICAgIGlmIChyZWdleCA9PT0gbnVsbCB8fCByZWdleCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVnZXgudGVzdChwYXJlbnRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0eU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgdmFyIHByb3BlcnR5U2NoZW1hID0gcy5zY2hlbWEucGF0dGVyblByb3BlcnRpZXNbcGF0dGVybl07XG4gICAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocHJvcGVydHlTY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzLnNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyAmJiAhcHJvcGVydHlNYXRjaGVkKSB7XG4gICAgICAgICAgICAgIHZhciBwcm9wZXJ0eVNjaGVtYSA9IHMuc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocHJvcGVydHlTY2hlbWEsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnRLZXkgPT09IFwiJHNjaGVtYVwiICYmICFub2RlLnBhcmVudCkge1xuICAgICAgICB0aGlzLmFkZERvbGxhclNjaGVtYUNvbXBsZXRpb25zKHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVzW1wiYm9vbGVhblwiXSkge1xuICAgICAgICB0aGlzLmFkZEJvb2xlYW5WYWx1ZUNvbXBsZXRpb24odHJ1ZSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICAgIHRoaXMuYWRkQm9vbGVhblZhbHVlQ29tcGxldGlvbihmYWxzZSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcik7XG4gICAgICB9XG4gICAgICBpZiAodHlwZXNbXCJudWxsXCJdKSB7XG4gICAgICAgIHRoaXMuYWRkTnVsbFZhbHVlQ29tcGxldGlvbihzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0Q29udHJpYnV0ZWRWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oZG9jLCBub2RlLCBvZmZzZXQsIGRvY3VtZW50LCBjb2xsZWN0b3IsIGNvbGxlY3Rpb25Qcm9taXNlcykge1xuICAgIGlmICghbm9kZSkge1xuICAgICAgdGhpcy5jb250cmlidXRpb25zLmZvckVhY2goZnVuY3Rpb24oY29udHJpYnV0aW9uKSB7XG4gICAgICAgIHZhciBjb2xsZWN0UHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5jb2xsZWN0RGVmYXVsdENvbXBsZXRpb25zKGRvY3VtZW50LnVyaSwgY29sbGVjdG9yKTtcbiAgICAgICAgaWYgKGNvbGxlY3RQcm9taXNlKSB7XG4gICAgICAgICAgY29sbGVjdGlvblByb21pc2VzLnB1c2goY29sbGVjdFByb21pc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIiB8fCBub2RlLnR5cGUgPT09IFwibnVtYmVyXCIgfHwgbm9kZS50eXBlID09PSBcImJvb2xlYW5cIiB8fCBub2RlLnR5cGUgPT09IFwibnVsbFwiKSB7XG4gICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlICYmIG5vZGUudHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIG9mZnNldCA+IChub2RlLmNvbG9uT2Zmc2V0IHx8IDApKSB7XG4gICAgICAgIHZhciBwYXJlbnRLZXlfNCA9IG5vZGUua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgdmFyIHZhbHVlTm9kZSA9IG5vZGUudmFsdWVOb2RlO1xuICAgICAgICBpZiAoKCF2YWx1ZU5vZGUgfHwgb2Zmc2V0IDw9IHZhbHVlTm9kZS5vZmZzZXQgKyB2YWx1ZU5vZGUubGVuZ3RoKSAmJiBub2RlLnBhcmVudCkge1xuICAgICAgICAgIHZhciBsb2NhdGlvbl8yID0gZ2V0Tm9kZVBhdGgzKG5vZGUucGFyZW50KTtcbiAgICAgICAgICB0aGlzLmNvbnRyaWJ1dGlvbnMuZm9yRWFjaChmdW5jdGlvbihjb250cmlidXRpb24pIHtcbiAgICAgICAgICAgIHZhciBjb2xsZWN0UHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5jb2xsZWN0VmFsdWVDb21wbGV0aW9ucyhkb2N1bWVudC51cmksIGxvY2F0aW9uXzIsIHBhcmVudEtleV80LCBjb2xsZWN0b3IpO1xuICAgICAgICAgICAgaWYgKGNvbGxlY3RQcm9taXNlKSB7XG4gICAgICAgICAgICAgIGNvbGxlY3Rpb25Qcm9taXNlcy5wdXNoKGNvbGxlY3RQcm9taXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zID0gZnVuY3Rpb24oc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIHRoaXMuYWRkRW51bVZhbHVlQ29tcGxldGlvbnMoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgIHRoaXMuYWRkRGVmYXVsdFZhbHVlQ29tcGxldGlvbnMoc2NoZW1hLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKTtcbiAgICAgIHRoaXMuY29sbGVjdFR5cGVzKHNjaGVtYSwgdHlwZXMpO1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFsbE9mKSkge1xuICAgICAgICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLmFkZFNjaGVtYVZhbHVlQ29tcGxldGlvbnMocywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgdHlwZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5hbnlPZikpIHtcbiAgICAgICAgc2NoZW1hLmFueU9mLmZvckVhY2goZnVuY3Rpb24ocykge1xuICAgICAgICAgIHJldHVybiBfdGhpcy5hZGRTY2hlbWFWYWx1ZUNvbXBsZXRpb25zKHMsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IsIHR5cGVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWEub25lT2YpKSB7XG4gICAgICAgIHNjaGVtYS5vbmVPZi5mb3JFYWNoKGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuYWRkU2NoZW1hVmFsdWVDb21wbGV0aW9ucyhzLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yLCB0eXBlcyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5hZGREZWZhdWx0VmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgYXJyYXlEZXB0aCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKGFycmF5RGVwdGggPT09IHZvaWQgMCkge1xuICAgICAgYXJyYXlEZXB0aCA9IDA7XG4gICAgfVxuICAgIHZhciBoYXNQcm9wb3NhbHMgPSBmYWxzZTtcbiAgICBpZiAoaXNEZWZpbmVkKHNjaGVtYS5kZWZhdWx0KSkge1xuICAgICAgdmFyIHR5cGUgPSBzY2hlbWEudHlwZTtcbiAgICAgIHZhciB2YWx1ZSA9IHNjaGVtYS5kZWZhdWx0O1xuICAgICAgZm9yICh2YXIgaSA9IGFycmF5RGVwdGg7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgdmFsdWUgPSBbdmFsdWVdO1xuICAgICAgICB0eXBlID0gXCJhcnJheVwiO1xuICAgICAgfVxuICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQodHlwZSksXG4gICAgICAgIGxhYmVsOiB0aGlzLmdldExhYmVsRm9yVmFsdWUodmFsdWUpLFxuICAgICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZSh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgIGRldGFpbDogbG9jYWxpemUzKFwianNvbi5zdWdnZXN0LmRlZmF1bHRcIiwgXCJEZWZhdWx0IHZhbHVlXCIpXG4gICAgICB9KTtcbiAgICAgIGhhc1Byb3Bvc2FscyA9IHRydWU7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYS5leGFtcGxlcykpIHtcbiAgICAgIHNjaGVtYS5leGFtcGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGV4YW1wbGUpIHtcbiAgICAgICAgdmFyIHR5cGUyID0gc2NoZW1hLnR5cGU7XG4gICAgICAgIHZhciB2YWx1ZTIgPSBleGFtcGxlO1xuICAgICAgICBmb3IgKHZhciBpMiA9IGFycmF5RGVwdGg7IGkyID4gMDsgaTItLSkge1xuICAgICAgICAgIHZhbHVlMiA9IFt2YWx1ZTJdO1xuICAgICAgICAgIHR5cGUyID0gXCJhcnJheVwiO1xuICAgICAgICB9XG4gICAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICAgIGtpbmQ6IF90aGlzLmdldFN1Z2dlc3Rpb25LaW5kKHR5cGUyKSxcbiAgICAgICAgICBsYWJlbDogX3RoaXMuZ2V0TGFiZWxGb3JWYWx1ZSh2YWx1ZTIpLFxuICAgICAgICAgIGluc2VydFRleHQ6IF90aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZSh2YWx1ZTIsIHNlcGFyYXRvckFmdGVyKSxcbiAgICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXRcbiAgICAgICAgfSk7XG4gICAgICAgIGhhc1Byb3Bvc2FscyA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmRlZmF1bHRTbmlwcGV0cykpIHtcbiAgICAgIHNjaGVtYS5kZWZhdWx0U25pcHBldHMuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgIHZhciB0eXBlMiA9IHNjaGVtYS50eXBlO1xuICAgICAgICB2YXIgdmFsdWUyID0gcy5ib2R5O1xuICAgICAgICB2YXIgbGFiZWwgPSBzLmxhYmVsO1xuICAgICAgICB2YXIgaW5zZXJ0VGV4dDtcbiAgICAgICAgdmFyIGZpbHRlclRleHQ7XG4gICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUyKSkge1xuICAgICAgICAgIHZhciB0eXBlXzEgPSBzY2hlbWEudHlwZTtcbiAgICAgICAgICBmb3IgKHZhciBpMiA9IGFycmF5RGVwdGg7IGkyID4gMDsgaTItLSkge1xuICAgICAgICAgICAgdmFsdWUyID0gW3ZhbHVlMl07XG4gICAgICAgICAgICB0eXBlXzEgPSBcImFycmF5XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGluc2VydFRleHQgPSBfdGhpcy5nZXRJbnNlcnRUZXh0Rm9yU25pcHBldFZhbHVlKHZhbHVlMiwgc2VwYXJhdG9yQWZ0ZXIpO1xuICAgICAgICAgIGZpbHRlclRleHQgPSBfdGhpcy5nZXRGaWx0ZXJUZXh0Rm9yU25pcHBldFZhbHVlKHZhbHVlMik7XG4gICAgICAgICAgbGFiZWwgPSBsYWJlbCB8fCBfdGhpcy5nZXRMYWJlbEZvclNuaXBwZXRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBzLmJvZHlUZXh0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdmFyIHByZWZpeCA9IFwiXCIsIHN1ZmZpeCA9IFwiXCIsIGluZGVudCA9IFwiXCI7XG4gICAgICAgICAgZm9yICh2YXIgaTIgPSBhcnJheURlcHRoOyBpMiA+IDA7IGkyLS0pIHtcbiAgICAgICAgICAgIHByZWZpeCA9IHByZWZpeCArIGluZGVudCArIFwiW1xcblwiO1xuICAgICAgICAgICAgc3VmZml4ID0gc3VmZml4ICsgXCJcXG5cIiArIGluZGVudCArIFwiXVwiO1xuICAgICAgICAgICAgaW5kZW50ICs9IFwiXHRcIjtcbiAgICAgICAgICAgIHR5cGUyID0gXCJhcnJheVwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnNlcnRUZXh0ID0gcHJlZml4ICsgaW5kZW50ICsgcy5ib2R5VGV4dC5zcGxpdChcIlxcblwiKS5qb2luKFwiXFxuXCIgKyBpbmRlbnQpICsgc3VmZml4ICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgICAgbGFiZWwgPSBsYWJlbCB8fCBpbnNlcnRUZXh0LCBmaWx0ZXJUZXh0ID0gaW5zZXJ0VGV4dC5yZXBsYWNlKC9bXFxuXS9nLCBcIlwiKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAga2luZDogX3RoaXMuZ2V0U3VnZ2VzdGlvbktpbmQodHlwZTIpLFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIGRvY3VtZW50YXRpb246IF90aGlzLmZyb21NYXJrdXAocy5tYXJrZG93bkRlc2NyaXB0aW9uKSB8fCBzLmRlc2NyaXB0aW9uLFxuICAgICAgICAgIGluc2VydFRleHQsXG4gICAgICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgICAgIGZpbHRlclRleHRcbiAgICAgICAgfSk7XG4gICAgICAgIGhhc1Byb3Bvc2FscyA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFoYXNQcm9wb3NhbHMgJiYgdHlwZW9mIHNjaGVtYS5pdGVtcyA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShzY2hlbWEuaXRlbXMpICYmIGFycmF5RGVwdGggPCA1KSB7XG4gICAgICB0aGlzLmFkZERlZmF1bHRWYWx1ZUNvbXBsZXRpb25zKHNjaGVtYS5pdGVtcywgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3RvciwgYXJyYXlEZXB0aCArIDEpO1xuICAgIH1cbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5hZGRFbnVtVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHNjaGVtYSwgc2VwYXJhdG9yQWZ0ZXIsIGNvbGxlY3Rvcikge1xuICAgIGlmIChpc0RlZmluZWQoc2NoZW1hLmNvbnN0KSkge1xuICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoc2NoZW1hLnR5cGUpLFxuICAgICAgICBsYWJlbDogdGhpcy5nZXRMYWJlbEZvclZhbHVlKHNjaGVtYS5jb25zdCksXG4gICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHNjaGVtYS5jb25zdCwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgIGRvY3VtZW50YXRpb246IHRoaXMuZnJvbU1hcmt1cChzY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbikgfHwgc2NoZW1hLmRlc2NyaXB0aW9uXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2NoZW1hLmVudW0ubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGVubSA9IHNjaGVtYS5lbnVtW2ldO1xuICAgICAgICB2YXIgZG9jdW1lbnRhdGlvbiA9IHRoaXMuZnJvbU1hcmt1cChzY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbikgfHwgc2NoZW1hLmRlc2NyaXB0aW9uO1xuICAgICAgICBpZiAoc2NoZW1hLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucyAmJiBpIDwgc2NoZW1hLm1hcmtkb3duRW51bURlc2NyaXB0aW9ucy5sZW5ndGggJiYgdGhpcy5kb2VzU3VwcG9ydE1hcmtkb3duKCkpIHtcbiAgICAgICAgICBkb2N1bWVudGF0aW9uID0gdGhpcy5mcm9tTWFya3VwKHNjaGVtYS5tYXJrZG93bkVudW1EZXNjcmlwdGlvbnNbaV0pO1xuICAgICAgICB9IGVsc2UgaWYgKHNjaGVtYS5lbnVtRGVzY3JpcHRpb25zICYmIGkgPCBzY2hlbWEuZW51bURlc2NyaXB0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICBkb2N1bWVudGF0aW9uID0gc2NoZW1hLmVudW1EZXNjcmlwdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICAgICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZChzY2hlbWEudHlwZSksXG4gICAgICAgICAgbGFiZWw6IHRoaXMuZ2V0TGFiZWxGb3JWYWx1ZShlbm0pLFxuICAgICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKGVubSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgICBkb2N1bWVudGF0aW9uXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5jb2xsZWN0VHlwZXMgPSBmdW5jdGlvbihzY2hlbWEsIHR5cGVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmVudW0pIHx8IGlzRGVmaW5lZChzY2hlbWEuY29uc3QpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0eXBlID0gc2NoZW1hLnR5cGU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHR5cGUuZm9yRWFjaChmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0eXBlc1t0XSA9IHRydWU7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUpIHtcbiAgICAgIHR5cGVzW3R5cGVdID0gdHJ1ZTtcbiAgICB9XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuYWRkRmlsbGVyVmFsdWVDb21wbGV0aW9ucyA9IGZ1bmN0aW9uKHR5cGVzLCBzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgaWYgKHR5cGVzW1wib2JqZWN0XCJdKSB7XG4gICAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgICAga2luZDogdGhpcy5nZXRTdWdnZXN0aW9uS2luZChcIm9iamVjdFwiKSxcbiAgICAgICAgbGFiZWw6IFwie31cIixcbiAgICAgICAgaW5zZXJ0VGV4dDogdGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKHt9LCBzZXBhcmF0b3JBZnRlciksXG4gICAgICAgIGluc2VydFRleHRGb3JtYXQ6IEluc2VydFRleHRGb3JtYXQuU25pcHBldCxcbiAgICAgICAgZGV0YWlsOiBsb2NhbGl6ZTMoXCJkZWZhdWx0cy5vYmplY3RcIiwgXCJOZXcgb2JqZWN0XCIpLFxuICAgICAgICBkb2N1bWVudGF0aW9uOiBcIlwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHR5cGVzW1wiYXJyYXlcIl0pIHtcbiAgICAgIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKFwiYXJyYXlcIiksXG4gICAgICAgIGxhYmVsOiBcIltdXCIsXG4gICAgICAgIGluc2VydFRleHQ6IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShbXSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgIGRldGFpbDogbG9jYWxpemUzKFwiZGVmYXVsdHMuYXJyYXlcIiwgXCJOZXcgYXJyYXlcIiksXG4gICAgICAgIGRvY3VtZW50YXRpb246IFwiXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5hZGRCb29sZWFuVmFsdWVDb21wbGV0aW9uID0gZnVuY3Rpb24odmFsdWUsIHNlcGFyYXRvckFmdGVyLCBjb2xsZWN0b3IpIHtcbiAgICBjb2xsZWN0b3IuYWRkKHtcbiAgICAgIGtpbmQ6IHRoaXMuZ2V0U3VnZ2VzdGlvbktpbmQoXCJib29sZWFuXCIpLFxuICAgICAgbGFiZWw6IHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIsXG4gICAgICBpbnNlcnRUZXh0OiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZSh2YWx1ZSwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgaW5zZXJ0VGV4dEZvcm1hdDogSW5zZXJ0VGV4dEZvcm1hdC5TbmlwcGV0LFxuICAgICAgZG9jdW1lbnRhdGlvbjogXCJcIlxuICAgIH0pO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmFkZE51bGxWYWx1ZUNvbXBsZXRpb24gPSBmdW5jdGlvbihzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgY29sbGVjdG9yLmFkZCh7XG4gICAgICBraW5kOiB0aGlzLmdldFN1Z2dlc3Rpb25LaW5kKFwibnVsbFwiKSxcbiAgICAgIGxhYmVsOiBcIm51bGxcIixcbiAgICAgIGluc2VydFRleHQ6IFwibnVsbFwiICsgc2VwYXJhdG9yQWZ0ZXIsXG4gICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICBkb2N1bWVudGF0aW9uOiBcIlwiXG4gICAgfSk7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuYWRkRG9sbGFyU2NoZW1hQ29tcGxldGlvbnMgPSBmdW5jdGlvbihzZXBhcmF0b3JBZnRlciwgY29sbGVjdG9yKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgc2NoZW1hSWRzID0gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldFJlZ2lzdGVyZWRTY2hlbWFJZHMoZnVuY3Rpb24oc2NoZW1hKSB7XG4gICAgICByZXR1cm4gc2NoZW1hID09PSBcImh0dHBcIiB8fCBzY2hlbWEgPT09IFwiaHR0cHNcIjtcbiAgICB9KTtcbiAgICBzY2hlbWFJZHMuZm9yRWFjaChmdW5jdGlvbihzY2hlbWFJZCkge1xuICAgICAgcmV0dXJuIGNvbGxlY3Rvci5hZGQoe1xuICAgICAgICBraW5kOiBDb21wbGV0aW9uSXRlbUtpbmQuTW9kdWxlLFxuICAgICAgICBsYWJlbDogX3RoaXMuZ2V0TGFiZWxGb3JWYWx1ZShzY2hlbWFJZCksXG4gICAgICAgIGZpbHRlclRleHQ6IF90aGlzLmdldEZpbHRlclRleHRGb3JWYWx1ZShzY2hlbWFJZCksXG4gICAgICAgIGluc2VydFRleHQ6IF90aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShzY2hlbWFJZCwgc2VwYXJhdG9yQWZ0ZXIpLFxuICAgICAgICBpbnNlcnRUZXh0Rm9ybWF0OiBJbnNlcnRUZXh0Rm9ybWF0LlNuaXBwZXQsXG4gICAgICAgIGRvY3VtZW50YXRpb246IFwiXCJcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldExhYmVsRm9yVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0RmlsdGVyVGV4dEZvclZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEZpbHRlclRleHRGb3JTbmlwcGV0VmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkucmVwbGFjZSgvXFwkXFx7XFxkKzooW159XSspXFx9fFxcJFxcZCsvZywgXCIkMVwiKTtcbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5nZXRMYWJlbEZvclNuaXBwZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGxhYmVsID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIHJldHVybiBsYWJlbC5yZXBsYWNlKC9cXCRcXHtcXGQrOihbXn1dKylcXH18XFwkXFxkKy9nLCBcIiQxXCIpO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JQbGFpblRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgcmV0dXJuIHRleHQucmVwbGFjZSgvW1xcXFxcXCRcXH1dL2csIFwiXFxcXCQmXCIpO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBzZXBhcmF0b3JBZnRlcikge1xuICAgIHZhciB0ZXh0ID0gSlNPTi5zdHJpbmdpZnkodmFsdWUsIG51bGwsIFwiXHRcIik7XG4gICAgaWYgKHRleHQgPT09IFwie31cIikge1xuICAgICAgcmV0dXJuIFwieyQxfVwiICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgfSBlbHNlIGlmICh0ZXh0ID09PSBcIltdXCIpIHtcbiAgICAgIHJldHVybiBcIlskMV1cIiArIHNlcGFyYXRvckFmdGVyO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yUGxhaW5UZXh0KHRleHQgKyBzZXBhcmF0b3JBZnRlcik7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0SW5zZXJ0VGV4dEZvclNuaXBwZXRWYWx1ZSA9IGZ1bmN0aW9uKHZhbHVlLCBzZXBhcmF0b3JBZnRlcikge1xuICAgIHZhciByZXBsYWNlciA9IGZ1bmN0aW9uKHZhbHVlMikge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZTIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKHZhbHVlMlswXSA9PT0gXCJeXCIpIHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUyLnN1YnN0cigxKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHZhbHVlMik7XG4gICAgfTtcbiAgICByZXR1cm4gc3RyaW5naWZ5T2JqZWN0KHZhbHVlLCBcIlwiLCByZXBsYWNlcikgKyBzZXBhcmF0b3JBZnRlcjtcbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlID0gZnVuY3Rpb24odmFsdWUsIHNlcGFyYXRvckFmdGVyKSB7XG4gICAgc3dpdGNoICh0eXBlb2YgdmFsdWUpIHtcbiAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIFwiJHsxOm51bGx9XCIgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUodmFsdWUsIHNlcGFyYXRvckFmdGVyKTtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgdmFyIHNuaXBwZXRWYWx1ZSA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgc25pcHBldFZhbHVlID0gc25pcHBldFZhbHVlLnN1YnN0cigxLCBzbmlwcGV0VmFsdWUubGVuZ3RoIC0gMik7XG4gICAgICAgIHNuaXBwZXRWYWx1ZSA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclBsYWluVGV4dChzbmlwcGV0VmFsdWUpO1xuICAgICAgICByZXR1cm4gJ1wiJHsxOicgKyBzbmlwcGV0VmFsdWUgKyAnfVwiJyArIHNlcGFyYXRvckFmdGVyO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgcmV0dXJuIFwiJHsxOlwiICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgXCJ9XCIgKyBzZXBhcmF0b3JBZnRlcjtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0SW5zZXJ0VGV4dEZvclZhbHVlKHZhbHVlLCBzZXBhcmF0b3JBZnRlcik7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0U3VnZ2VzdGlvbktpbmQgPSBmdW5jdGlvbih0eXBlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodHlwZSkpIHtcbiAgICAgIHZhciBhcnJheSA9IHR5cGU7XG4gICAgICB0eXBlID0gYXJyYXkubGVuZ3RoID4gMCA/IGFycmF5WzBdIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIXR5cGUpIHtcbiAgICAgIHJldHVybiBDb21wbGV0aW9uSXRlbUtpbmQuVmFsdWU7XG4gICAgfVxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLlZhbHVlO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLk1vZHVsZTtcbiAgICAgIGNhc2UgXCJwcm9wZXJ0eVwiOlxuICAgICAgICByZXR1cm4gQ29tcGxldGlvbkl0ZW1LaW5kLlByb3BlcnR5O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIENvbXBsZXRpb25JdGVtS2luZC5WYWx1ZTtcbiAgICB9XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZ2V0TGFiZWxUZXh0Rm9yTWF0Y2hpbmdOb2RlID0gZnVuY3Rpb24obm9kZSwgZG9jdW1lbnQpIHtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgY2FzZSBcImFycmF5XCI6XG4gICAgICAgIHJldHVybiBcIltdXCI7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHJldHVybiBcInt9XCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB2YXIgY29udGVudCA9IGRvY3VtZW50LmdldFRleHQoKS5zdWJzdHIobm9kZS5vZmZzZXQsIG5vZGUubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfVxuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JNYXRjaGluZ05vZGUgPSBmdW5jdGlvbihub2RlLCBkb2N1bWVudCwgc2VwYXJhdG9yQWZ0ZXIpIHtcbiAgICBzd2l0Y2ggKG5vZGUudHlwZSkge1xuICAgICAgY2FzZSBcImFycmF5XCI6XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShbXSwgc2VwYXJhdG9yQWZ0ZXIpO1xuICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yVmFsdWUoe30sIHNlcGFyYXRvckFmdGVyKTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHZhciBjb250ZW50ID0gZG9jdW1lbnQuZ2V0VGV4dCgpLnN1YnN0cihub2RlLm9mZnNldCwgbm9kZS5sZW5ndGgpICsgc2VwYXJhdG9yQWZ0ZXI7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc2VydFRleHRGb3JQbGFpblRleHQoY29udGVudCk7XG4gICAgfVxuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEluc2VydFRleHRGb3JQcm9wZXJ0eSA9IGZ1bmN0aW9uKGtleSwgcHJvcGVydHlTY2hlbWEsIGFkZFZhbHVlLCBzZXBhcmF0b3JBZnRlcikge1xuICAgIHZhciBwcm9wZXJ0eVRleHQgPSB0aGlzLmdldEluc2VydFRleHRGb3JWYWx1ZShrZXksIFwiXCIpO1xuICAgIGlmICghYWRkVmFsdWUpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eVRleHQ7XG4gICAgfVxuICAgIHZhciByZXN1bHRUZXh0ID0gcHJvcGVydHlUZXh0ICsgXCI6IFwiO1xuICAgIHZhciB2YWx1ZTtcbiAgICB2YXIgblZhbHVlUHJvcG9zYWxzID0gMDtcbiAgICBpZiAocHJvcGVydHlTY2hlbWEpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0cykpIHtcbiAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB2YXIgYm9keSA9IHByb3BlcnR5U2NoZW1hLmRlZmF1bHRTbmlwcGV0c1swXS5ib2R5O1xuICAgICAgICAgIGlmIChpc0RlZmluZWQoYm9keSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yU25pcHBldFZhbHVlKGJvZHksIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBuVmFsdWVQcm9wb3NhbHMgKz0gcHJvcGVydHlTY2hlbWEuZGVmYXVsdFNuaXBwZXRzLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGlmIChwcm9wZXJ0eVNjaGVtYS5lbnVtKSB7XG4gICAgICAgIGlmICghdmFsdWUgJiYgcHJvcGVydHlTY2hlbWEuZW51bS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShwcm9wZXJ0eVNjaGVtYS5lbnVtWzBdLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBuVmFsdWVQcm9wb3NhbHMgKz0gcHJvcGVydHlTY2hlbWEuZW51bS5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAoaXNEZWZpbmVkKHByb3BlcnR5U2NoZW1hLmRlZmF1bHQpKSB7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICB2YWx1ZSA9IHRoaXMuZ2V0SW5zZXJ0VGV4dEZvckd1ZXNzZWRWYWx1ZShwcm9wZXJ0eVNjaGVtYS5kZWZhdWx0LCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBuVmFsdWVQcm9wb3NhbHMrKztcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5U2NoZW1hLmV4YW1wbGVzKSAmJiBwcm9wZXJ0eVNjaGVtYS5leGFtcGxlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHZhbHVlID0gdGhpcy5nZXRJbnNlcnRUZXh0Rm9yR3Vlc3NlZFZhbHVlKHByb3BlcnR5U2NoZW1hLmV4YW1wbGVzWzBdLCBcIlwiKTtcbiAgICAgICAgfVxuICAgICAgICBuVmFsdWVQcm9wb3NhbHMgKz0gcHJvcGVydHlTY2hlbWEuZXhhbXBsZXMubGVuZ3RoO1xuICAgICAgfVxuICAgICAgaWYgKG5WYWx1ZVByb3Bvc2FscyA9PT0gMCkge1xuICAgICAgICB2YXIgdHlwZSA9IEFycmF5LmlzQXJyYXkocHJvcGVydHlTY2hlbWEudHlwZSkgPyBwcm9wZXJ0eVNjaGVtYS50eXBlWzBdIDogcHJvcGVydHlTY2hlbWEudHlwZTtcbiAgICAgICAgaWYgKCF0eXBlKSB7XG4gICAgICAgICAgaWYgKHByb3BlcnR5U2NoZW1hLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcIm9iamVjdFwiO1xuICAgICAgICAgIH0gZWxzZSBpZiAocHJvcGVydHlTY2hlbWEuaXRlbXMpIHtcbiAgICAgICAgICAgIHR5cGUgPSBcImFycmF5XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiJDFcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHZhbHVlID0gJ1wiJDFcIic7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwieyQxfVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImFycmF5XCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiWyQxXVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgIGNhc2UgXCJpbnRlZ2VyXCI6XG4gICAgICAgICAgICB2YWx1ZSA9IFwiJHsxOjB9XCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgdmFsdWUgPSBcIiR7MTpudWxsfVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBwcm9wZXJ0eVRleHQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF2YWx1ZSB8fCBuVmFsdWVQcm9wb3NhbHMgPiAxKSB7XG4gICAgICB2YWx1ZSA9IFwiJDFcIjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFRleHQgKyB2YWx1ZSArIHNlcGFyYXRvckFmdGVyO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmdldEN1cnJlbnRXb3JkID0gZnVuY3Rpb24oZG9jdW1lbnQsIG9mZnNldCkge1xuICAgIHZhciBpID0gb2Zmc2V0IC0gMTtcbiAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldFRleHQoKTtcbiAgICB3aGlsZSAoaSA+PSAwICYmICcgXHRcXG5cXHJcXHZcIjp7WyxdfScuaW5kZXhPZih0ZXh0LmNoYXJBdChpKSkgPT09IC0xKSB7XG4gICAgICBpLS07XG4gICAgfVxuICAgIHJldHVybiB0ZXh0LnN1YnN0cmluZyhpICsgMSwgb2Zmc2V0KTtcbiAgfTtcbiAgSlNPTkNvbXBsZXRpb24yLnByb3RvdHlwZS5ldmFsdWF0ZVNlcGFyYXRvckFmdGVyID0gZnVuY3Rpb24oZG9jdW1lbnQsIG9mZnNldCkge1xuICAgIHZhciBzY2FubmVyID0gY3JlYXRlU2Nhbm5lcjIoZG9jdW1lbnQuZ2V0VGV4dCgpLCB0cnVlKTtcbiAgICBzY2FubmVyLnNldFBvc2l0aW9uKG9mZnNldCk7XG4gICAgdmFyIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgY2FzZSA1OlxuICAgICAgY2FzZSAyOlxuICAgICAgY2FzZSA0OlxuICAgICAgY2FzZSAxNzpcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gXCIsXCI7XG4gICAgfVxuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmZpbmRJdGVtQXRPZmZzZXQgPSBmdW5jdGlvbihub2RlLCBkb2N1bWVudCwgb2Zmc2V0KSB7XG4gICAgdmFyIHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyMihkb2N1bWVudC5nZXRUZXh0KCksIHRydWUpO1xuICAgIHZhciBjaGlsZHJlbiA9IG5vZGUuaXRlbXM7XG4gICAgZm9yICh2YXIgaSA9IGNoaWxkcmVuLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIGlmIChvZmZzZXQgPiBjaGlsZC5vZmZzZXQgKyBjaGlsZC5sZW5ndGgpIHtcbiAgICAgICAgc2Nhbm5lci5zZXRQb3NpdGlvbihjaGlsZC5vZmZzZXQgKyBjaGlsZC5sZW5ndGgpO1xuICAgICAgICB2YXIgdG9rZW4gPSBzY2FubmVyLnNjYW4oKTtcbiAgICAgICAgaWYgKHRva2VuID09PSA1ICYmIG9mZnNldCA+PSBzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkgKyBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpIHtcbiAgICAgICAgICByZXR1cm4gaSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9IGVsc2UgaWYgKG9mZnNldCA+PSBjaGlsZC5vZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIGk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9O1xuICBKU09OQ29tcGxldGlvbjIucHJvdG90eXBlLmlzSW5Db21tZW50ID0gZnVuY3Rpb24oZG9jdW1lbnQsIHN0YXJ0LCBvZmZzZXQpIHtcbiAgICB2YXIgc2Nhbm5lciA9IGNyZWF0ZVNjYW5uZXIyKGRvY3VtZW50LmdldFRleHQoKSwgZmFsc2UpO1xuICAgIHNjYW5uZXIuc2V0UG9zaXRpb24oc3RhcnQpO1xuICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgIHdoaWxlICh0b2tlbiAhPT0gMTcgJiYgc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpIDwgb2Zmc2V0KSB7XG4gICAgICB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgIH1cbiAgICByZXR1cm4gKHRva2VuID09PSAxMiB8fCB0b2tlbiA9PT0gMTMpICYmIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSA8PSBvZmZzZXQ7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZnJvbU1hcmt1cCA9IGZ1bmN0aW9uKG1hcmt1cFN0cmluZykge1xuICAgIGlmIChtYXJrdXBTdHJpbmcgJiYgdGhpcy5kb2VzU3VwcG9ydE1hcmtkb3duKCkpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGtpbmQ6IE1hcmt1cEtpbmQuTWFya2Rvd24sXG4gICAgICAgIHZhbHVlOiBtYXJrdXBTdHJpbmdcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZG9lc1N1cHBvcnRNYXJrZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaXNEZWZpbmVkKHRoaXMuc3VwcG9ydHNNYXJrZG93bikpIHtcbiAgICAgIHZhciBjb21wbGV0aW9uID0gdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50ICYmIHRoaXMuY2xpZW50Q2FwYWJpbGl0aWVzLnRleHREb2N1bWVudC5jb21wbGV0aW9uO1xuICAgICAgdGhpcy5zdXBwb3J0c01hcmtkb3duID0gY29tcGxldGlvbiAmJiBjb21wbGV0aW9uLmNvbXBsZXRpb25JdGVtICYmIEFycmF5LmlzQXJyYXkoY29tcGxldGlvbi5jb21wbGV0aW9uSXRlbS5kb2N1bWVudGF0aW9uRm9ybWF0KSAmJiBjb21wbGV0aW9uLmNvbXBsZXRpb25JdGVtLmRvY3VtZW50YXRpb25Gb3JtYXQuaW5kZXhPZihNYXJrdXBLaW5kLk1hcmtkb3duKSAhPT0gLTE7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN1cHBvcnRzTWFya2Rvd247XG4gIH07XG4gIEpTT05Db21wbGV0aW9uMi5wcm90b3R5cGUuZG9lc1N1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghaXNEZWZpbmVkKHRoaXMuc3VwcG9ydHNDb21taXRDaGFyYWN0ZXJzKSkge1xuICAgICAgdmFyIGNvbXBsZXRpb24gPSB0aGlzLmNsaWVudENhcGFiaWxpdGllcy50ZXh0RG9jdW1lbnQgJiYgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMudGV4dERvY3VtZW50LmNvbXBsZXRpb247XG4gICAgICB0aGlzLnN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycyA9IGNvbXBsZXRpb24gJiYgY29tcGxldGlvbi5jb21wbGV0aW9uSXRlbSAmJiAhIWNvbXBsZXRpb24uY29tcGxldGlvbkl0ZW0uY29tbWl0Q2hhcmFjdGVyc1N1cHBvcnQ7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN1cHBvcnRzQ29tbWl0Q2hhcmFjdGVycztcbiAgfTtcbiAgcmV0dXJuIEpTT05Db21wbGV0aW9uMjtcbn0oKTtcblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL3NlcnZpY2VzL2pzb25Ib3Zlci5qc1xudmFyIEpTT05Ib3ZlciA9IGZ1bmN0aW9uKCkge1xuICBmdW5jdGlvbiBKU09OSG92ZXIyKHNjaGVtYVNlcnZpY2UsIGNvbnRyaWJ1dGlvbnMsIHByb21pc2VDb25zdHJ1Y3Rvcikge1xuICAgIGlmIChjb250cmlidXRpb25zID09PSB2b2lkIDApIHtcbiAgICAgIGNvbnRyaWJ1dGlvbnMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5zY2hlbWFTZXJ2aWNlID0gc2NoZW1hU2VydmljZTtcbiAgICB0aGlzLmNvbnRyaWJ1dGlvbnMgPSBjb250cmlidXRpb25zO1xuICAgIHRoaXMucHJvbWlzZSA9IHByb21pc2VDb25zdHJ1Y3RvciB8fCBQcm9taXNlO1xuICB9XG4gIEpTT05Ib3ZlcjIucHJvdG90eXBlLmRvSG92ZXIgPSBmdW5jdGlvbihkb2N1bWVudCwgcG9zaXRpb24sIGRvYykge1xuICAgIHZhciBvZmZzZXQgPSBkb2N1bWVudC5vZmZzZXRBdChwb3NpdGlvbik7XG4gICAgdmFyIG5vZGUgPSBkb2MuZ2V0Tm9kZUZyb21PZmZzZXQob2Zmc2V0KTtcbiAgICBpZiAoIW5vZGUgfHwgKG5vZGUudHlwZSA9PT0gXCJvYmplY3RcIiB8fCBub2RlLnR5cGUgPT09IFwiYXJyYXlcIikgJiYgb2Zmc2V0ID4gbm9kZS5vZmZzZXQgKyAxICYmIG9mZnNldCA8IG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGggLSAxKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIHZhciBob3ZlclJhbmdlTm9kZSA9IG5vZGU7XG4gICAgaWYgKG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIHBhcmVudCA9IG5vZGUucGFyZW50O1xuICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQudHlwZSA9PT0gXCJwcm9wZXJ0eVwiICYmIHBhcmVudC5rZXlOb2RlID09PSBub2RlKSB7XG4gICAgICAgIG5vZGUgPSBwYXJlbnQudmFsdWVOb2RlO1xuICAgICAgICBpZiAoIW5vZGUpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGhvdmVyUmFuZ2UgPSBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChob3ZlclJhbmdlTm9kZS5vZmZzZXQpLCBkb2N1bWVudC5wb3NpdGlvbkF0KGhvdmVyUmFuZ2VOb2RlLm9mZnNldCArIGhvdmVyUmFuZ2VOb2RlLmxlbmd0aCkpO1xuICAgIHZhciBjcmVhdGVIb3ZlciA9IGZ1bmN0aW9uKGNvbnRlbnRzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge1xuICAgICAgICBjb250ZW50cyxcbiAgICAgICAgcmFuZ2U6IGhvdmVyUmFuZ2VcbiAgICAgIH07XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gICAgdmFyIGxvY2F0aW9uID0gZ2V0Tm9kZVBhdGgzKG5vZGUpO1xuICAgIGZvciAodmFyIGkgPSB0aGlzLmNvbnRyaWJ1dGlvbnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciBjb250cmlidXRpb24gPSB0aGlzLmNvbnRyaWJ1dGlvbnNbaV07XG4gICAgICB2YXIgcHJvbWlzZSA9IGNvbnRyaWJ1dGlvbi5nZXRJbmZvQ29udHJpYnV0aW9uKGRvY3VtZW50LnVyaSwgbG9jYXRpb24pO1xuICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbihodG1sQ29udGVudCkge1xuICAgICAgICAgIHJldHVybiBjcmVhdGVIb3ZlcihodG1sQ29udGVudCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldFNjaGVtYUZvclJlc291cmNlKGRvY3VtZW50LnVyaSwgZG9jKS50aGVuKGZ1bmN0aW9uKHNjaGVtYSkge1xuICAgICAgaWYgKHNjaGVtYSAmJiBub2RlKSB7XG4gICAgICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEsIG5vZGUub2Zmc2V0KTtcbiAgICAgICAgdmFyIHRpdGxlXzEgPSB2b2lkIDA7XG4gICAgICAgIHZhciBtYXJrZG93bkRlc2NyaXB0aW9uXzEgPSB2b2lkIDA7XG4gICAgICAgIHZhciBtYXJrZG93bkVudW1WYWx1ZURlc2NyaXB0aW9uXzEgPSB2b2lkIDAsIGVudW1WYWx1ZV8xID0gdm9pZCAwO1xuICAgICAgICBtYXRjaGluZ1NjaGVtYXMuZXZlcnkoZnVuY3Rpb24ocykge1xuICAgICAgICAgIGlmIChzLm5vZGUgPT09IG5vZGUgJiYgIXMuaW52ZXJ0ZWQgJiYgcy5zY2hlbWEpIHtcbiAgICAgICAgICAgIHRpdGxlXzEgPSB0aXRsZV8xIHx8IHMuc2NoZW1hLnRpdGxlO1xuICAgICAgICAgICAgbWFya2Rvd25EZXNjcmlwdGlvbl8xID0gbWFya2Rvd25EZXNjcmlwdGlvbl8xIHx8IHMuc2NoZW1hLm1hcmtkb3duRGVzY3JpcHRpb24gfHwgdG9NYXJrZG93bihzLnNjaGVtYS5kZXNjcmlwdGlvbik7XG4gICAgICAgICAgICBpZiAocy5zY2hlbWEuZW51bSkge1xuICAgICAgICAgICAgICB2YXIgaWR4ID0gcy5zY2hlbWEuZW51bS5pbmRleE9mKGdldE5vZGVWYWx1ZTMobm9kZSkpO1xuICAgICAgICAgICAgICBpZiAocy5zY2hlbWEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgbWFya2Rvd25FbnVtVmFsdWVEZXNjcmlwdGlvbl8xID0gcy5zY2hlbWEubWFya2Rvd25FbnVtRGVzY3JpcHRpb25zW2lkeF07XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocy5zY2hlbWEuZW51bURlc2NyaXB0aW9ucykge1xuICAgICAgICAgICAgICAgIG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSA9IHRvTWFya2Rvd24ocy5zY2hlbWEuZW51bURlc2NyaXB0aW9uc1tpZHhdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAobWFya2Rvd25FbnVtVmFsdWVEZXNjcmlwdGlvbl8xKSB7XG4gICAgICAgICAgICAgICAgZW51bVZhbHVlXzEgPSBzLnNjaGVtYS5lbnVtW2lkeF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnVtVmFsdWVfMSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgZW51bVZhbHVlXzEgPSBKU09OLnN0cmluZ2lmeShlbnVtVmFsdWVfMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFwiXCI7XG4gICAgICAgIGlmICh0aXRsZV8xKSB7XG4gICAgICAgICAgcmVzdWx0ID0gdG9NYXJrZG93bih0aXRsZV8xKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFya2Rvd25EZXNjcmlwdGlvbl8xKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ICs9IG1hcmtkb3duRGVzY3JpcHRpb25fMTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWFya2Rvd25FbnVtVmFsdWVEZXNjcmlwdGlvbl8xKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gXCJcXG5cXG5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ICs9IFwiYFwiLmNvbmNhdCh0b01hcmtkb3duQ29kZUJsb2NrKGVudW1WYWx1ZV8xKSwgXCJgOiBcIikuY29uY2F0KG1hcmtkb3duRW51bVZhbHVlRGVzY3JpcHRpb25fMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNyZWF0ZUhvdmVyKFtyZXN1bHRdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gSlNPTkhvdmVyMjtcbn0oKTtcbmZ1bmN0aW9uIHRvTWFya2Rvd24ocGxhaW4pIHtcbiAgaWYgKHBsYWluKSB7XG4gICAgdmFyIHJlcyA9IHBsYWluLnJlcGxhY2UoLyhbXlxcblxccl0pKFxccj9cXG4pKFteXFxuXFxyXSkvZ20sIFwiJDFcXG5cXG4kM1wiKTtcbiAgICByZXR1cm4gcmVzLnJlcGxhY2UoL1tcXFxcYCpfe31bXFxdKCkjK1xcLS4hXS9nLCBcIlxcXFwkJlwiKTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gdG9NYXJrZG93bkNvZGVCbG9jayhjb250ZW50KSB7XG4gIGlmIChjb250ZW50LmluZGV4T2YoXCJgXCIpICE9PSAtMSkge1xuICAgIHJldHVybiBcImBgIFwiICsgY29udGVudCArIFwiIGBgXCI7XG4gIH1cbiAgcmV0dXJuIGNvbnRlbnQ7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvbGliL2VzbS9zZXJ2aWNlcy9qc29uVmFsaWRhdGlvbi5qc1xudmFyIGxvY2FsaXplNCA9IGxvYWRNZXNzYWdlQnVuZGxlKCk7XG52YXIgSlNPTlZhbGlkYXRpb24gPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gSlNPTlZhbGlkYXRpb24yKGpzb25TY2hlbWFTZXJ2aWNlLCBwcm9taXNlQ29uc3RydWN0b3IpIHtcbiAgICB0aGlzLmpzb25TY2hlbWFTZXJ2aWNlID0ganNvblNjaGVtYVNlcnZpY2U7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZUNvbnN0cnVjdG9yO1xuICAgIHRoaXMudmFsaWRhdGlvbkVuYWJsZWQgPSB0cnVlO1xuICB9XG4gIEpTT05WYWxpZGF0aW9uMi5wcm90b3R5cGUuY29uZmlndXJlID0gZnVuY3Rpb24ocmF3KSB7XG4gICAgaWYgKHJhdykge1xuICAgICAgdGhpcy52YWxpZGF0aW9uRW5hYmxlZCA9IHJhdy52YWxpZGF0ZSAhPT0gZmFsc2U7XG4gICAgICB0aGlzLmNvbW1lbnRTZXZlcml0eSA9IHJhdy5hbGxvd0NvbW1lbnRzID8gdm9pZCAwIDogRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yO1xuICAgIH1cbiAgfTtcbiAgSlNPTlZhbGlkYXRpb24yLnByb3RvdHlwZS5kb1ZhbGlkYXRpb24gPSBmdW5jdGlvbih0ZXh0RG9jdW1lbnQsIGpzb25Eb2N1bWVudCwgZG9jdW1lbnRTZXR0aW5ncywgc2NoZW1hKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoIXRoaXMudmFsaWRhdGlvbkVuYWJsZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfVxuICAgIHZhciBkaWFnbm9zdGljcyA9IFtdO1xuICAgIHZhciBhZGRlZCA9IHt9O1xuICAgIHZhciBhZGRQcm9ibGVtID0gZnVuY3Rpb24ocHJvYmxlbSkge1xuICAgICAgdmFyIHNpZ25hdHVyZSA9IHByb2JsZW0ucmFuZ2Uuc3RhcnQubGluZSArIFwiIFwiICsgcHJvYmxlbS5yYW5nZS5zdGFydC5jaGFyYWN0ZXIgKyBcIiBcIiArIHByb2JsZW0ubWVzc2FnZTtcbiAgICAgIGlmICghYWRkZWRbc2lnbmF0dXJlXSkge1xuICAgICAgICBhZGRlZFtzaWduYXR1cmVdID0gdHJ1ZTtcbiAgICAgICAgZGlhZ25vc3RpY3MucHVzaChwcm9ibGVtKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBnZXREaWFnbm9zdGljcyA9IGZ1bmN0aW9uKHNjaGVtYTIpIHtcbiAgICAgIHZhciB0cmFpbGluZ0NvbW1hU2V2ZXJpdHkgPSAoZG9jdW1lbnRTZXR0aW5ncyA9PT0gbnVsbCB8fCBkb2N1bWVudFNldHRpbmdzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkb2N1bWVudFNldHRpbmdzLnRyYWlsaW5nQ29tbWFzKSA/IHRvRGlhZ25vc3RpY1NldmVyaXR5KGRvY3VtZW50U2V0dGluZ3MudHJhaWxpbmdDb21tYXMpIDogRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yO1xuICAgICAgdmFyIGNvbW1lbnRTZXZlcml0eSA9IChkb2N1bWVudFNldHRpbmdzID09PSBudWxsIHx8IGRvY3VtZW50U2V0dGluZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50U2V0dGluZ3MuY29tbWVudHMpID8gdG9EaWFnbm9zdGljU2V2ZXJpdHkoZG9jdW1lbnRTZXR0aW5ncy5jb21tZW50cykgOiBfdGhpcy5jb21tZW50U2V2ZXJpdHk7XG4gICAgICB2YXIgc2NoZW1hVmFsaWRhdGlvbiA9IChkb2N1bWVudFNldHRpbmdzID09PSBudWxsIHx8IGRvY3VtZW50U2V0dGluZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50U2V0dGluZ3Muc2NoZW1hVmFsaWRhdGlvbikgPyB0b0RpYWdub3N0aWNTZXZlcml0eShkb2N1bWVudFNldHRpbmdzLnNjaGVtYVZhbGlkYXRpb24pIDogRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmc7XG4gICAgICB2YXIgc2NoZW1hUmVxdWVzdCA9IChkb2N1bWVudFNldHRpbmdzID09PSBudWxsIHx8IGRvY3VtZW50U2V0dGluZ3MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvY3VtZW50U2V0dGluZ3Muc2NoZW1hUmVxdWVzdCkgPyB0b0RpYWdub3N0aWNTZXZlcml0eShkb2N1bWVudFNldHRpbmdzLnNjaGVtYVJlcXVlc3QpIDogRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmc7XG4gICAgICBpZiAoc2NoZW1hMikge1xuICAgICAgICBpZiAoc2NoZW1hMi5lcnJvcnMubGVuZ3RoICYmIGpzb25Eb2N1bWVudC5yb290ICYmIHNjaGVtYVJlcXVlc3QpIHtcbiAgICAgICAgICB2YXIgYXN0Um9vdCA9IGpzb25Eb2N1bWVudC5yb290O1xuICAgICAgICAgIHZhciBwcm9wZXJ0eSA9IGFzdFJvb3QudHlwZSA9PT0gXCJvYmplY3RcIiA/IGFzdFJvb3QucHJvcGVydGllc1swXSA6IHZvaWQgMDtcbiAgICAgICAgICBpZiAocHJvcGVydHkgJiYgcHJvcGVydHkua2V5Tm9kZS52YWx1ZSA9PT0gXCIkc2NoZW1hXCIpIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gcHJvcGVydHkudmFsdWVOb2RlIHx8IHByb3BlcnR5O1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuY3JlYXRlKHRleHREb2N1bWVudC5wb3NpdGlvbkF0KG5vZGUub2Zmc2V0KSwgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xuICAgICAgICAgICAgYWRkUHJvYmxlbShEaWFnbm9zdGljLmNyZWF0ZShyYW5nZSwgc2NoZW1hMi5lcnJvcnNbMF0sIHNjaGVtYVJlcXVlc3QsIEVycm9yQ29kZS5TY2hlbWFSZXNvbHZlRXJyb3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gUmFuZ2UuY3JlYXRlKHRleHREb2N1bWVudC5wb3NpdGlvbkF0KGFzdFJvb3Qub2Zmc2V0KSwgdGV4dERvY3VtZW50LnBvc2l0aW9uQXQoYXN0Um9vdC5vZmZzZXQgKyAxKSk7XG4gICAgICAgICAgICBhZGRQcm9ibGVtKERpYWdub3N0aWMuY3JlYXRlKHJhbmdlLCBzY2hlbWEyLmVycm9yc1swXSwgc2NoZW1hUmVxdWVzdCwgRXJyb3JDb2RlLlNjaGVtYVJlc29sdmVFcnJvcikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChzY2hlbWFWYWxpZGF0aW9uKSB7XG4gICAgICAgICAgdmFyIHNlbWFudGljRXJyb3JzID0ganNvbkRvY3VtZW50LnZhbGlkYXRlKHRleHREb2N1bWVudCwgc2NoZW1hMi5zY2hlbWEsIHNjaGVtYVZhbGlkYXRpb24pO1xuICAgICAgICAgIGlmIChzZW1hbnRpY0Vycm9ycykge1xuICAgICAgICAgICAgc2VtYW50aWNFcnJvcnMuZm9yRWFjaChhZGRQcm9ibGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVtYUFsbG93c0NvbW1lbnRzKHNjaGVtYTIuc2NoZW1hKSkge1xuICAgICAgICAgIGNvbW1lbnRTZXZlcml0eSA9IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hQWxsb3dzVHJhaWxpbmdDb21tYXMoc2NoZW1hMi5zY2hlbWEpKSB7XG4gICAgICAgICAgdHJhaWxpbmdDb21tYVNldmVyaXR5ID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0ganNvbkRvY3VtZW50LnN5bnRheEVycm9yczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHAgPSBfYVtfaV07XG4gICAgICAgIGlmIChwLmNvZGUgPT09IEVycm9yQ29kZS5UcmFpbGluZ0NvbW1hKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0cmFpbGluZ0NvbW1hU2V2ZXJpdHkgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwLnNldmVyaXR5ID0gdHJhaWxpbmdDb21tYVNldmVyaXR5O1xuICAgICAgICB9XG4gICAgICAgIGFkZFByb2JsZW0ocCk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGNvbW1lbnRTZXZlcml0eSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB2YXIgbWVzc2FnZV8xID0gbG9jYWxpemU0KFwiSW52YWxpZENvbW1lbnRUb2tlblwiLCBcIkNvbW1lbnRzIGFyZSBub3QgcGVybWl0dGVkIGluIEpTT04uXCIpO1xuICAgICAgICBqc29uRG9jdW1lbnQuY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbihjKSB7XG4gICAgICAgICAgYWRkUHJvYmxlbShEaWFnbm9zdGljLmNyZWF0ZShjLCBtZXNzYWdlXzEsIGNvbW1lbnRTZXZlcml0eSwgRXJyb3JDb2RlLkNvbW1lbnROb3RQZXJtaXR0ZWQpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGlhZ25vc3RpY3M7XG4gICAgfTtcbiAgICBpZiAoc2NoZW1hKSB7XG4gICAgICB2YXIgaWQgPSBzY2hlbWEuaWQgfHwgXCJzY2hlbWFzZXJ2aWNlOi8vdW50aXRsZWQvXCIgKyBpZENvdW50ZXIrKztcbiAgICAgIHZhciBoYW5kbGUgPSB0aGlzLmpzb25TY2hlbWFTZXJ2aWNlLnJlZ2lzdGVyRXh0ZXJuYWxTY2hlbWEoaWQsIFtdLCBzY2hlbWEpO1xuICAgICAgcmV0dXJuIGhhbmRsZS5nZXRSZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24ocmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIGdldERpYWdub3N0aWNzKHJlc29sdmVkU2NoZW1hKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5qc29uU2NoZW1hU2VydmljZS5nZXRTY2hlbWFGb3JSZXNvdXJjZSh0ZXh0RG9jdW1lbnQudXJpLCBqc29uRG9jdW1lbnQpLnRoZW4oZnVuY3Rpb24oc2NoZW1hMikge1xuICAgICAgcmV0dXJuIGdldERpYWdub3N0aWNzKHNjaGVtYTIpO1xuICAgIH0pO1xuICB9O1xuICBKU09OVmFsaWRhdGlvbjIucHJvdG90eXBlLmdldExhbmd1YWdlU3RhdHVzID0gZnVuY3Rpb24odGV4dERvY3VtZW50LCBqc29uRG9jdW1lbnQpIHtcbiAgICByZXR1cm4geyBzY2hlbWFzOiB0aGlzLmpzb25TY2hlbWFTZXJ2aWNlLmdldFNjaGVtYVVSSXNGb3JSZXNvdXJjZSh0ZXh0RG9jdW1lbnQudXJpLCBqc29uRG9jdW1lbnQpIH07XG4gIH07XG4gIHJldHVybiBKU09OVmFsaWRhdGlvbjI7XG59KCk7XG52YXIgaWRDb3VudGVyID0gMDtcbmZ1bmN0aW9uIHNjaGVtYUFsbG93c0NvbW1lbnRzKHNjaGVtYVJlZikge1xuICBpZiAoc2NoZW1hUmVmICYmIHR5cGVvZiBzY2hlbWFSZWYgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoaXNCb29sZWFuKHNjaGVtYVJlZi5hbGxvd0NvbW1lbnRzKSkge1xuICAgICAgcmV0dXJuIHNjaGVtYVJlZi5hbGxvd0NvbW1lbnRzO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hUmVmLmFsbE9mKSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gc2NoZW1hUmVmLmFsbE9mOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgc2NoZW1hID0gX2FbX2ldO1xuICAgICAgICB2YXIgYWxsb3cgPSBzY2hlbWFBbGxvd3NDb21tZW50cyhzY2hlbWEpO1xuICAgICAgICBpZiAoaXNCb29sZWFuKGFsbG93KSkge1xuICAgICAgICAgIHJldHVybiBhbGxvdztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuZnVuY3Rpb24gc2NoZW1hQWxsb3dzVHJhaWxpbmdDb21tYXMoc2NoZW1hUmVmKSB7XG4gIGlmIChzY2hlbWFSZWYgJiYgdHlwZW9mIHNjaGVtYVJlZiA9PT0gXCJvYmplY3RcIikge1xuICAgIGlmIChpc0Jvb2xlYW4oc2NoZW1hUmVmLmFsbG93VHJhaWxpbmdDb21tYXMpKSB7XG4gICAgICByZXR1cm4gc2NoZW1hUmVmLmFsbG93VHJhaWxpbmdDb21tYXM7XG4gICAgfVxuICAgIHZhciBkZXByU2NoZW1hUmVmID0gc2NoZW1hUmVmO1xuICAgIGlmIChpc0Jvb2xlYW4oZGVwclNjaGVtYVJlZltcImFsbG93c1RyYWlsaW5nQ29tbWFzXCJdKSkge1xuICAgICAgcmV0dXJuIGRlcHJTY2hlbWFSZWZbXCJhbGxvd3NUcmFpbGluZ0NvbW1hc1wiXTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYVJlZi5hbGxPZikge1xuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHNjaGVtYVJlZi5hbGxPZjsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHNjaGVtYSA9IF9hW19pXTtcbiAgICAgICAgdmFyIGFsbG93ID0gc2NoZW1hQWxsb3dzVHJhaWxpbmdDb21tYXMoc2NoZW1hKTtcbiAgICAgICAgaWYgKGlzQm9vbGVhbihhbGxvdykpIHtcbiAgICAgICAgICByZXR1cm4gYWxsb3c7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZvaWQgMDtcbn1cbmZ1bmN0aW9uIHRvRGlhZ25vc3RpY1NldmVyaXR5KHNldmVyaXR5TGV2ZWwpIHtcbiAgc3dpdGNoIChzZXZlcml0eUxldmVsKSB7XG4gICAgY2FzZSBcImVycm9yXCI6XG4gICAgICByZXR1cm4gRGlhZ25vc3RpY1NldmVyaXR5LkVycm9yO1xuICAgIGNhc2UgXCJ3YXJuaW5nXCI6XG4gICAgICByZXR1cm4gRGlhZ25vc3RpY1NldmVyaXR5Lldhcm5pbmc7XG4gICAgY2FzZSBcImlnbm9yZVwiOlxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vdXRpbHMvY29sb3JzLmpzXG52YXIgRGlnaXQwID0gNDg7XG52YXIgRGlnaXQ5ID0gNTc7XG52YXIgQSA9IDY1O1xudmFyIGEgPSA5NztcbnZhciBmID0gMTAyO1xuZnVuY3Rpb24gaGV4RGlnaXQoY2hhckNvZGUpIHtcbiAgaWYgKGNoYXJDb2RlIDwgRGlnaXQwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYgKGNoYXJDb2RlIDw9IERpZ2l0OSkge1xuICAgIHJldHVybiBjaGFyQ29kZSAtIERpZ2l0MDtcbiAgfVxuICBpZiAoY2hhckNvZGUgPCBhKSB7XG4gICAgY2hhckNvZGUgKz0gYSAtIEE7XG4gIH1cbiAgaWYgKGNoYXJDb2RlID49IGEgJiYgY2hhckNvZGUgPD0gZikge1xuICAgIHJldHVybiBjaGFyQ29kZSAtIGEgKyAxMDtcbiAgfVxuICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGNvbG9yRnJvbUhleCh0ZXh0KSB7XG4gIGlmICh0ZXh0WzBdICE9PSBcIiNcIikge1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH1cbiAgc3dpdGNoICh0ZXh0Lmxlbmd0aCkge1xuICAgIGNhc2UgNDpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDEpKSAqIDE3IC8gMjU1LFxuICAgICAgICBncmVlbjogaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSAqIDE3IC8gMjU1LFxuICAgICAgICBibHVlOiBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMTcgLyAyNTUsXG4gICAgICAgIGFscGhhOiAxXG4gICAgICB9O1xuICAgIGNhc2UgNTpcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlZDogaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDEpKSAqIDE3IC8gMjU1LFxuICAgICAgICBncmVlbjogaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSAqIDE3IC8gMjU1LFxuICAgICAgICBibHVlOiBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoMykpICogMTcgLyAyNTUsXG4gICAgICAgIGFscGhhOiBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNCkpICogMTcgLyAyNTVcbiAgICAgIH07XG4gICAgY2FzZSA3OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVkOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDEpKSAqIDE2ICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSkgLyAyNTUsXG4gICAgICAgIGdyZWVuOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDMpKSAqIDE2ICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDQpKSkgLyAyNTUsXG4gICAgICAgIGJsdWU6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNSkpICogMTYgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNikpKSAvIDI1NSxcbiAgICAgICAgYWxwaGE6IDFcbiAgICAgIH07XG4gICAgY2FzZSA5OlxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVkOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDEpKSAqIDE2ICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDIpKSkgLyAyNTUsXG4gICAgICAgIGdyZWVuOiAoaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDMpKSAqIDE2ICsgaGV4RGlnaXQodGV4dC5jaGFyQ29kZUF0KDQpKSkgLyAyNTUsXG4gICAgICAgIGJsdWU6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNSkpICogMTYgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNikpKSAvIDI1NSxcbiAgICAgICAgYWxwaGE6IChoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoNykpICogMTYgKyBoZXhEaWdpdCh0ZXh0LmNoYXJDb2RlQXQoOCkpKSAvIDI1NVxuICAgICAgfTtcbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vc2VydmljZXMvanNvbkRvY3VtZW50U3ltYm9scy5qc1xudmFyIEpTT05Eb2N1bWVudFN5bWJvbHMgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gSlNPTkRvY3VtZW50U3ltYm9sczIoc2NoZW1hU2VydmljZSkge1xuICAgIHRoaXMuc2NoZW1hU2VydmljZSA9IHNjaGVtYVNlcnZpY2U7XG4gIH1cbiAgSlNPTkRvY3VtZW50U3ltYm9sczIucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHMgPSBmdW5jdGlvbihkb2N1bWVudCwgZG9jLCBjb250ZXh0KSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoY29udGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgICBjb250ZXh0ID0geyByZXN1bHRMaW1pdDogTnVtYmVyLk1BWF9WQUxVRSB9O1xuICAgIH1cbiAgICB2YXIgcm9vdCA9IGRvYy5yb290O1xuICAgIGlmICghcm9vdCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICB2YXIgbGltaXQgPSBjb250ZXh0LnJlc3VsdExpbWl0IHx8IE51bWJlci5NQVhfVkFMVUU7XG4gICAgdmFyIHJlc291cmNlU3RyaW5nID0gZG9jdW1lbnQudXJpO1xuICAgIGlmIChyZXNvdXJjZVN0cmluZyA9PT0gXCJ2c2NvZGU6Ly9kZWZhdWx0c2V0dGluZ3Mva2V5YmluZGluZ3MuanNvblwiIHx8IGVuZHNXaXRoKHJlc291cmNlU3RyaW5nLnRvTG93ZXJDYXNlKCksIFwiL3VzZXIva2V5YmluZGluZ3MuanNvblwiKSkge1xuICAgICAgaWYgKHJvb3QudHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgIHZhciByZXN1bHRfMSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gcm9vdC5pdGVtczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcbiAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIF9jID0gaXRlbS5wcm9wZXJ0aWVzOyBfYiA8IF9jLmxlbmd0aDsgX2IrKykge1xuICAgICAgICAgICAgICB2YXIgcHJvcGVydHkgPSBfY1tfYl07XG4gICAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5rZXlOb2RlLnZhbHVlID09PSBcImtleVwiICYmIHByb3BlcnR5LnZhbHVlTm9kZSkge1xuICAgICAgICAgICAgICAgIHZhciBsb2NhdGlvbiA9IExvY2F0aW9uLmNyZWF0ZShkb2N1bWVudC51cmksIGdldFJhbmdlKGRvY3VtZW50LCBpdGVtKSk7XG4gICAgICAgICAgICAgICAgcmVzdWx0XzEucHVzaCh7IG5hbWU6IGdldE5vZGVWYWx1ZTMocHJvcGVydHkudmFsdWVOb2RlKSwga2luZDogU3ltYm9sS2luZC5GdW5jdGlvbiwgbG9jYXRpb24gfSk7XG4gICAgICAgICAgICAgICAgbGltaXQtLTtcbiAgICAgICAgICAgICAgICBpZiAobGltaXQgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQocmVzb3VyY2VTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdF8xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XzE7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciB0b1Zpc2l0ID0gW1xuICAgICAgeyBub2RlOiByb290LCBjb250YWluZXJOYW1lOiBcIlwiIH1cbiAgICBdO1xuICAgIHZhciBuZXh0VG9WaXNpdCA9IDA7XG4gICAgdmFyIGxpbWl0RXhjZWVkZWQgPSBmYWxzZTtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvbGxlY3RPdXRsaW5lRW50cmllcyA9IGZ1bmN0aW9uKG5vZGUsIGNvbnRhaW5lck5hbWUpIHtcbiAgICAgIGlmIChub2RlLnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICBub2RlLml0ZW1zLmZvckVhY2goZnVuY3Rpb24obm9kZTIpIHtcbiAgICAgICAgICBpZiAobm9kZTIpIHtcbiAgICAgICAgICAgIHRvVmlzaXQucHVzaCh7IG5vZGU6IG5vZGUyLCBjb250YWluZXJOYW1lIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBub2RlLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eTIpIHtcbiAgICAgICAgICB2YXIgdmFsdWVOb2RlID0gcHJvcGVydHkyLnZhbHVlTm9kZTtcbiAgICAgICAgICBpZiAodmFsdWVOb2RlKSB7XG4gICAgICAgICAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgIGxpbWl0LS07XG4gICAgICAgICAgICAgIHZhciBsb2NhdGlvbjIgPSBMb2NhdGlvbi5jcmVhdGUoZG9jdW1lbnQudXJpLCBnZXRSYW5nZShkb2N1bWVudCwgcHJvcGVydHkyKSk7XG4gICAgICAgICAgICAgIHZhciBjaGlsZENvbnRhaW5lck5hbWUgPSBjb250YWluZXJOYW1lID8gY29udGFpbmVyTmFtZSArIFwiLlwiICsgcHJvcGVydHkyLmtleU5vZGUudmFsdWUgOiBwcm9wZXJ0eTIua2V5Tm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgcmVzdWx0LnB1c2goeyBuYW1lOiBfdGhpcy5nZXRLZXlMYWJlbChwcm9wZXJ0eTIpLCBraW5kOiBfdGhpcy5nZXRTeW1ib2xLaW5kKHZhbHVlTm9kZS50eXBlKSwgbG9jYXRpb246IGxvY2F0aW9uMiwgY29udGFpbmVyTmFtZSB9KTtcbiAgICAgICAgICAgICAgdG9WaXNpdC5wdXNoKHsgbm9kZTogdmFsdWVOb2RlLCBjb250YWluZXJOYW1lOiBjaGlsZENvbnRhaW5lck5hbWUgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBsaW1pdEV4Y2VlZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUgKG5leHRUb1Zpc2l0IDwgdG9WaXNpdC5sZW5ndGgpIHtcbiAgICAgIHZhciBuZXh0ID0gdG9WaXNpdFtuZXh0VG9WaXNpdCsrXTtcbiAgICAgIGNvbGxlY3RPdXRsaW5lRW50cmllcyhuZXh0Lm5vZGUsIG5leHQuY29udGFpbmVyTmFtZSk7XG4gICAgfVxuICAgIGlmIChsaW1pdEV4Y2VlZGVkICYmIGNvbnRleHQgJiYgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQpIHtcbiAgICAgIGNvbnRleHQub25SZXN1bHRMaW1pdEV4Y2VlZGVkKHJlc291cmNlU3RyaW5nKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbiAgSlNPTkRvY3VtZW50U3ltYm9sczIucHJvdG90eXBlLmZpbmREb2N1bWVudFN5bWJvbHMyID0gZnVuY3Rpb24oZG9jdW1lbnQsIGRvYywgY29udGV4dCkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgaWYgKGNvbnRleHQgPT09IHZvaWQgMCkge1xuICAgICAgY29udGV4dCA9IHsgcmVzdWx0TGltaXQ6IE51bWJlci5NQVhfVkFMVUUgfTtcbiAgICB9XG4gICAgdmFyIHJvb3QgPSBkb2Mucm9vdDtcbiAgICBpZiAoIXJvb3QpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgdmFyIGxpbWl0ID0gY29udGV4dC5yZXN1bHRMaW1pdCB8fCBOdW1iZXIuTUFYX1ZBTFVFO1xuICAgIHZhciByZXNvdXJjZVN0cmluZyA9IGRvY3VtZW50LnVyaTtcbiAgICBpZiAocmVzb3VyY2VTdHJpbmcgPT09IFwidnNjb2RlOi8vZGVmYXVsdHNldHRpbmdzL2tleWJpbmRpbmdzLmpzb25cIiB8fCBlbmRzV2l0aChyZXNvdXJjZVN0cmluZy50b0xvd2VyQ2FzZSgpLCBcIi91c2VyL2tleWJpbmRpbmdzLmpzb25cIikpIHtcbiAgICAgIGlmIChyb290LnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICB2YXIgcmVzdWx0XzIgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHJvb3QuaXRlbXM7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XG4gICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGl0ZW0ucHJvcGVydGllczsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICAgICAgdmFyIHByb3BlcnR5ID0gX2NbX2JdO1xuICAgICAgICAgICAgICBpZiAocHJvcGVydHkua2V5Tm9kZS52YWx1ZSA9PT0gXCJrZXlcIiAmJiBwcm9wZXJ0eS52YWx1ZU5vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBnZXRSYW5nZShkb2N1bWVudCwgaXRlbSk7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvblJhbmdlID0gZ2V0UmFuZ2UoZG9jdW1lbnQsIHByb3BlcnR5LmtleU5vZGUpO1xuICAgICAgICAgICAgICAgIHJlc3VsdF8yLnB1c2goeyBuYW1lOiBnZXROb2RlVmFsdWUzKHByb3BlcnR5LnZhbHVlTm9kZSksIGtpbmQ6IFN5bWJvbEtpbmQuRnVuY3Rpb24sIHJhbmdlLCBzZWxlY3Rpb25SYW5nZSB9KTtcbiAgICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICAgIGlmIChsaW1pdCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZChyZXNvdXJjZVN0cmluZyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0XzI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfMjtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciB0b1Zpc2l0ID0gW1xuICAgICAgeyBub2RlOiByb290LCByZXN1bHQgfVxuICAgIF07XG4gICAgdmFyIG5leHRUb1Zpc2l0ID0gMDtcbiAgICB2YXIgbGltaXRFeGNlZWRlZCA9IGZhbHNlO1xuICAgIHZhciBjb2xsZWN0T3V0bGluZUVudHJpZXMgPSBmdW5jdGlvbihub2RlLCByZXN1bHQyKSB7XG4gICAgICBpZiAobm9kZS50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgbm9kZS5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uKG5vZGUyLCBpbmRleCkge1xuICAgICAgICAgIGlmIChub2RlMikge1xuICAgICAgICAgICAgaWYgKGxpbWl0ID4gMCkge1xuICAgICAgICAgICAgICBsaW1pdC0tO1xuICAgICAgICAgICAgICB2YXIgcmFuZ2UyID0gZ2V0UmFuZ2UoZG9jdW1lbnQsIG5vZGUyKTtcbiAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvblJhbmdlMiA9IHJhbmdlMjtcbiAgICAgICAgICAgICAgdmFyIG5hbWUgPSBTdHJpbmcoaW5kZXgpO1xuICAgICAgICAgICAgICB2YXIgc3ltYm9sID0geyBuYW1lLCBraW5kOiBfdGhpcy5nZXRTeW1ib2xLaW5kKG5vZGUyLnR5cGUpLCByYW5nZTogcmFuZ2UyLCBzZWxlY3Rpb25SYW5nZTogc2VsZWN0aW9uUmFuZ2UyLCBjaGlsZHJlbjogW10gfTtcbiAgICAgICAgICAgICAgcmVzdWx0Mi5wdXNoKHN5bWJvbCk7XG4gICAgICAgICAgICAgIHRvVmlzaXQucHVzaCh7IHJlc3VsdDogc3ltYm9sLmNoaWxkcmVuLCBub2RlOiBub2RlMiB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxpbWl0RXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUudHlwZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBub2RlLnByb3BlcnRpZXMuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eTIpIHtcbiAgICAgICAgICB2YXIgdmFsdWVOb2RlID0gcHJvcGVydHkyLnZhbHVlTm9kZTtcbiAgICAgICAgICBpZiAodmFsdWVOb2RlKSB7XG4gICAgICAgICAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICAgICAgICAgIGxpbWl0LS07XG4gICAgICAgICAgICAgIHZhciByYW5nZTIgPSBnZXRSYW5nZShkb2N1bWVudCwgcHJvcGVydHkyKTtcbiAgICAgICAgICAgICAgdmFyIHNlbGVjdGlvblJhbmdlMiA9IGdldFJhbmdlKGRvY3VtZW50LCBwcm9wZXJ0eTIua2V5Tm9kZSk7XG4gICAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IFtdO1xuICAgICAgICAgICAgICB2YXIgc3ltYm9sID0geyBuYW1lOiBfdGhpcy5nZXRLZXlMYWJlbChwcm9wZXJ0eTIpLCBraW5kOiBfdGhpcy5nZXRTeW1ib2xLaW5kKHZhbHVlTm9kZS50eXBlKSwgcmFuZ2U6IHJhbmdlMiwgc2VsZWN0aW9uUmFuZ2U6IHNlbGVjdGlvblJhbmdlMiwgY2hpbGRyZW4sIGRldGFpbDogX3RoaXMuZ2V0RGV0YWlsKHZhbHVlTm9kZSkgfTtcbiAgICAgICAgICAgICAgcmVzdWx0Mi5wdXNoKHN5bWJvbCk7XG4gICAgICAgICAgICAgIHRvVmlzaXQucHVzaCh7IHJlc3VsdDogY2hpbGRyZW4sIG5vZGU6IHZhbHVlTm9kZSB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGxpbWl0RXhjZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB3aGlsZSAobmV4dFRvVmlzaXQgPCB0b1Zpc2l0Lmxlbmd0aCkge1xuICAgICAgdmFyIG5leHQgPSB0b1Zpc2l0W25leHRUb1Zpc2l0KytdO1xuICAgICAgY29sbGVjdE91dGxpbmVFbnRyaWVzKG5leHQubm9kZSwgbmV4dC5yZXN1bHQpO1xuICAgIH1cbiAgICBpZiAobGltaXRFeGNlZWRlZCAmJiBjb250ZXh0ICYmIGNvbnRleHQub25SZXN1bHRMaW1pdEV4Y2VlZGVkKSB7XG4gICAgICBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZChyZXNvdXJjZVN0cmluZyk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIEpTT05Eb2N1bWVudFN5bWJvbHMyLnByb3RvdHlwZS5nZXRTeW1ib2xLaW5kID0gZnVuY3Rpb24obm9kZVR5cGUpIHtcbiAgICBzd2l0Y2ggKG5vZGVUeXBlKSB7XG4gICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIHJldHVybiBTeW1ib2xLaW5kLk1vZHVsZTtcbiAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuU3RyaW5nO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5OdW1iZXI7XG4gICAgICBjYXNlIFwiYXJyYXlcIjpcbiAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuQXJyYXk7XG4gICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICByZXR1cm4gU3ltYm9sS2luZC5Cb29sZWFuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIFN5bWJvbEtpbmQuVmFyaWFibGU7XG4gICAgfVxuICB9O1xuICBKU09ORG9jdW1lbnRTeW1ib2xzMi5wcm90b3R5cGUuZ2V0S2V5TGFiZWwgPSBmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgIHZhciBuYW1lID0gcHJvcGVydHkua2V5Tm9kZS52YWx1ZTtcbiAgICBpZiAobmFtZSkge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcbl0vZywgXCJcXHUyMUI1XCIpO1xuICAgIH1cbiAgICBpZiAobmFtZSAmJiBuYW1lLnRyaW0oKSkge1xuICAgICAgcmV0dXJuIG5hbWU7XG4gICAgfVxuICAgIHJldHVybiAnXCInLmNvbmNhdChuYW1lLCAnXCInKTtcbiAgfTtcbiAgSlNPTkRvY3VtZW50U3ltYm9sczIucHJvdG90eXBlLmdldERldGFpbCA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmIChub2RlLnR5cGUgPT09IFwiYm9vbGVhblwiIHx8IG5vZGUudHlwZSA9PT0gXCJudW1iZXJcIiB8fCBub2RlLnR5cGUgPT09IFwibnVsbFwiIHx8IG5vZGUudHlwZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIFN0cmluZyhub2RlLnZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJhcnJheVwiKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLmxlbmd0aCA/IHZvaWQgMCA6IFwiW11cIjtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHJldHVybiBub2RlLmNoaWxkcmVuLmxlbmd0aCA/IHZvaWQgMCA6IFwie31cIjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfTtcbiAgSlNPTkRvY3VtZW50U3ltYm9sczIucHJvdG90eXBlLmZpbmREb2N1bWVudENvbG9ycyA9IGZ1bmN0aW9uKGRvY3VtZW50LCBkb2MsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5zY2hlbWFTZXJ2aWNlLmdldFNjaGVtYUZvclJlc291cmNlKGRvY3VtZW50LnVyaSwgZG9jKS50aGVuKGZ1bmN0aW9uKHNjaGVtYSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKHNjaGVtYSkge1xuICAgICAgICB2YXIgbGltaXQgPSBjb250ZXh0ICYmIHR5cGVvZiBjb250ZXh0LnJlc3VsdExpbWl0ID09PSBcIm51bWJlclwiID8gY29udGV4dC5yZXN1bHRMaW1pdCA6IE51bWJlci5NQVhfVkFMVUU7XG4gICAgICAgIHZhciBtYXRjaGluZ1NjaGVtYXMgPSBkb2MuZ2V0TWF0Y2hpbmdTY2hlbWFzKHNjaGVtYS5zY2hlbWEpO1xuICAgICAgICB2YXIgdmlzaXRlZE5vZGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBtYXRjaGluZ1NjaGVtYXNfMSA9IG1hdGNoaW5nU2NoZW1hczsgX2kgPCBtYXRjaGluZ1NjaGVtYXNfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICB2YXIgcyA9IG1hdGNoaW5nU2NoZW1hc18xW19pXTtcbiAgICAgICAgICBpZiAoIXMuaW52ZXJ0ZWQgJiYgcy5zY2hlbWEgJiYgKHMuc2NoZW1hLmZvcm1hdCA9PT0gXCJjb2xvclwiIHx8IHMuc2NoZW1hLmZvcm1hdCA9PT0gXCJjb2xvci1oZXhcIikgJiYgcy5ub2RlICYmIHMubm9kZS50eXBlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB2YXIgbm9kZUlkID0gU3RyaW5nKHMubm9kZS5vZmZzZXQpO1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkTm9kZVtub2RlSWRdKSB7XG4gICAgICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yRnJvbUhleChnZXROb2RlVmFsdWUzKHMubm9kZSkpO1xuICAgICAgICAgICAgICBpZiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2UgPSBnZXRSYW5nZShkb2N1bWVudCwgcy5ub2RlKTtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGNvbG9yLCByYW5nZSB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2aXNpdGVkTm9kZVtub2RlSWRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgbGltaXQtLTtcbiAgICAgICAgICAgICAgaWYgKGxpbWl0IDw9IDApIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm9uUmVzdWx0TGltaXRFeGNlZWRlZCkge1xuICAgICAgICAgICAgICAgICAgY29udGV4dC5vblJlc3VsdExpbWl0RXhjZWVkZWQoZG9jdW1lbnQudXJpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcbiAgfTtcbiAgSlNPTkRvY3VtZW50U3ltYm9sczIucHJvdG90eXBlLmdldENvbG9yUHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uKGRvY3VtZW50LCBkb2MsIGNvbG9yLCByYW5nZSkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgcmVkMjU2ID0gTWF0aC5yb3VuZChjb2xvci5yZWQgKiAyNTUpLCBncmVlbjI1NiA9IE1hdGgucm91bmQoY29sb3IuZ3JlZW4gKiAyNTUpLCBibHVlMjU2ID0gTWF0aC5yb3VuZChjb2xvci5ibHVlICogMjU1KTtcbiAgICBmdW5jdGlvbiB0b1R3b0RpZ2l0SGV4KG4pIHtcbiAgICAgIHZhciByID0gbi50b1N0cmluZygxNik7XG4gICAgICByZXR1cm4gci5sZW5ndGggIT09IDIgPyBcIjBcIiArIHIgOiByO1xuICAgIH1cbiAgICB2YXIgbGFiZWw7XG4gICAgaWYgKGNvbG9yLmFscGhhID09PSAxKSB7XG4gICAgICBsYWJlbCA9IFwiI1wiLmNvbmNhdCh0b1R3b0RpZ2l0SGV4KHJlZDI1NikpLmNvbmNhdCh0b1R3b0RpZ2l0SGV4KGdyZWVuMjU2KSkuY29uY2F0KHRvVHdvRGlnaXRIZXgoYmx1ZTI1NikpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsYWJlbCA9IFwiI1wiLmNvbmNhdCh0b1R3b0RpZ2l0SGV4KHJlZDI1NikpLmNvbmNhdCh0b1R3b0RpZ2l0SGV4KGdyZWVuMjU2KSkuY29uY2F0KHRvVHdvRGlnaXRIZXgoYmx1ZTI1NikpLmNvbmNhdCh0b1R3b0RpZ2l0SGV4KE1hdGgucm91bmQoY29sb3IuYWxwaGEgKiAyNTUpKSk7XG4gICAgfVxuICAgIHJlc3VsdC5wdXNoKHsgbGFiZWwsIHRleHRFZGl0OiBUZXh0RWRpdC5yZXBsYWNlKHJhbmdlLCBKU09OLnN0cmluZ2lmeShsYWJlbCkpIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIHJldHVybiBKU09ORG9jdW1lbnRTeW1ib2xzMjtcbn0oKTtcbmZ1bmN0aW9uIGdldFJhbmdlKGRvY3VtZW50LCBub2RlKSB7XG4gIHJldHVybiBSYW5nZS5jcmVhdGUoZG9jdW1lbnQucG9zaXRpb25BdChub2RlLm9mZnNldCksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xufVxuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vc2VydmljZXMvY29uZmlndXJhdGlvbi5qc1xudmFyIGxvY2FsaXplNSA9IGxvYWRNZXNzYWdlQnVuZGxlKCk7XG52YXIgc2NoZW1hQ29udHJpYnV0aW9ucyA9IHtcbiAgc2NoZW1hQXNzb2NpYXRpb25zOiBbXSxcbiAgc2NoZW1hczoge1xuICAgIFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9zY2hlbWEjXCI6IHtcbiAgICAgICRyZWY6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCJcbiAgICB9LFxuICAgIFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCI6IHtcbiAgICAgIFwiJHNjaGVtYVwiOiBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDQvc2NoZW1hI1wiLFxuICAgICAgXCJkZWZpbml0aW9uc1wiOiB7XG4gICAgICAgIFwic2NoZW1hQXJyYXlcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImFycmF5XCIsXG4gICAgICAgICAgXCJtaW5JdGVtc1wiOiAxLFxuICAgICAgICAgIFwiaXRlbXNcIjoge1xuICAgICAgICAgICAgXCIkcmVmXCI6IFwiI1wiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcInBvc2l0aXZlSW50ZWdlclwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxuICAgICAgICAgIFwibWluaW11bVwiOiAwXG4gICAgICAgIH0sXG4gICAgICAgIFwicG9zaXRpdmVJbnRlZ2VyRGVmYXVsdDBcIjoge1xuICAgICAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlclwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcImRlZmF1bHRcIjogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzaW1wbGVUeXBlc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJlbnVtXCI6IFtcbiAgICAgICAgICAgIFwiYXJyYXlcIixcbiAgICAgICAgICAgIFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgXCJpbnRlZ2VyXCIsXG4gICAgICAgICAgICBcIm51bGxcIixcbiAgICAgICAgICAgIFwibnVtYmVyXCIsXG4gICAgICAgICAgICBcIm9iamVjdFwiLFxuICAgICAgICAgICAgXCJzdHJpbmdcIlxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJzdHJpbmdBcnJheVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcIm1pbkl0ZW1zXCI6IDEsXG4gICAgICAgICAgXCJ1bmlxdWVJdGVtc1wiOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgIFwiaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZm9ybWF0XCI6IFwidXJpXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCIkc2NoZW1hXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImZvcm1hdFwiOiBcInVyaVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFwiOiB7fSxcbiAgICAgICAgXCJtdWx0aXBsZU9mXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcbiAgICAgICAgICBcIm1pbmltdW1cIjogMCxcbiAgICAgICAgICBcImV4Y2x1c2l2ZU1pbmltdW1cIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcIm1heGltdW1cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhjbHVzaXZlTWF4aW11bVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBcIm1pbmltdW1cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhjbHVzaXZlTWluaW11bVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiLFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBcIm1heExlbmd0aFwiOiB7XG4gICAgICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluTGVuZ3RoXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXJEZWZhdWx0MFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInBhdHRlcm5cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZm9ybWF0XCI6IFwicmVnZXhcIlxuICAgICAgICB9LFxuICAgICAgICBcImFkZGl0aW9uYWxJdGVtc1wiOiB7XG4gICAgICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiI1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImRlZmF1bHRcIjoge31cbiAgICAgICAgfSxcbiAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiNcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBcImRlZmF1bHRcIjoge31cbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhJdGVtc1wiOiB7XG4gICAgICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvcG9zaXRpdmVJbnRlZ2VyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluSXRlbXNcIjoge1xuICAgICAgICAgIFwiYWxsT2ZcIjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3Bvc2l0aXZlSW50ZWdlckRlZmF1bHQwXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwidW5pcXVlSXRlbXNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImJvb2xlYW5cIixcbiAgICAgICAgICBcImRlZmF1bHRcIjogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXJcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJtaW5Qcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9wb3NpdGl2ZUludGVnZXJEZWZhdWx0MFwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInJlcXVpcmVkXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zdHJpbmdBcnJheVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcImFueU9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYm9vbGVhblwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdLFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiB7fVxuICAgICAgICB9LFxuICAgICAgICBcImRlZmluaXRpb25zXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwiJHJlZlwiOiBcIiNcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIFwicHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXG4gICAgICAgICAgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiOiB7XG4gICAgICAgICAgICBcIiRyZWZcIjogXCIjXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIFwiZGVmYXVsdFwiOiB7fVxuICAgICAgICB9LFxuICAgICAgICBcInBhdHRlcm5Qcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwiJHJlZlwiOiBcIiNcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICAgIFwiYW55T2ZcIjogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiI1wiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3N0cmluZ0FycmF5XCJcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJlbnVtXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwibWluSXRlbXNcIjogMSxcbiAgICAgICAgICBcInVuaXF1ZUl0ZW1zXCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJ0eXBlXCI6IHtcbiAgICAgICAgICBcImFueU9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zaW1wbGVUeXBlc1wiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgICAgICBcIml0ZW1zXCI6IHtcbiAgICAgICAgICAgICAgICBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NpbXBsZVR5cGVzXCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgXCJtaW5JdGVtc1wiOiAxLFxuICAgICAgICAgICAgICBcInVuaXF1ZUl0ZW1zXCI6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIFwiZm9ybWF0XCI6IHtcbiAgICAgICAgICBcImFueU9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgIFwiZW51bVwiOiBbXG4gICAgICAgICAgICAgICAgXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgICAgICBcInVyaVwiLFxuICAgICAgICAgICAgICAgIFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICBcImhvc3RuYW1lXCIsXG4gICAgICAgICAgICAgICAgXCJpcHY0XCIsXG4gICAgICAgICAgICAgICAgXCJpcHY2XCIsXG4gICAgICAgICAgICAgICAgXCJyZWdleFwiXG4gICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcImFsbE9mXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcImFueU9mXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIm9uZU9mXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcIm5vdFwiOiB7XG4gICAgICAgICAgXCJhbGxPZlwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIFwiJHJlZlwiOiBcIiNcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiZGVwZW5kZW5jaWVzXCI6IHtcbiAgICAgICAgXCJleGNsdXNpdmVNYXhpbXVtXCI6IFtcbiAgICAgICAgICBcIm1heGltdW1cIlxuICAgICAgICBdLFxuICAgICAgICBcImV4Y2x1c2l2ZU1pbmltdW1cIjogW1xuICAgICAgICAgIFwibWluaW11bVwiXG4gICAgICAgIF1cbiAgICAgIH0sXG4gICAgICBcImRlZmF1bHRcIjoge31cbiAgICB9LFxuICAgIFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI6IHtcbiAgICAgIFwiZGVmaW5pdGlvbnNcIjoge1xuICAgICAgICBcInNjaGVtYUFycmF5XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwibWluSXRlbXNcIjogMSxcbiAgICAgICAgICBcIml0ZW1zXCI6IHsgXCIkcmVmXCI6IFwiI1wiIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCJub25OZWdhdGl2ZUludGVnZXJcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImludGVnZXJcIixcbiAgICAgICAgICBcIm1pbmltdW1cIjogMFxuICAgICAgICB9LFxuICAgICAgICBcIm5vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwXCI6IHtcbiAgICAgICAgICBcImFsbE9mXCI6IFtcbiAgICAgICAgICAgIHsgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXJcIiB9LFxuICAgICAgICAgICAgeyBcImRlZmF1bHRcIjogMCB9XG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInNpbXBsZVR5cGVzXCI6IHtcbiAgICAgICAgICBcImVudW1cIjogW1xuICAgICAgICAgICAgXCJhcnJheVwiLFxuICAgICAgICAgICAgXCJib29sZWFuXCIsXG4gICAgICAgICAgICBcImludGVnZXJcIixcbiAgICAgICAgICAgIFwibnVsbFwiLFxuICAgICAgICAgICAgXCJudW1iZXJcIixcbiAgICAgICAgICAgIFwib2JqZWN0XCIsXG4gICAgICAgICAgICBcInN0cmluZ1wiXG4gICAgICAgICAgXVxuICAgICAgICB9LFxuICAgICAgICBcInN0cmluZ0FycmF5XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJhcnJheVwiLFxuICAgICAgICAgIFwiaXRlbXNcIjogeyBcInR5cGVcIjogXCJzdHJpbmdcIiB9LFxuICAgICAgICAgIFwidW5pcXVlSXRlbXNcIjogdHJ1ZSxcbiAgICAgICAgICBcImRlZmF1bHRcIjogW11cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwidHlwZVwiOiBbXCJvYmplY3RcIiwgXCJib29sZWFuXCJdLFxuICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgXCIkaWRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZm9ybWF0XCI6IFwidXJpLXJlZmVyZW5jZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJHNjaGVtYVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwic3RyaW5nXCIsXG4gICAgICAgICAgXCJmb3JtYXRcIjogXCJ1cmlcIlxuICAgICAgICB9LFxuICAgICAgICBcIiRyZWZcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiLFxuICAgICAgICAgIFwiZm9ybWF0XCI6IFwidXJpLXJlZmVyZW5jZVwiXG4gICAgICAgIH0sXG4gICAgICAgIFwiJGNvbW1lbnRcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwidGl0bGVcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVzY3JpcHRpb25cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcInN0cmluZ1wiXG4gICAgICAgIH0sXG4gICAgICAgIFwiZGVmYXVsdFwiOiB0cnVlLFxuICAgICAgICBcInJlYWRPbmx5XCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIFwiZXhhbXBsZXNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcImFycmF5XCIsXG4gICAgICAgICAgXCJpdGVtc1wiOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIFwibXVsdGlwbGVPZlwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXG4gICAgICAgICAgXCJleGNsdXNpdmVNaW5pbXVtXCI6IDBcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhpbXVtXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIlxuICAgICAgICB9LFxuICAgICAgICBcImV4Y2x1c2l2ZU1heGltdW1cIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiXG4gICAgICAgIH0sXG4gICAgICAgIFwibWluaW11bVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJleGNsdXNpdmVNaW5pbXVtXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIlxuICAgICAgICB9LFxuICAgICAgICBcIm1heExlbmd0aFwiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvbm9uTmVnYXRpdmVJbnRlZ2VyXCIgfSxcbiAgICAgICAgXCJtaW5MZW5ndGhcIjogeyBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwXCIgfSxcbiAgICAgICAgXCJwYXR0ZXJuXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJzdHJpbmdcIixcbiAgICAgICAgICBcImZvcm1hdFwiOiBcInJlZ2V4XCJcbiAgICAgICAgfSxcbiAgICAgICAgXCJhZGRpdGlvbmFsSXRlbXNcIjogeyBcIiRyZWZcIjogXCIjXCIgfSxcbiAgICAgICAgXCJpdGVtc1wiOiB7XG4gICAgICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgICAgICB7IFwiJHJlZlwiOiBcIiNcIiB9LFxuICAgICAgICAgICAgeyBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5XCIgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgXCJtYXhJdGVtc1wiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvbm9uTmVnYXRpdmVJbnRlZ2VyXCIgfSxcbiAgICAgICAgXCJtaW5JdGVtc1wiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvbm9uTmVnYXRpdmVJbnRlZ2VyRGVmYXVsdDBcIiB9LFxuICAgICAgICBcInVuaXF1ZUl0ZW1zXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJib29sZWFuXCIsXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIFwiY29udGFpbnNcIjogeyBcIiRyZWZcIjogXCIjXCIgfSxcbiAgICAgICAgXCJtYXhQcm9wZXJ0aWVzXCI6IHsgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9ub25OZWdhdGl2ZUludGVnZXJcIiB9LFxuICAgICAgICBcIm1pblByb3BlcnRpZXNcIjogeyBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL25vbk5lZ2F0aXZlSW50ZWdlckRlZmF1bHQwXCIgfSxcbiAgICAgICAgXCJyZXF1aXJlZFwiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc3RyaW5nQXJyYXlcIiB9LFxuICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHsgXCIkcmVmXCI6IFwiI1wiIH0sXG4gICAgICAgIFwiZGVmaW5pdGlvbnNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogeyBcIiRyZWZcIjogXCIjXCIgfSxcbiAgICAgICAgICBcImRlZmF1bHRcIjoge31cbiAgICAgICAgfSxcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcbiAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcbiAgICAgICAgICBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCI6IHsgXCIkcmVmXCI6IFwiI1wiIH0sXG4gICAgICAgICAgXCJkZWZhdWx0XCI6IHt9XG4gICAgICAgIH0sXG4gICAgICAgIFwicGF0dGVyblByb3BlcnRpZXNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjogeyBcIiRyZWZcIjogXCIjXCIgfSxcbiAgICAgICAgICBcInByb3BlcnR5TmFtZXNcIjogeyBcImZvcm1hdFwiOiBcInJlZ2V4XCIgfSxcbiAgICAgICAgICBcImRlZmF1bHRcIjoge31cbiAgICAgICAgfSxcbiAgICAgICAgXCJkZXBlbmRlbmNpZXNcIjoge1xuICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxuICAgICAgICAgIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIjoge1xuICAgICAgICAgICAgXCJhbnlPZlwiOiBbXG4gICAgICAgICAgICAgIHsgXCIkcmVmXCI6IFwiI1wiIH0sXG4gICAgICAgICAgICAgIHsgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zdHJpbmdBcnJheVwiIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwicHJvcGVydHlOYW1lc1wiOiB7IFwiJHJlZlwiOiBcIiNcIiB9LFxuICAgICAgICBcImNvbnN0XCI6IHRydWUsXG4gICAgICAgIFwiZW51bVwiOiB7XG4gICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICBcIml0ZW1zXCI6IHRydWUsXG4gICAgICAgICAgXCJtaW5JdGVtc1wiOiAxLFxuICAgICAgICAgIFwidW5pcXVlSXRlbXNcIjogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBcInR5cGVcIjoge1xuICAgICAgICAgIFwiYW55T2ZcIjogW1xuICAgICAgICAgICAgeyBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NpbXBsZVR5cGVzXCIgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgXCJpdGVtc1wiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc2ltcGxlVHlwZXNcIiB9LFxuICAgICAgICAgICAgICBcIm1pbkl0ZW1zXCI6IDEsXG4gICAgICAgICAgICAgIFwidW5pcXVlSXRlbXNcIjogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgXCJmb3JtYXRcIjogeyBcInR5cGVcIjogXCJzdHJpbmdcIiB9LFxuICAgICAgICBcImNvbnRlbnRNZWRpYVR5cGVcIjogeyBcInR5cGVcIjogXCJzdHJpbmdcIiB9LFxuICAgICAgICBcImNvbnRlbnRFbmNvZGluZ1wiOiB7IFwidHlwZVwiOiBcInN0cmluZ1wiIH0sXG4gICAgICAgIFwiaWZcIjogeyBcIiRyZWZcIjogXCIjXCIgfSxcbiAgICAgICAgXCJ0aGVuXCI6IHsgXCIkcmVmXCI6IFwiI1wiIH0sXG4gICAgICAgIFwiZWxzZVwiOiB7IFwiJHJlZlwiOiBcIiNcIiB9LFxuICAgICAgICBcImFsbE9mXCI6IHsgXCIkcmVmXCI6IFwiIy9kZWZpbml0aW9ucy9zY2hlbWFBcnJheVwiIH0sXG4gICAgICAgIFwiYW55T2ZcIjogeyBcIiRyZWZcIjogXCIjL2RlZmluaXRpb25zL3NjaGVtYUFycmF5XCIgfSxcbiAgICAgICAgXCJvbmVPZlwiOiB7IFwiJHJlZlwiOiBcIiMvZGVmaW5pdGlvbnMvc2NoZW1hQXJyYXlcIiB9LFxuICAgICAgICBcIm5vdFwiOiB7IFwiJHJlZlwiOiBcIiNcIiB9XG4gICAgICB9LFxuICAgICAgXCJkZWZhdWx0XCI6IHRydWVcbiAgICB9XG4gIH1cbn07XG52YXIgZGVzY3JpcHRpb25zID0ge1xuICBpZDogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uaWRcIiwgXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2NoZW1hLlwiKSxcbiAgJHNjaGVtYTogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uJHNjaGVtYVwiLCBcIlRoZSBzY2hlbWEgdG8gdmVyaWZ5IHRoaXMgZG9jdW1lbnQgYWdhaW5zdC5cIiksXG4gIHRpdGxlOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi50aXRsZVwiLCBcIkEgZGVzY3JpcHRpdmUgdGl0bGUgb2YgdGhlIGVsZW1lbnQuXCIpLFxuICBkZXNjcmlwdGlvbjogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uZGVzY3JpcHRpb25cIiwgXCJBIGxvbmcgZGVzY3JpcHRpb24gb2YgdGhlIGVsZW1lbnQuIFVzZWQgaW4gaG92ZXIgbWVudXMgYW5kIHN1Z2dlc3Rpb25zLlwiKSxcbiAgZGVmYXVsdDogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uZGVmYXVsdFwiLCBcIkEgZGVmYXVsdCB2YWx1ZS4gVXNlZCBieSBzdWdnZXN0aW9ucy5cIiksXG4gIG11bHRpcGxlT2Y6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLm11bHRpcGxlT2ZcIiwgXCJBIG51bWJlciB0aGF0IHNob3VsZCBjbGVhbmx5IGRpdmlkZSB0aGUgY3VycmVudCB2YWx1ZSAoaS5lLiBoYXZlIG5vIHJlbWFpbmRlcikuXCIpLFxuICBtYXhpbXVtOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5tYXhpbXVtXCIsIFwiVGhlIG1heGltdW0gbnVtZXJpY2FsIHZhbHVlLCBpbmNsdXNpdmUgYnkgZGVmYXVsdC5cIiksXG4gIGV4Y2x1c2l2ZU1heGltdW06IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmV4Y2x1c2l2ZU1heGltdW1cIiwgXCJNYWtlcyB0aGUgbWF4aW11bSBwcm9wZXJ0eSBleGNsdXNpdmUuXCIpLFxuICBtaW5pbXVtOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5taW5pbXVtXCIsIFwiVGhlIG1pbmltdW0gbnVtZXJpY2FsIHZhbHVlLCBpbmNsdXNpdmUgYnkgZGVmYXVsdC5cIiksXG4gIGV4Y2x1c2l2ZU1pbmltdW06IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmV4Y2x1c2l2ZU1pbmludW1cIiwgXCJNYWtlcyB0aGUgbWluaW11bSBwcm9wZXJ0eSBleGNsdXNpdmUuXCIpLFxuICBtYXhMZW5ndGg6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLm1heExlbmd0aFwiLCBcIlRoZSBtYXhpbXVtIGxlbmd0aCBvZiBhIHN0cmluZy5cIiksXG4gIG1pbkxlbmd0aDogbG9jYWxpemU1KFwic2NoZW1hLmpzb24ubWluTGVuZ3RoXCIsIFwiVGhlIG1pbmltdW0gbGVuZ3RoIG9mIGEgc3RyaW5nLlwiKSxcbiAgcGF0dGVybjogbG9jYWxpemU1KFwic2NoZW1hLmpzb24ucGF0dGVyblwiLCBcIkEgcmVndWxhciBleHByZXNzaW9uIHRvIG1hdGNoIHRoZSBzdHJpbmcgYWdhaW5zdC4gSXQgaXMgbm90IGltcGxpY2l0bHkgYW5jaG9yZWQuXCIpLFxuICBhZGRpdGlvbmFsSXRlbXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmFkZGl0aW9uYWxJdGVtc1wiLCBcIkZvciBhcnJheXMsIG9ubHkgd2hlbiBpdGVtcyBpcyBzZXQgYXMgYW4gYXJyYXkuIElmIGl0IGlzIGEgc2NoZW1hLCB0aGVuIHRoaXMgc2NoZW1hIHZhbGlkYXRlcyBpdGVtcyBhZnRlciB0aGUgb25lcyBzcGVjaWZpZWQgYnkgdGhlIGl0ZW1zIGFycmF5LiBJZiBpdCBpcyBmYWxzZSwgdGhlbiBhZGRpdGlvbmFsIGl0ZW1zIHdpbGwgY2F1c2UgdmFsaWRhdGlvbiB0byBmYWlsLlwiKSxcbiAgaXRlbXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLml0ZW1zXCIsIFwiRm9yIGFycmF5cy4gQ2FuIGVpdGhlciBiZSBhIHNjaGVtYSB0byB2YWxpZGF0ZSBldmVyeSBlbGVtZW50IGFnYWluc3Qgb3IgYW4gYXJyYXkgb2Ygc2NoZW1hcyB0byB2YWxpZGF0ZSBlYWNoIGl0ZW0gYWdhaW5zdCBpbiBvcmRlciAodGhlIGZpcnN0IHNjaGVtYSB3aWxsIHZhbGlkYXRlIHRoZSBmaXJzdCBlbGVtZW50LCB0aGUgc2Vjb25kIHNjaGVtYSB3aWxsIHZhbGlkYXRlIHRoZSBzZWNvbmQgZWxlbWVudCwgYW5kIHNvIG9uLlwiKSxcbiAgbWF4SXRlbXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLm1heEl0ZW1zXCIsIFwiVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIGluc2lkZSBhbiBhcnJheS4gSW5jbHVzaXZlLlwiKSxcbiAgbWluSXRlbXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLm1pbkl0ZW1zXCIsIFwiVGhlIG1pbmltdW0gbnVtYmVyIG9mIGl0ZW1zIHRoYXQgY2FuIGJlIGluc2lkZSBhbiBhcnJheS4gSW5jbHVzaXZlLlwiKSxcbiAgdW5pcXVlSXRlbXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLnVuaXF1ZUl0ZW1zXCIsIFwiSWYgYWxsIG9mIHRoZSBpdGVtcyBpbiB0aGUgYXJyYXkgbXVzdCBiZSB1bmlxdWUuIERlZmF1bHRzIHRvIGZhbHNlLlwiKSxcbiAgbWF4UHJvcGVydGllczogbG9jYWxpemU1KFwic2NoZW1hLmpzb24ubWF4UHJvcGVydGllc1wiLCBcIlRoZSBtYXhpbXVtIG51bWJlciBvZiBwcm9wZXJ0aWVzIGFuIG9iamVjdCBjYW4gaGF2ZS4gSW5jbHVzaXZlLlwiKSxcbiAgbWluUHJvcGVydGllczogbG9jYWxpemU1KFwic2NoZW1hLmpzb24ubWluUHJvcGVydGllc1wiLCBcIlRoZSBtaW5pbXVtIG51bWJlciBvZiBwcm9wZXJ0aWVzIGFuIG9iamVjdCBjYW4gaGF2ZS4gSW5jbHVzaXZlLlwiKSxcbiAgcmVxdWlyZWQ6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLnJlcXVpcmVkXCIsIFwiQW4gYXJyYXkgb2Ygc3RyaW5ncyB0aGF0IGxpc3RzIHRoZSBuYW1lcyBvZiBhbGwgcHJvcGVydGllcyByZXF1aXJlZCBvbiB0aGlzIG9iamVjdC5cIiksXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5hZGRpdGlvbmFsUHJvcGVydGllc1wiLCBcIkVpdGhlciBhIHNjaGVtYSBvciBhIGJvb2xlYW4uIElmIGEgc2NoZW1hLCB0aGVuIHVzZWQgdG8gdmFsaWRhdGUgYWxsIHByb3BlcnRpZXMgbm90IG1hdGNoZWQgYnkgJ3Byb3BlcnRpZXMnIG9yICdwYXR0ZXJuUHJvcGVydGllcycuIElmIGZhbHNlLCB0aGVuIGFueSBwcm9wZXJ0aWVzIG5vdCBtYXRjaGVkIGJ5IGVpdGhlciB3aWxsIGNhdXNlIHRoaXMgc2NoZW1hIHRvIGZhaWwuXCIpLFxuICBkZWZpbml0aW9uczogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uZGVmaW5pdGlvbnNcIiwgXCJOb3QgdXNlZCBmb3IgdmFsaWRhdGlvbi4gUGxhY2Ugc3Vic2NoZW1hcyBoZXJlIHRoYXQgeW91IHdpc2ggdG8gcmVmZXJlbmNlIGlubGluZSB3aXRoICRyZWYuXCIpLFxuICBwcm9wZXJ0aWVzOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5wcm9wZXJ0aWVzXCIsIFwiQSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gc2NoZW1hcyBmb3IgZWFjaCBwcm9wZXJ0eS5cIiksXG4gIHBhdHRlcm5Qcm9wZXJ0aWVzOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5wYXR0ZXJuUHJvcGVydGllc1wiLCBcIkEgbWFwIG9mIHJlZ3VsYXIgZXhwcmVzc2lvbnMgb24gcHJvcGVydHkgbmFtZXMgdG8gc2NoZW1hcyBmb3IgbWF0Y2hpbmcgcHJvcGVydGllcy5cIiksXG4gIGRlcGVuZGVuY2llczogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uZGVwZW5kZW5jaWVzXCIsIFwiQSBtYXAgb2YgcHJvcGVydHkgbmFtZXMgdG8gZWl0aGVyIGFuIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzIG9yIGEgc2NoZW1hLiBBbiBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBtZWFucyB0aGUgcHJvcGVydHkgbmFtZWQgaW4gdGhlIGtleSBkZXBlbmRzIG9uIHRoZSBwcm9wZXJ0aWVzIGluIHRoZSBhcnJheSBiZWluZyBwcmVzZW50IGluIHRoZSBvYmplY3QgaW4gb3JkZXIgdG8gYmUgdmFsaWQuIElmIHRoZSB2YWx1ZSBpcyBhIHNjaGVtYSwgdGhlbiB0aGUgc2NoZW1hIGlzIG9ubHkgYXBwbGllZCB0byB0aGUgb2JqZWN0IGlmIHRoZSBwcm9wZXJ0eSBpbiB0aGUga2V5IGV4aXN0cyBvbiB0aGUgb2JqZWN0LlwiKSxcbiAgZW51bTogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uZW51bVwiLCBcIlRoZSBzZXQgb2YgbGl0ZXJhbCB2YWx1ZXMgdGhhdCBhcmUgdmFsaWQuXCIpLFxuICB0eXBlOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi50eXBlXCIsIFwiRWl0aGVyIGEgc3RyaW5nIG9mIG9uZSBvZiB0aGUgYmFzaWMgc2NoZW1hIHR5cGVzIChudW1iZXIsIGludGVnZXIsIG51bGwsIGFycmF5LCBvYmplY3QsIGJvb2xlYW4sIHN0cmluZykgb3IgYW4gYXJyYXkgb2Ygc3RyaW5ncyBzcGVjaWZ5aW5nIGEgc3Vic2V0IG9mIHRob3NlIHR5cGVzLlwiKSxcbiAgZm9ybWF0OiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5mb3JtYXRcIiwgXCJEZXNjcmliZXMgdGhlIGZvcm1hdCBleHBlY3RlZCBmb3IgdGhlIHZhbHVlLlwiKSxcbiAgYWxsT2Y6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmFsbE9mXCIsIFwiQW4gYXJyYXkgb2Ygc2NoZW1hcywgYWxsIG9mIHdoaWNoIG11c3QgbWF0Y2guXCIpLFxuICBhbnlPZjogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uYW55T2ZcIiwgXCJBbiBhcnJheSBvZiBzY2hlbWFzLCB3aGVyZSBhdCBsZWFzdCBvbmUgbXVzdCBtYXRjaC5cIiksXG4gIG9uZU9mOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5vbmVPZlwiLCBcIkFuIGFycmF5IG9mIHNjaGVtYXMsIGV4YWN0bHkgb25lIG9mIHdoaWNoIG11c3QgbWF0Y2guXCIpLFxuICBub3Q6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLm5vdFwiLCBcIkEgc2NoZW1hIHdoaWNoIG11c3Qgbm90IG1hdGNoLlwiKSxcbiAgJGlkOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi4kaWRcIiwgXCJBIHVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgc2NoZW1hLlwiKSxcbiAgJHJlZjogbG9jYWxpemU1KFwic2NoZW1hLmpzb24uJHJlZlwiLCBcIlJlZmVyZW5jZSBhIGRlZmluaXRpb24gaG9zdGVkIG9uIGFueSBsb2NhdGlvbi5cIiksXG4gICRjb21tZW50OiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi4kY29tbWVudFwiLCBcIkNvbW1lbnRzIGZyb20gc2NoZW1hIGF1dGhvcnMgdG8gcmVhZGVycyBvciBtYWludGFpbmVycyBvZiB0aGUgc2NoZW1hLlwiKSxcbiAgcmVhZE9ubHk6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLnJlYWRPbmx5XCIsIFwiSW5kaWNhdGVzIHRoYXQgdGhlIHZhbHVlIG9mIHRoZSBpbnN0YW5jZSBpcyBtYW5hZ2VkIGV4Y2x1c2l2ZWx5IGJ5IHRoZSBvd25pbmcgYXV0aG9yaXR5LlwiKSxcbiAgZXhhbXBsZXM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmV4YW1wbGVzXCIsIFwiU2FtcGxlIEpTT04gdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCBhIHBhcnRpY3VsYXIgc2NoZW1hLCBmb3IgdGhlIHB1cnBvc2Ugb2YgaWxsdXN0cmF0aW5nIHVzYWdlLlwiKSxcbiAgY29udGFpbnM6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmNvbnRhaW5zXCIsICdBbiBhcnJheSBpbnN0YW5jZSBpcyB2YWxpZCBhZ2FpbnN0IFwiY29udGFpbnNcIiBpZiBhdCBsZWFzdCBvbmUgb2YgaXRzIGVsZW1lbnRzIGlzIHZhbGlkIGFnYWluc3QgdGhlIGdpdmVuIHNjaGVtYS4nKSxcbiAgcHJvcGVydHlOYW1lczogbG9jYWxpemU1KFwic2NoZW1hLmpzb24ucHJvcGVydHlOYW1lc1wiLCBcIklmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QsIHRoaXMga2V5d29yZCB2YWxpZGF0ZXMgaWYgZXZlcnkgcHJvcGVydHkgbmFtZSBpbiB0aGUgaW5zdGFuY2UgdmFsaWRhdGVzIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYS5cIiksXG4gIGNvbnN0OiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5jb25zdFwiLCBcIkFuIGluc3RhbmNlIHZhbGlkYXRlcyBzdWNjZXNzZnVsbHkgYWdhaW5zdCB0aGlzIGtleXdvcmQgaWYgaXRzIHZhbHVlIGlzIGVxdWFsIHRvIHRoZSB2YWx1ZSBvZiB0aGUga2V5d29yZC5cIiksXG4gIGNvbnRlbnRNZWRpYVR5cGU6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmNvbnRlbnRNZWRpYVR5cGVcIiwgXCJEZXNjcmliZXMgdGhlIG1lZGlhIHR5cGUgb2YgYSBzdHJpbmcgcHJvcGVydHkuXCIpLFxuICBjb250ZW50RW5jb2Rpbmc6IGxvY2FsaXplNShcInNjaGVtYS5qc29uLmNvbnRlbnRFbmNvZGluZ1wiLCBcIkRlc2NyaWJlcyB0aGUgY29udGVudCBlbmNvZGluZyBvZiBhIHN0cmluZyBwcm9wZXJ0eS5cIiksXG4gIGlmOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5pZlwiLCAnVGhlIHZhbGlkYXRpb24gb3V0Y29tZSBvZiB0aGUgXCJpZlwiIHN1YnNjaGVtYSBjb250cm9scyB3aGljaCBvZiB0aGUgXCJ0aGVuXCIgb3IgXCJlbHNlXCIga2V5d29yZHMgYXJlIGV2YWx1YXRlZC4nKSxcbiAgdGhlbjogbG9jYWxpemU1KFwic2NoZW1hLmpzb24udGhlblwiLCAnVGhlIFwiaWZcIiBzdWJzY2hlbWEgaXMgdXNlZCBmb3IgdmFsaWRhdGlvbiB3aGVuIHRoZSBcImlmXCIgc3Vic2NoZW1hIHN1Y2NlZWRzLicpLFxuICBlbHNlOiBsb2NhbGl6ZTUoXCJzY2hlbWEuanNvbi5lbHNlXCIsICdUaGUgXCJlbHNlXCIgc3Vic2NoZW1hIGlzIHVzZWQgZm9yIHZhbGlkYXRpb24gd2hlbiB0aGUgXCJpZlwiIHN1YnNjaGVtYSBmYWlscy4nKVxufTtcbmZvciAoc2NoZW1hTmFtZSBpbiBzY2hlbWFDb250cmlidXRpb25zLnNjaGVtYXMpIHtcbiAgc2NoZW1hID0gc2NoZW1hQ29udHJpYnV0aW9ucy5zY2hlbWFzW3NjaGVtYU5hbWVdO1xuICBmb3IgKHByb3BlcnR5IGluIHNjaGVtYS5wcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydHlPYmplY3QgPSBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgaWYgKHR5cGVvZiBwcm9wZXJ0eU9iamVjdCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHByb3BlcnR5T2JqZWN0ID0gc2NoZW1hLnByb3BlcnRpZXNbcHJvcGVydHldID0ge307XG4gICAgfVxuICAgIGRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb25zW3Byb3BlcnR5XTtcbiAgICBpZiAoZGVzY3JpcHRpb24pIHtcbiAgICAgIHByb3BlcnR5T2JqZWN0W1wiZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5sb2coXCJcIi5jb25jYXQocHJvcGVydHksIFwiOiBsb2NhbGl6ZSgnc2NoZW1hLmpzb24uXCIpLmNvbmNhdChwcm9wZXJ0eSwgYCcsIFwiXCIpYCkpO1xuICAgIH1cbiAgfVxufVxudmFyIHNjaGVtYTtcbnZhciBwcm9wZXJ0eU9iamVjdDtcbnZhciBkZXNjcmlwdGlvbjtcbnZhciBwcm9wZXJ0eTtcbnZhciBzY2hlbWFOYW1lO1xuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLXVyaS9saWIvZXNtL2luZGV4LmpzXG52YXIgTElCO1xuTElCID0gKCgpID0+IHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciB0ID0geyA0NzA6ICh0MikgPT4ge1xuICAgIGZ1bmN0aW9uIGUyKHQzKSB7XG4gICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgdDMpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXRoIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkIFwiICsgSlNPTi5zdHJpbmdpZnkodDMpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcjIodDMsIGUzKSB7XG4gICAgICBmb3IgKHZhciByMywgbjIgPSBcIlwiLCBvID0gMCwgaSA9IC0xLCBhMiA9IDAsIGggPSAwOyBoIDw9IHQzLmxlbmd0aDsgKytoKSB7XG4gICAgICAgIGlmIChoIDwgdDMubGVuZ3RoKVxuICAgICAgICAgIHIzID0gdDMuY2hhckNvZGVBdChoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgaWYgKDQ3ID09PSByMylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIHIzID0gNDc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKDQ3ID09PSByMykge1xuICAgICAgICAgIGlmIChpID09PSBoIC0gMSB8fCAxID09PSBhMilcbiAgICAgICAgICAgIDtcbiAgICAgICAgICBlbHNlIGlmIChpICE9PSBoIC0gMSAmJiAyID09PSBhMikge1xuICAgICAgICAgICAgaWYgKG4yLmxlbmd0aCA8IDIgfHwgMiAhPT0gbyB8fCA0NiAhPT0gbjIuY2hhckNvZGVBdChuMi5sZW5ndGggLSAxKSB8fCA0NiAhPT0gbjIuY2hhckNvZGVBdChuMi5sZW5ndGggLSAyKSkge1xuICAgICAgICAgICAgICBpZiAobjIubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgIHZhciBzID0gbjIubGFzdEluZGV4T2YoXCIvXCIpO1xuICAgICAgICAgICAgICAgIGlmIChzICE9PSBuMi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgICAtMSA9PT0gcyA/IChuMiA9IFwiXCIsIG8gPSAwKSA6IG8gPSAobjIgPSBuMi5zbGljZSgwLCBzKSkubGVuZ3RoIC0gMSAtIG4yLmxhc3RJbmRleE9mKFwiL1wiKSwgaSA9IGgsIGEyID0gMDtcbiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmICgyID09PSBuMi5sZW5ndGggfHwgMSA9PT0gbjIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbjIgPSBcIlwiLCBvID0gMCwgaSA9IGgsIGEyID0gMDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZTMgJiYgKG4yLmxlbmd0aCA+IDAgPyBuMiArPSBcIi8uLlwiIDogbjIgPSBcIi4uXCIsIG8gPSAyKTtcbiAgICAgICAgICB9IGVsc2VcbiAgICAgICAgICAgIG4yLmxlbmd0aCA+IDAgPyBuMiArPSBcIi9cIiArIHQzLnNsaWNlKGkgKyAxLCBoKSA6IG4yID0gdDMuc2xpY2UoaSArIDEsIGgpLCBvID0gaCAtIGkgLSAxO1xuICAgICAgICAgIGkgPSBoLCBhMiA9IDA7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIDQ2ID09PSByMyAmJiAtMSAhPT0gYTIgPyArK2EyIDogYTIgPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuMjtcbiAgICB9XG4gICAgdmFyIG4gPSB7IHJlc29sdmU6IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgdDMsIG4yID0gXCJcIiwgbyA9IGZhbHNlLCBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gLTEgJiYgIW87IGktLSkge1xuICAgICAgICB2YXIgYTI7XG4gICAgICAgIGkgPj0gMCA/IGEyID0gYXJndW1lbnRzW2ldIDogKHZvaWQgMCA9PT0gdDMgJiYgKHQzID0gcHJvY2Vzcy5jd2QoKSksIGEyID0gdDMpLCBlMihhMiksIDAgIT09IGEyLmxlbmd0aCAmJiAobjIgPSBhMiArIFwiL1wiICsgbjIsIG8gPSA0NyA9PT0gYTIuY2hhckNvZGVBdCgwKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjIgPSByMihuMiwgIW8pLCBvID8gbjIubGVuZ3RoID4gMCA/IFwiL1wiICsgbjIgOiBcIi9cIiA6IG4yLmxlbmd0aCA+IDAgPyBuMiA6IFwiLlwiO1xuICAgIH0sIG5vcm1hbGl6ZTogZnVuY3Rpb24odDMpIHtcbiAgICAgIGlmIChlMih0MyksIDAgPT09IHQzLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIFwiLlwiO1xuICAgICAgdmFyIG4yID0gNDcgPT09IHQzLmNoYXJDb2RlQXQoMCksIG8gPSA0NyA9PT0gdDMuY2hhckNvZGVBdCh0My5sZW5ndGggLSAxKTtcbiAgICAgIHJldHVybiAwICE9PSAodDMgPSByMih0MywgIW4yKSkubGVuZ3RoIHx8IG4yIHx8ICh0MyA9IFwiLlwiKSwgdDMubGVuZ3RoID4gMCAmJiBvICYmICh0MyArPSBcIi9cIiksIG4yID8gXCIvXCIgKyB0MyA6IHQzO1xuICAgIH0sIGlzQWJzb2x1dGU6IGZ1bmN0aW9uKHQzKSB7XG4gICAgICByZXR1cm4gZTIodDMpLCB0My5sZW5ndGggPiAwICYmIDQ3ID09PSB0My5jaGFyQ29kZUF0KDApO1xuICAgIH0sIGpvaW46IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKDAgPT09IGFyZ3VtZW50cy5sZW5ndGgpXG4gICAgICAgIHJldHVybiBcIi5cIjtcbiAgICAgIGZvciAodmFyIHQzLCByMyA9IDA7IHIzIDwgYXJndW1lbnRzLmxlbmd0aDsgKytyMykge1xuICAgICAgICB2YXIgbyA9IGFyZ3VtZW50c1tyM107XG4gICAgICAgIGUyKG8pLCBvLmxlbmd0aCA+IDAgJiYgKHZvaWQgMCA9PT0gdDMgPyB0MyA9IG8gOiB0MyArPSBcIi9cIiArIG8pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdDMgPyBcIi5cIiA6IG4ubm9ybWFsaXplKHQzKTtcbiAgICB9LCByZWxhdGl2ZTogZnVuY3Rpb24odDMsIHIzKSB7XG4gICAgICBpZiAoZTIodDMpLCBlMihyMyksIHQzID09PSByMylcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICBpZiAoKHQzID0gbi5yZXNvbHZlKHQzKSkgPT09IChyMyA9IG4ucmVzb2x2ZShyMykpKVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIGZvciAodmFyIG8gPSAxOyBvIDwgdDMubGVuZ3RoICYmIDQ3ID09PSB0My5jaGFyQ29kZUF0KG8pOyArK28pXG4gICAgICAgIDtcbiAgICAgIGZvciAodmFyIGkgPSB0My5sZW5ndGgsIGEyID0gaSAtIG8sIGggPSAxOyBoIDwgcjMubGVuZ3RoICYmIDQ3ID09PSByMy5jaGFyQ29kZUF0KGgpOyArK2gpXG4gICAgICAgIDtcbiAgICAgIGZvciAodmFyIHMgPSByMy5sZW5ndGggLSBoLCBjID0gYTIgPCBzID8gYTIgOiBzLCBmMiA9IC0xLCB1ID0gMDsgdSA8PSBjOyArK3UpIHtcbiAgICAgICAgaWYgKHUgPT09IGMpIHtcbiAgICAgICAgICBpZiAocyA+IGMpIHtcbiAgICAgICAgICAgIGlmICg0NyA9PT0gcjMuY2hhckNvZGVBdChoICsgdSkpXG4gICAgICAgICAgICAgIHJldHVybiByMy5zbGljZShoICsgdSArIDEpO1xuICAgICAgICAgICAgaWYgKDAgPT09IHUpXG4gICAgICAgICAgICAgIHJldHVybiByMy5zbGljZShoICsgdSk7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBhMiA+IGMgJiYgKDQ3ID09PSB0My5jaGFyQ29kZUF0KG8gKyB1KSA/IGYyID0gdSA6IDAgPT09IHUgJiYgKGYyID0gMCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsID0gdDMuY2hhckNvZGVBdChvICsgdSk7XG4gICAgICAgIGlmIChsICE9PSByMy5jaGFyQ29kZUF0KGggKyB1KSlcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgNDcgPT09IGwgJiYgKGYyID0gdSk7XG4gICAgICB9XG4gICAgICB2YXIgcCA9IFwiXCI7XG4gICAgICBmb3IgKHUgPSBvICsgZjIgKyAxOyB1IDw9IGk7ICsrdSlcbiAgICAgICAgdSAhPT0gaSAmJiA0NyAhPT0gdDMuY2hhckNvZGVBdCh1KSB8fCAoMCA9PT0gcC5sZW5ndGggPyBwICs9IFwiLi5cIiA6IHAgKz0gXCIvLi5cIik7XG4gICAgICByZXR1cm4gcC5sZW5ndGggPiAwID8gcCArIHIzLnNsaWNlKGggKyBmMikgOiAoaCArPSBmMiwgNDcgPT09IHIzLmNoYXJDb2RlQXQoaCkgJiYgKytoLCByMy5zbGljZShoKSk7XG4gICAgfSwgX21ha2VMb25nOiBmdW5jdGlvbih0Mykge1xuICAgICAgcmV0dXJuIHQzO1xuICAgIH0sIGRpcm5hbWU6IGZ1bmN0aW9uKHQzKSB7XG4gICAgICBpZiAoZTIodDMpLCAwID09PSB0My5sZW5ndGgpXG4gICAgICAgIHJldHVybiBcIi5cIjtcbiAgICAgIGZvciAodmFyIHIzID0gdDMuY2hhckNvZGVBdCgwKSwgbjIgPSA0NyA9PT0gcjMsIG8gPSAtMSwgaSA9IHRydWUsIGEyID0gdDMubGVuZ3RoIC0gMTsgYTIgPj0gMTsgLS1hMilcbiAgICAgICAgaWYgKDQ3ID09PSAocjMgPSB0My5jaGFyQ29kZUF0KGEyKSkpIHtcbiAgICAgICAgICBpZiAoIWkpIHtcbiAgICAgICAgICAgIG8gPSBhMjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgaSA9IGZhbHNlO1xuICAgICAgcmV0dXJuIC0xID09PSBvID8gbjIgPyBcIi9cIiA6IFwiLlwiIDogbjIgJiYgMSA9PT0gbyA/IFwiLy9cIiA6IHQzLnNsaWNlKDAsIG8pO1xuICAgIH0sIGJhc2VuYW1lOiBmdW5jdGlvbih0MywgcjMpIHtcbiAgICAgIGlmICh2b2lkIDAgIT09IHIzICYmIFwic3RyaW5nXCIgIT0gdHlwZW9mIHIzKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdcImV4dFwiIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICAgIGUyKHQzKTtcbiAgICAgIHZhciBuMiwgbyA9IDAsIGkgPSAtMSwgYTIgPSB0cnVlO1xuICAgICAgaWYgKHZvaWQgMCAhPT0gcjMgJiYgcjMubGVuZ3RoID4gMCAmJiByMy5sZW5ndGggPD0gdDMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChyMy5sZW5ndGggPT09IHQzLmxlbmd0aCAmJiByMyA9PT0gdDMpXG4gICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgIHZhciBoID0gcjMubGVuZ3RoIC0gMSwgcyA9IC0xO1xuICAgICAgICBmb3IgKG4yID0gdDMubGVuZ3RoIC0gMTsgbjIgPj0gMDsgLS1uMikge1xuICAgICAgICAgIHZhciBjID0gdDMuY2hhckNvZGVBdChuMik7XG4gICAgICAgICAgaWYgKDQ3ID09PSBjKSB7XG4gICAgICAgICAgICBpZiAoIWEyKSB7XG4gICAgICAgICAgICAgIG8gPSBuMiArIDE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgLTEgPT09IHMgJiYgKGEyID0gZmFsc2UsIHMgPSBuMiArIDEpLCBoID49IDAgJiYgKGMgPT09IHIzLmNoYXJDb2RlQXQoaCkgPyAtMSA9PSAtLWggJiYgKGkgPSBuMikgOiAoaCA9IC0xLCBpID0gcykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvID09PSBpID8gaSA9IHMgOiAtMSA9PT0gaSAmJiAoaSA9IHQzLmxlbmd0aCksIHQzLnNsaWNlKG8sIGkpO1xuICAgICAgfVxuICAgICAgZm9yIChuMiA9IHQzLmxlbmd0aCAtIDE7IG4yID49IDA7IC0tbjIpXG4gICAgICAgIGlmICg0NyA9PT0gdDMuY2hhckNvZGVBdChuMikpIHtcbiAgICAgICAgICBpZiAoIWEyKSB7XG4gICAgICAgICAgICBvID0gbjIgKyAxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2VcbiAgICAgICAgICAtMSA9PT0gaSAmJiAoYTIgPSBmYWxzZSwgaSA9IG4yICsgMSk7XG4gICAgICByZXR1cm4gLTEgPT09IGkgPyBcIlwiIDogdDMuc2xpY2UobywgaSk7XG4gICAgfSwgZXh0bmFtZTogZnVuY3Rpb24odDMpIHtcbiAgICAgIGUyKHQzKTtcbiAgICAgIGZvciAodmFyIHIzID0gLTEsIG4yID0gMCwgbyA9IC0xLCBpID0gdHJ1ZSwgYTIgPSAwLCBoID0gdDMubGVuZ3RoIC0gMTsgaCA+PSAwOyAtLWgpIHtcbiAgICAgICAgdmFyIHMgPSB0My5jaGFyQ29kZUF0KGgpO1xuICAgICAgICBpZiAoNDcgIT09IHMpXG4gICAgICAgICAgLTEgPT09IG8gJiYgKGkgPSBmYWxzZSwgbyA9IGggKyAxKSwgNDYgPT09IHMgPyAtMSA9PT0gcjMgPyByMyA9IGggOiAxICE9PSBhMiAmJiAoYTIgPSAxKSA6IC0xICE9PSByMyAmJiAoYTIgPSAtMSk7XG4gICAgICAgIGVsc2UgaWYgKCFpKSB7XG4gICAgICAgICAgbjIgPSBoICsgMTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xID09PSByMyB8fCAtMSA9PT0gbyB8fCAwID09PSBhMiB8fCAxID09PSBhMiAmJiByMyA9PT0gbyAtIDEgJiYgcjMgPT09IG4yICsgMSA/IFwiXCIgOiB0My5zbGljZShyMywgbyk7XG4gICAgfSwgZm9ybWF0OiBmdW5jdGlvbih0Mykge1xuICAgICAgaWYgKG51bGwgPT09IHQzIHx8IFwib2JqZWN0XCIgIT0gdHlwZW9mIHQzKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJwYXRoT2JqZWN0XCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIE9iamVjdC4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIHQzKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbih0NCwgZTMpIHtcbiAgICAgICAgdmFyIHIzID0gZTMuZGlyIHx8IGUzLnJvb3QsIG4yID0gZTMuYmFzZSB8fCAoZTMubmFtZSB8fCBcIlwiKSArIChlMy5leHQgfHwgXCJcIik7XG4gICAgICAgIHJldHVybiByMyA/IHIzID09PSBlMy5yb290ID8gcjMgKyBuMiA6IHIzICsgXCIvXCIgKyBuMiA6IG4yO1xuICAgICAgfSgwLCB0Myk7XG4gICAgfSwgcGFyc2U6IGZ1bmN0aW9uKHQzKSB7XG4gICAgICBlMih0Myk7XG4gICAgICB2YXIgcjMgPSB7IHJvb3Q6IFwiXCIsIGRpcjogXCJcIiwgYmFzZTogXCJcIiwgZXh0OiBcIlwiLCBuYW1lOiBcIlwiIH07XG4gICAgICBpZiAoMCA9PT0gdDMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gcjM7XG4gICAgICB2YXIgbjIsIG8gPSB0My5jaGFyQ29kZUF0KDApLCBpID0gNDcgPT09IG87XG4gICAgICBpID8gKHIzLnJvb3QgPSBcIi9cIiwgbjIgPSAxKSA6IG4yID0gMDtcbiAgICAgIGZvciAodmFyIGEyID0gLTEsIGggPSAwLCBzID0gLTEsIGMgPSB0cnVlLCBmMiA9IHQzLmxlbmd0aCAtIDEsIHUgPSAwOyBmMiA+PSBuMjsgLS1mMilcbiAgICAgICAgaWYgKDQ3ICE9PSAobyA9IHQzLmNoYXJDb2RlQXQoZjIpKSlcbiAgICAgICAgICAtMSA9PT0gcyAmJiAoYyA9IGZhbHNlLCBzID0gZjIgKyAxKSwgNDYgPT09IG8gPyAtMSA9PT0gYTIgPyBhMiA9IGYyIDogMSAhPT0gdSAmJiAodSA9IDEpIDogLTEgIT09IGEyICYmICh1ID0gLTEpO1xuICAgICAgICBlbHNlIGlmICghYykge1xuICAgICAgICAgIGggPSBmMiArIDE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiAtMSA9PT0gYTIgfHwgLTEgPT09IHMgfHwgMCA9PT0gdSB8fCAxID09PSB1ICYmIGEyID09PSBzIC0gMSAmJiBhMiA9PT0gaCArIDEgPyAtMSAhPT0gcyAmJiAocjMuYmFzZSA9IHIzLm5hbWUgPSAwID09PSBoICYmIGkgPyB0My5zbGljZSgxLCBzKSA6IHQzLnNsaWNlKGgsIHMpKSA6ICgwID09PSBoICYmIGkgPyAocjMubmFtZSA9IHQzLnNsaWNlKDEsIGEyKSwgcjMuYmFzZSA9IHQzLnNsaWNlKDEsIHMpKSA6IChyMy5uYW1lID0gdDMuc2xpY2UoaCwgYTIpLCByMy5iYXNlID0gdDMuc2xpY2UoaCwgcykpLCByMy5leHQgPSB0My5zbGljZShhMiwgcykpLCBoID4gMCA/IHIzLmRpciA9IHQzLnNsaWNlKDAsIGggLSAxKSA6IGkgJiYgKHIzLmRpciA9IFwiL1wiKSwgcjM7XG4gICAgfSwgc2VwOiBcIi9cIiwgZGVsaW1pdGVyOiBcIjpcIiwgd2luMzI6IG51bGwsIHBvc2l4OiBudWxsIH07XG4gICAgbi5wb3NpeCA9IG4sIHQyLmV4cG9ydHMgPSBuO1xuICB9LCA0NDc6ICh0MiwgZTIsIHIyKSA9PiB7XG4gICAgdmFyIG47XG4gICAgaWYgKHIyLnIoZTIpLCByMi5kKGUyLCB7IFVSSTogKCkgPT4gZCwgVXRpbHM6ICgpID0+IFAgfSksIFwib2JqZWN0XCIgPT0gdHlwZW9mIHByb2Nlc3MpXG4gICAgICBuID0gXCJ3aW4zMlwiID09PSBwcm9jZXNzLnBsYXRmb3JtO1xuICAgIGVsc2UgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIG5hdmlnYXRvcikge1xuICAgICAgdmFyIG8gPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuICAgICAgbiA9IG8uaW5kZXhPZihcIldpbmRvd3NcIikgPj0gMDtcbiAgICB9XG4gICAgdmFyIGksIGEyLCBoID0gKGkgPSBmdW5jdGlvbih0MywgZTMpIHtcbiAgICAgIHJldHVybiAoaSA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uKHQ0LCBlNCkge1xuICAgICAgICB0NC5fX3Byb3RvX18gPSBlNDtcbiAgICAgIH0gfHwgZnVuY3Rpb24odDQsIGU0KSB7XG4gICAgICAgIGZvciAodmFyIHIzIGluIGU0KVxuICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlNCwgcjMpICYmICh0NFtyM10gPSBlNFtyM10pO1xuICAgICAgfSkodDMsIGUzKTtcbiAgICB9LCBmdW5jdGlvbih0MywgZTMpIHtcbiAgICAgIGlmIChcImZ1bmN0aW9uXCIgIT0gdHlwZW9mIGUzICYmIG51bGwgIT09IGUzKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhlMykgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgZnVuY3Rpb24gcjMoKSB7XG4gICAgICAgIHRoaXMuY29uc3RydWN0b3IgPSB0MztcbiAgICAgIH1cbiAgICAgIGkodDMsIGUzKSwgdDMucHJvdG90eXBlID0gbnVsbCA9PT0gZTMgPyBPYmplY3QuY3JlYXRlKGUzKSA6IChyMy5wcm90b3R5cGUgPSBlMy5wcm90b3R5cGUsIG5ldyByMygpKTtcbiAgICB9KSwgcyA9IC9eXFx3W1xcd1xcZCsuLV0qJC8sIGMgPSAvXlxcLy8sIGYyID0gL15cXC9cXC8vO1xuICAgIGZ1bmN0aW9uIHUodDMsIGUzKSB7XG4gICAgICBpZiAoIXQzLnNjaGVtZSAmJiBlMylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBTY2hlbWUgaXMgbWlzc2luZzoge3NjaGVtZTogXCJcIiwgYXV0aG9yaXR5OiBcIicuY29uY2F0KHQzLmF1dGhvcml0eSwgJ1wiLCBwYXRoOiBcIicpLmNvbmNhdCh0My5wYXRoLCAnXCIsIHF1ZXJ5OiBcIicpLmNvbmNhdCh0My5xdWVyeSwgJ1wiLCBmcmFnbWVudDogXCInKS5jb25jYXQodDMuZnJhZ21lbnQsICdcIn0nKSk7XG4gICAgICBpZiAodDMuc2NoZW1lICYmICFzLnRlc3QodDMuc2NoZW1lKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW1VyaUVycm9yXTogU2NoZW1lIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycy5cIik7XG4gICAgICBpZiAodDMucGF0aCkge1xuICAgICAgICBpZiAodDMuYXV0aG9yaXR5KSB7XG4gICAgICAgICAgaWYgKCFjLnRlc3QodDMucGF0aCkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1tVcmlFcnJvcl06IElmIGEgVVJJIGNvbnRhaW5zIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY29tcG9uZW50IG11c3QgZWl0aGVyIGJlIGVtcHR5IG9yIGJlZ2luIHdpdGggYSBzbGFzaCAoXCIvXCIpIGNoYXJhY3RlcicpO1xuICAgICAgICB9IGVsc2UgaWYgKGYyLnRlc3QodDMucGF0aCkpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdbVXJpRXJyb3JdOiBJZiBhIFVSSSBkb2VzIG5vdCBjb250YWluIGFuIGF1dGhvcml0eSBjb21wb25lbnQsIHRoZW4gdGhlIHBhdGggY2Fubm90IGJlZ2luIHdpdGggdHdvIHNsYXNoIGNoYXJhY3RlcnMgKFwiLy9cIiknKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGwgPSBcIlwiLCBwID0gXCIvXCIsIGcgPSAvXigoW146Lz8jXSs/KTopPyhcXC9cXC8oW14vPyNdKikpPyhbXj8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/LywgZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgZnVuY3Rpb24gdDModDQsIGUzLCByMywgbjIsIG8yLCBpMikge1xuICAgICAgICB2b2lkIDAgPT09IGkyICYmIChpMiA9IGZhbHNlKSwgXCJvYmplY3RcIiA9PSB0eXBlb2YgdDQgPyAodGhpcy5zY2hlbWUgPSB0NC5zY2hlbWUgfHwgbCwgdGhpcy5hdXRob3JpdHkgPSB0NC5hdXRob3JpdHkgfHwgbCwgdGhpcy5wYXRoID0gdDQucGF0aCB8fCBsLCB0aGlzLnF1ZXJ5ID0gdDQucXVlcnkgfHwgbCwgdGhpcy5mcmFnbWVudCA9IHQ0LmZyYWdtZW50IHx8IGwpIDogKHRoaXMuc2NoZW1lID0gZnVuY3Rpb24odDUsIGU0KSB7XG4gICAgICAgICAgcmV0dXJuIHQ1IHx8IGU0ID8gdDUgOiBcImZpbGVcIjtcbiAgICAgICAgfSh0NCwgaTIpLCB0aGlzLmF1dGhvcml0eSA9IGUzIHx8IGwsIHRoaXMucGF0aCA9IGZ1bmN0aW9uKHQ1LCBlNCkge1xuICAgICAgICAgIHN3aXRjaCAodDUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJodHRwc1wiOlxuICAgICAgICAgICAgY2FzZSBcImh0dHBcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICAgIGU0ID8gZTRbMF0gIT09IHAgJiYgKGU0ID0gcCArIGU0KSA6IGU0ID0gcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGU0O1xuICAgICAgICB9KHRoaXMuc2NoZW1lLCByMyB8fCBsKSwgdGhpcy5xdWVyeSA9IG4yIHx8IGwsIHRoaXMuZnJhZ21lbnQgPSBvMiB8fCBsLCB1KHRoaXMsIGkyKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdDMuaXNVcmkgPSBmdW5jdGlvbihlMykge1xuICAgICAgICByZXR1cm4gZTMgaW5zdGFuY2VvZiB0MyB8fCAhIWUzICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUzLmF1dGhvcml0eSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlMy5mcmFnbWVudCAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlMy5wYXRoICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUzLnF1ZXJ5ICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUzLnNjaGVtZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBlMy5mc1BhdGggJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiBlMy53aXRoICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZTMudG9TdHJpbmc7XG4gICAgICB9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkodDMucHJvdG90eXBlLCBcImZzUGF0aFwiLCB7IGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBBMih0aGlzLCBmYWxzZSk7XG4gICAgICB9LCBlbnVtZXJhYmxlOiBmYWxzZSwgY29uZmlndXJhYmxlOiB0cnVlIH0pLCB0My5wcm90b3R5cGUud2l0aCA9IGZ1bmN0aW9uKHQ0KSB7XG4gICAgICAgIGlmICghdDQpXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHZhciBlMyA9IHQ0LnNjaGVtZSwgcjMgPSB0NC5hdXRob3JpdHksIG4yID0gdDQucGF0aCwgbzIgPSB0NC5xdWVyeSwgaTIgPSB0NC5mcmFnbWVudDtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZTMgPyBlMyA9IHRoaXMuc2NoZW1lIDogbnVsbCA9PT0gZTMgJiYgKGUzID0gbCksIHZvaWQgMCA9PT0gcjMgPyByMyA9IHRoaXMuYXV0aG9yaXR5IDogbnVsbCA9PT0gcjMgJiYgKHIzID0gbCksIHZvaWQgMCA9PT0gbjIgPyBuMiA9IHRoaXMucGF0aCA6IG51bGwgPT09IG4yICYmIChuMiA9IGwpLCB2b2lkIDAgPT09IG8yID8gbzIgPSB0aGlzLnF1ZXJ5IDogbnVsbCA9PT0gbzIgJiYgKG8yID0gbCksIHZvaWQgMCA9PT0gaTIgPyBpMiA9IHRoaXMuZnJhZ21lbnQgOiBudWxsID09PSBpMiAmJiAoaTIgPSBsKSwgZTMgPT09IHRoaXMuc2NoZW1lICYmIHIzID09PSB0aGlzLmF1dGhvcml0eSAmJiBuMiA9PT0gdGhpcy5wYXRoICYmIG8yID09PSB0aGlzLnF1ZXJ5ICYmIGkyID09PSB0aGlzLmZyYWdtZW50ID8gdGhpcyA6IG5ldyB5KGUzLCByMywgbjIsIG8yLCBpMik7XG4gICAgICB9LCB0My5wYXJzZSA9IGZ1bmN0aW9uKHQ0LCBlMykge1xuICAgICAgICB2b2lkIDAgPT09IGUzICYmIChlMyA9IGZhbHNlKTtcbiAgICAgICAgdmFyIHIzID0gZy5leGVjKHQ0KTtcbiAgICAgICAgcmV0dXJuIHIzID8gbmV3IHkocjNbMl0gfHwgbCwgTyhyM1s0XSB8fCBsKSwgTyhyM1s1XSB8fCBsKSwgTyhyM1s3XSB8fCBsKSwgTyhyM1s5XSB8fCBsKSwgZTMpIDogbmV3IHkobCwgbCwgbCwgbCwgbCk7XG4gICAgICB9LCB0My5maWxlID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgdmFyIGUzID0gbDtcbiAgICAgICAgaWYgKG4gJiYgKHQ0ID0gdDQucmVwbGFjZSgvXFxcXC9nLCBwKSksIHQ0WzBdID09PSBwICYmIHQ0WzFdID09PSBwKSB7XG4gICAgICAgICAgdmFyIHIzID0gdDQuaW5kZXhPZihwLCAyKTtcbiAgICAgICAgICAtMSA9PT0gcjMgPyAoZTMgPSB0NC5zdWJzdHJpbmcoMiksIHQ0ID0gcCkgOiAoZTMgPSB0NC5zdWJzdHJpbmcoMiwgcjMpLCB0NCA9IHQ0LnN1YnN0cmluZyhyMykgfHwgcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyB5KFwiZmlsZVwiLCBlMywgdDQsIGwsIGwpO1xuICAgICAgfSwgdDMuZnJvbSA9IGZ1bmN0aW9uKHQ0KSB7XG4gICAgICAgIHZhciBlMyA9IG5ldyB5KHQ0LnNjaGVtZSwgdDQuYXV0aG9yaXR5LCB0NC5wYXRoLCB0NC5xdWVyeSwgdDQuZnJhZ21lbnQpO1xuICAgICAgICByZXR1cm4gdShlMywgdHJ1ZSksIGUzO1xuICAgICAgfSwgdDMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdDQgJiYgKHQ0ID0gZmFsc2UpLCB3KHRoaXMsIHQ0KTtcbiAgICAgIH0sIHQzLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCB0My5yZXZpdmUgPSBmdW5jdGlvbihlMykge1xuICAgICAgICBpZiAoZTMpIHtcbiAgICAgICAgICBpZiAoZTMgaW5zdGFuY2VvZiB0MylcbiAgICAgICAgICAgIHJldHVybiBlMztcbiAgICAgICAgICB2YXIgcjMgPSBuZXcgeShlMyk7XG4gICAgICAgICAgcmV0dXJuIHIzLl9mb3JtYXR0ZWQgPSBlMy5leHRlcm5hbCwgcjMuX2ZzUGF0aCA9IGUzLl9zZXAgPT09IHYgPyBlMy5mc1BhdGggOiBudWxsLCByMztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZTM7XG4gICAgICB9LCB0MztcbiAgICB9KCksIHYgPSBuID8gMSA6IHZvaWQgMCwgeSA9IGZ1bmN0aW9uKHQzKSB7XG4gICAgICBmdW5jdGlvbiBlMygpIHtcbiAgICAgICAgdmFyIGU0ID0gbnVsbCAhPT0gdDMgJiYgdDMuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgICAgICByZXR1cm4gZTQuX2Zvcm1hdHRlZCA9IG51bGwsIGU0Ll9mc1BhdGggPSBudWxsLCBlNDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoKGUzLCB0MyksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlMy5wcm90b3R5cGUsIFwiZnNQYXRoXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZzUGF0aCB8fCAodGhpcy5fZnNQYXRoID0gQTIodGhpcywgZmFsc2UpKSwgdGhpcy5fZnNQYXRoO1xuICAgICAgfSwgZW51bWVyYWJsZTogZmFsc2UsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KSwgZTMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdDQgJiYgKHQ0ID0gZmFsc2UpLCB0NCA/IHcodGhpcywgdHJ1ZSkgOiAodGhpcy5fZm9ybWF0dGVkIHx8ICh0aGlzLl9mb3JtYXR0ZWQgPSB3KHRoaXMsIGZhbHNlKSksIHRoaXMuX2Zvcm1hdHRlZCk7XG4gICAgICB9LCBlMy5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0NCA9IHsgJG1pZDogMSB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fZnNQYXRoICYmICh0NC5mc1BhdGggPSB0aGlzLl9mc1BhdGgsIHQ0Ll9zZXAgPSB2KSwgdGhpcy5fZm9ybWF0dGVkICYmICh0NC5leHRlcm5hbCA9IHRoaXMuX2Zvcm1hdHRlZCksIHRoaXMucGF0aCAmJiAodDQucGF0aCA9IHRoaXMucGF0aCksIHRoaXMuc2NoZW1lICYmICh0NC5zY2hlbWUgPSB0aGlzLnNjaGVtZSksIHRoaXMuYXV0aG9yaXR5ICYmICh0NC5hdXRob3JpdHkgPSB0aGlzLmF1dGhvcml0eSksIHRoaXMucXVlcnkgJiYgKHQ0LnF1ZXJ5ID0gdGhpcy5xdWVyeSksIHRoaXMuZnJhZ21lbnQgJiYgKHQ0LmZyYWdtZW50ID0gdGhpcy5mcmFnbWVudCksIHQ0O1xuICAgICAgfSwgZTM7XG4gICAgfShkKSwgbSA9ICgoYTIgPSB7fSlbNThdID0gXCIlM0FcIiwgYTJbNDddID0gXCIlMkZcIiwgYTJbNjNdID0gXCIlM0ZcIiwgYTJbMzVdID0gXCIlMjNcIiwgYTJbOTFdID0gXCIlNUJcIiwgYTJbOTNdID0gXCIlNURcIiwgYTJbNjRdID0gXCIlNDBcIiwgYTJbMzNdID0gXCIlMjFcIiwgYTJbMzZdID0gXCIlMjRcIiwgYTJbMzhdID0gXCIlMjZcIiwgYTJbMzldID0gXCIlMjdcIiwgYTJbNDBdID0gXCIlMjhcIiwgYTJbNDFdID0gXCIlMjlcIiwgYTJbNDJdID0gXCIlMkFcIiwgYTJbNDNdID0gXCIlMkJcIiwgYTJbNDRdID0gXCIlMkNcIiwgYTJbNTldID0gXCIlM0JcIiwgYTJbNjFdID0gXCIlM0RcIiwgYTJbMzJdID0gXCIlMjBcIiwgYTIpO1xuICAgIGZ1bmN0aW9uIGIodDMsIGUzKSB7XG4gICAgICBmb3IgKHZhciByMyA9IHZvaWQgMCwgbjIgPSAtMSwgbzIgPSAwOyBvMiA8IHQzLmxlbmd0aDsgbzIrKykge1xuICAgICAgICB2YXIgaTIgPSB0My5jaGFyQ29kZUF0KG8yKTtcbiAgICAgICAgaWYgKGkyID49IDk3ICYmIGkyIDw9IDEyMiB8fCBpMiA+PSA2NSAmJiBpMiA8PSA5MCB8fCBpMiA+PSA0OCAmJiBpMiA8PSA1NyB8fCA0NSA9PT0gaTIgfHwgNDYgPT09IGkyIHx8IDk1ID09PSBpMiB8fCAxMjYgPT09IGkyIHx8IGUzICYmIDQ3ID09PSBpMilcbiAgICAgICAgICAtMSAhPT0gbjIgJiYgKHIzICs9IGVuY29kZVVSSUNvbXBvbmVudCh0My5zdWJzdHJpbmcobjIsIG8yKSksIG4yID0gLTEpLCB2b2lkIDAgIT09IHIzICYmIChyMyArPSB0My5jaGFyQXQobzIpKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdm9pZCAwID09PSByMyAmJiAocjMgPSB0My5zdWJzdHIoMCwgbzIpKTtcbiAgICAgICAgICB2YXIgYTMgPSBtW2kyXTtcbiAgICAgICAgICB2b2lkIDAgIT09IGEzID8gKC0xICE9PSBuMiAmJiAocjMgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHQzLnN1YnN0cmluZyhuMiwgbzIpKSwgbjIgPSAtMSksIHIzICs9IGEzKSA6IC0xID09PSBuMiAmJiAobjIgPSBvMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiAtMSAhPT0gbjIgJiYgKHIzICs9IGVuY29kZVVSSUNvbXBvbmVudCh0My5zdWJzdHJpbmcobjIpKSksIHZvaWQgMCAhPT0gcjMgPyByMyA6IHQzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBDKHQzKSB7XG4gICAgICBmb3IgKHZhciBlMyA9IHZvaWQgMCwgcjMgPSAwOyByMyA8IHQzLmxlbmd0aDsgcjMrKykge1xuICAgICAgICB2YXIgbjIgPSB0My5jaGFyQ29kZUF0KHIzKTtcbiAgICAgICAgMzUgPT09IG4yIHx8IDYzID09PSBuMiA/ICh2b2lkIDAgPT09IGUzICYmIChlMyA9IHQzLnN1YnN0cigwLCByMykpLCBlMyArPSBtW24yXSkgOiB2b2lkIDAgIT09IGUzICYmIChlMyArPSB0M1tyM10pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gZTMgPyBlMyA6IHQzO1xuICAgIH1cbiAgICBmdW5jdGlvbiBBMih0MywgZTMpIHtcbiAgICAgIHZhciByMztcbiAgICAgIHJldHVybiByMyA9IHQzLmF1dGhvcml0eSAmJiB0My5wYXRoLmxlbmd0aCA+IDEgJiYgXCJmaWxlXCIgPT09IHQzLnNjaGVtZSA/IFwiLy9cIi5jb25jYXQodDMuYXV0aG9yaXR5KS5jb25jYXQodDMucGF0aCkgOiA0NyA9PT0gdDMucGF0aC5jaGFyQ29kZUF0KDApICYmICh0My5wYXRoLmNoYXJDb2RlQXQoMSkgPj0gNjUgJiYgdDMucGF0aC5jaGFyQ29kZUF0KDEpIDw9IDkwIHx8IHQzLnBhdGguY2hhckNvZGVBdCgxKSA+PSA5NyAmJiB0My5wYXRoLmNoYXJDb2RlQXQoMSkgPD0gMTIyKSAmJiA1OCA9PT0gdDMucGF0aC5jaGFyQ29kZUF0KDIpID8gZTMgPyB0My5wYXRoLnN1YnN0cigxKSA6IHQzLnBhdGhbMV0udG9Mb3dlckNhc2UoKSArIHQzLnBhdGguc3Vic3RyKDIpIDogdDMucGF0aCwgbiAmJiAocjMgPSByMy5yZXBsYWNlKC9cXC8vZywgXCJcXFxcXCIpKSwgcjM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHcodDMsIGUzKSB7XG4gICAgICB2YXIgcjMgPSBlMyA/IEMgOiBiLCBuMiA9IFwiXCIsIG8yID0gdDMuc2NoZW1lLCBpMiA9IHQzLmF1dGhvcml0eSwgYTMgPSB0My5wYXRoLCBoMiA9IHQzLnF1ZXJ5LCBzMiA9IHQzLmZyYWdtZW50O1xuICAgICAgaWYgKG8yICYmIChuMiArPSBvMiwgbjIgKz0gXCI6XCIpLCAoaTIgfHwgXCJmaWxlXCIgPT09IG8yKSAmJiAobjIgKz0gcCwgbjIgKz0gcCksIGkyKSB7XG4gICAgICAgIHZhciBjMiA9IGkyLmluZGV4T2YoXCJAXCIpO1xuICAgICAgICBpZiAoLTEgIT09IGMyKSB7XG4gICAgICAgICAgdmFyIGYzID0gaTIuc3Vic3RyKDAsIGMyKTtcbiAgICAgICAgICBpMiA9IGkyLnN1YnN0cihjMiArIDEpLCAtMSA9PT0gKGMyID0gZjMuaW5kZXhPZihcIjpcIikpID8gbjIgKz0gcjMoZjMsIGZhbHNlKSA6IChuMiArPSByMyhmMy5zdWJzdHIoMCwgYzIpLCBmYWxzZSksIG4yICs9IFwiOlwiLCBuMiArPSByMyhmMy5zdWJzdHIoYzIgKyAxKSwgZmFsc2UpKSwgbjIgKz0gXCJAXCI7XG4gICAgICAgIH1cbiAgICAgICAgLTEgPT09IChjMiA9IChpMiA9IGkyLnRvTG93ZXJDYXNlKCkpLmluZGV4T2YoXCI6XCIpKSA/IG4yICs9IHIzKGkyLCBmYWxzZSkgOiAobjIgKz0gcjMoaTIuc3Vic3RyKDAsIGMyKSwgZmFsc2UpLCBuMiArPSBpMi5zdWJzdHIoYzIpKTtcbiAgICAgIH1cbiAgICAgIGlmIChhMykge1xuICAgICAgICBpZiAoYTMubGVuZ3RoID49IDMgJiYgNDcgPT09IGEzLmNoYXJDb2RlQXQoMCkgJiYgNTggPT09IGEzLmNoYXJDb2RlQXQoMikpXG4gICAgICAgICAgKHUyID0gYTMuY2hhckNvZGVBdCgxKSkgPj0gNjUgJiYgdTIgPD0gOTAgJiYgKGEzID0gXCIvXCIuY29uY2F0KFN0cmluZy5mcm9tQ2hhckNvZGUodTIgKyAzMiksIFwiOlwiKS5jb25jYXQoYTMuc3Vic3RyKDMpKSk7XG4gICAgICAgIGVsc2UgaWYgKGEzLmxlbmd0aCA+PSAyICYmIDU4ID09PSBhMy5jaGFyQ29kZUF0KDEpKSB7XG4gICAgICAgICAgdmFyIHUyO1xuICAgICAgICAgICh1MiA9IGEzLmNoYXJDb2RlQXQoMCkpID49IDY1ICYmIHUyIDw9IDkwICYmIChhMyA9IFwiXCIuY29uY2F0KFN0cmluZy5mcm9tQ2hhckNvZGUodTIgKyAzMiksIFwiOlwiKS5jb25jYXQoYTMuc3Vic3RyKDIpKSk7XG4gICAgICAgIH1cbiAgICAgICAgbjIgKz0gcjMoYTMsIHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGgyICYmIChuMiArPSBcIj9cIiwgbjIgKz0gcjMoaDIsIGZhbHNlKSksIHMyICYmIChuMiArPSBcIiNcIiwgbjIgKz0gZTMgPyBzMiA6IGIoczIsIGZhbHNlKSksIG4yO1xuICAgIH1cbiAgICBmdW5jdGlvbiB4KHQzKSB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHQzKTtcbiAgICAgIH0gY2F0Y2ggKGUzKSB7XG4gICAgICAgIHJldHVybiB0My5sZW5ndGggPiAzID8gdDMuc3Vic3RyKDAsIDMpICsgeCh0My5zdWJzdHIoMykpIDogdDM7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBfID0gLyglWzAtOUEtWmEtel1bMC05QS1aYS16XSkrL2c7XG4gICAgZnVuY3Rpb24gTyh0Mykge1xuICAgICAgcmV0dXJuIHQzLm1hdGNoKF8pID8gdDMucmVwbGFjZShfLCBmdW5jdGlvbih0NCkge1xuICAgICAgICByZXR1cm4geCh0NCk7XG4gICAgICB9KSA6IHQzO1xuICAgIH1cbiAgICB2YXIgUCwgaiA9IHIyKDQ3MCksIFUgPSBmdW5jdGlvbih0MywgZTMsIHIzKSB7XG4gICAgICBpZiAocjMgfHwgMiA9PT0gYXJndW1lbnRzLmxlbmd0aClcbiAgICAgICAgZm9yICh2YXIgbjIsIG8yID0gMCwgaTIgPSBlMy5sZW5ndGg7IG8yIDwgaTI7IG8yKyspXG4gICAgICAgICAgIW4yICYmIG8yIGluIGUzIHx8IChuMiB8fCAobjIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlMywgMCwgbzIpKSwgbjJbbzJdID0gZTNbbzJdKTtcbiAgICAgIHJldHVybiB0My5jb25jYXQobjIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZTMpKTtcbiAgICB9LCBJID0gai5wb3NpeCB8fCBqO1xuICAgICFmdW5jdGlvbih0Mykge1xuICAgICAgdDMuam9pblBhdGggPSBmdW5jdGlvbih0NCkge1xuICAgICAgICBmb3IgKHZhciBlMyA9IFtdLCByMyA9IDE7IHIzIDwgYXJndW1lbnRzLmxlbmd0aDsgcjMrKylcbiAgICAgICAgICBlM1tyMyAtIDFdID0gYXJndW1lbnRzW3IzXTtcbiAgICAgICAgcmV0dXJuIHQ0LndpdGgoeyBwYXRoOiBJLmpvaW4uYXBwbHkoSSwgVShbdDQucGF0aF0sIGUzLCBmYWxzZSkpIH0pO1xuICAgICAgfSwgdDMucmVzb2x2ZVBhdGggPSBmdW5jdGlvbih0NCkge1xuICAgICAgICBmb3IgKHZhciBlMyA9IFtdLCByMyA9IDE7IHIzIDwgYXJndW1lbnRzLmxlbmd0aDsgcjMrKylcbiAgICAgICAgICBlM1tyMyAtIDFdID0gYXJndW1lbnRzW3IzXTtcbiAgICAgICAgdmFyIG4yID0gdDQucGF0aCB8fCBcIi9cIjtcbiAgICAgICAgcmV0dXJuIHQ0LndpdGgoeyBwYXRoOiBJLnJlc29sdmUuYXBwbHkoSSwgVShbbjJdLCBlMywgZmFsc2UpKSB9KTtcbiAgICAgIH0sIHQzLmRpcm5hbWUgPSBmdW5jdGlvbih0NCkge1xuICAgICAgICB2YXIgZTMgPSBJLmRpcm5hbWUodDQucGF0aCk7XG4gICAgICAgIHJldHVybiAxID09PSBlMy5sZW5ndGggJiYgNDYgPT09IGUzLmNoYXJDb2RlQXQoMCkgPyB0NCA6IHQ0LndpdGgoeyBwYXRoOiBlMyB9KTtcbiAgICAgIH0sIHQzLmJhc2VuYW1lID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgcmV0dXJuIEkuYmFzZW5hbWUodDQucGF0aCk7XG4gICAgICB9LCB0My5leHRuYW1lID0gZnVuY3Rpb24odDQpIHtcbiAgICAgICAgcmV0dXJuIEkuZXh0bmFtZSh0NC5wYXRoKTtcbiAgICAgIH07XG4gICAgfShQIHx8IChQID0ge30pKTtcbiAgfSB9LCBlID0ge307XG4gIGZ1bmN0aW9uIHIobikge1xuICAgIGlmIChlW25dKVxuICAgICAgcmV0dXJuIGVbbl0uZXhwb3J0cztcbiAgICB2YXIgbyA9IGVbbl0gPSB7IGV4cG9ydHM6IHt9IH07XG4gICAgcmV0dXJuIHRbbl0obywgby5leHBvcnRzLCByKSwgby5leHBvcnRzO1xuICB9XG4gIHJldHVybiByLmQgPSAodDIsIGUyKSA9PiB7XG4gICAgZm9yICh2YXIgbiBpbiBlMilcbiAgICAgIHIubyhlMiwgbikgJiYgIXIubyh0MiwgbikgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQyLCBuLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZTJbbl0gfSk7XG4gIH0sIHIubyA9ICh0MiwgZTIpID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0MiwgZTIpLCByLnIgPSAodDIpID0+IHtcbiAgICBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBTeW1ib2wgJiYgU3ltYm9sLnRvU3RyaW5nVGFnICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0MiwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pLCBPYmplY3QuZGVmaW5lUHJvcGVydHkodDIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuICB9LCByKDQ0Nyk7XG59KSgpO1xudmFyIHsgVVJJLCBVdGlscyB9ID0gTElCO1xuXG4vLyBub2RlX21vZHVsZXMvdnNjb2RlLWpzb24tbGFuZ3VhZ2VzZXJ2aWNlL2xpYi9lc20vdXRpbHMvZ2xvYi5qc1xuZnVuY3Rpb24gY3JlYXRlUmVnZXgoZ2xvYiwgb3B0cykge1xuICBpZiAodHlwZW9mIGdsb2IgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgYSBzdHJpbmdcIik7XG4gIH1cbiAgdmFyIHN0ciA9IFN0cmluZyhnbG9iKTtcbiAgdmFyIHJlU3RyID0gXCJcIjtcbiAgdmFyIGV4dGVuZGVkID0gb3B0cyA/ICEhb3B0cy5leHRlbmRlZCA6IGZhbHNlO1xuICB2YXIgZ2xvYnN0YXIgPSBvcHRzID8gISFvcHRzLmdsb2JzdGFyIDogZmFsc2U7XG4gIHZhciBpbkdyb3VwID0gZmFsc2U7XG4gIHZhciBmbGFncyA9IG9wdHMgJiYgdHlwZW9mIG9wdHMuZmxhZ3MgPT09IFwic3RyaW5nXCIgPyBvcHRzLmZsYWdzIDogXCJcIjtcbiAgdmFyIGM7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzdHIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBjID0gc3RyW2ldO1xuICAgIHN3aXRjaCAoYykge1xuICAgICAgY2FzZSBcIi9cIjpcbiAgICAgIGNhc2UgXCIkXCI6XG4gICAgICBjYXNlIFwiXlwiOlxuICAgICAgY2FzZSBcIitcIjpcbiAgICAgIGNhc2UgXCIuXCI6XG4gICAgICBjYXNlIFwiKFwiOlxuICAgICAgY2FzZSBcIilcIjpcbiAgICAgIGNhc2UgXCI9XCI6XG4gICAgICBjYXNlIFwiIVwiOlxuICAgICAgY2FzZSBcInxcIjpcbiAgICAgICAgcmVTdHIgKz0gXCJcXFxcXCIgKyBjO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCI/XCI6XG4gICAgICAgIGlmIChleHRlbmRlZCkge1xuICAgICAgICAgIHJlU3RyICs9IFwiLlwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICBjYXNlIFwiW1wiOlxuICAgICAgY2FzZSBcIl1cIjpcbiAgICAgICAgaWYgKGV4dGVuZGVkKSB7XG4gICAgICAgICAgcmVTdHIgKz0gYztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcIntcIjpcbiAgICAgICAgaWYgKGV4dGVuZGVkKSB7XG4gICAgICAgICAgaW5Hcm91cCA9IHRydWU7XG4gICAgICAgICAgcmVTdHIgKz0gXCIoXCI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgXCJ9XCI6XG4gICAgICAgIGlmIChleHRlbmRlZCkge1xuICAgICAgICAgIGluR3JvdXAgPSBmYWxzZTtcbiAgICAgICAgICByZVN0ciArPSBcIilcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgY2FzZSBcIixcIjpcbiAgICAgICAgaWYgKGluR3JvdXApIHtcbiAgICAgICAgICByZVN0ciArPSBcInxcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZVN0ciArPSBcIlxcXFxcIiArIGM7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIipcIjpcbiAgICAgICAgdmFyIHByZXZDaGFyID0gc3RyW2kgLSAxXTtcbiAgICAgICAgdmFyIHN0YXJDb3VudCA9IDE7XG4gICAgICAgIHdoaWxlIChzdHJbaSArIDFdID09PSBcIipcIikge1xuICAgICAgICAgIHN0YXJDb3VudCsrO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmV4dENoYXIgPSBzdHJbaSArIDFdO1xuICAgICAgICBpZiAoIWdsb2JzdGFyKSB7XG4gICAgICAgICAgcmVTdHIgKz0gXCIuKlwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBpc0dsb2JzdGFyID0gc3RhckNvdW50ID4gMSAmJiAocHJldkNoYXIgPT09IFwiL1wiIHx8IHByZXZDaGFyID09PSB2b2lkIDAgfHwgcHJldkNoYXIgPT09IFwie1wiIHx8IHByZXZDaGFyID09PSBcIixcIikgJiYgKG5leHRDaGFyID09PSBcIi9cIiB8fCBuZXh0Q2hhciA9PT0gdm9pZCAwIHx8IG5leHRDaGFyID09PSBcIixcIiB8fCBuZXh0Q2hhciA9PT0gXCJ9XCIpO1xuICAgICAgICAgIGlmIChpc0dsb2JzdGFyKSB7XG4gICAgICAgICAgICBpZiAobmV4dENoYXIgPT09IFwiL1wiKSB7XG4gICAgICAgICAgICAgIGkrKztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocHJldkNoYXIgPT09IFwiL1wiICYmIHJlU3RyLmVuZHNXaXRoKFwiXFxcXC9cIikpIHtcbiAgICAgICAgICAgICAgcmVTdHIgPSByZVN0ci5zdWJzdHIoMCwgcmVTdHIubGVuZ3RoIC0gMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZVN0ciArPSBcIigoPzpbXi9dKig/Oi98JCkpKilcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVTdHIgKz0gXCIoW14vXSopXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmVTdHIgKz0gYztcbiAgICB9XG4gIH1cbiAgaWYgKCFmbGFncyB8fCAhfmZsYWdzLmluZGV4T2YoXCJnXCIpKSB7XG4gICAgcmVTdHIgPSBcIl5cIiArIHJlU3RyICsgXCIkXCI7XG4gIH1cbiAgcmV0dXJuIG5ldyBSZWdFeHAocmVTdHIsIGZsYWdzKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL3NlcnZpY2VzL2pzb25TY2hlbWFTZXJ2aWNlLmpzXG52YXIgbG9jYWxpemU2ID0gbG9hZE1lc3NhZ2VCdW5kbGUoKTtcbnZhciBCQU5HID0gXCIhXCI7XG52YXIgUEFUSF9TRVAgPSBcIi9cIjtcbnZhciBGaWxlUGF0dGVybkFzc29jaWF0aW9uID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24yKHBhdHRlcm4sIHVyaXMpIHtcbiAgICB0aGlzLmdsb2JXcmFwcGVycyA9IFtdO1xuICAgIHRyeSB7XG4gICAgICBmb3IgKHZhciBfaSA9IDAsIHBhdHRlcm5fMSA9IHBhdHRlcm47IF9pIDwgcGF0dGVybl8xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcGF0dGVyblN0cmluZyA9IHBhdHRlcm5fMVtfaV07XG4gICAgICAgIHZhciBpbmNsdWRlID0gcGF0dGVyblN0cmluZ1swXSAhPT0gQkFORztcbiAgICAgICAgaWYgKCFpbmNsdWRlKSB7XG4gICAgICAgICAgcGF0dGVyblN0cmluZyA9IHBhdHRlcm5TdHJpbmcuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXR0ZXJuU3RyaW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBpZiAocGF0dGVyblN0cmluZ1swXSA9PT0gUEFUSF9TRVApIHtcbiAgICAgICAgICAgIHBhdHRlcm5TdHJpbmcgPSBwYXR0ZXJuU3RyaW5nLnN1YnN0cmluZygxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5nbG9iV3JhcHBlcnMucHVzaCh7XG4gICAgICAgICAgICByZWdleHA6IGNyZWF0ZVJlZ2V4KFwiKiovXCIgKyBwYXR0ZXJuU3RyaW5nLCB7IGV4dGVuZGVkOiB0cnVlLCBnbG9ic3RhcjogdHJ1ZSB9KSxcbiAgICAgICAgICAgIGluY2x1ZGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgO1xuICAgICAgdGhpcy51cmlzID0gdXJpcztcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmdsb2JXcmFwcGVycy5sZW5ndGggPSAwO1xuICAgICAgdGhpcy51cmlzID0gW107XG4gICAgfVxuICB9XG4gIEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24yLnByb3RvdHlwZS5tYXRjaGVzUGF0dGVybiA9IGZ1bmN0aW9uKGZpbGVOYW1lKSB7XG4gICAgdmFyIG1hdGNoID0gZmFsc2U7XG4gICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2xvYldyYXBwZXJzOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9iID0gX2FbX2ldLCByZWdleHAgPSBfYi5yZWdleHAsIGluY2x1ZGUgPSBfYi5pbmNsdWRlO1xuICAgICAgaWYgKHJlZ2V4cC50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICBtYXRjaCA9IGluY2x1ZGU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBtYXRjaDtcbiAgfTtcbiAgRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbjIucHJvdG90eXBlLmdldFVSSXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy51cmlzO1xuICB9O1xuICByZXR1cm4gRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbjI7XG59KCk7XG52YXIgU2NoZW1hSGFuZGxlID0gZnVuY3Rpb24oKSB7XG4gIGZ1bmN0aW9uIFNjaGVtYUhhbmRsZTIoc2VydmljZSwgdXJpLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XG4gICAgdGhpcy51cmkgPSB1cmk7XG4gICAgdGhpcy5kZXBlbmRlbmNpZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHRoaXMuYW5jaG9ycyA9IHZvaWQgMDtcbiAgICBpZiAodW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpIHtcbiAgICAgIHRoaXMudW5yZXNvbHZlZFNjaGVtYSA9IHRoaXMuc2VydmljZS5wcm9taXNlLnJlc29sdmUobmV3IFVucmVzb2x2ZWRTY2hlbWEodW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpKTtcbiAgICB9XG4gIH1cbiAgU2NoZW1hSGFuZGxlMi5wcm90b3R5cGUuZ2V0VW5yZXNvbHZlZFNjaGVtYSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghdGhpcy51bnJlc29sdmVkU2NoZW1hKSB7XG4gICAgICB0aGlzLnVucmVzb2x2ZWRTY2hlbWEgPSB0aGlzLnNlcnZpY2UubG9hZFNjaGVtYSh0aGlzLnVyaSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnVucmVzb2x2ZWRTY2hlbWE7XG4gIH07XG4gIFNjaGVtYUhhbmRsZTIucHJvdG90eXBlLmdldFJlc29sdmVkU2NoZW1hID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICBpZiAoIXRoaXMucmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgIHRoaXMucmVzb2x2ZWRTY2hlbWEgPSB0aGlzLmdldFVucmVzb2x2ZWRTY2hlbWEoKS50aGVuKGZ1bmN0aW9uKHVucmVzb2x2ZWQpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLnNlcnZpY2UucmVzb2x2ZVNjaGVtYUNvbnRlbnQodW5yZXNvbHZlZCwgX3RoaXMpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlc29sdmVkU2NoZW1hO1xuICB9O1xuICBTY2hlbWFIYW5kbGUyLnByb3RvdHlwZS5jbGVhclNjaGVtYSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBoYXNDaGFuZ2VzID0gISF0aGlzLnVucmVzb2x2ZWRTY2hlbWE7XG4gICAgdGhpcy5yZXNvbHZlZFNjaGVtYSA9IHZvaWQgMDtcbiAgICB0aGlzLnVucmVzb2x2ZWRTY2hlbWEgPSB2b2lkIDA7XG4gICAgdGhpcy5kZXBlbmRlbmNpZXMuY2xlYXIoKTtcbiAgICB0aGlzLmFuY2hvcnMgPSB2b2lkIDA7XG4gICAgcmV0dXJuIGhhc0NoYW5nZXM7XG4gIH07XG4gIHJldHVybiBTY2hlbWFIYW5kbGUyO1xufSgpO1xudmFyIFVucmVzb2x2ZWRTY2hlbWEgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gVW5yZXNvbHZlZFNjaGVtYTIoc2NoZW1hLCBlcnJvcnMpIHtcbiAgICBpZiAoZXJyb3JzID09PSB2b2lkIDApIHtcbiAgICAgIGVycm9ycyA9IFtdO1xuICAgIH1cbiAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgfVxuICByZXR1cm4gVW5yZXNvbHZlZFNjaGVtYTI7XG59KCk7XG52YXIgUmVzb2x2ZWRTY2hlbWEgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gUmVzb2x2ZWRTY2hlbWEyKHNjaGVtYSwgZXJyb3JzKSB7XG4gICAgaWYgKGVycm9ycyA9PT0gdm9pZCAwKSB7XG4gICAgICBlcnJvcnMgPSBbXTtcbiAgICB9XG4gICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gIH1cbiAgUmVzb2x2ZWRTY2hlbWEyLnByb3RvdHlwZS5nZXRTZWN0aW9uID0gZnVuY3Rpb24ocGF0aCkge1xuICAgIHZhciBzY2hlbWFSZWYgPSB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgdGhpcy5zY2hlbWEpO1xuICAgIGlmIChzY2hlbWFSZWYpIHtcbiAgICAgIHJldHVybiBhc1NjaGVtYShzY2hlbWFSZWYpO1xuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9O1xuICBSZXNvbHZlZFNjaGVtYTIucHJvdG90eXBlLmdldFNlY3Rpb25SZWN1cnNpdmUgPSBmdW5jdGlvbihwYXRoLCBzY2hlbWEpIHtcbiAgICBpZiAoIXNjaGVtYSB8fCB0eXBlb2Ygc2NoZW1hID09PSBcImJvb2xlYW5cIiB8fCBwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICB9XG4gICAgdmFyIG5leHQgPSBwYXRoLnNoaWZ0KCk7XG4gICAgaWYgKHNjaGVtYS5wcm9wZXJ0aWVzICYmIHR5cGVvZiBzY2hlbWEucHJvcGVydGllc1tuZXh0XSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VjdGlvblJlY3Vyc2l2ZShwYXRoLCBzY2hlbWEucHJvcGVydGllc1tuZXh0XSk7XG4gICAgfSBlbHNlIGlmIChzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSBPYmplY3Qua2V5cyhzY2hlbWEucGF0dGVyblByb3BlcnRpZXMpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgcGF0dGVybiA9IF9hW19pXTtcbiAgICAgICAgdmFyIHJlZ2V4ID0gZXh0ZW5kZWRSZWdFeHAocGF0dGVybik7XG4gICAgICAgIGlmIChyZWdleCA9PT0gbnVsbCB8fCByZWdleCA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVnZXgudGVzdChuZXh0KSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLmdldFNlY3Rpb25SZWN1cnNpdmUocGF0aCwgc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm5dKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0U2VjdGlvblJlY3Vyc2l2ZShwYXRoLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgIH0gZWxzZSBpZiAobmV4dC5tYXRjaChcIlswLTldK1wiKSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKSkge1xuICAgICAgICB2YXIgaW5kZXggPSBwYXJzZUludChuZXh0LCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4oaW5kZXgpICYmIHNjaGVtYS5pdGVtc1tpbmRleF0pIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5pdGVtc1tpbmRleF0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHNjaGVtYS5pdGVtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTZWN0aW9uUmVjdXJzaXZlKHBhdGgsIHNjaGVtYS5pdGVtcyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2b2lkIDA7XG4gIH07XG4gIHJldHVybiBSZXNvbHZlZFNjaGVtYTI7XG59KCk7XG52YXIgSlNPTlNjaGVtYVNlcnZpY2UgPSBmdW5jdGlvbigpIHtcbiAgZnVuY3Rpb24gSlNPTlNjaGVtYVNlcnZpY2UyKHJlcXVlc3RTZXJ2aWNlLCBjb250ZXh0U2VydmljZSwgcHJvbWlzZUNvbnN0cnVjdG9yKSB7XG4gICAgdGhpcy5jb250ZXh0U2VydmljZSA9IGNvbnRleHRTZXJ2aWNlO1xuICAgIHRoaXMucmVxdWVzdFNlcnZpY2UgPSByZXF1ZXN0U2VydmljZTtcbiAgICB0aGlzLnByb21pc2VDb25zdHJ1Y3RvciA9IHByb21pc2VDb25zdHJ1Y3RvciB8fCBQcm9taXNlO1xuICAgIHRoaXMuY2FsbE9uRGlzcG9zZSA9IFtdO1xuICAgIHRoaXMuY29udHJpYnV0aW9uU2NoZW1hcyA9IHt9O1xuICAgIHRoaXMuY29udHJpYnV0aW9uQXNzb2NpYXRpb25zID0gW107XG4gICAgdGhpcy5zY2hlbWFzQnlJZCA9IHt9O1xuICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMgPSBbXTtcbiAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzID0ge307XG4gIH1cbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5nZXRSZWdpc3RlcmVkU2NoZW1hSWRzID0gZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMucmVnaXN0ZXJlZFNjaGVtYXNJZHMpLmZpbHRlcihmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIHNjaGVtZSA9IFVSSS5wYXJzZShpZCkuc2NoZW1lO1xuICAgICAgcmV0dXJuIHNjaGVtZSAhPT0gXCJzY2hlbWFzZXJ2aWNlXCIgJiYgKCFmaWx0ZXIgfHwgZmlsdGVyKHNjaGVtZSkpO1xuICAgIH0pO1xuICB9O1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZSwgXCJwcm9taXNlXCIsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZUNvbnN0cnVjdG9yO1xuICAgIH0sXG4gICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLmRpc3Bvc2UgPSBmdW5jdGlvbigpIHtcbiAgICB3aGlsZSAodGhpcy5jYWxsT25EaXNwb3NlLmxlbmd0aCA+IDApIHtcbiAgICAgIHRoaXMuY2FsbE9uRGlzcG9zZS5wb3AoKSgpO1xuICAgIH1cbiAgfTtcbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5vblJlc291cmNlQ2hhbmdlID0gZnVuY3Rpb24odXJpKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlID0gdm9pZCAwO1xuICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgdXJpID0gbm9ybWFsaXplSWQodXJpKTtcbiAgICB2YXIgdG9XYWxrID0gW3VyaV07XG4gICAgdmFyIGFsbCA9IE9iamVjdC5rZXlzKHRoaXMuc2NoZW1hc0J5SWQpLm1hcChmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBfdGhpcy5zY2hlbWFzQnlJZFtrZXldO1xuICAgIH0pO1xuICAgIHdoaWxlICh0b1dhbGsubGVuZ3RoKSB7XG4gICAgICB2YXIgY3VyciA9IHRvV2Fsay5wb3AoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBoYW5kbGUgPSBhbGxbaV07XG4gICAgICAgIGlmIChoYW5kbGUgJiYgKGhhbmRsZS51cmkgPT09IGN1cnIgfHwgaGFuZGxlLmRlcGVuZGVuY2llcy5oYXMoY3VycikpKSB7XG4gICAgICAgICAgaWYgKGhhbmRsZS51cmkgIT09IGN1cnIpIHtcbiAgICAgICAgICAgIHRvV2Fsay5wdXNoKGhhbmRsZS51cmkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaGFuZGxlLmNsZWFyU2NoZW1hKCkpIHtcbiAgICAgICAgICAgIGhhc0NoYW5nZXMgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbGxbaV0gPSB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhc0NoYW5nZXM7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUuc2V0U2NoZW1hQ29udHJpYnV0aW9ucyA9IGZ1bmN0aW9uKHNjaGVtYUNvbnRyaWJ1dGlvbnMyKSB7XG4gICAgaWYgKHNjaGVtYUNvbnRyaWJ1dGlvbnMyLnNjaGVtYXMpIHtcbiAgICAgIHZhciBzY2hlbWFzID0gc2NoZW1hQ29udHJpYnV0aW9uczIuc2NoZW1hcztcbiAgICAgIGZvciAodmFyIGlkIGluIHNjaGVtYXMpIHtcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25TY2hlbWFzW25vcm1hbGl6ZWRJZF0gPSB0aGlzLmFkZFNjaGVtYUhhbmRsZShub3JtYWxpemVkSWQsIHNjaGVtYXNbaWRdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hQ29udHJpYnV0aW9uczIuc2NoZW1hQXNzb2NpYXRpb25zKSkge1xuICAgICAgdmFyIHNjaGVtYUFzc29jaWF0aW9ucyA9IHNjaGVtYUNvbnRyaWJ1dGlvbnMyLnNjaGVtYUFzc29jaWF0aW9ucztcbiAgICAgIGZvciAodmFyIF9pID0gMCwgc2NoZW1hQXNzb2NpYXRpb25zXzEgPSBzY2hlbWFBc3NvY2lhdGlvbnM7IF9pIDwgc2NoZW1hQXNzb2NpYXRpb25zXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHZhciBzY2hlbWFBc3NvY2lhdGlvbiA9IHNjaGVtYUFzc29jaWF0aW9uc18xW19pXTtcbiAgICAgICAgdmFyIHVyaXMgPSBzY2hlbWFBc3NvY2lhdGlvbi51cmlzLm1hcChub3JtYWxpemVJZCk7XG4gICAgICAgIHZhciBhc3NvY2lhdGlvbiA9IHRoaXMuYWRkRmlsZVBhdHRlcm5Bc3NvY2lhdGlvbihzY2hlbWFBc3NvY2lhdGlvbi5wYXR0ZXJuLCB1cmlzKTtcbiAgICAgICAgdGhpcy5jb250cmlidXRpb25Bc3NvY2lhdGlvbnMucHVzaChhc3NvY2lhdGlvbik7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLmFkZFNjaGVtYUhhbmRsZSA9IGZ1bmN0aW9uKGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgIHZhciBzY2hlbWFIYW5kbGUgPSBuZXcgU2NoZW1hSGFuZGxlKHRoaXMsIGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCk7XG4gICAgdGhpcy5zY2hlbWFzQnlJZFtpZF0gPSBzY2hlbWFIYW5kbGU7XG4gICAgcmV0dXJuIHNjaGVtYUhhbmRsZTtcbiAgfTtcbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5nZXRPckFkZFNjaGVtYUhhbmRsZSA9IGZ1bmN0aW9uKGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgIHJldHVybiB0aGlzLnNjaGVtYXNCeUlkW2lkXSB8fCB0aGlzLmFkZFNjaGVtYUhhbmRsZShpZCwgdW5yZXNvbHZlZFNjaGVtYUNvbnRlbnQpO1xuICB9O1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLmFkZEZpbGVQYXR0ZXJuQXNzb2NpYXRpb24gPSBmdW5jdGlvbihwYXR0ZXJuLCB1cmlzKSB7XG4gICAgdmFyIGZwYSA9IG5ldyBGaWxlUGF0dGVybkFzc29jaWF0aW9uKHBhdHRlcm4sIHVyaXMpO1xuICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMucHVzaChmcGEpO1xuICAgIHJldHVybiBmcGE7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUucmVnaXN0ZXJFeHRlcm5hbFNjaGVtYSA9IGZ1bmN0aW9uKHVyaSwgZmlsZVBhdHRlcm5zLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkge1xuICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHVyaSk7XG4gICAgdGhpcy5yZWdpc3RlcmVkU2NoZW1hc0lkc1tpZF0gPSB0cnVlO1xuICAgIHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UgPSB2b2lkIDA7XG4gICAgaWYgKGZpbGVQYXR0ZXJucykge1xuICAgICAgdGhpcy5hZGRGaWxlUGF0dGVybkFzc29jaWF0aW9uKGZpbGVQYXR0ZXJucywgW2lkXSk7XG4gICAgfVxuICAgIHJldHVybiB1bnJlc29sdmVkU2NoZW1hQ29udGVudCA/IHRoaXMuYWRkU2NoZW1hSGFuZGxlKGlkLCB1bnJlc29sdmVkU2NoZW1hQ29udGVudCkgOiB0aGlzLmdldE9yQWRkU2NoZW1hSGFuZGxlKGlkKTtcbiAgfTtcbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5jbGVhckV4dGVybmFsU2NoZW1hcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2NoZW1hc0J5SWQgPSB7fTtcbiAgICB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zID0gW107XG4gICAgdGhpcy5yZWdpc3RlcmVkU2NoZW1hc0lkcyA9IHt9O1xuICAgIHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UgPSB2b2lkIDA7XG4gICAgZm9yICh2YXIgaWQgaW4gdGhpcy5jb250cmlidXRpb25TY2hlbWFzKSB7XG4gICAgICB0aGlzLnNjaGVtYXNCeUlkW2lkXSA9IHRoaXMuY29udHJpYnV0aW9uU2NoZW1hc1tpZF07XG4gICAgICB0aGlzLnJlZ2lzdGVyZWRTY2hlbWFzSWRzW2lkXSA9IHRydWU7XG4gICAgfVxuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmNvbnRyaWJ1dGlvbkFzc29jaWF0aW9uczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBjb250cmlidXRpb25Bc3NvY2lhdGlvbiA9IF9hW19pXTtcbiAgICAgIHRoaXMuZmlsZVBhdHRlcm5Bc3NvY2lhdGlvbnMucHVzaChjb250cmlidXRpb25Bc3NvY2lhdGlvbik7XG4gICAgfVxuICB9O1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLmdldFJlc29sdmVkU2NoZW1hID0gZnVuY3Rpb24oc2NoZW1hSWQpIHtcbiAgICB2YXIgaWQgPSBub3JtYWxpemVJZChzY2hlbWFJZCk7XG4gICAgdmFyIHNjaGVtYUhhbmRsZSA9IHRoaXMuc2NoZW1hc0J5SWRbaWRdO1xuICAgIGlmIChzY2hlbWFIYW5kbGUpIHtcbiAgICAgIHJldHVybiBzY2hlbWFIYW5kbGUuZ2V0UmVzb2x2ZWRTY2hlbWEoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKHZvaWQgMCk7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUubG9hZFNjaGVtYSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIGlmICghdGhpcy5yZXF1ZXN0U2VydmljZSkge1xuICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IGxvY2FsaXplNihcImpzb24uc2NoZW1hLm5vcmVxdWVzdHNlcnZpY2VcIiwgXCJVbmFibGUgdG8gbG9hZCBzY2hlbWEgZnJvbSAnezB9Jy4gTm8gc2NoZW1hIHJlcXVlc3Qgc2VydmljZSBhdmFpbGFibGVcIiwgdG9EaXNwbGF5U3RyaW5nKHVybCkpO1xuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZS5yZXNvbHZlKG5ldyBVbnJlc29sdmVkU2NoZW1hKHt9LCBbZXJyb3JNZXNzYWdlXSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0U2VydmljZSh1cmwpLnRoZW4oZnVuY3Rpb24oY29udGVudCkge1xuICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgIHZhciBlcnJvck1lc3NhZ2UyID0gbG9jYWxpemU2KFwianNvbi5zY2hlbWEubm9jb250ZW50XCIsIFwiVW5hYmxlIHRvIGxvYWQgc2NoZW1hIGZyb20gJ3swfSc6IE5vIGNvbnRlbnQuXCIsIHRvRGlzcGxheVN0cmluZyh1cmwpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVbnJlc29sdmVkU2NoZW1hKHt9LCBbZXJyb3JNZXNzYWdlMl0pO1xuICAgICAgfVxuICAgICAgdmFyIHNjaGVtYUNvbnRlbnQgPSB7fTtcbiAgICAgIHZhciBqc29uRXJyb3JzID0gW107XG4gICAgICBzY2hlbWFDb250ZW50ID0gcGFyc2UyKGNvbnRlbnQsIGpzb25FcnJvcnMpO1xuICAgICAgdmFyIGVycm9ycyA9IGpzb25FcnJvcnMubGVuZ3RoID8gW2xvY2FsaXplNihcImpzb24uc2NoZW1hLmludmFsaWRGb3JtYXRcIiwgXCJVbmFibGUgdG8gcGFyc2UgY29udGVudCBmcm9tICd7MH0nOiBQYXJzZSBlcnJvciBhdCBvZmZzZXQgezF9LlwiLCB0b0Rpc3BsYXlTdHJpbmcodXJsKSwganNvbkVycm9yc1swXS5vZmZzZXQpXSA6IFtdO1xuICAgICAgcmV0dXJuIG5ldyBVbnJlc29sdmVkU2NoZW1hKHNjaGVtYUNvbnRlbnQsIGVycm9ycyk7XG4gICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgIHZhciBlcnJvck1lc3NhZ2UyID0gZXJyb3IudG9TdHJpbmcoKTtcbiAgICAgIHZhciBlcnJvclNwbGl0ID0gZXJyb3IudG9TdHJpbmcoKS5zcGxpdChcIkVycm9yOiBcIik7XG4gICAgICBpZiAoZXJyb3JTcGxpdC5sZW5ndGggPiAxKSB7XG4gICAgICAgIGVycm9yTWVzc2FnZTIgPSBlcnJvclNwbGl0WzFdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZHNXaXRoKGVycm9yTWVzc2FnZTIsIFwiLlwiKSkge1xuICAgICAgICBlcnJvck1lc3NhZ2UyID0gZXJyb3JNZXNzYWdlMi5zdWJzdHIoMCwgZXJyb3JNZXNzYWdlMi5sZW5ndGggLSAxKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgVW5yZXNvbHZlZFNjaGVtYSh7fSwgW2xvY2FsaXplNihcImpzb24uc2NoZW1hLm5vY29udGVudFwiLCBcIlVuYWJsZSB0byBsb2FkIHNjaGVtYSBmcm9tICd7MH0nOiB7MX0uXCIsIHRvRGlzcGxheVN0cmluZyh1cmwpLCBlcnJvck1lc3NhZ2UyKV0pO1xuICAgIH0pO1xuICB9O1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLnJlc29sdmVTY2hlbWFDb250ZW50ID0gZnVuY3Rpb24oc2NoZW1hVG9SZXNvbHZlLCBoYW5kbGUpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHZhciByZXNvbHZlRXJyb3JzID0gc2NoZW1hVG9SZXNvbHZlLmVycm9ycy5zbGljZSgwKTtcbiAgICB2YXIgc2NoZW1hID0gc2NoZW1hVG9SZXNvbHZlLnNjaGVtYTtcbiAgICBpZiAoc2NoZW1hLiRzY2hlbWEpIHtcbiAgICAgIHZhciBpZCA9IG5vcm1hbGl6ZUlkKHNjaGVtYS4kc2NoZW1hKTtcbiAgICAgIGlmIChpZCA9PT0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTAzL3NjaGVtYVwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb21pc2UucmVzb2x2ZShuZXcgUmVzb2x2ZWRTY2hlbWEoe30sIFtsb2NhbGl6ZTYoXCJqc29uLnNjaGVtYS5kcmFmdDAzLm5vdHN1cHBvcnRlZFwiLCBcIkRyYWZ0LTAzIHNjaGVtYXMgYXJlIG5vdCBzdXBwb3J0ZWQuXCIpXSkpO1xuICAgICAgfSBlbHNlIGlmIChpZCA9PT0gXCJodHRwczovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC8yMDE5LTA5L3NjaGVtYVwiKSB7XG4gICAgICAgIHJlc29sdmVFcnJvcnMucHVzaChsb2NhbGl6ZTYoXCJqc29uLnNjaGVtYS5kcmFmdDIwMTkwOS5ub3RzdXBwb3J0ZWRcIiwgXCJEcmFmdCAyMDE5LTA5IHNjaGVtYXMgYXJlIG5vdCB5ZXQgZnVsbHkgc3VwcG9ydGVkLlwiKSk7XG4gICAgICB9IGVsc2UgaWYgKGlkID09PSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMjAtMTIvc2NoZW1hXCIpIHtcbiAgICAgICAgcmVzb2x2ZUVycm9ycy5wdXNoKGxvY2FsaXplNihcImpzb24uc2NoZW1hLmRyYWZ0MjAyMDEyLm5vdHN1cHBvcnRlZFwiLCBcIkRyYWZ0IDIwMjAtMTIgc2NoZW1hcyBhcmUgbm90IHlldCBmdWxseSBzdXBwb3J0ZWQuXCIpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNvbnRleHRTZXJ2aWNlID0gdGhpcy5jb250ZXh0U2VydmljZTtcbiAgICB2YXIgZmluZFNlY3Rpb25CeUpTT05Qb2ludGVyID0gZnVuY3Rpb24oc2NoZW1hMiwgcGF0aCkge1xuICAgICAgcGF0aCA9IGRlY29kZVVSSUNvbXBvbmVudChwYXRoKTtcbiAgICAgIHZhciBjdXJyZW50ID0gc2NoZW1hMjtcbiAgICAgIGlmIChwYXRoWzBdID09PSBcIi9cIikge1xuICAgICAgICBwYXRoID0gcGF0aC5zdWJzdHJpbmcoMSk7XG4gICAgICB9XG4gICAgICBwYXRoLnNwbGl0KFwiL1wiKS5zb21lKGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgcGFydCA9IHBhcnQucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcbiAgICAgICAgY3VycmVudCA9IGN1cnJlbnRbcGFydF07XG4gICAgICAgIHJldHVybiAhY3VycmVudDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGN1cnJlbnQ7XG4gICAgfTtcbiAgICB2YXIgZmluZFNjaGVtYUJ5SWQgPSBmdW5jdGlvbihzY2hlbWEyLCBoYW5kbGUyLCBpZDIpIHtcbiAgICAgIGlmICghaGFuZGxlMi5hbmNob3JzKSB7XG4gICAgICAgIGhhbmRsZTIuYW5jaG9ycyA9IGNvbGxlY3RBbmNob3JzKHNjaGVtYTIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGhhbmRsZTIuYW5jaG9ycy5nZXQoaWQyKTtcbiAgICB9O1xuICAgIHZhciBtZXJnZSA9IGZ1bmN0aW9uKHRhcmdldCwgc2VjdGlvbikge1xuICAgICAgZm9yICh2YXIga2V5IGluIHNlY3Rpb24pIHtcbiAgICAgICAgaWYgKHNlY3Rpb24uaGFzT3duUHJvcGVydHkoa2V5KSAmJiAhdGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkgJiYga2V5ICE9PSBcImlkXCIgJiYga2V5ICE9PSBcIiRpZFwiKSB7XG4gICAgICAgICAgdGFyZ2V0W2tleV0gPSBzZWN0aW9uW2tleV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBtZXJnZVJlZiA9IGZ1bmN0aW9uKHRhcmdldCwgc291cmNlUm9vdCwgc291cmNlSGFuZGxlLCByZWZTZWdtZW50KSB7XG4gICAgICB2YXIgc2VjdGlvbjtcbiAgICAgIGlmIChyZWZTZWdtZW50ID09PSB2b2lkIDAgfHwgcmVmU2VnbWVudC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgc2VjdGlvbiA9IHNvdXJjZVJvb3Q7XG4gICAgICB9IGVsc2UgaWYgKHJlZlNlZ21lbnQuY2hhckF0KDApID09PSBcIi9cIikge1xuICAgICAgICBzZWN0aW9uID0gZmluZFNlY3Rpb25CeUpTT05Qb2ludGVyKHNvdXJjZVJvb3QsIHJlZlNlZ21lbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VjdGlvbiA9IGZpbmRTY2hlbWFCeUlkKHNvdXJjZVJvb3QsIHNvdXJjZUhhbmRsZSwgcmVmU2VnbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc2VjdGlvbikge1xuICAgICAgICBtZXJnZSh0YXJnZXQsIHNlY3Rpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZUVycm9ycy5wdXNoKGxvY2FsaXplNihcImpzb24uc2NoZW1hLmludmFsaWRpZFwiLCBcIiRyZWYgJ3swfScgaW4gJ3sxfScgY2FuIG5vdCBiZSByZXNvbHZlZC5cIiwgcmVmU2VnbWVudCwgc291cmNlSGFuZGxlLnVyaSkpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlc29sdmVFeHRlcm5hbExpbmsgPSBmdW5jdGlvbihub2RlLCB1cmksIHJlZlNlZ21lbnQsIHBhcmVudEhhbmRsZSkge1xuICAgICAgaWYgKGNvbnRleHRTZXJ2aWNlICYmICEvXltBLVphLXpdW0EtWmEtejAtOStcXC0uK10qOlxcL1xcLy4qLy50ZXN0KHVyaSkpIHtcbiAgICAgICAgdXJpID0gY29udGV4dFNlcnZpY2UucmVzb2x2ZVJlbGF0aXZlUGF0aCh1cmksIHBhcmVudEhhbmRsZS51cmkpO1xuICAgICAgfVxuICAgICAgdXJpID0gbm9ybWFsaXplSWQodXJpKTtcbiAgICAgIHZhciByZWZlcmVuY2VkSGFuZGxlID0gX3RoaXMuZ2V0T3JBZGRTY2hlbWFIYW5kbGUodXJpKTtcbiAgICAgIHJldHVybiByZWZlcmVuY2VkSGFuZGxlLmdldFVucmVzb2x2ZWRTY2hlbWEoKS50aGVuKGZ1bmN0aW9uKHVucmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgcGFyZW50SGFuZGxlLmRlcGVuZGVuY2llcy5hZGQodXJpKTtcbiAgICAgICAgaWYgKHVucmVzb2x2ZWRTY2hlbWEuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsb2MgPSByZWZTZWdtZW50ID8gdXJpICsgXCIjXCIgKyByZWZTZWdtZW50IDogdXJpO1xuICAgICAgICAgIHJlc29sdmVFcnJvcnMucHVzaChsb2NhbGl6ZTYoXCJqc29uLnNjaGVtYS5wcm9ibGVtbG9hZGluZ3JlZlwiLCBcIlByb2JsZW1zIGxvYWRpbmcgcmVmZXJlbmNlICd7MH0nOiB7MX1cIiwgbG9jLCB1bnJlc29sdmVkU2NoZW1hLmVycm9yc1swXSkpO1xuICAgICAgICB9XG4gICAgICAgIG1lcmdlUmVmKG5vZGUsIHVucmVzb2x2ZWRTY2hlbWEuc2NoZW1hLCByZWZlcmVuY2VkSGFuZGxlLCByZWZTZWdtZW50KTtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVSZWZzKG5vZGUsIHVucmVzb2x2ZWRTY2hlbWEuc2NoZW1hLCByZWZlcmVuY2VkSGFuZGxlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgdmFyIHJlc29sdmVSZWZzID0gZnVuY3Rpb24obm9kZSwgcGFyZW50U2NoZW1hLCBwYXJlbnRIYW5kbGUpIHtcbiAgICAgIHZhciBvcGVuUHJvbWlzZXMgPSBbXTtcbiAgICAgIF90aGlzLnRyYXZlcnNlTm9kZXMobm9kZSwgZnVuY3Rpb24obmV4dCkge1xuICAgICAgICB2YXIgc2VlblJlZnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgICAgICB3aGlsZSAobmV4dC4kcmVmKSB7XG4gICAgICAgICAgdmFyIHJlZiA9IG5leHQuJHJlZjtcbiAgICAgICAgICB2YXIgc2VnbWVudHMgPSByZWYuc3BsaXQoXCIjXCIsIDIpO1xuICAgICAgICAgIGRlbGV0ZSBuZXh0LiRyZWY7XG4gICAgICAgICAgaWYgKHNlZ21lbnRzWzBdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9wZW5Qcm9taXNlcy5wdXNoKHJlc29sdmVFeHRlcm5hbExpbmsobmV4dCwgc2VnbWVudHNbMF0sIHNlZ21lbnRzWzFdLCBwYXJlbnRIYW5kbGUpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFzZWVuUmVmcy5oYXMocmVmKSkge1xuICAgICAgICAgICAgICB2YXIgaWQyID0gc2VnbWVudHNbMV07XG4gICAgICAgICAgICAgIG1lcmdlUmVmKG5leHQsIHBhcmVudFNjaGVtYSwgcGFyZW50SGFuZGxlLCBpZDIpO1xuICAgICAgICAgICAgICBzZWVuUmVmcy5hZGQocmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIF90aGlzLnByb21pc2UuYWxsKG9wZW5Qcm9taXNlcyk7XG4gICAgfTtcbiAgICB2YXIgY29sbGVjdEFuY2hvcnMgPSBmdW5jdGlvbihyb290KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICAgIF90aGlzLnRyYXZlcnNlTm9kZXMocm9vdCwgZnVuY3Rpb24obmV4dCkge1xuICAgICAgICB2YXIgaWQyID0gbmV4dC4kaWQgfHwgbmV4dC5pZDtcbiAgICAgICAgaWYgKHR5cGVvZiBpZDIgPT09IFwic3RyaW5nXCIgJiYgaWQyLmNoYXJBdCgwKSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICB2YXIgYW5jaG9yID0gaWQyLnN1YnN0cmluZygxKTtcbiAgICAgICAgICBpZiAocmVzdWx0LmhhcyhhbmNob3IpKSB7XG4gICAgICAgICAgICByZXNvbHZlRXJyb3JzLnB1c2gobG9jYWxpemU2KFwianNvbi5zY2hlbWEuZHVwbGljYXRlaWRcIiwgXCJEdXBsaWNhdGUgaWQgZGVjbGFyYXRpb246ICd7MH0nXCIsIGlkMikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuc2V0KGFuY2hvciwgbmV4dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICByZXR1cm4gcmVzb2x2ZVJlZnMoc2NoZW1hLCBzY2hlbWEsIGhhbmRsZSkudGhlbihmdW5jdGlvbihfKSB7XG4gICAgICByZXR1cm4gbmV3IFJlc29sdmVkU2NoZW1hKHNjaGVtYSwgcmVzb2x2ZUVycm9ycyk7XG4gICAgfSk7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUudHJhdmVyc2VOb2RlcyA9IGZ1bmN0aW9uKHJvb3QsIGhhbmRsZSkge1xuICAgIGlmICghcm9vdCB8fCB0eXBlb2Ygcm9vdCAhPT0gXCJvYmplY3RcIikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgdmFyIHNlZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldCgpO1xuICAgIHZhciBjb2xsZWN0RW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGVudHJpZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9hID0gMCwgZW50cmllc18xID0gZW50cmllczsgX2EgPCBlbnRyaWVzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNfMVtfYV07XG4gICAgICAgIGlmICh0eXBlb2YgZW50cnkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICB0b1dhbGsucHVzaChlbnRyeSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBjb2xsZWN0TWFwRW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcHMgPSBbXTtcbiAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG1hcHNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIF9hID0gMCwgbWFwc18xID0gbWFwczsgX2EgPCBtYXBzXzEubGVuZ3RoOyBfYSsrKSB7XG4gICAgICAgIHZhciBtYXAgPSBtYXBzXzFbX2FdO1xuICAgICAgICBpZiAodHlwZW9mIG1hcCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIGZvciAodmFyIGsgaW4gbWFwKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0gaztcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG1hcFtrZXldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBlbnRyeSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICB0b1dhbGsucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgY29sbGVjdEFycmF5RW50cmllcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGFycmF5cyA9IFtdO1xuICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJyYXlzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBfYSA9IDAsIGFycmF5c18xID0gYXJyYXlzOyBfYSA8IGFycmF5c18xLmxlbmd0aDsgX2ErKykge1xuICAgICAgICB2YXIgYXJyYXkgPSBhcnJheXNfMVtfYV07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgICAgICAgIGZvciAodmFyIF9iID0gMCwgYXJyYXlfMSA9IGFycmF5OyBfYiA8IGFycmF5XzEubGVuZ3RoOyBfYisrKSB7XG4gICAgICAgICAgICB2YXIgZW50cnkgPSBhcnJheV8xW19iXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZW50cnkgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgdG9XYWxrLnB1c2goZW50cnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHRvV2FsayA9IFtyb290XTtcbiAgICB2YXIgbmV4dCA9IHRvV2Fsay5wb3AoKTtcbiAgICB3aGlsZSAobmV4dCkge1xuICAgICAgaWYgKCFzZWVuLmhhcyhuZXh0KSkge1xuICAgICAgICBzZWVuLmFkZChuZXh0KTtcbiAgICAgICAgaGFuZGxlKG5leHQpO1xuICAgICAgICBjb2xsZWN0RW50cmllcyhuZXh0Lml0ZW1zLCBuZXh0LmFkZGl0aW9uYWxJdGVtcywgbmV4dC5hZGRpdGlvbmFsUHJvcGVydGllcywgbmV4dC5ub3QsIG5leHQuY29udGFpbnMsIG5leHQucHJvcGVydHlOYW1lcywgbmV4dC5pZiwgbmV4dC50aGVuLCBuZXh0LmVsc2UpO1xuICAgICAgICBjb2xsZWN0TWFwRW50cmllcyhuZXh0LmRlZmluaXRpb25zLCBuZXh0LnByb3BlcnRpZXMsIG5leHQucGF0dGVyblByb3BlcnRpZXMsIG5leHQuZGVwZW5kZW5jaWVzKTtcbiAgICAgICAgY29sbGVjdEFycmF5RW50cmllcyhuZXh0LmFueU9mLCBuZXh0LmFsbE9mLCBuZXh0Lm9uZU9mLCBuZXh0Lml0ZW1zKTtcbiAgICAgIH1cbiAgICAgIG5leHQgPSB0b1dhbGsucG9wKCk7XG4gICAgfVxuICB9O1xuICA7XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUuZ2V0U2NoZW1hRnJvbVByb3BlcnR5ID0gZnVuY3Rpb24ocmVzb3VyY2UsIGRvY3VtZW50KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBpZiAoKChfYSA9IGRvY3VtZW50LnJvb3QpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50eXBlKSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYyA9IGRvY3VtZW50LnJvb3QucHJvcGVydGllczsgX2kgPCBfYy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIHAgPSBfY1tfaV07XG4gICAgICAgIGlmIChwLmtleU5vZGUudmFsdWUgPT09IFwiJHNjaGVtYVwiICYmICgoX2IgPSBwLnZhbHVlTm9kZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnR5cGUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgdmFyIHNjaGVtYUlkID0gcC52YWx1ZU5vZGUudmFsdWU7XG4gICAgICAgICAgaWYgKHRoaXMuY29udGV4dFNlcnZpY2UgJiYgIS9eXFx3W1xcd1xcZCsuLV0qOi8udGVzdChzY2hlbWFJZCkpIHtcbiAgICAgICAgICAgIHNjaGVtYUlkID0gdGhpcy5jb250ZXh0U2VydmljZS5yZXNvbHZlUmVsYXRpdmVQYXRoKHNjaGVtYUlkLCByZXNvdXJjZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBzY2hlbWFJZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdm9pZCAwO1xuICB9O1xuICBKU09OU2NoZW1hU2VydmljZTIucHJvdG90eXBlLmdldEFzc29jaWF0ZWRTY2hlbWFzID0gZnVuY3Rpb24ocmVzb3VyY2UpIHtcbiAgICB2YXIgc2VlbiA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHZhciBzY2hlbWFzID0gW107XG4gICAgdmFyIG5vcm1hbGl6ZWRSZXNvdXJjZSA9IG5vcm1hbGl6ZVJlc291cmNlRm9yTWF0Y2hpbmcocmVzb3VyY2UpO1xuICAgIGZvciAodmFyIF9pID0gMCwgX2EgPSB0aGlzLmZpbGVQYXR0ZXJuQXNzb2NpYXRpb25zOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGVudHJ5ID0gX2FbX2ldO1xuICAgICAgaWYgKGVudHJ5Lm1hdGNoZXNQYXR0ZXJuKG5vcm1hbGl6ZWRSZXNvdXJjZSkpIHtcbiAgICAgICAgZm9yICh2YXIgX2IgPSAwLCBfYyA9IGVudHJ5LmdldFVSSXMoKTsgX2IgPCBfYy5sZW5ndGg7IF9iKyspIHtcbiAgICAgICAgICB2YXIgc2NoZW1hSWQgPSBfY1tfYl07XG4gICAgICAgICAgaWYgKCFzZWVuW3NjaGVtYUlkXSkge1xuICAgICAgICAgICAgc2NoZW1hcy5wdXNoKHNjaGVtYUlkKTtcbiAgICAgICAgICAgIHNlZW5bc2NoZW1hSWRdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYXM7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUuZ2V0U2NoZW1hVVJJc0ZvclJlc291cmNlID0gZnVuY3Rpb24ocmVzb3VyY2UsIGRvY3VtZW50KSB7XG4gICAgdmFyIHNjaGVtZUlkID0gZG9jdW1lbnQgJiYgdGhpcy5nZXRTY2hlbWFGcm9tUHJvcGVydHkocmVzb3VyY2UsIGRvY3VtZW50KTtcbiAgICBpZiAoc2NoZW1lSWQpIHtcbiAgICAgIHJldHVybiBbc2NoZW1lSWRdO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5nZXRBc3NvY2lhdGVkU2NoZW1hcyhyZXNvdXJjZSk7XG4gIH07XG4gIEpTT05TY2hlbWFTZXJ2aWNlMi5wcm90b3R5cGUuZ2V0U2NoZW1hRm9yUmVzb3VyY2UgPSBmdW5jdGlvbihyZXNvdXJjZSwgZG9jdW1lbnQpIHtcbiAgICBpZiAoZG9jdW1lbnQpIHtcbiAgICAgIHZhciBzY2hlbWVJZCA9IHRoaXMuZ2V0U2NoZW1hRnJvbVByb3BlcnR5KHJlc291cmNlLCBkb2N1bWVudCk7XG4gICAgICBpZiAoc2NoZW1lSWQpIHtcbiAgICAgICAgdmFyIGlkID0gbm9ybWFsaXplSWQoc2NoZW1lSWQpO1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRPckFkZFNjaGVtYUhhbmRsZShpZCkuZ2V0UmVzb2x2ZWRTY2hlbWEoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UgJiYgdGhpcy5jYWNoZWRTY2hlbWFGb3JSZXNvdXJjZS5yZXNvdXJjZSA9PT0gcmVzb3VyY2UpIHtcbiAgICAgIHJldHVybiB0aGlzLmNhY2hlZFNjaGVtYUZvclJlc291cmNlLnJlc29sdmVkU2NoZW1hO1xuICAgIH1cbiAgICB2YXIgc2NoZW1hcyA9IHRoaXMuZ2V0QXNzb2NpYXRlZFNjaGVtYXMocmVzb3VyY2UpO1xuICAgIHZhciByZXNvbHZlZFNjaGVtYSA9IHNjaGVtYXMubGVuZ3RoID4gMCA/IHRoaXMuY3JlYXRlQ29tYmluZWRTY2hlbWEocmVzb3VyY2UsIHNjaGVtYXMpLmdldFJlc29sdmVkU2NoZW1hKCkgOiB0aGlzLnByb21pc2UucmVzb2x2ZSh2b2lkIDApO1xuICAgIHRoaXMuY2FjaGVkU2NoZW1hRm9yUmVzb3VyY2UgPSB7IHJlc291cmNlLCByZXNvbHZlZFNjaGVtYSB9O1xuICAgIHJldHVybiByZXNvbHZlZFNjaGVtYTtcbiAgfTtcbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5jcmVhdGVDb21iaW5lZFNjaGVtYSA9IGZ1bmN0aW9uKHJlc291cmNlLCBzY2hlbWFJZHMpIHtcbiAgICBpZiAoc2NoZW1hSWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JBZGRTY2hlbWFIYW5kbGUoc2NoZW1hSWRzWzBdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbWJpbmVkU2NoZW1hSWQgPSBcInNjaGVtYXNlcnZpY2U6Ly9jb21iaW5lZFNjaGVtYS9cIiArIGVuY29kZVVSSUNvbXBvbmVudChyZXNvdXJjZSk7XG4gICAgICB2YXIgY29tYmluZWRTY2hlbWEgPSB7XG4gICAgICAgIGFsbE9mOiBzY2hlbWFJZHMubWFwKGZ1bmN0aW9uKHNjaGVtYUlkKSB7XG4gICAgICAgICAgcmV0dXJuIHsgJHJlZjogc2NoZW1hSWQgfTtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgICByZXR1cm4gdGhpcy5hZGRTY2hlbWFIYW5kbGUoY29tYmluZWRTY2hlbWFJZCwgY29tYmluZWRTY2hlbWEpO1xuICAgIH1cbiAgfTtcbiAgSlNPTlNjaGVtYVNlcnZpY2UyLnByb3RvdHlwZS5nZXRNYXRjaGluZ1NjaGVtYXMgPSBmdW5jdGlvbihkb2N1bWVudCwganNvbkRvY3VtZW50LCBzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hKSB7XG4gICAgICB2YXIgaWQgPSBzY2hlbWEuaWQgfHwgXCJzY2hlbWFzZXJ2aWNlOi8vdW50aXRsZWQvbWF0Y2hpbmdTY2hlbWFzL1wiICsgaWRDb3VudGVyMisrO1xuICAgICAgdmFyIGhhbmRsZSA9IHRoaXMuYWRkU2NoZW1hSGFuZGxlKGlkLCBzY2hlbWEpO1xuICAgICAgcmV0dXJuIGhhbmRsZS5nZXRSZXNvbHZlZFNjaGVtYSgpLnRoZW4oZnVuY3Rpb24ocmVzb2x2ZWRTY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIGpzb25Eb2N1bWVudC5nZXRNYXRjaGluZ1NjaGVtYXMocmVzb2x2ZWRTY2hlbWEuc2NoZW1hKS5maWx0ZXIoZnVuY3Rpb24ocykge1xuICAgICAgICAgIHJldHVybiAhcy5pbnZlcnRlZDtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuZ2V0U2NoZW1hRm9yUmVzb3VyY2UoZG9jdW1lbnQudXJpLCBqc29uRG9jdW1lbnQpLnRoZW4oZnVuY3Rpb24oc2NoZW1hMikge1xuICAgICAgaWYgKHNjaGVtYTIpIHtcbiAgICAgICAgcmV0dXJuIGpzb25Eb2N1bWVudC5nZXRNYXRjaGluZ1NjaGVtYXMoc2NoZW1hMi5zY2hlbWEpLmZpbHRlcihmdW5jdGlvbihzKSB7XG4gICAgICAgICAgcmV0dXJuICFzLmludmVydGVkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbXTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIEpTT05TY2hlbWFTZXJ2aWNlMjtcbn0oKTtcbnZhciBpZENvdW50ZXIyID0gMDtcbmZ1bmN0aW9uIG5vcm1hbGl6ZUlkKGlkKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIFVSSS5wYXJzZShpZCkudG9TdHJpbmcodHJ1ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlc291cmNlRm9yTWF0Y2hpbmcocmVzb3VyY2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gVVJJLnBhcnNlKHJlc291cmNlKS53aXRoKHsgZnJhZ21lbnQ6IG51bGwsIHF1ZXJ5OiBudWxsIH0pLnRvU3RyaW5nKHRydWUpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHJlc291cmNlO1xuICB9XG59XG5mdW5jdGlvbiB0b0Rpc3BsYXlTdHJpbmcodXJsKSB7XG4gIHRyeSB7XG4gICAgdmFyIHVyaSA9IFVSSS5wYXJzZSh1cmwpO1xuICAgIGlmICh1cmkuc2NoZW1lID09PSBcImZpbGVcIikge1xuICAgICAgcmV0dXJuIHVyaS5mc1BhdGg7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gIH1cbiAgcmV0dXJuIHVybDtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL3NlcnZpY2VzL2pzb25Gb2xkaW5nLmpzXG5mdW5jdGlvbiBnZXRGb2xkaW5nUmFuZ2VzKGRvY3VtZW50LCBjb250ZXh0KSB7XG4gIHZhciByYW5nZXMgPSBbXTtcbiAgdmFyIG5lc3RpbmdMZXZlbHMgPSBbXTtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBwcmV2U3RhcnQgPSAtMTtcbiAgdmFyIHNjYW5uZXIgPSBjcmVhdGVTY2FubmVyMihkb2N1bWVudC5nZXRUZXh0KCksIGZhbHNlKTtcbiAgdmFyIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gIGZ1bmN0aW9uIGFkZFJhbmdlKHJhbmdlMikge1xuICAgIHJhbmdlcy5wdXNoKHJhbmdlMik7XG4gICAgbmVzdGluZ0xldmVscy5wdXNoKHN0YWNrLmxlbmd0aCk7XG4gIH1cbiAgd2hpbGUgKHRva2VuICE9PSAxNykge1xuICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgIGNhc2UgMzoge1xuICAgICAgICB2YXIgc3RhcnRMaW5lID0gZG9jdW1lbnQucG9zaXRpb25BdChzY2FubmVyLmdldFRva2VuT2Zmc2V0KCkpLmxpbmU7XG4gICAgICAgIHZhciByYW5nZSA9IHsgc3RhcnRMaW5lLCBlbmRMaW5lOiBzdGFydExpbmUsIGtpbmQ6IHRva2VuID09PSAxID8gXCJvYmplY3RcIiA6IFwiYXJyYXlcIiB9O1xuICAgICAgICBzdGFjay5wdXNoKHJhbmdlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIDI6XG4gICAgICBjYXNlIDQ6IHtcbiAgICAgICAgdmFyIGtpbmQgPSB0b2tlbiA9PT0gMiA/IFwib2JqZWN0XCIgOiBcImFycmF5XCI7XG4gICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwICYmIHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdLmtpbmQgPT09IGtpbmQpIHtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICB2YXIgbGluZSA9IGRvY3VtZW50LnBvc2l0aW9uQXQoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpKS5saW5lO1xuICAgICAgICAgIGlmIChyYW5nZSAmJiBsaW5lID4gcmFuZ2Uuc3RhcnRMaW5lICsgMSAmJiBwcmV2U3RhcnQgIT09IHJhbmdlLnN0YXJ0TGluZSkge1xuICAgICAgICAgICAgcmFuZ2UuZW5kTGluZSA9IGxpbmUgLSAxO1xuICAgICAgICAgICAgYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgcHJldlN0YXJ0ID0gcmFuZ2Uuc3RhcnRMaW5lO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgMTM6IHtcbiAgICAgICAgdmFyIHN0YXJ0TGluZSA9IGRvY3VtZW50LnBvc2l0aW9uQXQoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpKS5saW5lO1xuICAgICAgICB2YXIgZW5kTGluZSA9IGRvY3VtZW50LnBvc2l0aW9uQXQoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpICsgc2Nhbm5lci5nZXRUb2tlbkxlbmd0aCgpKS5saW5lO1xuICAgICAgICBpZiAoc2Nhbm5lci5nZXRUb2tlbkVycm9yKCkgPT09IDEgJiYgc3RhcnRMaW5lICsgMSA8IGRvY3VtZW50LmxpbmVDb3VudCkge1xuICAgICAgICAgIHNjYW5uZXIuc2V0UG9zaXRpb24oZG9jdW1lbnQub2Zmc2V0QXQoUG9zaXRpb24uY3JlYXRlKHN0YXJ0TGluZSArIDEsIDApKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHN0YXJ0TGluZSA8IGVuZExpbmUpIHtcbiAgICAgICAgICAgIGFkZFJhbmdlKHsgc3RhcnRMaW5lLCBlbmRMaW5lLCBraW5kOiBGb2xkaW5nUmFuZ2VLaW5kLkNvbW1lbnQgfSk7XG4gICAgICAgICAgICBwcmV2U3RhcnQgPSBzdGFydExpbmU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSAxMjoge1xuICAgICAgICB2YXIgdGV4dCA9IGRvY3VtZW50LmdldFRleHQoKS5zdWJzdHIoc2Nhbm5lci5nZXRUb2tlbk9mZnNldCgpLCBzY2FubmVyLmdldFRva2VuTGVuZ3RoKCkpO1xuICAgICAgICB2YXIgbSA9IHRleHQubWF0Y2goL15cXC9cXC9cXHMqIyhyZWdpb25cXGIpfChlbmRyZWdpb25cXGIpLyk7XG4gICAgICAgIGlmIChtKSB7XG4gICAgICAgICAgdmFyIGxpbmUgPSBkb2N1bWVudC5wb3NpdGlvbkF0KHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSkubGluZTtcbiAgICAgICAgICBpZiAobVsxXSkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0geyBzdGFydExpbmU6IGxpbmUsIGVuZExpbmU6IGxpbmUsIGtpbmQ6IEZvbGRpbmdSYW5nZUtpbmQuUmVnaW9uIH07XG4gICAgICAgICAgICBzdGFjay5wdXNoKHJhbmdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGkgPSBzdGFjay5sZW5ndGggLSAxO1xuICAgICAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBzdGFja1tpXS5raW5kICE9PSBGb2xkaW5nUmFuZ2VLaW5kLlJlZ2lvbikge1xuICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA+PSAwKSB7XG4gICAgICAgICAgICAgIHZhciByYW5nZSA9IHN0YWNrW2ldO1xuICAgICAgICAgICAgICBzdGFjay5sZW5ndGggPSBpO1xuICAgICAgICAgICAgICBpZiAobGluZSA+IHJhbmdlLnN0YXJ0TGluZSAmJiBwcmV2U3RhcnQgIT09IHJhbmdlLnN0YXJ0TGluZSkge1xuICAgICAgICAgICAgICAgIHJhbmdlLmVuZExpbmUgPSBsaW5lO1xuICAgICAgICAgICAgICAgIGFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICBwcmV2U3RhcnQgPSByYW5nZS5zdGFydExpbmU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHRva2VuID0gc2Nhbm5lci5zY2FuKCk7XG4gIH1cbiAgdmFyIHJhbmdlTGltaXQgPSBjb250ZXh0ICYmIGNvbnRleHQucmFuZ2VMaW1pdDtcbiAgaWYgKHR5cGVvZiByYW5nZUxpbWl0ICE9PSBcIm51bWJlclwiIHx8IHJhbmdlcy5sZW5ndGggPD0gcmFuZ2VMaW1pdCkge1xuICAgIHJldHVybiByYW5nZXM7XG4gIH1cbiAgaWYgKGNvbnRleHQgJiYgY29udGV4dC5vblJhbmdlTGltaXRFeGNlZWRlZCkge1xuICAgIGNvbnRleHQub25SYW5nZUxpbWl0RXhjZWVkZWQoZG9jdW1lbnQudXJpKTtcbiAgfVxuICB2YXIgY291bnRzID0gW107XG4gIGZvciAodmFyIF9pID0gMCwgbmVzdGluZ0xldmVsc18xID0gbmVzdGluZ0xldmVsczsgX2kgPCBuZXN0aW5nTGV2ZWxzXzEubGVuZ3RoOyBfaSsrKSB7XG4gICAgdmFyIGxldmVsID0gbmVzdGluZ0xldmVsc18xW19pXTtcbiAgICBpZiAobGV2ZWwgPCAzMCkge1xuICAgICAgY291bnRzW2xldmVsXSA9IChjb3VudHNbbGV2ZWxdIHx8IDApICsgMTtcbiAgICB9XG4gIH1cbiAgdmFyIGVudHJpZXMgPSAwO1xuICB2YXIgbWF4TGV2ZWwgPSAwO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBuID0gY291bnRzW2ldO1xuICAgIGlmIChuKSB7XG4gICAgICBpZiAobiArIGVudHJpZXMgPiByYW5nZUxpbWl0KSB7XG4gICAgICAgIG1heExldmVsID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlbnRyaWVzICs9IG47XG4gICAgfVxuICB9XG4gIHZhciByZXN1bHQgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGV2ZWwgPSBuZXN0aW5nTGV2ZWxzW2ldO1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgIGlmIChsZXZlbCA8IG1heExldmVsIHx8IGxldmVsID09PSBtYXhMZXZlbCAmJiBlbnRyaWVzKysgPCByYW5nZUxpbWl0KSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHJhbmdlc1tpXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIG5vZGVfbW9kdWxlcy92c2NvZGUtanNvbi1sYW5ndWFnZXNlcnZpY2UvbGliL2VzbS9zZXJ2aWNlcy9qc29uU2VsZWN0aW9uUmFuZ2VzLmpzXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25SYW5nZXMoZG9jdW1lbnQsIHBvc2l0aW9ucywgZG9jKSB7XG4gIGZ1bmN0aW9uIGdldFNlbGVjdGlvblJhbmdlKHBvc2l0aW9uKSB7XG4gICAgdmFyIG9mZnNldCA9IGRvY3VtZW50Lm9mZnNldEF0KHBvc2l0aW9uKTtcbiAgICB2YXIgbm9kZSA9IGRvYy5nZXROb2RlRnJvbU9mZnNldChvZmZzZXQsIHRydWUpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgc3dpdGNoIChub2RlLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgIHZhciBjU3RhcnQgPSBub2RlLm9mZnNldCArIDEsIGNFbmQgPSBub2RlLm9mZnNldCArIG5vZGUubGVuZ3RoIC0gMTtcbiAgICAgICAgICBpZiAoY1N0YXJ0IDwgY0VuZCAmJiBvZmZzZXQgPj0gY1N0YXJ0ICYmIG9mZnNldCA8PSBjRW5kKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChuZXdSYW5nZShjU3RhcnQsIGNFbmQpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2gobmV3UmFuZ2Uobm9kZS5vZmZzZXQsIG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGgpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICBjYXNlIFwicHJvcGVydHlcIjpcbiAgICAgICAgICByZXN1bHQucHVzaChuZXdSYW5nZShub2RlLm9mZnNldCwgbm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUudHlwZSA9PT0gXCJwcm9wZXJ0eVwiIHx8IG5vZGUucGFyZW50ICYmIG5vZGUucGFyZW50LnR5cGUgPT09IFwiYXJyYXlcIikge1xuICAgICAgICB2YXIgYWZ0ZXJDb21tYU9mZnNldCA9IGdldE9mZnNldEFmdGVyTmV4dFRva2VuKG5vZGUub2Zmc2V0ICsgbm9kZS5sZW5ndGgsIDUpO1xuICAgICAgICBpZiAoYWZ0ZXJDb21tYU9mZnNldCAhPT0gLTEpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChuZXdSYW5nZShub2RlLm9mZnNldCwgYWZ0ZXJDb21tYU9mZnNldCkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgfVxuICAgIHZhciBjdXJyZW50ID0gdm9pZCAwO1xuICAgIGZvciAodmFyIGluZGV4ID0gcmVzdWx0Lmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgIGN1cnJlbnQgPSBTZWxlY3Rpb25SYW5nZS5jcmVhdGUocmVzdWx0W2luZGV4XSwgY3VycmVudCk7XG4gICAgfVxuICAgIGlmICghY3VycmVudCkge1xuICAgICAgY3VycmVudCA9IFNlbGVjdGlvblJhbmdlLmNyZWF0ZShSYW5nZS5jcmVhdGUocG9zaXRpb24sIHBvc2l0aW9uKSk7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG4gIGZ1bmN0aW9uIG5ld1JhbmdlKHN0YXJ0LCBlbmQpIHtcbiAgICByZXR1cm4gUmFuZ2UuY3JlYXRlKGRvY3VtZW50LnBvc2l0aW9uQXQoc3RhcnQpLCBkb2N1bWVudC5wb3NpdGlvbkF0KGVuZCkpO1xuICB9XG4gIHZhciBzY2FubmVyID0gY3JlYXRlU2Nhbm5lcjIoZG9jdW1lbnQuZ2V0VGV4dCgpLCB0cnVlKTtcbiAgZnVuY3Rpb24gZ2V0T2Zmc2V0QWZ0ZXJOZXh0VG9rZW4ob2Zmc2V0LCBleHBlY3RlZFRva2VuKSB7XG4gICAgc2Nhbm5lci5zZXRQb3NpdGlvbihvZmZzZXQpO1xuICAgIHZhciB0b2tlbiA9IHNjYW5uZXIuc2NhbigpO1xuICAgIGlmICh0b2tlbiA9PT0gZXhwZWN0ZWRUb2tlbikge1xuICAgICAgcmV0dXJuIHNjYW5uZXIuZ2V0VG9rZW5PZmZzZXQoKSArIHNjYW5uZXIuZ2V0VG9rZW5MZW5ndGgoKTtcbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG4gIHJldHVybiBwb3NpdGlvbnMubWFwKGdldFNlbGVjdGlvblJhbmdlKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL3NlcnZpY2VzL2pzb25MaW5rcy5qc1xuZnVuY3Rpb24gZmluZExpbmtzKGRvY3VtZW50LCBkb2MpIHtcbiAgdmFyIGxpbmtzID0gW107XG4gIGRvYy52aXNpdChmdW5jdGlvbihub2RlKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChub2RlLnR5cGUgPT09IFwicHJvcGVydHlcIiAmJiBub2RlLmtleU5vZGUudmFsdWUgPT09IFwiJHJlZlwiICYmICgoX2EgPSBub2RlLnZhbHVlTm9kZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnR5cGUpID09PSBcInN0cmluZ1wiKSB7XG4gICAgICB2YXIgcGF0aCA9IG5vZGUudmFsdWVOb2RlLnZhbHVlO1xuICAgICAgdmFyIHRhcmdldE5vZGUgPSBmaW5kVGFyZ2V0Tm9kZShkb2MsIHBhdGgpO1xuICAgICAgaWYgKHRhcmdldE5vZGUpIHtcbiAgICAgICAgdmFyIHRhcmdldFBvcyA9IGRvY3VtZW50LnBvc2l0aW9uQXQodGFyZ2V0Tm9kZS5vZmZzZXQpO1xuICAgICAgICBsaW5rcy5wdXNoKHtcbiAgICAgICAgICB0YXJnZXQ6IFwiXCIuY29uY2F0KGRvY3VtZW50LnVyaSwgXCIjXCIpLmNvbmNhdCh0YXJnZXRQb3MubGluZSArIDEsIFwiLFwiKS5jb25jYXQodGFyZ2V0UG9zLmNoYXJhY3RlciArIDEpLFxuICAgICAgICAgIHJhbmdlOiBjcmVhdGVSYW5nZShkb2N1bWVudCwgbm9kZS52YWx1ZU5vZGUpXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUobGlua3MpO1xufVxuZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZG9jdW1lbnQsIG5vZGUpIHtcbiAgcmV0dXJuIFJhbmdlLmNyZWF0ZShkb2N1bWVudC5wb3NpdGlvbkF0KG5vZGUub2Zmc2V0ICsgMSksIGRvY3VtZW50LnBvc2l0aW9uQXQobm9kZS5vZmZzZXQgKyBub2RlLmxlbmd0aCAtIDEpKTtcbn1cbmZ1bmN0aW9uIGZpbmRUYXJnZXROb2RlKGRvYywgcGF0aCkge1xuICB2YXIgdG9rZW5zID0gcGFyc2VKU09OUG9pbnRlcihwYXRoKTtcbiAgaWYgKCF0b2tlbnMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gZmluZE5vZGUodG9rZW5zLCBkb2Mucm9vdCk7XG59XG5mdW5jdGlvbiBmaW5kTm9kZShwb2ludGVyLCBub2RlKSB7XG4gIGlmICghbm9kZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChwb2ludGVyLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIHZhciB0b2tlbiA9IHBvaW50ZXIuc2hpZnQoKTtcbiAgaWYgKG5vZGUgJiYgbm9kZS50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgdmFyIHByb3BlcnR5Tm9kZSA9IG5vZGUucHJvcGVydGllcy5maW5kKGZ1bmN0aW9uKHByb3BlcnR5Tm9kZTIpIHtcbiAgICAgIHJldHVybiBwcm9wZXJ0eU5vZGUyLmtleU5vZGUudmFsdWUgPT09IHRva2VuO1xuICAgIH0pO1xuICAgIGlmICghcHJvcGVydHlOb2RlKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmROb2RlKHBvaW50ZXIsIHByb3BlcnR5Tm9kZS52YWx1ZU5vZGUpO1xuICB9IGVsc2UgaWYgKG5vZGUgJiYgbm9kZS50eXBlID09PSBcImFycmF5XCIpIHtcbiAgICBpZiAodG9rZW4ubWF0Y2goL14oMHxbMS05XVswLTldKikkLykpIHtcbiAgICAgIHZhciBpbmRleCA9IE51bWJlci5wYXJzZUludCh0b2tlbik7XG4gICAgICB2YXIgYXJyYXlJdGVtID0gbm9kZS5pdGVtc1tpbmRleF07XG4gICAgICBpZiAoIWFycmF5SXRlbSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaW5kTm9kZShwb2ludGVyLCBhcnJheUl0ZW0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmZ1bmN0aW9uIHBhcnNlSlNPTlBvaW50ZXIocGF0aCkge1xuICBpZiAocGF0aCA9PT0gXCIjXCIpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKHBhdGhbMF0gIT09IFwiI1wiIHx8IHBhdGhbMV0gIT09IFwiL1wiKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKDIpLnNwbGl0KC9cXC8vKS5tYXAodW5lc2NhcGUpO1xufVxuZnVuY3Rpb24gdW5lc2NhcGUoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcbn1cblxuLy8gbm9kZV9tb2R1bGVzL3ZzY29kZS1qc29uLWxhbmd1YWdlc2VydmljZS9saWIvZXNtL2pzb25MYW5ndWFnZVNlcnZpY2UuanNcbmZ1bmN0aW9uIGdldExhbmd1YWdlU2VydmljZShwYXJhbXMpIHtcbiAgdmFyIHByb21pc2UgPSBwYXJhbXMucHJvbWlzZUNvbnN0cnVjdG9yIHx8IFByb21pc2U7XG4gIHZhciBqc29uU2NoZW1hU2VydmljZSA9IG5ldyBKU09OU2NoZW1hU2VydmljZShwYXJhbXMuc2NoZW1hUmVxdWVzdFNlcnZpY2UsIHBhcmFtcy53b3Jrc3BhY2VDb250ZXh0LCBwcm9taXNlKTtcbiAganNvblNjaGVtYVNlcnZpY2Uuc2V0U2NoZW1hQ29udHJpYnV0aW9ucyhzY2hlbWFDb250cmlidXRpb25zKTtcbiAgdmFyIGpzb25Db21wbGV0aW9uID0gbmV3IEpTT05Db21wbGV0aW9uKGpzb25TY2hlbWFTZXJ2aWNlLCBwYXJhbXMuY29udHJpYnV0aW9ucywgcHJvbWlzZSwgcGFyYW1zLmNsaWVudENhcGFiaWxpdGllcyk7XG4gIHZhciBqc29uSG92ZXIgPSBuZXcgSlNPTkhvdmVyKGpzb25TY2hlbWFTZXJ2aWNlLCBwYXJhbXMuY29udHJpYnV0aW9ucywgcHJvbWlzZSk7XG4gIHZhciBqc29uRG9jdW1lbnRTeW1ib2xzID0gbmV3IEpTT05Eb2N1bWVudFN5bWJvbHMoanNvblNjaGVtYVNlcnZpY2UpO1xuICB2YXIganNvblZhbGlkYXRpb24gPSBuZXcgSlNPTlZhbGlkYXRpb24oanNvblNjaGVtYVNlcnZpY2UsIHByb21pc2UpO1xuICByZXR1cm4ge1xuICAgIGNvbmZpZ3VyZTogZnVuY3Rpb24oc2V0dGluZ3MpIHtcbiAgICAgIGpzb25TY2hlbWFTZXJ2aWNlLmNsZWFyRXh0ZXJuYWxTY2hlbWFzKCk7XG4gICAgICBpZiAoc2V0dGluZ3Muc2NoZW1hcykge1xuICAgICAgICBzZXR0aW5ncy5zY2hlbWFzLmZvckVhY2goZnVuY3Rpb24oc2V0dGluZ3MyKSB7XG4gICAgICAgICAganNvblNjaGVtYVNlcnZpY2UucmVnaXN0ZXJFeHRlcm5hbFNjaGVtYShzZXR0aW5nczIudXJpLCBzZXR0aW5nczIuZmlsZU1hdGNoLCBzZXR0aW5nczIuc2NoZW1hKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBqc29uVmFsaWRhdGlvbi5jb25maWd1cmUoc2V0dGluZ3MpO1xuICAgIH0sXG4gICAgcmVzZXRTY2hlbWE6IGZ1bmN0aW9uKHVyaSkge1xuICAgICAgcmV0dXJuIGpzb25TY2hlbWFTZXJ2aWNlLm9uUmVzb3VyY2VDaGFuZ2UodXJpKTtcbiAgICB9LFxuICAgIGRvVmFsaWRhdGlvbjoganNvblZhbGlkYXRpb24uZG9WYWxpZGF0aW9uLmJpbmQoanNvblZhbGlkYXRpb24pLFxuICAgIGdldExhbmd1YWdlU3RhdHVzOiBqc29uVmFsaWRhdGlvbi5nZXRMYW5ndWFnZVN0YXR1cy5iaW5kKGpzb25WYWxpZGF0aW9uKSxcbiAgICBwYXJzZUpTT05Eb2N1bWVudDogZnVuY3Rpb24oZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBwYXJzZTMoZG9jdW1lbnQsIHsgY29sbGVjdENvbW1lbnRzOiB0cnVlIH0pO1xuICAgIH0sXG4gICAgbmV3SlNPTkRvY3VtZW50OiBmdW5jdGlvbihyb290LCBkaWFnbm9zdGljcykge1xuICAgICAgcmV0dXJuIG5ld0pTT05Eb2N1bWVudChyb290LCBkaWFnbm9zdGljcyk7XG4gICAgfSxcbiAgICBnZXRNYXRjaGluZ1NjaGVtYXM6IGpzb25TY2hlbWFTZXJ2aWNlLmdldE1hdGNoaW5nU2NoZW1hcy5iaW5kKGpzb25TY2hlbWFTZXJ2aWNlKSxcbiAgICBkb1Jlc29sdmU6IGpzb25Db21wbGV0aW9uLmRvUmVzb2x2ZS5iaW5kKGpzb25Db21wbGV0aW9uKSxcbiAgICBkb0NvbXBsZXRlOiBqc29uQ29tcGxldGlvbi5kb0NvbXBsZXRlLmJpbmQoanNvbkNvbXBsZXRpb24pLFxuICAgIGZpbmREb2N1bWVudFN5bWJvbHM6IGpzb25Eb2N1bWVudFN5bWJvbHMuZmluZERvY3VtZW50U3ltYm9scy5iaW5kKGpzb25Eb2N1bWVudFN5bWJvbHMpLFxuICAgIGZpbmREb2N1bWVudFN5bWJvbHMyOiBqc29uRG9jdW1lbnRTeW1ib2xzLmZpbmREb2N1bWVudFN5bWJvbHMyLmJpbmQoanNvbkRvY3VtZW50U3ltYm9scyksXG4gICAgZmluZERvY3VtZW50Q29sb3JzOiBqc29uRG9jdW1lbnRTeW1ib2xzLmZpbmREb2N1bWVudENvbG9ycy5iaW5kKGpzb25Eb2N1bWVudFN5bWJvbHMpLFxuICAgIGdldENvbG9yUHJlc2VudGF0aW9uczoganNvbkRvY3VtZW50U3ltYm9scy5nZXRDb2xvclByZXNlbnRhdGlvbnMuYmluZChqc29uRG9jdW1lbnRTeW1ib2xzKSxcbiAgICBkb0hvdmVyOiBqc29uSG92ZXIuZG9Ib3Zlci5iaW5kKGpzb25Ib3ZlciksXG4gICAgZ2V0Rm9sZGluZ1JhbmdlcyxcbiAgICBnZXRTZWxlY3Rpb25SYW5nZXMsXG4gICAgZmluZERlZmluaXRpb246IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfSxcbiAgICBmaW5kTGlua3MsXG4gICAgZm9ybWF0OiBmdW5jdGlvbihkLCByLCBvKSB7XG4gICAgICB2YXIgcmFuZ2UgPSB2b2lkIDA7XG4gICAgICBpZiAocikge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gZC5vZmZzZXRBdChyLnN0YXJ0KTtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGQub2Zmc2V0QXQoci5lbmQpIC0gb2Zmc2V0O1xuICAgICAgICByYW5nZSA9IHsgb2Zmc2V0LCBsZW5ndGggfTtcbiAgICAgIH1cbiAgICAgIHZhciBvcHRpb25zID0geyB0YWJTaXplOiBvID8gby50YWJTaXplIDogNCwgaW5zZXJ0U3BhY2VzOiAobyA9PT0gbnVsbCB8fCBvID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvLmluc2VydFNwYWNlcykgPT09IHRydWUsIGluc2VydEZpbmFsTmV3bGluZTogKG8gPT09IG51bGwgfHwgbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogby5pbnNlcnRGaW5hbE5ld2xpbmUpID09PSB0cnVlLCBlb2w6IFwiXFxuXCIgfTtcbiAgICAgIHJldHVybiBmb3JtYXQyKGQuZ2V0VGV4dCgpLCByYW5nZSwgb3B0aW9ucykubWFwKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIFRleHRFZGl0LnJlcGxhY2UoUmFuZ2UuY3JlYXRlKGQucG9zaXRpb25BdChlLm9mZnNldCksIGQucG9zaXRpb25BdChlLm9mZnNldCArIGUubGVuZ3RoKSksIGUuY29udGVudCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XG5cbi8vIHNyYy9sYW5ndWFnZS9qc29uL2pzb25Xb3JrZXIudHNcbnZhciBkZWZhdWx0U2NoZW1hUmVxdWVzdFNlcnZpY2U7XG5pZiAodHlwZW9mIGZldGNoICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGRlZmF1bHRTY2hlbWFSZXF1ZXN0U2VydmljZSA9IGZ1bmN0aW9uKHVybCkge1xuICAgIHJldHVybiBmZXRjaCh1cmwpLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS50ZXh0KCkpO1xuICB9O1xufVxudmFyIEpTT05Xb3JrZXIgPSBjbGFzcyB7XG4gIF9jdHg7XG4gIF9sYW5ndWFnZVNlcnZpY2U7XG4gIF9sYW5ndWFnZVNldHRpbmdzO1xuICBfbGFuZ3VhZ2VJZDtcbiAgY29uc3RydWN0b3IoY3R4LCBjcmVhdGVEYXRhKSB7XG4gICAgdGhpcy5fY3R4ID0gY3R4O1xuICAgIHRoaXMuX2xhbmd1YWdlU2V0dGluZ3MgPSBjcmVhdGVEYXRhLmxhbmd1YWdlU2V0dGluZ3M7XG4gICAgdGhpcy5fbGFuZ3VhZ2VJZCA9IGNyZWF0ZURhdGEubGFuZ3VhZ2VJZDtcbiAgICB0aGlzLl9sYW5ndWFnZVNlcnZpY2UgPSBnZXRMYW5ndWFnZVNlcnZpY2Uoe1xuICAgICAgd29ya3NwYWNlQ29udGV4dDoge1xuICAgICAgICByZXNvbHZlUmVsYXRpdmVQYXRoOiAocmVsYXRpdmVQYXRoLCByZXNvdXJjZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGJhc2UgPSByZXNvdXJjZS5zdWJzdHIoMCwgcmVzb3VyY2UubGFzdEluZGV4T2YoXCIvXCIpICsgMSk7XG4gICAgICAgICAgcmV0dXJuIHJlc29sdmVQYXRoKGJhc2UsIHJlbGF0aXZlUGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY2hlbWFSZXF1ZXN0U2VydmljZTogY3JlYXRlRGF0YS5lbmFibGVTY2hlbWFSZXF1ZXN0ID8gZGVmYXVsdFNjaGVtYVJlcXVlc3RTZXJ2aWNlIDogdm9pZCAwXG4gICAgfSk7XG4gICAgdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmNvbmZpZ3VyZSh0aGlzLl9sYW5ndWFnZVNldHRpbmdzKTtcbiAgfVxuICBhc3luYyBkb1ZhbGlkYXRpb24odXJpKSB7XG4gICAgbGV0IGRvY3VtZW50ID0gdGhpcy5fZ2V0VGV4dERvY3VtZW50KHVyaSk7XG4gICAgaWYgKGRvY3VtZW50KSB7XG4gICAgICBsZXQganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9WYWxpZGF0aW9uKGRvY3VtZW50LCBqc29uRG9jdW1lbnQsIHRoaXMuX2xhbmd1YWdlU2V0dGluZ3MpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtdKTtcbiAgfVxuICBhc3luYyBkb0NvbXBsZXRlKHVyaSwgcG9zaXRpb24pIHtcbiAgICBsZXQgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IGpzb25Eb2N1bWVudCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgcmV0dXJuIHRoaXMuX2xhbmd1YWdlU2VydmljZS5kb0NvbXBsZXRlKGRvY3VtZW50LCBwb3NpdGlvbiwganNvbkRvY3VtZW50KTtcbiAgfVxuICBhc3luYyBkb1Jlc29sdmUoaXRlbSkge1xuICAgIHJldHVybiB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZG9SZXNvbHZlKGl0ZW0pO1xuICB9XG4gIGFzeW5jIGRvSG92ZXIodXJpLCBwb3NpdGlvbikge1xuICAgIGxldCBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBsZXQganNvbkRvY3VtZW50ID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLnBhcnNlSlNPTkRvY3VtZW50KGRvY3VtZW50KTtcbiAgICByZXR1cm4gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmRvSG92ZXIoZG9jdW1lbnQsIHBvc2l0aW9uLCBqc29uRG9jdW1lbnQpO1xuICB9XG4gIGFzeW5jIGZvcm1hdCh1cmksIHJhbmdlLCBvcHRpb25zKSB7XG4gICAgbGV0IGRvY3VtZW50ID0gdGhpcy5fZ2V0VGV4dERvY3VtZW50KHVyaSk7XG4gICAgaWYgKCFkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgdGV4dEVkaXRzID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmZvcm1hdChkb2N1bWVudCwgcmFuZ2UsIG9wdGlvbnMpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGV4dEVkaXRzKTtcbiAgfVxuICBhc3luYyByZXNldFNjaGVtYSh1cmkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2xhbmd1YWdlU2VydmljZS5yZXNldFNjaGVtYSh1cmkpKTtcbiAgfVxuICBhc3luYyBmaW5kRG9jdW1lbnRTeW1ib2xzKHVyaSkge1xuICAgIGxldCBkb2N1bWVudCA9IHRoaXMuX2dldFRleHREb2N1bWVudCh1cmkpO1xuICAgIGlmICghZG9jdW1lbnQpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgbGV0IGpzb25Eb2N1bWVudCA9IHRoaXMuX2xhbmd1YWdlU2VydmljZS5wYXJzZUpTT05Eb2N1bWVudChkb2N1bWVudCk7XG4gICAgbGV0IHN5bWJvbHMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZmluZERvY3VtZW50U3ltYm9scyhkb2N1bWVudCwganNvbkRvY3VtZW50KTtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHN5bWJvbHMpO1xuICB9XG4gIGFzeW5jIGZpbmREb2N1bWVudENvbG9ycyh1cmkpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgIGxldCBjb2xvclN5bWJvbHMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZmluZERvY3VtZW50Q29sb3JzKGRvY3VtZW50LCBqc29uRG9jdW1lbnQpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY29sb3JTeW1ib2xzKTtcbiAgfVxuICBhc3luYyBnZXRDb2xvclByZXNlbnRhdGlvbnModXJpLCBjb2xvciwgcmFuZ2UpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgIGxldCBjb2xvclByZXNlbnRhdGlvbnMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZ2V0Q29sb3JQcmVzZW50YXRpb25zKGRvY3VtZW50LCBqc29uRG9jdW1lbnQsIGNvbG9yLCByYW5nZSk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjb2xvclByZXNlbnRhdGlvbnMpO1xuICB9XG4gIGFzeW5jIGdldEZvbGRpbmdSYW5nZXModXJpLCBjb250ZXh0KSB7XG4gICAgbGV0IGRvY3VtZW50ID0gdGhpcy5fZ2V0VGV4dERvY3VtZW50KHVyaSk7XG4gICAgaWYgKCFkb2N1bWVudCkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBsZXQgcmFuZ2VzID0gdGhpcy5fbGFuZ3VhZ2VTZXJ2aWNlLmdldEZvbGRpbmdSYW5nZXMoZG9jdW1lbnQsIGNvbnRleHQpO1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocmFuZ2VzKTtcbiAgfVxuICBhc3luYyBnZXRTZWxlY3Rpb25SYW5nZXModXJpLCBwb3NpdGlvbnMpIHtcbiAgICBsZXQgZG9jdW1lbnQgPSB0aGlzLl9nZXRUZXh0RG9jdW1lbnQodXJpKTtcbiAgICBpZiAoIWRvY3VtZW50KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGxldCBqc29uRG9jdW1lbnQgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UucGFyc2VKU09ORG9jdW1lbnQoZG9jdW1lbnQpO1xuICAgIGxldCByYW5nZXMgPSB0aGlzLl9sYW5ndWFnZVNlcnZpY2UuZ2V0U2VsZWN0aW9uUmFuZ2VzKGRvY3VtZW50LCBwb3NpdGlvbnMsIGpzb25Eb2N1bWVudCk7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyYW5nZXMpO1xuICB9XG4gIF9nZXRUZXh0RG9jdW1lbnQodXJpKSB7XG4gICAgbGV0IG1vZGVscyA9IHRoaXMuX2N0eC5nZXRNaXJyb3JNb2RlbHMoKTtcbiAgICBmb3IgKGxldCBtb2RlbCBvZiBtb2RlbHMpIHtcbiAgICAgIGlmIChtb2RlbC51cmkudG9TdHJpbmcoKSA9PT0gdXJpKSB7XG4gICAgICAgIHJldHVybiBUZXh0RG9jdW1lbnQyLmNyZWF0ZSh1cmksIHRoaXMuX2xhbmd1YWdlSWQsIG1vZGVsLnZlcnNpb24sIG1vZGVsLmdldFZhbHVlKCkpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbnZhciBTbGFzaCA9IFwiL1wiLmNoYXJDb2RlQXQoMCk7XG52YXIgRG90ID0gXCIuXCIuY2hhckNvZGVBdCgwKTtcbmZ1bmN0aW9uIGlzQWJzb2x1dGVQYXRoKHBhdGgpIHtcbiAgcmV0dXJuIHBhdGguY2hhckNvZGVBdCgwKSA9PT0gU2xhc2g7XG59XG5mdW5jdGlvbiByZXNvbHZlUGF0aCh1cmlTdHJpbmcsIHBhdGgpIHtcbiAgaWYgKGlzQWJzb2x1dGVQYXRoKHBhdGgpKSB7XG4gICAgY29uc3QgdXJpID0gVVJJLnBhcnNlKHVyaVN0cmluZyk7XG4gICAgY29uc3QgcGFydHMgPSBwYXRoLnNwbGl0KFwiL1wiKTtcbiAgICByZXR1cm4gdXJpLndpdGgoeyBwYXRoOiBub3JtYWxpemVQYXRoKHBhcnRzKSB9KS50b1N0cmluZygpO1xuICB9XG4gIHJldHVybiBqb2luUGF0aCh1cmlTdHJpbmcsIHBhdGgpO1xufVxuZnVuY3Rpb24gbm9ybWFsaXplUGF0aChwYXJ0cykge1xuICBjb25zdCBuZXdQYXJ0cyA9IFtdO1xuICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFydHMpIHtcbiAgICBpZiAocGFydC5sZW5ndGggPT09IDAgfHwgcGFydC5sZW5ndGggPT09IDEgJiYgcGFydC5jaGFyQ29kZUF0KDApID09PSBEb3QpIHtcbiAgICB9IGVsc2UgaWYgKHBhcnQubGVuZ3RoID09PSAyICYmIHBhcnQuY2hhckNvZGVBdCgwKSA9PT0gRG90ICYmIHBhcnQuY2hhckNvZGVBdCgxKSA9PT0gRG90KSB7XG4gICAgICBuZXdQYXJ0cy5wb3AoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3UGFydHMucHVzaChwYXJ0KTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgcGFydHNbcGFydHMubGVuZ3RoIC0gMV0ubGVuZ3RoID09PSAwKSB7XG4gICAgbmV3UGFydHMucHVzaChcIlwiKTtcbiAgfVxuICBsZXQgcmVzID0gbmV3UGFydHMuam9pbihcIi9cIik7XG4gIGlmIChwYXJ0c1swXS5sZW5ndGggPT09IDApIHtcbiAgICByZXMgPSBcIi9cIiArIHJlcztcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gam9pblBhdGgodXJpU3RyaW5nLCAuLi5wYXRocykge1xuICBjb25zdCB1cmkgPSBVUkkucGFyc2UodXJpU3RyaW5nKTtcbiAgY29uc3QgcGFydHMgPSB1cmkucGF0aC5zcGxpdChcIi9cIik7XG4gIGZvciAobGV0IHBhdGggb2YgcGF0aHMpIHtcbiAgICBwYXJ0cy5wdXNoKC4uLnBhdGguc3BsaXQoXCIvXCIpKTtcbiAgfVxuICByZXR1cm4gdXJpLndpdGgoeyBwYXRoOiBub3JtYWxpemVQYXRoKHBhcnRzKSB9KS50b1N0cmluZygpO1xufVxuXG4vLyBzcmMvbGFuZ3VhZ2UvanNvbi9qc29uLndvcmtlci50c1xuc2VsZi5vbm1lc3NhZ2UgPSAoKSA9PiB7XG4gIHdvcmtlci5pbml0aWFsaXplKChjdHgsIGNyZWF0ZURhdGEpID0+IHtcbiAgICByZXR1cm4gbmV3IEpTT05Xb3JrZXIoY3R4LCBjcmVhdGVEYXRhKTtcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbIkl0ZXJhYmxlIiwiX2VtcHR5IiwiZnJvbSIsInNlbGYiLCJFdmVudCIsIm1hcCIsImZpbHRlciIsImVxdWFscyIsImEiLCJidWZmZXIiLCJfYSIsInN0YWNrIiwiY291bnQiLCJlcnJvckhhbmRsZXIiLCJpc1N0cmluZyIsImNyZWF0ZVByb3h5T2JqZWN0IiwiX2Zvcm1hdCIsInJlc3VsdCIsImxvY2FsaXplIiwibmxzLmdldENvbmZpZ3VyZWREZWZhdWx0TG9jYWxlIiwibmxzLmxvY2FsaXplIiwic3RyaW5ncy5pc1VwcGVyQXNjaWlMZXR0ZXIiLCJzY29yZSIsInByb2Nlc3MucGxhdGZvcm0iLCJpc1BhdGhTZXBhcmF0b3IiLCJzZXAiLCJwcm9jZXNzLmN3ZCIsInByb2Nlc3MuZW52IiwiY3dkIiwic3RhcnQiLCJVUkkiLCJwYXRocy53aW4zMiIsInBhdGhzLnBvc2l4IiwiUG9zaXRpb24iLCJSYW5nZSIsImYiLCJDb21wYXJlUmVzdWx0IiwiQ2FuY2VsbGF0aW9uVG9rZW4iLCJLZXlDb2RlVXRpbHMiLCJDb21wbGV0aW9uSXRlbUtpbmRzIiwiSW5saW5lQ29tcGxldGlvblRyaWdnZXJLaW5kIiwiU2lnbmF0dXJlSGVscFRyaWdnZXJLaW5kIiwiRG9jdW1lbnRIaWdobGlnaHRLaW5kIiwiU3ltYm9sS2luZHMiLCJDb21tYW5kIiwiSW5sYXlIaW50S2luZCIsIlRva2VuaXphdGlvblJlZ2lzdHJ5SW1wbCIsIkFjY2Vzc2liaWxpdHlTdXBwb3J0IiwiQ29kZUFjdGlvblRyaWdnZXJUeXBlIiwiQ29tcGxldGlvbkl0ZW1JbnNlcnRUZXh0UnVsZSIsIkNvbXBsZXRpb25JdGVtS2luZCIsIkNvbXBsZXRpb25JdGVtVGFnIiwiQ29tcGxldGlvblRyaWdnZXJLaW5kIiwiQ29udGVudFdpZGdldFBvc2l0aW9uUHJlZmVyZW5jZSIsIkN1cnNvckNoYW5nZVJlYXNvbiIsIkRlZmF1bHRFbmRPZkxpbmUiLCJFZGl0b3JBdXRvSW5kZW50U3RyYXRlZ3kiLCJFZGl0b3JPcHRpb24iLCJFbmRPZkxpbmVQcmVmZXJlbmNlIiwiRW5kT2ZMaW5lU2VxdWVuY2UiLCJHbHlwaE1hcmdpbkxhbmUiLCJJbmRlbnRBY3Rpb24iLCJJbmplY3RlZFRleHRDdXJzb3JTdG9wcyIsIktleUNvZGUiLCJNYXJrZXJTZXZlcml0eSIsIk1hcmtlclRhZyIsIk1pbmltYXBQb3NpdGlvbiIsIk1vdXNlVGFyZ2V0VHlwZSIsIk92ZXJsYXlXaWRnZXRQb3NpdGlvblByZWZlcmVuY2UiLCJPdmVydmlld1J1bGVyTGFuZSIsIlBvc2l0aW9uQWZmaW5pdHkiLCJSZW5kZXJMaW5lTnVtYmVyc1R5cGUiLCJSZW5kZXJNaW5pbWFwIiwiU2Nyb2xsVHlwZSIsIlNjcm9sbGJhclZpc2liaWxpdHkiLCJTZWxlY3Rpb25EaXJlY3Rpb24iLCJTaG93QWlJY29uTW9kZSIsIlN5bWJvbEtpbmQiLCJTeW1ib2xUYWciLCJUZXh0RWRpdG9yQ3Vyc29yQmxpbmtpbmdTdHlsZSIsIlRleHRFZGl0b3JDdXJzb3JTdHlsZSIsIlRyYWNrZWRSYW5nZVN0aWNraW5lc3MiLCJXcmFwcGluZ0luZGVudCIsInN0cmluZ3MuZ2V0TmV4dENvZGVQb2ludCIsInN0cmluZ3MuaXNIaWdoU3Vycm9nYXRlIiwic3RyaW5ncy5BbWJpZ3VvdXNDaGFyYWN0ZXJzIiwic3RyaW5ncy5lc2NhcGVSZWdFeHBDaGFyYWN0ZXJzIiwic3RyaW5ncy5JbnZpc2libGVDaGFyYWN0ZXJzIiwiY29kZVBvaW50IiwiaXNCYXNpY0FTQ0lJIiwic3RyaW5ncy5pc0Jhc2ljQVNDSUkiLCJyIiwiYyIsIkxpbmVTZXF1ZW5jZSIsInN0cmluZ3MuZmlyc3ROb25XaGl0ZXNwYWNlSW5kZXgiLCJzdHJpbmdzLmxhc3ROb25XaGl0ZXNwYWNlSW5kZXgiLCJrZXkiLCJzMSIsInMyIiwiaSIsIkNvbG9yIiwiZm9ybWF0IiwiQmFzZU1pcnJvck1vZGVsIiwibSIsImRlc2NyaXB0aW9uIiwiZG9jdW1lbnQiLCJzY2hlbWEiLCJzY2hlbWEyIiwicHJvcGVydHkiLCJwcm9wZXJ0eTIiLCJ3b3JrZXIu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LENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUF3QixRQUFRLElBQXVCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQ3hGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFBSSxRQUFRLE9BQU8sS0FBSztBQUFBLE1BQzlGLENBQUMsR0FBRyxJQUEwQixVQUFVLElBQXlCLEtBQUssSUFB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LEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxJQUFzQixPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBeUIsUUFBUSxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBeUIsUUFBUSxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBMkIsVUFBVSxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUs7QUFBQSxNQUMvRixDQUFDLEdBQUcsS0FBMEIsU0FBUyxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUs7QUFBQSxNQUM3RixDQUFDLEdBQUcsS0FBeUIsUUFBUSxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtBQUs7QUFBQSxNQUMzRixDQUFDLEdBQUcsS0FBd0IsT0FBTyxHQUF5QixPQUFPLEdBQUcsT0FBTyxPQUFPLEtB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QVEsT0FBTyxJQUFJLENBQUMsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE9BQU8sSUFBSSxDQUFDLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksQ0FBQyxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLENBQUMsSUFBSTtBQUM5QixJQUFBQSxTQUFRQSxTQUFRLFlBQVksSUFBSSxDQUFDLElBQUk7QUFDckMsSUFBQUEsU0FBUUEsU0FBUSxVQUFVLElBQUksQ0FBQyxJQUFJO0FBQ25DLElBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJLENBQUMsSUFBSTtBQUNqQyxJQUFBQSxTQUFRQSxTQUFRLE9BQU8sSUFBSSxFQUFFLElBQUk7QUFDakMsSUFBQUEsU0FBUUEsU0FBUSxRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xDLElBQUFBLFNBQVFBLFNBQVEsVUFBVSxJQUFJLEVBQUUsSUFBSTtBQUNwQyxJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsV0FBVyxJQUFJLEVBQUUsSUFBSTtBQUNyQyxJQUFBQSxTQUFRQSxTQUFRLFNBQVMsSUFBSSxFQUFFLElBQUk7QUFDbkMsSUFBQUEsU0FBUUEsU0FBUSxZQUFZLElBQUksRUFBRSxJQUFJO0FBQ3RDLElBQUFBLFNBQVFBLFNBQVEsV0FBVyxJQUFJLEVBQUUsSUFBSTtBQUNyQyxJQUFBQSxTQUFRQSxTQUFRLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEMsSUFBQUEsU0FBUUEsU0FBUSxRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xDLElBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQyxJQUFBQSxTQUFRQSxTQUFRLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEMsSUFBQUEsU0FBUUEsU0FBUSxRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xDLElBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQyxJQUFBQSxTQUFRQSxTQUFRLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEMsSUFBQUEsU0FBUUEsU0FBUSxRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xDLElBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQyxJQUFBQSxTQUFRQSxTQUFRLFFBQVEsSUFBSSxFQUFFLElBQUk7QUFDbEMsSUFBQUEsU0FBUUEsU0FBUSxRQUFRLElBQUksRUFBRSxJQUFJO0FBQ2xDLElBQUFBLFNBQVFBLFNBQVEsUUFBUSxJQUFJLEVBQUUsSUFBSTtBQUNsQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLE1BQU0sSUFBSSxFQUFFLElBQUk7QUFDaEMsSUFBQUEsU0FBUUEsU0FBUSxNQUFNLElBQUksRUFBRSxJQUFJO0FBQ2hDLElBQUFBLFNBQVFBLFNBQVEsTUFBTSxJQUFJLEVBQUUsSUFBSTtBQUNoQyxJQUFBQSxTQUFRQSxTQUFRLGFBQWEsSUFBSSxFQUFFLElBQUk7QUFDdkMsSUFBQUEsU0FBUUEsU0FBUSxJQUFJLElBQUksRUFBRSxJQUFJO0FBQzlCLElBQUFBLFNBQVFBLFNBQVEsSUFBSSxJQUFJLEVBQUUsSUFBSTtBQUM5QixJQUFBQSxTQUFRQSxTQUFRLElBQUksSUFBSSxFQUFFLElBQUk7QUFDOUIsSUFBQUEsU0FBUUEsU0FBUSxJQUFJLElBQUksRUFBRSxJQUFJO0FBQzlCLElBQUFBLFNBQVFBLFNBQVEsSUFBSSxJQUFJLEVBQUUsSUFBSTtBQUM5QixJQUFBQSxTQUFRQSxTQUFRLElBQUksSUFBSSxFQUFFLElBQUk7QUFDOUIsSUFBQUEsU0FBUUEsU0FBUSxJQUFJLElBQUksRUFBRSxJQUFJO0FBQzlCLElBQUFBLFNBQVFBLFNBQVEsSUFBSSxJQUFJLEVBQUUsSUFBSTtBQUM5QixJQUFBQSxTQUFRQSxTQUFRLElBQUksSUFBSSxFQUFFLElBQUk7QUFDOUIsSUFBQUEsU0FBUUEsU0FBUSxLQUFLLElBQUksRUFBRSxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsSUFBSTtBQUMvQixJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxLQUFLLElBQUksRUFBRSxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsSUFBSTtBQUMvQixJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxLQUFLLElBQUksRUFBRSxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsSUFBSTtBQUMvQixJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxLQUFLLElBQUksRUFBRSxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsSUFBSTtBQUMvQixJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxLQUFLLElBQUksRUFBRSxJQUFJO0FBQy9CLElBQUFBLFNBQVFBLFNBQVEsS0FBSyxJQUFJLEVBQUUsSUFBSTtBQUMvQixJQUFBQSxTQUFRQSxTQUFRLEtBQUssSUFBSSxFQUFFLElBQUk7QUFDL0IsSUFBQUEsU0FBUUEsU0FBUSxTQUFTLElBQUksRUFBRSxJQUFJO0FBQ25DLElBQUFBLFNBQVFBLFNBQVEsWUFBWSxJQUFJLEVBQUUsSUFBSTtBQUt0QyxJQUFBQSxTQUFRQSxTQUFRLFdBQVcsSUFBSSxFQUFFLElBQUk7QUFLckMsSUFBQUEsU0FBUUEsU0FBUSxPQUFPLElBQUksRUFBRSxJQUFJO0FBS2pDLElB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LElBQUksTUFBTSxTQUFTO0FBQy9CLFlBQU0sUUFBUSxLQUFLLE1BQU0sR0FBRztBQUM1QixhQUFPLElBQUksS0FBSyxFQUFFLE1BQU0sY0FBYyxLQUFLLEVBQUMsQ0FBRSxFQUFFO0lBQ2pEO0FBQ0QsV0FBTyxTQUFTLFdBQVcsSUFBSTtBQUFBLEVBQ2pDO0FBQ0EsV0FBUyxjQUFjLE9BQU87QUFDNUIsVUFBTSxXQUFXLENBQUE7QUFDakIsZUFBVyxRQUFRLE9BQU87QUFDeEIsVUFBSSxLQUFLLFdBQVcsS0FBSyxLQUFLLFdBQVcsS0FBSyxLQUFLLFdBQVcsQ0FBQyxNQUFNO0FBQUs7QUFBQSxlQUMvRCxLQUFLLFdBQVcsS0FBSyxLQUFLLFdBQVcsQ0FBQyxNQUFNLE9BQU8sS0FBSyxXQUFXLENBQUMsTUFBTSxLQUFLO0FBQ3hGLGlCQUFTLElBQUc7QUFBQSxNQUNsQixPQUFXO0FBQ0wsaUJBQVMsS0FBSyxJQUFJO0FBQUEsTUFDbkI7QUFBQSxJQUNGO0FBQ0QsUUFBSSxNQUFNLFNBQVMsS0FBSyxNQUFNLE1BQU0sU0FBUyxDQUFDLEVBQUUsV0FBVyxHQUFHO0FBQzVELGVBQVMsS0FBSyxFQUFFO0FBQUEsSUFDakI7QUFDRCxRQUFJLE1BQU0sU0FBUyxLQUFLLEdBQUc7QUFDM0IsUUFBSSxNQUFNLENBQUMsRUFBRSxXQUFXLEdBQUc7QUFDekIsWUFBTSxNQUFNO0FBQUEsSUFDYjtBQUNELFdBQU87QUFBQSxFQUNUO0FBQ0EsV0FBUyxTQUFTLGNBQWMsT0FBTztBQUNyQyxVQUFNLE1BQU0sSUFBSSxNQUFNLFNBQVM7QUFDL0IsVUFBTSxRQUFRLElBQUksS0FBSyxNQUFNLEdBQUc7QUFDaEMsYUFBUyxRQUFRLE9BQU87QUFDdEIsWUFBTSxLQUFLLEdBQUcsS0FBSyxNQUFNLEdBQUcsQ0FBQztBQUFBLElBQzlCO0FBQ0QsV0FBTyxJQUFJLEtBQUssRUFBRSxNQUFNLGNBQWMsS0FBSyxFQUFDLENBQUUsRUFBRTtFQUNsRDtBQUdBLE9BQUssWUFBWSxNQUFNO0FBQ3JCSyxlQUFrQixDQUFDLEtBQUssZUFBZTtBQUNyQyxhQUFPLElBQUksV0FBVyxLQUFLLFVBQVU7QUFBQSxJQUN6QyxDQUFHO0FBQUEsRUFDSDs7IiwieF9nb29nbGVfaWdub3JlTGlzdCI6WzAsMSwyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNDYsNDcsNDgsNDksNTAsNTEsNTIsNTMsNTQsNTUsNTYsNTcsNTgsNTksNjAsNjEsNjIsNjMsNjRdfQ==
